<<<<<<< HEAD
"use strict";require("colors");var e=require("fs"),t=require("path"),o=require("body-parser"),r=require("cors"),i=require("express"),n=require("multer"),s=require("http"),a=require("https"),l=require("dotenv"),c=require("express-rate-limit"),p=require("url"),u=require("https-proxy-agent"),d=require("uuid"),h=require("tarn"),g=require("puppeteer"),m=require("node:path"),f=require("node:crypto");require("prompts");var v="undefined"!=typeof document?document.currentScript:null;function y(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var b=y(p);l.config();const w={puppeteer:{args:{value:[],type:"string[]",description:"Array of arguments to send to puppeteer."}},highcharts:{version:{value:"latest",envLink:"HIGHCHARTS_VERSION",type:"string",description:"Highcharts version to use."},cdnURL:{value:"https://code.highcharts.com/",envLink:"HIGHCHARTS_CDN",type:"string",description:"The CDN URL of Highcharts scripts to use."},coreScripts:{envLink:"HIGHCHARTS_CORE_SCRIPTS",value:["highcharts","highcharts-more","highcharts-3d"],type:"string[]",description:"Highcharts core scripts to fetch."},modules:{envLink:"HIGHCHARTS_MODULES",value:["stock","map","gantt","exporting","export-data","parallel-coordinates","accessibility","annotations-advanced","boost-canvas","boost","data","draggable-points","static-scale","broken-axis","heatmap","tilemap","timeline","treemap","item-series","drilldown","histogram-bellcurve","bullet","funnel","funnel3d","pyramid3d","networkgraph","pareto","pattern-fill","pictorial","price-indicator","sankey","arc-diagram","dependency-wheel","series-label","solid-gauge","sonification","stock-tools","streamgraph","sunburst","variable-pie","variwide","vector","venn","windbarb","wordcloud","xrange","no-data-to-display","drag-panes","debugger","dumbbell","lollipop","cylinder","organization","dotplot","marker-clusters","hollowcandlestick","heikinashi"],type:"string[]",description:"Highcharts modules to fetch."},indicators:{envLink:"HIGHCHARTS_INDICATORS",value:["indicators-all"],type:"string[]",description:"Highcharts indicators to fetch."},scripts:{value:["https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"],type:"string[]",description:"Additional direct scripts/optional dependencies (e.g. moment.js)."}},export:{infile:{value:!1,type:"string",description:"The input file name along with a type (json or svg). It can be a correct JSON or SVG file."},instr:{value:!1,type:"string",description:"An input in a form of a stringified JSON or SVG file. Overrides the --infile."},options:{value:!1,type:"string",description:"An alias for the --instr option."},outfile:{value:!1,type:"string",description:"The output filename along with a type (jpeg, png, pdf or svg). Ignores the --type flag."},type:{envLink:"EXPORT_DEFAULT_TYPE",value:"png",type:"string",description:"The format of the file to export to. Can be jpeg, png, pdf or svg."},constr:{envLink:"EXPORT_DEFAULT_CONSTR",value:"chart",type:"string",description:"The constructor to use. Can be chart, stockChart, mapChart or ganttChart."},defaultHeight:{envLink:"EXPORT_DEFAULT_HEIGHT",value:400,type:"number",description:"The default height of the exported chart. Used when not found any value set."},defaultWidth:{envLink:"EXPORT_DEFAULT_WIDTH",value:600,type:"number",description:"The default width of the exported chart. Used when not found any value set."},defaultScale:{envLink:"EXPORT_DEFAULT_SCALE",value:1,type:"number",description:"The default scale of the exported chart. Ranges between 1 and 5."},height:{type:"number",value:!1,description:"The default height of the exported chart. Overrides the option in the chart settings."},width:{type:"number",value:!1,description:"The width of the exported chart. Overrides the option in the chart settings."},scale:{value:!1,type:"number",description:"The scale of the exported chart. Ranges between 1 and 5."},globalOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with options to be passed into the Highcharts.setOptions."},themeOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with theme options to be passed into the Highcharts.setOptions."},batch:{value:!1,type:"string",description:'Starts a batch job. A string that contains input/output pairs: "in=out;in=out;..".'}},customCode:{allowCodeExecution:{envLink:"HIGHCHARTS_ALLOW_CODE_EXECUTION",value:!1,type:"boolean",description:"If set to true, allow for the execution of arbitrary code when exporting."},allowFileResources:{envLink:"HIGHCHARTS_ALLOW_FILE_RESOURCES",value:!0,type:"boolean",description:"Allow injecting resources from the filesystem. Has no effect when running as a server."},customCode:{value:!1,type:"string",description:"A function to be called before chart initialization. Can be a filename with the js extension."},callback:{value:!1,type:"string",description:"A JavaScript file with a function to run on construction."},resources:{value:!1,type:"string",description:"An additional resource in a form of stringified JSON. It can contain files, js and css sections."},loadConfig:{value:!1,type:"string",description:"A file that contains a pre-defined config to use."},createConfig:{value:!1,type:"string",description:"Allows to set options through a prompt and save in a provided config file."}},server:{enable:{envLink:"HIGHCHARTS_SERVER_ENABLE",value:!1,type:"boolean",cliName:"enableServer",description:"If set to true, starts a server on 0.0.0.0."},host:{envLink:"HIGHCHARTS_SERVER_HOST",value:"0.0.0.0",type:"string",description:"The hostname of the server. Also starts a server listening on the supplied hostname."},port:{envLink:"HIGHCHARTS_SERVER_PORT",value:7801,type:"number",description:"The port to use for the server. Defaults to 7801."},ssl:{enable:{envLink:"HIGHCHARTS_SERVER_SSL_ENABLE",value:!1,type:"boolean",cliName:"enableSsl",description:"Enables the SSL protocol."},force:{envLink:"HIGHCHARTS_SERVER_SSL_FORCE",value:!1,type:"boolean",cliName:"sslForced",description:"If set to true, forces the server to only serve over HTTPS."},port:{envLink:"HIGHCHARTS_SERVER_SSL_PORT",value:443,type:"number",cliName:"sslPort",description:"The port on which to run the SSL server."},certPath:{envLink:"HIGHCHARTS_SSL_CERT_PATH",value:"",type:"string",description:"The path to the SSL certificate/key."}},rateLimiting:{enable:{envLink:"HIGHCHARTS_RATE_LIMIT_ENABLE",value:!1,type:"boolean",cliName:"enableRateLimiting",description:"Enables rate limiting."},maxRequests:{envLink:"HIGHCHARTS_RATE_LIMIT_MAX",value:10,type:"number",description:"Max requests allowed in a one minute."},window:{envLink:"HIGHCHARTS_RATE_LIMIT_WINDOW",value:1,type:"number",description:"The time window in minutes for rate limiting."},delay:{envLink:"HIGHCHARTS_RATE_LIMIT_DELAY",value:0,type:"number",description:"The amount to delay each successive request before hitting the max."},trustProxy:{envLink:"HIGHCHARTS_RATE_LIMIT_TRUST_PROXY",value:!1,type:"boolean",description:"Set this to true if behind a load balancer."},skipKey:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_KEY",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipToken argument."},skipToken:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_TOKEN",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipKey argument."}}},pool:{initialWorkers:{envLink:"HIGHCHARTS_POOL_MIN_WORKERS",value:4,type:"number",description:"The number of initial workers to spawn."},maxWorkers:{envLink:"HIGHCHARTS_POOL_MAX_WORKERS",value:8,type:"number",description:"The number of max workers to spawn."},workLimit:{envLink:"HIGHCHARTS_POOL_WORK_LIMIT",value:40,type:"number",description:"The pieces of work that can be performed before restarting process."},queueSize:{envLink:"HIGHCHARTS_POOL_QUEUE_SIZE",value:5,type:"number",description:"The size of the request overflow queue."},timeoutThreshold:{envLink:"HIGHCHARTS_POOL_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds before timing out."},acquireTimeout:{envLink:"HIGHCHARTS_POOL_ACQUIRE_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds to wait for acquiring a resource."},reaper:{envLink:"HIGHCHARTS_POOL_ENABLE_REAPER",value:!0,type:"boolean",description:"Whether or not to evict workers after a certain time period."},benchmarking:{envLink:"HIGHCHARTS_POOL_BENCHMARKING",value:!1,type:"boolean",description:"Enable benchmarking."},listenToProcessExits:{envLink:"HIGHCHARTS_POOL_LISTEN_TO_PROCESS_EXITS",value:!0,type:"boolean",description:"Set to false in order to skip attaching process.exit handlers."}},payload:{},logging:{level:{envLink:"HIGHCHARTS_LOG_LEVEL",value:4,type:"number",cliName:"logLevel",description:"The log level (0: silent, 1: error, 2: warning, 3: notice, 4: verbose)."},file:{envLink:"HIGHCHARTS_LOG_FILE",value:"highcharts-export-server.log",type:"string",cliName:"logFile",description:"A name of a log file. The --logDest also needs to be set to enable file logging."},dest:{envLink:"HIGHCHARTS_LOG_DEST",value:"log/",type:"string",cliName:"logDest",description:"The path to store log files. Also enables file logging."}},ui:{enable:{envLink:"HIGHCHARTS_UI_ENABLE",value:!1,type:"boolean",cliName:"enableUi",description:"Enables the UI for the export server."},route:{envLink:"HIGHCHARTS_UI_ROUTE",value:"/",type:"string",cliName:"uiRoute",description:"The route to attach the UI to."}},other:{noLogo:{envLink:"HIGHCHARTS_NO_LOGO",value:!1,type:"boolean",description:"Skip printing the logo on a startup. Will be replaced by a simple text."}}};w.puppeteer.args.value.join(","),w.highcharts.version.value,w.highcharts.cdnURL.value,w.highcharts.modules.value,w.highcharts.scripts.value.join(","),w.export.type.value,w.export.constr.value,w.export.defaultHeight.value,w.export.defaultWidth.value,w.export.defaultScale.value,w.customCode.allowCodeExecution.value,w.customCode.allowFileResources.value,w.server.enable.value,w.server.host.value,w.server.port.value,w.server.ssl.enable.value,w.server.ssl.force.value,w.server.ssl.port.value,w.server.ssl.certPath.value,w.server.rateLimiting.enable.value,w.server.rateLimiting.maxRequests.value,w.server.rateLimiting.window.value,w.server.rateLimiting.delay.value,w.server.rateLimiting.trustProxy.value,w.server.rateLimiting.skipKey.value,w.server.rateLimiting.skipToken.value,w.pool.initialWorkers.value,w.pool.maxWorkers.value,w.pool.workLimit.value,w.pool.queueSize.value,w.pool.timeoutThreshold.value,w.pool.acquireTimeout.value,w.pool.reaper.value,w.pool.benchmarking.value,w.pool.listenToProcessExits.value,w.logging.level.value,w.logging.file.value,w.logging.dest.value,w.ui.enable.value,w.ui.route.value,w.other.noLogo.value;const T={},x=[],k=(e,t="")=>{Object.keys(e).forEach((o=>{if(!["puppeteer","highcharts"].includes(o)){const i=e[o];let n;void 0===i.value?k(i,`${t}.${o}`):(i.envLink&&("boolean"===i.type?i.value=(r=[process.env[i.envLink],i.value].find((e=>e||"false"===e)),!["false","undefined","null","NaN","0",""].includes(r)&&!!r):"number"===i.type?(n=+process.env[i.envLink],i.value=n>=0?n:i.value):i.type.indexOf("]")>=0&&process.env[i.envLink]?i.value=process.env[i.envLink].split(","):i.value=process.env[i.envLink]||i.value,x.push({name:i.envLink,description:i.description,type:i.type})),T[i.cliName||o]=`${t}.${o}`.substring(1))}var r}))};k(w);let S={toConsole:!0,toFile:!1,pathCreated:!1,levelsDesc:[{title:"error",color:"red"},{title:"warning",color:"yellow"},{title:"notice",color:"blue"},{title:"verbose",color:"gray"}],listeners:[]};for(const[e,t]of Object.entries(w.logging))S[e]=t.value;const E=(...t)=>{const[o,...r]=t,{level:i,levelsDesc:n}=S;if(0===o||o>i||i>n.length)return;const s=`${(new Date).toString().split("(")[0].trim()} [${n[o-1].title}] -`;S.listeners.forEach((e=>{e(s,r.join(" "))})),S.toFile&&(S.pathCreated||(!e.existsSync(S.dest)&&e.mkdirSync(S.dest),S.pathCreated=!0),e.appendFile(`${S.dest}${S.file}`,[s].concat(r).join(" ")+"\n",(e=>{e&&(console.log(`[logger] Unable to write to log file: ${e}`),S.toFile=!1)}))),S.toConsole&&console.log.apply(void 0,[s.toString()[S.levelsDesc[o-1].color]].concat(r))},H=p.fileURLToPath(new URL("../.","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),R=(e,t=/\s\s+/g,o=" ")=>e.replaceAll(t,o).trim(),L=(e,t)=>{const o=["png","jpeg","pdf","svg"];if(t){const r=t.split(".").pop();o.includes(r)&&e!==r&&(e=r)}return{"image/png":"png","image/jpeg":"jpeg","application/pdf":"pdf","image/svg+xml":"svg"}[e]||o.find((t=>t===e))||"png"},C=(t=!1,o)=>{const r=["js","css","files"];let i=t,n=!1;if(o&&t.endsWith(".json"))try{t?t&&t.endsWith(".json")?i=O(e.readFileSync(t,"utf8")):(i=O(t),!0===i&&(i=O(e.readFileSync("resources.json","utf8")))):i=O(e.readFileSync("resources.json","utf8"))}catch(e){return E(3,"[cli] No resources found.")}else i=O(t),o||delete i.files;for(const e in i)r.includes(e)?n||(n=!0):delete i[e];return n?(i.files&&(i.files=i.files.map((e=>e.trim())),(!i.files||i.files.length<=0)&&delete i.files),i):E(3,"[cli] No resources found.")};function O(e,t){try{const o=JSON.parse("string"!=typeof e?JSON.stringify(e):e);return"string"!=typeof o&&t?JSON.stringify(o):o}catch(e){return!1}}const _=e=>{if(null===e||"object"!=typeof e)return e;const t=Array.isArray(e)?[]:{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=_(e[o]));return t},A=(e,t,o=[])=>{const r=_(e);for(const[e,n]of Object.entries(t))r[e]="object"!=typeof(i=n)||Array.isArray(i)||null===i||o.includes(e)||void 0===r[e]?void 0!==n?n:r[e]:A(r[e],n,o);var i;return r},I=(e,t)=>JSON.stringify(e,((e,o)=>("string"==typeof o&&((o=o.trim()).startsWith("function(")||o.startsWith("function ("))&&o.endsWith("}")&&(o=t?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:void 0),"function"==typeof o?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:o))).replaceAll(/"EXP_FUN|EXP_FUN"/g,""),$=e=>!["false","undefined","null","NaN","0",""].includes(e)&&!!e,P=(t,o)=>{if(t&&"string"==typeof t)return(t=t.trim()).endsWith(".js")?!!o&&P(e.readFileSync(t,"utf8")):t.startsWith("function()")||t.startsWith("function ()")||t.startsWith("()=>")||t.startsWith("() =>")?`(${t})()`:t.replace(/;$/,"")};var j=(e,t)=>{const o="Too many requests, you have been rate limited. Please try again later.",r={max:t.maxRequests||30,window:t.window||1,delay:t.delay||0,trustProxy:t.trustProxy||!1,skipKey:t.skipKey||!1,skipToken:t.skipToken||!1};r.trustProxy&&e.enable("trust proxy");const i=c({windowMs:60*r.window*1e3,max:r.max,delayMs:r.delay,handler:(e,t)=>{t.format({json:()=>{t.status(429).send({message:o})},default:()=>{t.status(429).send(o)}})},skip:e=>!1!==r.skipKey&&!1!==r.skipToken&&e.query.key===r.skipKey&&e.query.access_token===r.skipToken&&(E(4,"[rate-limiting] Skipping rate limiter."),!0)});e.use(i),E(3,R(`[rate-limiting] Enabled rate limiting: ${r.max} requests\n      per ${r.window} minute per IP, trusting proxy:\n      ${r.trustProxy}.`))};async function N(e,t={}){return new Promise(((o,r)=>{const i=(e=>e.startsWith("https")?a:s)(e);i.get(e,t,(e=>{let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{t||r("Nothing was fetched from the URL."),e.text=t,o(e)}))})).on("error",(e=>{r(e)}))}))}l.config();const q=t.join(H,".cache"),F={cdnURL:"https://code.highcharts.com/",activeManifest:{},sources:"",hcVersion:""};let U=!1;const G=()=>F.hcVersion=F.sources.substr(0,F.sources.indexOf("*/")).replace("/*","").replace("*/","").replace(/\n/g,"").trim(),W=async(e,t)=>{try{e.endsWith(".js")&&(e=e.substring(0,e.length-3)),E(4,`[cache] Fetching script - ${e}.js`);const o=t?{agent:t,timeout:+process.env.PROXY_SERVER_TIMEOUT||5e3}:{},r=await N(`${e}.js`,o);if(200===r.statusCode)return r.text;throw`${r.statusCode}`}catch(t){throw E(1,`[cache] Error fetching script ${e}.js: ${t}.`),t}},M=async(t,o)=>{const{coreScripts:r,modules:i,indicators:n,scripts:s}=t,a="latest"!==t.version&&t.version?`${t.version}/`:"";E(3,"[cache] Updating cache to Highcharts ",a);const l=[...r.map((e=>`${a}${e}`)),...i.map((e=>"map"===e?`maps/${a}modules/${e}`:`${a}modules/${e}`)),...n.map((e=>`stock/${a}indicators/${e}`))];let c;const p=process.env.PROXY_SERVER_HOST,d=process.env.PROXY_SERVER_PORT;p&&d&&(c=new u({host:p,port:+d}));const h={};try{return F.sources=(await Promise.all([...l.map((async e=>{const o=await W(`${t.cdnURL||F.cdnURL}${e}`,c);return"string"==typeof o&&(h[e.replace(/(.*)\/|(.*)modules\/|stock\/(.*)indicators\/|maps\/(.*)modules\//gi,"")]=1),o})),...s.map((e=>W(e,c)))])).join(";\n"),G(),e.writeFileSync(o,F.sources),h}catch(e){E(1,"[cache] Unable to update local Highcharts cache.")}},D=async o=>{let r;const i=t.join(q,"manifest.json"),n=t.join(q,"sources.js");if(U=o,!e.existsSync(q)&&e.mkdirSync(q),e.existsSync(i)){let t=!1;const s=JSON.parse(e.readFileSync(i));if(s.modules&&Array.isArray(s.modules)){const e={};s.modules.forEach((t=>e[t]=1)),s.modules=e}const{modules:a,coreScripts:l,indicators:c}=o,p=a.length+l.length+c.length;s.version!==o.version?(E(3,"[cache] Highcharts version mismatch in cache, need to re-fetch."),t=!0):Object.keys(s.modules||{}).length!==p?(E(3,"[cache] Cache and requested modules does not match, need to re-fetch."),t=!0):t=(o.modules||[]).some((e=>{if(!s.modules[e])return E(3,`[cache] The ${e} missing in cache, need to re-fetch.`),!0})),t?r=await M(o,n):(E(3,"[cache] Dependency cache is up to date, proceeding."),F.sources=e.readFileSync(n,"utf8"),r=s.modules,G())}else E(3,"[cache] Fetching and caching Highcharts dependencies."),r=await M(o,n);await(async(o,r)=>{const i={version:o.version,modules:r||{}};F.activeManifest=i,E(4,"[cache] writing new manifest");try{e.writeFileSync(t.join(q,"manifest.json"),JSON.stringify(i),"utf8")}catch(e){E(1,`[cache] Error writing cache manifest: ${e}.`)}})(o,r)};var V=async e=>!!U&&await D(Object.assign(U,{version:e})),J=()=>F,z=()=>F.hcVersion;const K=f.randomBytes(64).toString("base64url"),X=m.join("tmp",`puppeteer-${K}`),B=[`--user-data-dir=${m.join(X,"profile")}`,"--autoplay-policy=user-gesture-required","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-update","--disable-default-apps","--disable-dev-shm-usage","--disable-domain-reliability","--disable-extensions","--disable-features=AudioServiceOutOfProcess","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-notifications","--disable-offer-store-unmasked-wallet-cards","--disable-popup-blocking","--disable-print-preview","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-session-crashed-bubble","--disable-setuid-sandbox","--disable-speech-api","--disable-sync","--hide-crash-restore-bubble","--hide-scrollbars","--ignore-gpu-blacklist","--metrics-recording-only","--mute-audio","--no-default-browser-check","--no-first-run","--no-pings","--no-sandbox","--no-zygote","--password-store=basic","--use-mock-keychain"],Y=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),Q=e.readFileSync(Y+"/../templates/template.html","utf8");let Z;const ee=async()=>{if(!Z)return!1;const e=await Z.newPage();return await e.setContent(Q),await e.addScriptTag({path:Y+"/../.cache/sources.js"}),await e.evaluate((()=>window.setupHighcharts())),e.on("pageerror",(async t=>{E(1,"[page error]",t),await e.$eval("#container",((e,t)=>{window._displayErrors&&(e.innerHTML=t)}),`<h1>Chart input data error</h1>${t.toString()}`)})),e},te=async()=>await Z.close();const oe=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),re=async(e,t,o)=>await e.evaluate(((e,t)=>window.triggerExport(e,t)),t,o);var ie=async(o,r,i)=>{const n=[],s=async e=>{for(const e of n)await e.dispose();await e.evaluate((()=>{const[,...e]=document.getElementsByTagName("script"),[,...t]=document.getElementsByTagName("style"),[...o]=document.getElementsByTagName("link");for(const r of[...e,...t,...o])r.remove()}))};try{const a=()=>{};E(4,"[export] Determining export path.");const l=i.export;await o.evaluate((()=>requestAnimationFrame((()=>{}))));const c=l?.options?.chart?.displayErrors&&J().activeManifest.modules.debugger;await o.evaluate((e=>window._displayErrors=e),c);const p=()=>{};let u;if(r.indexOf&&(r.indexOf("<svg")>=0||r.indexOf("<?xml")>=0)){if(E(4,"[export] Treating as SVG."),"svg"===l.type)return r;u=!0;const e=()=>{};await o.setContent((e=>`\n<!DOCTYPE html>\n<html lang='en-US'>\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n    <title>Highcarts Export</title>\n  </head>\n  <style>\n    \n\nhtml, body {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#table-div, #sliders, #datatable, #controls, .ld-row {\n  display: none;\n  height: 0;\n}\n\n#chart-container {\n  box-sizing: border-box;\n  margin: 0;\n  overflow: auto;\n  font-size: 0;\n}\n\n#chart-container > figure, div {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n\n\n  </style>\n  <body>\n    <div id="chart-container">\n      ${e}\n    </div>\n  </body>\n</html>\n\n`)(r)),e()}else if(E(4,"[export] Treating as config."),l.strInj){const e=()=>{};await re(o,{chart:{height:l.height,width:l.width}},i),e()}else{r.chart.height=l.height,r.chart.width=l.width;const e=()=>{};await re(o,r,i),e()}p();const d=()=>{},h=i.customCode.resources;if(h){if(h.js&&n.push(await o.addScriptTag({content:h.js})),h.files)for(const t of h.files)try{const r=!t.startsWith("http");n.push(await o.addScriptTag(r?{content:e.readFileSync(t,"utf8")}:{url:t}))}catch(e){E(4,"[export] JS file not found.")}const r=()=>{};if(h.css){let e=h.css.match(/@import\s*([^;]*);/g);if(e)for(let r of e)r&&(r=r.replace("url(","").replace("@import","").replace(/"/g,"").replace(/'/g,"").replace(/;/,"").replace(/\)/g,"").trim(),r.startsWith("http")?n.push(await o.addStyleTag({url:r})):i.customCode.allowFileResources&&n.push(await o.addStyleTag({path:t.join(oe,r)})));n.push(await o.addStyleTag({content:h.css.replace(/@import\s*([^;]*);/g,"")||" "}))}r()}d();const g=u?await o.$eval("#chart-container svg:first-of-type",(async(e,t)=>({chartHeight:e.height.baseVal.value*t,chartWidth:e.width.baseVal.value*t})),parseFloat(l.scale)):await o.evaluate((async()=>{const{chartHeight:e,chartWidth:t}=window.Highcharts.charts[0];return{chartHeight:e,chartWidth:t}})),m=()=>{},f=Math.ceil(g?.chartHeight||l.height),v=Math.ceil(g?.chartWidth||l.width);await o.setViewport({height:f,width:v,deviceScaleFactor:u?1:parseFloat(l.scale)});const y=u?e=>{document.body.style.zoom=e,document.body.style.margin="0px"}:()=>{document.body.style.zoom=1};await o.evaluate(y,parseFloat(l.scale));const{height:b,width:w,x:T,y:x}=await(e=>e.$eval("#chart-container",(e=>{const{x:t,y:o,width:r,height:i}=e.getBoundingClientRect();return{x:t,y:o,width:r,height:Math.trunc(i>1?i:500)}})))(o);let k;u||await o.setViewport({width:Math.round(w),height:Math.round(b),deviceScaleFactor:parseFloat(l.scale)}),m();const S=()=>{};if("svg"===l.type)k=await(async e=>await e.$eval("#container svg:first-of-type",(e=>e.outerHTML)))(o);else if("png"===l.type||"jpeg"===l.type)k=await(async(e,t,o,r)=>await Promise.race([e.screenshot({type:t,encoding:o,clip:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("Rasterization timeout"))),1500)))]))(o,l.type,"base64",{width:v,height:f,x:T,y:x});else{if("pdf"!==l.type)throw`Unsupported output format ${l.type}`;k=await(async(e,t,o,r)=>await e.pdf({height:t+1,width:o,encoding:r}))(o,f,v,"base64")}return await o.evaluate((()=>{const e=Highcharts.charts;if(e.length)for(const t of e)t&&t.destroy(),Highcharts.charts.shift()})),S(),a(),await s(o),k}catch(e){return await s(o),E(1,`[export] Error encountered during export: ${e}`),e}};const ne=e=>{let t={};for(const[o,r]of Object.entries(e))t[o]=Object.prototype.hasOwnProperty.call(r,"value")?r.value:ne(r);return t};let se=!1,ae={};const le=e=>{const{chart:t,exporting:o}=e.export?.options||O(e.export?.instr),r=O(e.export?.globalOptions);let i=((e,t=1)=>{const o=Math.pow(10,t||0);return Math.round(+e*o)/o})(e.export?.scale||o?.scale||r?.exporting?.scale||e.export?.defaultScale||1);return i>5?i=5:i<.1&&(i=1),{height:e.export?.height||o?.sourceHeight||t?.height||r?.exporting?.sourceHeight||r?.chart?.height||e.export?.defaultHeight||400,width:e.export?.width||o?.sourceWidth||t?.width||r?.exporting?.sourceWidth||r?.chart?.width||e.export?.defaultWidth||600,scale:i}},ce=(t,o,r,i)=>{let{export:n,customCode:s}=t;const a="boolean"==typeof s.allowCodeExecution?s.allowCodeExecution:se;if(s){if("string"==typeof t.customCode.resources)t.customCode.resources=C(t.customCode.resources,$(t.customCode.allowFileResources));else if(!t.customCode.resources)try{const o=e.readFileSync("resources.json","utf8");t.customCode.resources=C(o,$(t.customCode.allowFileResources))}catch(e){E(3,"[chart] The default resources.json file not found.")}}else s=t.customCode={};if(!a&&s){if(s.callback||s.resources||s.customCode)return r&&r(!1,{error:!0,message:R("The callback, resources and customCode have been disabled for this\n            server.")});s.callback=!1,s.resources=!1,s.customCode=!1}if(o&&(o.chart=o.chart||{},o.exporting=o.exporting||{},o.exporting.enabled=!1),n.constr=n.constr||"chart",n.type=L(n.type,n.outfile),"svg"===n.type&&(n.width=!1),["globalOptions","themeOptions"].forEach((t=>{try{n&&n[t]&&("string"==typeof n[t]&&n[t].endsWith(".json")?n[t]=O(e.readFileSync(n[t],"utf8"),!0):n[t]=O(n[t],!0))}catch(e){n[t]={},E(1,`[chart] The ${t} not found.`)}})),s.allowCodeExecution&&(s.customCode=P(s.customCode,s.allowFileResources)),s&&s.callback&&s.callback?.indexOf("{")<0)if(s.allowFileResources)try{s.callback=e.readFileSync(s.callback,"utf8")}catch(e){E(2,`[chart] Error loading callback: ${e}.`),s.callback=!1}else s.callback=!1;t.export={...t.export,...le(t)},Se(n.strInj||o||i,t).then((e=>r(e))).catch((e=>(E(0,"[chart] When posting work:",e),r(!1,e))))},pe=(e,t)=>{try{let o,r=e.export.instr||e.export.options;return"string"!=typeof r&&(o=r=I(r,e.customCode?.allowCodeExecution)),o=r.replaceAll(/\t|\n|\r/g,"").trim(),";"===o[o.length-1]&&(o=o.substring(0,o.length-1)),e.export.strInj=o,ce(e,!1,t)}catch(o){const r=R(`Malformed input detected for ${e.export?.requestId||"?"}:\n      Please make sure that your JSON/JavaScript options\n      are sent using the "options" attribute, and that if you're using\n      SVG, it is unescaped.`);return E(1,r),t&&t(!1,JSON.stringify({error:!0,message:r}))}},ue=(e,t,o)=>{const{allowCodeExecution:r}=t.customCode;if(e.indexOf("<svg")>=0||e.indexOf("<?xml")>=0)return E(4,"[chart] Parsing input as SVG."),ce(t,!1,o,e);try{const r=JSON.parse(e.replaceAll(/\t|\n|\r/g," "));return ce(t,r,o)}catch(e){return $(r)?pe(t,o):o&&o(!1,{error:!0,message:R("Only JSON configurations and SVG is allowed for this server. If\n            this is your server, JavaScript exporting can be enabled by starting\n            the server with the --allowCodeExecution flag.")})}};var de={startExport:async(t,o)=>{E(4,"[chart] Starting exporting process.");const r=((e,t={})=>{let o={};return e.svg?(o=t,o.export.type=e.type||e.export.type,o.export.scale=e.scale||e.export.scale,o.export.outfile=e.outfile||e.export.outfile,o.payload={svg:e.svg}):o=A(t,e,["options","globalOptions","themeOptions","resources"]),o.export.outfile=o.export?.outfile||`chart.${o.export?.type||"png"}`,o})(t,ae),i=r.export;return r.payload?.svg&&""!==r.payload.svg?ue(r.payload.svg.trim(),r,o):i.infile&&i.infile.length?(E(4,"[chart] Attempting to export from an input file."),e.readFile(i.infile,"utf8",((e,t)=>e?E(1,`[chart] Error loading input file: ${e}.`):(r.export.instr=t,ue(r.export.instr.trim(),r,o))))):i.instr&&""!==i.instr||i.options&&""!==i.options?(E(4,"[chart] Attempting to export from a raw input."),$(r.customCode?.allowCodeExecution)?pe(r,o):"string"==typeof i.instr?ue(i.instr.trim(),r,o):ce(r,i.instr||i.options,o)):(E(1,R(`[chart] No input specified.\n        ${JSON.stringify(i,void 0,"  ")}.`)),o&&o(!1,{error:!0,message:"No input specified."}))},getAllowCodeExecution:()=>se,setAllowCodeExecution:e=>{se=$(e)},setPoolOptions:e=>{ae=e},findChartSize:le};let he,ge=0,me=0,fe=0,ve=0,ye=0,be={},we=!1;const Te={create:async()=>{const e=d.v4();let t=!1;const o=(new Date).getTime();try{if(t=await ee(),!t||t.isClosed())throw"invalid page";E(3,`[pool] Successfully created a worker ${e} - took ${(new Date).getTime()-o} ms.`)}catch(e){throw E(1,`[pool] Error creating a new page in pool entry creation! ${e}`),"Error creating page"}return{id:e,page:t,workCount:Math.round(Math.random()*(be.workLimit/2))}},validate:e=>!(be.workLimit&&++e.workCount>be.workLimit)||(E(3,"[pool] Worker failed validation:",`exceeded work limit (limit is ${be.workLimit})`),!1),destroy:e=>{E(3,`[pool] Destroying pool entry ${e.id}.`),e.page&&e.page.close()},log:(e,t)=>console.log(`${t}: ${e}`)},xe=async e=>{he=e.puppeteerArgs;try{await(async e=>{const t=[...B,...e||[]];if(!Z){let e=0;const o=async()=>{try{E(3,"[browser] attempting to get a browser instance (try",e+")"),Z=await g.launch({headless:"new",args:t,userDataDir:"./tmp/"})}catch(t){E(0,"[browser]",t),++e<25?(E(3,"[browser] failed:",t),await new Promise((e=>setTimeout(e,4e3))),await o()):E(0,"Max retries reached")}};try{await o()}catch(e){return E(0,"[browser] Unable to open browser"),!1}if(!Z)return E(0,"[browser] Unable to open browser"),!1}return Z})(he)}catch(e){E(0,"[pool|browser]",e)}if(be=e&&e.pool?{...e.pool}:{},E(3,"[pool] Initializing pool:",`min ${be.initialWorkers}, max ${be.maxWorkers}.`),we)return E(4,"[pool] Already initialized, please kill it before creating a new one.");be.listenToProcessExits&&(E(4,"[pool] Attaching exit listeners to the process."),process.on("exit",(async()=>{await ke()})),process.on("SIGINT",((e,t)=>{E(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("SIGTERM",((e,t)=>{E(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("uncaughtException",(async(e,t)=>{E(4,`The ${t} error, message: ${e.message}.`)})));try{we=new h.Pool({...Te,min:be.initialWorkers,max:be.maxWorkers,createRetryIntervalMillis:200,createTimeoutMillis:be.acquireTimeout,acquireTimeoutMillis:be.acquireTimeout,destroyTimeoutMillis:be.acquireTimeout,idleTimeoutMillis:be.timeoutThreshold,reapIntervalMillis:1e3,propagateCreateError:!1}),we.on("createFail",((e,t)=>{E(1,`[pool] Error when creating worker of an event id ${e}:`,t)})),we.on("acquireFail",((e,t)=>{E(1,`[pool] Error when acquiring worker of an event id ${e}:`,t)})),we.on("destroyFail",((e,t,o)=>{E(1,`[pool] Error when destroying worker of an id ${t.id}, event id ${e}:`,o)})),we.on("release",(e=>{E(4,`[pool] Releasing a worker of an id ${e.id}`)})),we.on("destroySuccess",((e,t)=>{E(4,`[pool] Destroyed a worker of an id ${t.id}`)}));const e=[];for(let t=0;t<be.initialWorkers;t++)e.push(await we.acquire().promise);e.forEach((e=>{we.release(e)})),E(3,`[pool] The pool is ready with ${be.initialWorkers} initial resources waiting.`)}catch(e){throw E(1,`[pool] Couldn't create the worker pool ${e}`),e}};async function ke(){E(3,"[pool] Killing all workers."),de.setPoolOptions({});try{await te()}catch{return void E(4,"[pool] Worker has already been killed.")}return!we||we.destroy()}const Se=async(e,t)=>{let o;const r=e=>{throw++ve,o&&we.release(o),"In pool.postWork: "+e};if(E(4,"[pool] Work received, starting to process."),be.benchmarking&&Ee(),++me,!we)return E(1,"[pool] Work received, but pool has not been started."),r("Pool is not inited but work was posted to it!");try{E(4,"[pool] Acquiring worker"),o=await we.acquire().promise}catch(e){return r(`[pool] Error when acquiring available entry: ${e}`)}if(E(4,"[pool] Acquired worker handle"),!o.page)return r("Resolved worker page is invalid: pool setup is wonky");try{let i=(new Date).getTime();E(4,`[pool] Starting work on pool entry ${o.id}.`);const n=await ie(o.page,e,t);if(n instanceof Error)return"Rasterization timeout"===n.message&&(o.page.close(),o.page=await ee()),r(n);we.release(o);const s=(new Date).getTime()-i;return fe+=s,ye=fe/++ge,E(4,`[pool] Work completed in ${s} ms.`),{data:n,options:t}}catch(e){r(`Error trying to perform puppeteer export: ${e}.`)}};function Ee(){const{min:e,max:t,size:o,available:r,borrowed:i,pending:n,spareResourceCapacity:s}=we;E(4,`[pool] The minimum number of resources allowed by pool: ${e}.`),E(4,`[pool] The maximum number of resources allowed by pool: ${t}.`),E(4,`[pool] The number of all resources in pool (free or in use): ${o}.`),E(4,`[pool] The number of resources that are currently available: ${r}.`),E(4,`[pool] The number of resources that are currently acquired: ${i}.`),E(4,`[pool] The number of callers waiting to acquire a resource: ${n}.`),E(4,`[pool] The number of how many more resources can the pool manage/create: ${s}.`)}var He=()=>({min:we.min,max:we.max,size:we.size,available:we.available,borrowed:we.borrowed,pending:we.pending,spareResourceCapacity:we.spareResourceCapacity}),Re=()=>me,Le=()=>ve,Ce=()=>ye,Oe=()=>ge;const _e=process.env.npm_package_version,Ae=new Date;const Ie={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",pdf:"application/pdf",svg:"image/svg+xml"};let $e=0;const Pe=[],je=[],Ne=(e,t,o,r)=>{let i=!0;const{id:n,uniqueId:s,type:a,body:l}=r;return e.some((e=>{if(e){let r=e(t,o,n,s,a,l);return void 0!==r&&!0!==r&&(i=r),!0}})),i},qe=(e,t)=>{(()=>{const e=process.hrtime.bigint()})();const o=ne(w),r=e.body,i=++$e,n=d.v4().replace(/-/g,"");let s=L(r.type);if(!r)return t.status(400).send(R("Body is required. Sending a body? Make sure your Content-type header\n        is correct. Accepted is application/json and multipart/form-data."));let a=O(r.infile||r.options||r.data);if(!a&&!r.svg)return E(2,R(`Request ${n} from ${e.headers["x-forwarded-for"]||e.connection.remoteAddress} was incorrect. Check your payload.`)),t.status(400).send(R("No correct chart data found. Please make sure you are using\n        application/json or multipart/form-data headers, and that the chart\n        data is in the 'infile', 'options' or 'data' attribute if sending\n        JSON or in the 'svg' if sending SVG."));let l=!1;if(l=Ne(Pe,e,t,{id:i,uniqueId:n,type:s,body:r}),!0!==l)return t.send(l);let c=!1;e.socket.on("close",(()=>{c=!0})),E(4,`[export] Got an incoming HTTP request ${n}.`),r.constr="string"==typeof r.constr&&r.constr||"chart";const p={export:{instr:a,type:s,constr:r.constr[0].toLowerCase()+r.constr.substr(1),height:r.height,width:r.width,scale:r.scale||o.export.scale,globalOptions:O(r.globalOptions,!0),themeOptions:O(r.themeOptions,!0)},customCode:{allowCodeExecution:de.getAllowCodeExecution(),allowFileResources:!1,resources:O(r.resources,!0),callback:r.callback,customCode:r.customCode}};a&&(p.export.instr=I(a,p.customCode.allowCodeExecution));const u=A(o,p);if(u.export.options=a,u.payload={svg:r.svg||!1,b64:r.b64||!1,dataOptions:O(r.dataOptions,!0),noDownload:r.noDownload||!1,requestId:n},r.svg&&(h=u.payload.svg,["localhost","(10).(.*).(.*).(.*)","(127).(.*).(.*).(.*)","(172).(1[6-9]|2[0-9]|3[0-1]).(.*).(.*)","(192).(168).(.*).(.*)"].some((e=>h.match(`xlink:href="(?:(http://|https://))?${e}`)))))return t.status(400).send("SVG potentially contain at least one forbidden URL in xlink:href element.");var h;de.startExport(u,((o,a)=>(e.socket.removeAllListeners("close"),c?E(3,R("[export] The client closed the connection before the chart was done\n          processing.")):a?(E(1,R(`[export] Work: ${n} could not be completed, sending:\n          ${a}`)),t.status(400).send(a.message)):o&&o.data?(s=o.options.export.type,Ne(je,e,t,{id:i,body:o.data}),o.data?r.b64?"pdf"===s?t.send(Buffer.from(o.data,"utf8").toString("base64")):t.send(o.data):(t.header("Content-Type",Ie[s]||"image/png"),r.noDownload||t.attachment(`${e.params.filename||"chart"}.${s||"png"}`),"svg"===s?t.send(o.data):t.send(Buffer.from(o.data,"base64"))):void 0):(E(1,R(`[export] Unexpected return from chart generation, please check your\n          data Request: ${n} is ${o.data}.`)),t.status(400).send("Unexpected return from chart generation, please check your data.")))))};const Fe=i();Fe.disable("x-powered-by"),Fe.use(r());const Ue=n.memoryStorage(),Ge=n({storage:Ue,limits:{fieldsSize:"50MB"}});Fe.use(Ge.any()),Fe.use(o.json({limit:"50mb"})),Fe.use(o.urlencoded({extended:!0,limit:"50mb"})),Fe.use(o.urlencoded({extended:!1,limit:"50mb"}));const We=e=>E(1,`[server] Socket error: ${e}`),Me=e=>{e.on("clientError",We),e.on("error",We),e.on("connection",(e=>e.on("error",(e=>We(e)))))},De=async o=>{if(!o.enable)return!1;if(!o.ssl.enable&&!o.ssl.force){const e=s.createServer(Fe);Me(e),e.listen(o.port,o.host),E(3,`[server] Started HTTP server on ${o.host}:${o.port}.`)}if(o.ssl.enable){let r,i;try{r=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.key"),"utf8"),i=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.crt"),"utf8")}catch(e){E(1,`[server] Unable to load key/certificate from ${o.ssl.certPath}.`)}if(r&&i){const e=a.createServer(Fe);Me(e),e.listen(o.ssl.port,o.host),E(3,`[server] Started HTTPS server on ${o.host}:${o.ssl.port}.`)}}o.rateLimiting&&o.rateLimiting.enable&&![0,NaN].includes(o.rateLimiting.maxRequests)&&j(Fe,o.rateLimiting),Fe.use(i.static(t.posix.join(H,"public"))),(e=>{!!e&&e.get("/health",((e,t)=>{t.send({status:"OK",bootTime:Ae,uptime:Math.floor(((new Date).getTime()-Ae.getTime())/1e3/60)+" minutes",version:_e,highchartsVersion:z(),averageProcessingTime:Ce(),performedExports:Oe(),failedExports:Le(),exportAttempts:Re(),sucessRatio:Oe()/Re()*100,pool:He()})}))})(Fe),(e=>{e.post("/",qe),e.post("/:filename",qe)})(Fe),(e=>{!!e&&e.get("/",((e,o)=>{o.sendFile(t.join(H,"public","index.html"))}))})(Fe),(e=>{!!e&&e.post("/change-hc-version/:newVersion",(async(e,t)=>{const o=process.env.HIGHCHARTS_ADMIN_TOKEN;if(!o||!o.length)return t.send({error:!0,message:"Server not configured to do run-time version changes: HIGHCHARTS_ADMIN_TOKEN not set"});const r=e.get("hc-auth");if(!r||r!==o)return t.send({error:!0,message:"Invalid or missing token: set token in the hc-auth header"});const i=e.params.newVersion;if(i){try{await V(i)}catch(e){t.send({error:!0,message:e})}t.send({version:z()})}else t.send({error:!0,message:"No new version supplied"})}))})(Fe)};var Ve={start:De,getExpress:()=>i,getApp:()=>Fe,use:(e,...t)=>{Fe.use(e,...t)},get:(e,...t)=>{Fe.get(e,...t)},post:(e,...t)=>{Fe.post(e,...t)},enableRateLimiting:e=>j(Fe,e)},Je={log:E,server:Ve,startExport:de.startExport,startServer:De,killPool:ke,initPool:async(t={})=>{const o=ne(w);var r;return t=await(async t=>{const o=t.customCode&&t.customCode.loadConfig;try{return o&&(t=A(t,JSON.parse(e.readFileSync(o)))),t}catch(e){E(1,`[config] Unable to load config from the ${o}: ${e}`)}})(A(o,t)),de.setAllowCodeExecution(t.customCode&&t.customCode.allowCodeExecution),(r=t.logging&&parseInt(t.logging.level))>=0&&r<=S.levelsDesc.length&&(S.level=r),t.logging&&t.logging.dest&&((e,t)=>{if(S={...S,dest:e||S.dest,file:t||S.file,toFile:!0},0===S.dest.length)return E(1,"[logger] File logging init: no path supplied.");S.dest.endsWith("/")||(S.dest+="/")})(t.logging.dest,t.logging.file||"highcharts-export-server.log"),await D(t.highcharts||{version:"latest"}),await xe({pool:t.pool||{initialWorkers:1,maxWorkers:1},puppeteerArgs:t.puppeteer?.args||[]}),de.setPoolOptions(t),t}};module.exports=Je;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9saWIvc2NoZW1hcy9jb25maWcuanMiLCIuLi9saWIvbG9nZ2VyLmpzIiwiLi4vbGliL3V0aWxzLmpzIiwiLi4vbGliL3NlcnZlci9yYXRlX2xpbWl0LmpzIiwiLi4vbGliL2ZldGNoLmpzIiwiLi4vbGliL2NhY2hlLmpzIiwiLi4vbGliL2Jyb3dzZXIuanMiLCIuLi9saWIvZXhwb3J0LmpzIiwiLi4vbGliL2JlbmNobWFyay5qcyIsIi4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMiLCIuLi9saWIvY29uZmlnLmpzIiwiLi4vbGliL2NoYXJ0LmpzIiwiLi4vbGliL3Bvb2wuanMiLCIuLi9saWIvc2VydmVyL3JvdXRlcy9oZWFsdGguanMiLCIuLi9saWIvc2VydmVyL3JvdXRlcy9leHBvcnQuanMiLCIuLi9saWIvc2VydmVyL3NlcnZlci5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL3VpLmpzIiwiLi4vbGliL3NlcnZlci9yb3V0ZXMvY2hhbmdlLWhjLXZlcnNpb24uanMiLCIuLi9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIExvYWQgLmVudiBpbnRvIGVudmlyb25tZW50IHZhcmlhYmxlc1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbi8vIFRoaXMgaXMgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggYWxsIG9wdGlvbnMgYW5kIHRoZWlyIGRlZmF1bHQgdmFsdWVzLFxuLy8gYWxzbyBmcm9tIHRoZSAuZW52IGZpbGUgaWYgb25lIGV4aXN0c1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gIHB1cHBldGVlcjoge1xuICAgIGFyZ3M6IHtcbiAgICAgIHZhbHVlOiBbXSxcbiAgICAgIHR5cGU6ICdzdHJpbmdbXScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FycmF5IG9mIGFyZ3VtZW50cyB0byBzZW5kIHRvIHB1cHBldGVlci4nXG4gICAgfVxuICB9LFxuICBoaWdoY2hhcnRzOiB7XG4gICAgdmVyc2lvbjoge1xuICAgICAgdmFsdWU6ICdsYXRlc3QnLFxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfVkVSU0lPTicsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyB2ZXJzaW9uIHRvIHVzZS4nXG4gICAgfSxcbiAgICBjZG5VUkw6IHtcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9jb2RlLmhpZ2hjaGFydHMuY29tLycsXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19DRE4nLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBDRE4gVVJMIG9mIEhpZ2hjaGFydHMgc2NyaXB0cyB0byB1c2UuJ1xuICAgIH0sXG4gICAgY29yZVNjcmlwdHM6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0NPUkVfU0NSSVBUUycsXG4gICAgICB2YWx1ZTogWydoaWdoY2hhcnRzJywgJ2hpZ2hjaGFydHMtbW9yZScsICdoaWdoY2hhcnRzLTNkJ10sXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIGNvcmUgc2NyaXB0cyB0byBmZXRjaC4nXG4gICAgfSxcbiAgICBtb2R1bGVzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19NT0RVTEVTJyxcbiAgICAgIHZhbHVlOiBbXG4gICAgICAgICdzdG9jaycsXG4gICAgICAgICdtYXAnLFxuICAgICAgICAnZ2FudHQnLFxuICAgICAgICAnZXhwb3J0aW5nJyxcbiAgICAgICAgJ2V4cG9ydC1kYXRhJyxcbiAgICAgICAgJ3BhcmFsbGVsLWNvb3JkaW5hdGVzJyxcbiAgICAgICAgJ2FjY2Vzc2liaWxpdHknLFxuICAgICAgICAnYW5ub3RhdGlvbnMtYWR2YW5jZWQnLFxuICAgICAgICAnYm9vc3QtY2FudmFzJyxcbiAgICAgICAgJ2Jvb3N0JyxcbiAgICAgICAgJ2RhdGEnLFxuICAgICAgICAnZHJhZ2dhYmxlLXBvaW50cycsXG4gICAgICAgICdzdGF0aWMtc2NhbGUnLFxuICAgICAgICAnYnJva2VuLWF4aXMnLFxuICAgICAgICAnaGVhdG1hcCcsXG4gICAgICAgICd0aWxlbWFwJyxcbiAgICAgICAgJ3RpbWVsaW5lJyxcbiAgICAgICAgJ3RyZWVtYXAnLFxuICAgICAgICAnaXRlbS1zZXJpZXMnLFxuICAgICAgICAnZHJpbGxkb3duJyxcbiAgICAgICAgJ2hpc3RvZ3JhbS1iZWxsY3VydmUnLFxuICAgICAgICAnYnVsbGV0JyxcbiAgICAgICAgJ2Z1bm5lbCcsXG4gICAgICAgICdmdW5uZWwzZCcsXG4gICAgICAgICdweXJhbWlkM2QnLFxuICAgICAgICAnbmV0d29ya2dyYXBoJyxcbiAgICAgICAgJ3BhcmV0bycsXG4gICAgICAgICdwYXR0ZXJuLWZpbGwnLFxuICAgICAgICAncGljdG9yaWFsJyxcbiAgICAgICAgJ3ByaWNlLWluZGljYXRvcicsXG4gICAgICAgICdzYW5rZXknLFxuICAgICAgICAnYXJjLWRpYWdyYW0nLFxuICAgICAgICAnZGVwZW5kZW5jeS13aGVlbCcsXG4gICAgICAgICdzZXJpZXMtbGFiZWwnLFxuICAgICAgICAnc29saWQtZ2F1Z2UnLFxuICAgICAgICAnc29uaWZpY2F0aW9uJyxcbiAgICAgICAgJ3N0b2NrLXRvb2xzJyxcbiAgICAgICAgJ3N0cmVhbWdyYXBoJyxcbiAgICAgICAgJ3N1bmJ1cnN0JyxcbiAgICAgICAgJ3ZhcmlhYmxlLXBpZScsXG4gICAgICAgICd2YXJpd2lkZScsXG4gICAgICAgICd2ZWN0b3InLFxuICAgICAgICAndmVubicsXG4gICAgICAgICd3aW5kYmFyYicsXG4gICAgICAgICd3b3JkY2xvdWQnLFxuICAgICAgICAneHJhbmdlJyxcbiAgICAgICAgJ25vLWRhdGEtdG8tZGlzcGxheScsXG4gICAgICAgICdkcmFnLXBhbmVzJyxcbiAgICAgICAgJ2RlYnVnZ2VyJyxcbiAgICAgICAgJ2R1bWJiZWxsJyxcbiAgICAgICAgJ2xvbGxpcG9wJyxcbiAgICAgICAgJ2N5bGluZGVyJyxcbiAgICAgICAgJ29yZ2FuaXphdGlvbicsXG4gICAgICAgICdkb3RwbG90JyxcbiAgICAgICAgJ21hcmtlci1jbHVzdGVycycsXG4gICAgICAgICdob2xsb3djYW5kbGVzdGljaycsXG4gICAgICAgICdoZWlraW5hc2hpJ1xuICAgICAgXSxcbiAgICAgIHR5cGU6ICdzdHJpbmdbXScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0hpZ2hjaGFydHMgbW9kdWxlcyB0byBmZXRjaC4nXG4gICAgfSxcbiAgICBpbmRpY2F0b3JzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19JTkRJQ0FUT1JTJyxcbiAgICAgIHZhbHVlOiBbJ2luZGljYXRvcnMtYWxsJ10sXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIGluZGljYXRvcnMgdG8gZmV0Y2guJ1xuICAgIH0sXG4gICAgc2NyaXB0czoge1xuICAgICAgdmFsdWU6IFtcbiAgICAgICAgJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21vbWVudC5qcy8yLjI5LjQvbW9tZW50Lm1pbi5qcydcbiAgICAgIF0sXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBZGRpdGlvbmFsIGRpcmVjdCBzY3JpcHRzL29wdGlvbmFsIGRlcGVuZGVuY2llcyAoZS5nLiBtb21lbnQuanMpLidcbiAgICB9XG4gIH0sXG4gIGV4cG9ydDoge1xuICAgIGluZmlsZToge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBpbnB1dCBmaWxlIG5hbWUgYWxvbmcgd2l0aCBhIHR5cGUgKGpzb24gb3Igc3ZnKS4gSXQgY2FuIGJlIGEgY29ycmVjdCBKU09OIG9yIFNWRyBmaWxlLidcbiAgICB9LFxuICAgIGluc3RyOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnQW4gaW5wdXQgaW4gYSBmb3JtIG9mIGEgc3RyaW5naWZpZWQgSlNPTiBvciBTVkcgZmlsZS4gT3ZlcnJpZGVzIHRoZSAtLWluZmlsZS4nXG4gICAgfSxcbiAgICBvcHRpb25zOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQW4gYWxpYXMgZm9yIHRoZSAtLWluc3RyIG9wdGlvbi4nXG4gICAgfSxcbiAgICBvdXRmaWxlOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIG91dHB1dCBmaWxlbmFtZSBhbG9uZyB3aXRoIGEgdHlwZSAoanBlZywgcG5nLCBwZGYgb3Igc3ZnKS4gSWdub3JlcyB0aGUgLS10eXBlIGZsYWcuJ1xuICAgIH0sXG4gICAgdHlwZToge1xuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX1RZUEUnLFxuICAgICAgdmFsdWU6ICdwbmcnLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBmb3JtYXQgb2YgdGhlIGZpbGUgdG8gZXhwb3J0IHRvLiBDYW4gYmUganBlZywgcG5nLCBwZGYgb3Igc3ZnLidcbiAgICB9LFxuICAgIGNvbnN0cjoge1xuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX0NPTlNUUicsXG4gICAgICB2YWx1ZTogJ2NoYXJ0JyxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgY29uc3RydWN0b3IgdG8gdXNlLiBDYW4gYmUgY2hhcnQsIHN0b2NrQ2hhcnQsIG1hcENoYXJ0IG9yIGdhbnR0Q2hhcnQuJ1xuICAgIH0sXG4gICAgZGVmYXVsdEhlaWdodDoge1xuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX0hFSUdIVCcsXG4gICAgICB2YWx1ZTogNDAwLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBkZWZhdWx0IGhlaWdodCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIFVzZWQgd2hlbiBub3QgZm91bmQgYW55IHZhbHVlIHNldC4nXG4gICAgfSxcbiAgICBkZWZhdWx0V2lkdGg6IHtcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfREVGQVVMVF9XSURUSCcsXG4gICAgICB2YWx1ZTogNjAwLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBkZWZhdWx0IHdpZHRoIG9mIHRoZSBleHBvcnRlZCBjaGFydC4gVXNlZCB3aGVuIG5vdCBmb3VuZCBhbnkgdmFsdWUgc2V0LidcbiAgICB9LFxuICAgIGRlZmF1bHRTY2FsZToge1xuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX1NDQUxFJyxcbiAgICAgIHZhbHVlOiAxLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBkZWZhdWx0IHNjYWxlIG9mIHRoZSBleHBvcnRlZCBjaGFydC4gUmFuZ2VzIGJldHdlZW4gMSBhbmQgNS4nXG4gICAgfSxcbiAgICBoZWlnaHQ6IHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgZGVmYXVsdCBoZWlnaHQgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBPdmVycmlkZXMgdGhlIG9wdGlvbiBpbiB0aGUgY2hhcnQgc2V0dGluZ3MuJ1xuICAgIH0sXG4gICAgd2lkdGg6IHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgd2lkdGggb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBPdmVycmlkZXMgdGhlIG9wdGlvbiBpbiB0aGUgY2hhcnQgc2V0dGluZ3MuJ1xuICAgIH0sXG4gICAgc2NhbGU6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgc2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBSYW5nZXMgYmV0d2VlbiAxIGFuZCA1LidcbiAgICB9LFxuICAgIGdsb2JhbE9wdGlvbnM6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBIHN0cmluZ2lmaWVkIEpTT04gb3IgYSBmaWxlbmFtZSB3aXRoIG9wdGlvbnMgdG8gYmUgcGFzc2VkIGludG8gdGhlIEhpZ2hjaGFydHMuc2V0T3B0aW9ucy4nXG4gICAgfSxcbiAgICB0aGVtZU9wdGlvbnM6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBIHN0cmluZ2lmaWVkIEpTT04gb3IgYSBmaWxlbmFtZSB3aXRoIHRoZW1lIG9wdGlvbnMgdG8gYmUgcGFzc2VkIGludG8gdGhlIEhpZ2hjaGFydHMuc2V0T3B0aW9ucy4nXG4gICAgfSxcbiAgICBiYXRjaDoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1N0YXJ0cyBhIGJhdGNoIGpvYi4gQSBzdHJpbmcgdGhhdCBjb250YWlucyBpbnB1dC9vdXRwdXQgcGFpcnM6IFwiaW49b3V0O2luPW91dDsuLlwiLidcbiAgICB9XG4gIH0sXG4gIGN1c3RvbUNvZGU6IHtcbiAgICBhbGxvd0NvZGVFeGVjdXRpb246IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0FMTE9XX0NPREVfRVhFQ1VUSU9OJyxcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnSWYgc2V0IHRvIHRydWUsIGFsbG93IGZvciB0aGUgZXhlY3V0aW9uIG9mIGFyYml0cmFyeSBjb2RlIHdoZW4gZXhwb3J0aW5nLidcbiAgICB9LFxuICAgIGFsbG93RmlsZVJlc291cmNlczoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQUxMT1dfRklMRV9SRVNPVVJDRVMnLFxuICAgICAgdmFsdWU6IHRydWUsXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0FsbG93IGluamVjdGluZyByZXNvdXJjZXMgZnJvbSB0aGUgZmlsZXN5c3RlbS4gSGFzIG5vIGVmZmVjdCB3aGVuIHJ1bm5pbmcgYXMgYSBzZXJ2ZXIuJ1xuICAgIH0sXG4gICAgY3VzdG9tQ29kZToge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0EgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGJlZm9yZSBjaGFydCBpbml0aWFsaXphdGlvbi4gQ2FuIGJlIGEgZmlsZW5hbWUgd2l0aCB0aGUganMgZXh0ZW5zaW9uLidcbiAgICB9LFxuICAgIGNhbGxiYWNrOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQSBKYXZhU2NyaXB0IGZpbGUgd2l0aCBhIGZ1bmN0aW9uIHRvIHJ1biBvbiBjb25zdHJ1Y3Rpb24uJ1xuICAgIH0sXG4gICAgcmVzb3VyY2VzOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnQW4gYWRkaXRpb25hbCByZXNvdXJjZSBpbiBhIGZvcm0gb2Ygc3RyaW5naWZpZWQgSlNPTi4gSXQgY2FuIGNvbnRhaW4gZmlsZXMsIGpzIGFuZCBjc3Mgc2VjdGlvbnMuJ1xuICAgIH0sXG4gICAgbG9hZENvbmZpZzoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0EgZmlsZSB0aGF0IGNvbnRhaW5zIGEgcHJlLWRlZmluZWQgY29uZmlnIHRvIHVzZS4nXG4gICAgfSxcbiAgICBjcmVhdGVDb25maWc6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBbGxvd3MgdG8gc2V0IG9wdGlvbnMgdGhyb3VnaCBhIHByb21wdCBhbmQgc2F2ZSBpbiBhIHByb3ZpZGVkIGNvbmZpZyBmaWxlLidcbiAgICB9XG4gIH0sXG4gIHNlcnZlcjoge1xuICAgIGVuYWJsZToge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX0VOQUJMRScsXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICBjbGlOYW1lOiAnZW5hYmxlU2VydmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSWYgc2V0IHRvIHRydWUsIHN0YXJ0cyBhIHNlcnZlciBvbiAwLjAuMC4wLidcbiAgICB9LFxuICAgIGhvc3Q6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NFUlZFUl9IT1NUJyxcbiAgICAgIHZhbHVlOiAnMC4wLjAuMCcsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGhvc3RuYW1lIG9mIHRoZSBzZXJ2ZXIuIEFsc28gc3RhcnRzIGEgc2VydmVyIGxpc3RlbmluZyBvbiB0aGUgc3VwcGxpZWQgaG9zdG5hbWUuJ1xuICAgIH0sXG4gICAgcG9ydDoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX1BPUlQnLFxuICAgICAgdmFsdWU6IDc4MDEsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvcnQgdG8gdXNlIGZvciB0aGUgc2VydmVyLiBEZWZhdWx0cyB0byA3ODAxLidcbiAgICB9LFxuICAgIHNzbDoge1xuICAgICAgZW5hYmxlOiB7XG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NFUlZFUl9TU0xfRU5BQkxFJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgIGNsaU5hbWU6ICdlbmFibGVTc2wnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0VuYWJsZXMgdGhlIFNTTCBwcm90b2NvbC4nXG4gICAgICB9LFxuICAgICAgZm9yY2U6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX1NTTF9GT1JDRScsXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICBjbGlOYW1lOiAnc3NsRm9yY2VkJyxcbiAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgJ0lmIHNldCB0byB0cnVlLCBmb3JjZXMgdGhlIHNlcnZlciB0byBvbmx5IHNlcnZlIG92ZXIgSFRUUFMuJ1xuICAgICAgfSxcbiAgICAgIHBvcnQ6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX1NTTF9QT1JUJyxcbiAgICAgICAgdmFsdWU6IDQ0MyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGNsaU5hbWU6ICdzc2xQb3J0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgcG9ydCBvbiB3aGljaCB0byBydW4gdGhlIFNTTCBzZXJ2ZXIuJ1xuICAgICAgfSxcbiAgICAgIGNlcnRQYXRoOiB7XG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NTTF9DRVJUX1BBVEgnLFxuICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYXRoIHRvIHRoZSBTU0wgY2VydGlmaWNhdGUva2V5LidcbiAgICAgIH1cbiAgICB9LFxuICAgIHJhdGVMaW1pdGluZzoge1xuICAgICAgZW5hYmxlOiB7XG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfRU5BQkxFJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgIGNsaU5hbWU6ICdlbmFibGVSYXRlTGltaXRpbmcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0VuYWJsZXMgcmF0ZSBsaW1pdGluZy4nXG4gICAgICB9LFxuICAgICAgbWF4UmVxdWVzdHM6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9NQVgnLFxuICAgICAgICB2YWx1ZTogMTAsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ01heCByZXF1ZXN0cyBhbGxvd2VkIGluIGEgb25lIG1pbnV0ZS4nXG4gICAgICB9LFxuICAgICAgd2luZG93OiB7XG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfV0lORE9XJyxcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSB0aW1lIHdpbmRvdyBpbiBtaW51dGVzIGZvciByYXRlIGxpbWl0aW5nLidcbiAgICAgIH0sXG4gICAgICBkZWxheToge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX0RFTEFZJyxcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBhbW91bnQgdG8gZGVsYXkgZWFjaCBzdWNjZXNzaXZlIHJlcXVlc3QgYmVmb3JlIGhpdHRpbmcgdGhlIG1heC4nXG4gICAgICB9LFxuICAgICAgdHJ1c3RQcm94eToge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX1RSVVNUX1BST1hZJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2V0IHRoaXMgdG8gdHJ1ZSBpZiBiZWhpbmQgYSBsb2FkIGJhbGFuY2VyLidcbiAgICAgIH0sXG4gICAgICBza2lwS2V5OiB7XG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfU0tJUF9LRVknLFxuICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgIHR5cGU6ICdudW1iZXJ8c3RyaW5nJyxcbiAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgJ0FsbG93cyBieXBhc3NpbmcgdGhlIHJhdGUgbGltaXRlciBhbmQgc2hvdWxkIGJlIHByb3ZpZGVkIHdpdGggc2tpcFRva2VuIGFyZ3VtZW50LidcbiAgICAgIH0sXG4gICAgICBza2lwVG9rZW46IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9TS0lQX1RPS0VOJyxcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyfHN0cmluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICdBbGxvd3MgYnlwYXNzaW5nIHRoZSByYXRlIGxpbWl0ZXIgYW5kIHNob3VsZCBiZSBwcm92aWRlZCB3aXRoIHNraXBLZXkgYXJndW1lbnQuJ1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcG9vbDoge1xuICAgIGluaXRpYWxXb3JrZXJzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX01JTl9XT1JLRVJTJyxcbiAgICAgIHZhbHVlOiA0LFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgaW5pdGlhbCB3b3JrZXJzIHRvIHNwYXduLidcbiAgICB9LFxuICAgIG1heFdvcmtlcnM6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfTUFYX1dPUktFUlMnLFxuICAgICAgdmFsdWU6IDgsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBtYXggd29ya2VycyB0byBzcGF3bi4nXG4gICAgfSxcbiAgICB3b3JrTGltaXQ6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfV09SS19MSU1JVCcsXG4gICAgICB2YWx1ZTogNDAsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIHBpZWNlcyBvZiB3b3JrIHRoYXQgY2FuIGJlIHBlcmZvcm1lZCBiZWZvcmUgcmVzdGFydGluZyBwcm9jZXNzLidcbiAgICB9LFxuICAgIHF1ZXVlU2l6ZToge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9RVUVVRV9TSVpFJyxcbiAgICAgIHZhbHVlOiA1LFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBzaXplIG9mIHRoZSByZXF1ZXN0IG92ZXJmbG93IHF1ZXVlLidcbiAgICB9LFxuICAgIHRpbWVvdXRUaHJlc2hvbGQ6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfVElNRU9VVCcsXG4gICAgICB2YWx1ZTogNTAwMCxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZWZvcmUgdGltaW5nIG91dC4nXG4gICAgfSxcbiAgICBhY3F1aXJlVGltZW91dDoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9BQ1FVSVJFX1RJTUVPVVQnLFxuICAgICAgdmFsdWU6IDUwMDAsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgYWNxdWlyaW5nIGEgcmVzb3VyY2UuJ1xuICAgIH0sXG4gICAgcmVhcGVyOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX0VOQUJMRV9SRUFQRVInLFxuICAgICAgdmFsdWU6IHRydWUsXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1doZXRoZXIgb3Igbm90IHRvIGV2aWN0IHdvcmtlcnMgYWZ0ZXIgYSBjZXJ0YWluIHRpbWUgcGVyaW9kLidcbiAgICB9LFxuICAgIGJlbmNobWFya2luZzoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9CRU5DSE1BUktJTkcnLFxuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVzY3JpcHRpb246ICdFbmFibGUgYmVuY2htYXJraW5nLidcbiAgICB9LFxuICAgIGxpc3RlblRvUHJvY2Vzc0V4aXRzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX0xJU1RFTl9UT19QUk9DRVNTX0VYSVRTJyxcbiAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdTZXQgdG8gZmFsc2UgaW4gb3JkZXIgdG8gc2tpcCBhdHRhY2hpbmcgcHJvY2Vzcy5leGl0IGhhbmRsZXJzLidcbiAgICB9XG4gIH0sXG4gIHBheWxvYWQ6IHt9LFxuICBsb2dnaW5nOiB7XG4gICAgbGV2ZWw6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0xPR19MRVZFTCcsXG4gICAgICB2YWx1ZTogNCxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgY2xpTmFtZTogJ2xvZ0xldmVsJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGxvZyBsZXZlbCAoMDogc2lsZW50LCAxOiBlcnJvciwgMjogd2FybmluZywgMzogbm90aWNlLCA0OiB2ZXJib3NlKS4nXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19MT0dfRklMRScsXG4gICAgICB2YWx1ZTogJ2hpZ2hjaGFydHMtZXhwb3J0LXNlcnZlci5sb2cnLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBjbGlOYW1lOiAnbG9nRmlsZScsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0EgbmFtZSBvZiBhIGxvZyBmaWxlLiBUaGUgLS1sb2dEZXN0IGFsc28gbmVlZHMgdG8gYmUgc2V0IHRvIGVuYWJsZSBmaWxlIGxvZ2dpbmcuJ1xuICAgIH0sXG4gICAgZGVzdDoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfTE9HX0RFU1QnLFxuICAgICAgdmFsdWU6ICdsb2cvJyxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgY2xpTmFtZTogJ2xvZ0Rlc3QnLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcGF0aCB0byBzdG9yZSBsb2cgZmlsZXMuIEFsc28gZW5hYmxlcyBmaWxlIGxvZ2dpbmcuJ1xuICAgIH1cbiAgfSxcbiAgdWk6IHtcbiAgICBlbmFibGU6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1VJX0VOQUJMRScsXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICBjbGlOYW1lOiAnZW5hYmxlVWknLFxuICAgICAgZGVzY3JpcHRpb246ICdFbmFibGVzIHRoZSBVSSBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXIuJ1xuICAgIH0sXG4gICAgcm91dGU6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1VJX1JPVVRFJyxcbiAgICAgIHZhbHVlOiAnLycsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGNsaU5hbWU6ICd1aVJvdXRlJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHJvdXRlIHRvIGF0dGFjaCB0aGUgVUkgdG8uJ1xuICAgIH1cbiAgfSxcbiAgb3RoZXI6IHtcbiAgICBub0xvZ286IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX05PX0xPR08nLFxuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdTa2lwIHByaW50aW5nIHRoZSBsb2dvIG9uIGEgc3RhcnR1cC4gV2lsbCBiZSByZXBsYWNlZCBieSBhIHNpbXBsZSB0ZXh0LidcbiAgICB9XG4gIH1cbn07XG5cbi8vIFRoZSBjb25maWcgZGVzY3JpcHRpb25zIG9iamVjdCBmb3IgdGhlIHByb21wdHMgZnVuY3Rpb25hbGl0eS4gSXQgY29udGFpbnNcbi8vIGluZm9ybWF0aW9uIGxpa2U6XG4vLyAqIFR5cGUgb2YgYSBwcm9tcHRcbi8vICogTmFtZSBvZiBhbiBvcHRpb25cbi8vICogU2hvcnQgZGVzY3JpcHRpb24gb2YgYSBjaG9zZW4gb3B0aW9uXG4vLyAqIEluaXRpYWwgdmFsdWVcbmV4cG9ydCBjb25zdCBwcm9tcHRzQ29uZmlnID0ge1xuICBwdXBwZXRlZXI6IFtcbiAgICB7XG4gICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICBuYW1lOiAnYXJncycsXG4gICAgICBtZXNzYWdlOiAnUHVwcGV0ZWVyIGFyZ3VtZW50cycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnB1cHBldGVlci5hcmdzLnZhbHVlLmpvaW4oJywnKSxcbiAgICAgIHNlcGFyYXRvcjogJywnXG4gICAgfVxuICBdLFxuICBoaWdoY2hhcnRzOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgbmFtZTogJ3ZlcnNpb24nLFxuICAgICAgbWVzc2FnZTogJ0hpZ2hjaGFydHMgdmVyc2lvbicsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMudmVyc2lvbi52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgbmFtZTogJ2NkblVSTCcsXG4gICAgICBtZXNzYWdlOiAnVGhlIHVybCBvZiBDRE4nLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLmNkblVSTC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ211bHRpc2VsZWN0JyxcbiAgICAgIG5hbWU6ICdtb2R1bGVzJyxcbiAgICAgIG1lc3NhZ2U6ICdBdmFpbGFibGUgbW9kdWxlcycsXG4gICAgICBpbnN0cnVjdGlvbnM6ICdTcGFjZTogU2VsZWN0IHNwZWNpZmljLCBBOiBTZWxlY3QgYWxsLCBFbnRlcjogQ29uZmlybS4nLFxuICAgICAgY2hvaWNlczogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLm1vZHVsZXMudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdsaXN0JyxcbiAgICAgIG5hbWU6ICdzY3JpcHRzJyxcbiAgICAgIG1lc3NhZ2U6ICdDdXN0b20gc2NyaXB0cycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMuc2NyaXB0cy52YWx1ZS5qb2luKCcsJyksXG4gICAgICBzZXBhcmF0b3I6ICcsJ1xuICAgIH1cbiAgXSxcbiAgZXhwb3J0OiBbXG4gICAge1xuICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICBuYW1lOiAndHlwZScsXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgdHlwZSBvZiBhIGZpbGUgdG8gZXhwb3J0IHRvJyxcbiAgICAgIGhpbnQ6IGBEZWZhdWx0OiAke2RlZmF1bHRDb25maWcuZXhwb3J0LnR5cGUudmFsdWV9YCxcbiAgICAgIGluaXRpYWw6IDAsXG4gICAgICBjaG9pY2VzOiBbJ3BuZycsICdqcGVnJywgJ3BkZicsICdzdmcnXVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICBuYW1lOiAnY29uc3RyJyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgZGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSGlnaGNoYXJ0cyB0byB1c2UnLFxuICAgICAgaGludDogYERlZmF1bHQ6ICR7ZGVmYXVsdENvbmZpZy5leHBvcnQuY29uc3RyLnZhbHVlfWAsXG4gICAgICBpbml0aWFsOiAwLFxuICAgICAgY2hvaWNlczogWydjaGFydCcsICdzdG9ja0NoYXJ0JywgJ21hcENoYXJ0JywgJ2dhbnR0Q2hhcnQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnZGVmYXVsdEhlaWdodCcsXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgZmFsbGJhY2sgaGVpZ2h0IG9mIHRoZSBleHBvcnRlZCBjaGFydCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmV4cG9ydC5kZWZhdWx0SGVpZ2h0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdkZWZhdWx0V2lkdGgnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBkZWZhdWx0IGZhbGxiYWNrIHdpZHRoIG9mIHRoZSBleHBvcnRlZCBjaGFydCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmV4cG9ydC5kZWZhdWx0V2lkdGgudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ2RlZmF1bHRTY2FsZScsXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgZmFsbGJhY2sgc2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuZXhwb3J0LmRlZmF1bHRTY2FsZS52YWx1ZSxcbiAgICAgIG1pbjogMC4xLFxuICAgICAgbWF4OiA1XG4gICAgfVxuICBdLFxuICBjdXN0b21Db2RlOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnYWxsb3dDb2RlRXhlY3V0aW9uJyxcbiAgICAgIG1lc3NhZ2U6ICdBbGxvdyB0byBleGVjdXRlIGN1c3RvbSBjb2RlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuY3VzdG9tQ29kZS5hbGxvd0NvZGVFeGVjdXRpb24udmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ2FsbG93RmlsZVJlc291cmNlcycsXG4gICAgICBtZXNzYWdlOiAnQWxsb3cgZmlsZSByZXNvdXJjZXMnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcy52YWx1ZVxuICAgIH1cbiAgXSxcbiAgc2VydmVyOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnZW5hYmxlJyxcbiAgICAgIG1lc3NhZ2U6ICdTdGFydHMgYSBzZXJ2ZXIgb24gMC4wLjAuMCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5lbmFibGUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIG5hbWU6ICdob3N0JyxcbiAgICAgIG1lc3NhZ2U6ICdBIGhvc3RuYW1lIG9mIGEgc2VydmVyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLmhvc3QudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ3BvcnQnLFxuICAgICAgbWVzc2FnZTogJ0EgcG9ydCBvZiBhIHNlcnZlcicsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5wb3J0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdzc2wuZW5hYmxlJyxcbiAgICAgIG1lc3NhZ2U6ICdFbmFibGUgU1NMIHByb3RvY29sJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5lbmFibGUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ3NzbC5mb3JjZScsXG4gICAgICBtZXNzYWdlOiAnRm9yY2UgdG8gb25seSBzZXJ2ZSBvdmVyIEhUVFBTJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5mb3JjZS52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnc3NsLnBvcnQnLFxuICAgICAgbWVzc2FnZTogJ1BvcnQgb24gd2hpY2ggdG8gcnVuIHRoZSBTU0wgc2VydmVyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5wb3J0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAnc3NsLmNlcnRQYXRoJyxcbiAgICAgIG1lc3NhZ2U6ICdBIHBhdGggd2hlcmUgdG8gZmluZCB0aGUgU1NMIGNlcnRpZmljYXRlL2tleScsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5zc2wuY2VydFBhdGgudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5lbmFibGUnLFxuICAgICAgbWVzc2FnZTogJ0VuYWJsZSByYXRlIGxpbWl0aW5nJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5lbmFibGUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cycsXG4gICAgICBtZXNzYWdlOiAnTWF4IHJlcXVlc3RzIGFsbG93ZWQgaW4gYSBvbmUgbWludXRlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLndpbmRvdycsXG4gICAgICBtZXNzYWdlOiAnVGhlIHRpbWUgd2luZG93IGluIG1pbnV0ZXMgZm9yIHJhdGUgbGltaXRpbmcnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLndpbmRvdy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLmRlbGF5JyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgYW1vdW50IHRvIGRlbGF5IGVhY2ggc3VjY2Vzc2l2ZSByZXF1ZXN0IGJlZm9yZSBoaXR0aW5nIHRoZSBtYXgnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLmRlbGF5LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcudHJ1c3RQcm94eScsXG4gICAgICBtZXNzYWdlOiAnU2V0IHRoaXMgdG8gdHJ1ZSBpZiBiZWhpbmQgYSBsb2FkIGJhbGFuY2VyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy50cnVzdFByb3h5LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLnNraXBLZXknLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ0FsbG93cyBieXBhc3NpbmcgdGhlIHJhdGUgbGltaXRlciBhbmQgc2hvdWxkIGJlIHByb3ZpZGVkIHdpdGggc2tpcFRva2VuIGFyZ3VtZW50JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5za2lwS2V5LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLnNraXBUb2tlbicsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnQWxsb3dzIGJ5cGFzc2luZyB0aGUgcmF0ZSBsaW1pdGVyIGFuZCBzaG91bGQgYmUgcHJvdmlkZWQgd2l0aCBza2lwS2V5IGFyZ3VtZW50JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5za2lwVG9rZW4udmFsdWVcbiAgICB9XG4gIF0sXG4gIHBvb2w6IFtcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdpbml0aWFsV29ya2VycycsXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBpbml0aWFsIHdvcmtlcnMgdG8gc3Bhd24nLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmluaXRpYWxXb3JrZXJzLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdtYXhXb3JrZXJzJyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgbnVtYmVyIG9mIG1heCB3b3JrZXJzIHRvIHNwYXduJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5tYXhXb3JrZXJzLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICd3b3JrTGltaXQnLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1RoZSBwaWVjZXMgb2Ygd29yayB0aGF0IGNhbiBiZSBwZXJmb3JtZWQgYmVmb3JlIHJlc3RhcnRpbmcgYSBwdXBwZXRlZXIgcHJvY2VzcycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wud29ya0xpbWl0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdxdWV1ZVNpemUnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBzaXplIG9mIHRoZSByZXF1ZXN0IG92ZXJmbG93IHF1ZXVlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5xdWV1ZVNpemUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ3RpbWVvdXRUaHJlc2hvbGQnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBudW1iZXIgb2Ygc2Vjb25kcyBiZWZvcmUgdGltaW5nIG91dCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wudGltZW91dFRocmVzaG9sZC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnYWNxdWlyZVRpbWVvdXQnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGFjcXVpcmluZyBhIHJlc291cmNlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5hY3F1aXJlVGltZW91dC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAncmVhcGVyJyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgcmVhcGVyIHRvIHJlbW92ZSBoYW5naW5nIHByb2Nlc3NlcycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wucmVhcGVyLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdiZW5jaG1hcmtpbmcnLFxuICAgICAgbWVzc2FnZTogJ1NldCBiZW5jaG1hcmtpbmcnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmJlbmNobWFya2luZy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnbGlzdGVuVG9Qcm9jZXNzRXhpdHMnLFxuICAgICAgbWVzc2FnZTogJ1NldCB0byBmYWxzZSBpbiBvcmRlciB0byBza2lwIGF0dGFjaGluZyBwcm9jZXNzLmV4aXQgaGFuZGxlcnMnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmxpc3RlblRvUHJvY2Vzc0V4aXRzLnZhbHVlXG4gICAgfVxuICBdLFxuICBsb2dnaW5nOiBbXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnbGV2ZWwnLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1RoZSBsb2cgbGV2ZWwgKDA6IHNpbGVudCwgMTogZXJyb3IsIDI6IHdhcm5pbmcsIDM6IG5vdGljZSwgNDogdmVyYm9zZSknLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmxldmVsLnZhbHVlLFxuICAgICAgcm91bmQ6IDAsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDRcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIG5hbWU6ICdmaWxlJyxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdBIG5hbWUgb2YgYSBsb2cgZmlsZS4gVGhlIC0tbG9nRGVzdCBhbHNvIG5lZWRzIHRvIGJlIHNldCB0byBlbmFibGUgZmlsZSBsb2dnaW5nJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcubG9nZ2luZy5maWxlLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAnZGVzdCcsXG4gICAgICBtZXNzYWdlOiAnQSBwYXRoIHRvIGxvZyBmaWxlcy4gSXQgZW5hYmxlcyBmaWxlIGxvZ2dpbmcnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmRlc3QudmFsdWVcbiAgICB9XG4gIF0sXG4gIHVpOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnZW5hYmxlJyxcbiAgICAgIG1lc3NhZ2U6ICdFbmFibGUgVUkgZm9yIHRoZSBleHBvcnQgc2VydmVyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcudWkuZW5hYmxlLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAncm91dGUnLFxuICAgICAgbWVzc2FnZTogJ0Egcm91dGUgdG8gYXR0YWNoIHRoZSBVSSB0bycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnVpLnJvdXRlLnZhbHVlXG4gICAgfVxuICBdLFxuICBvdGhlcjogW1xuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ25vTG9nbycsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnU2tpcCBwcmludGluZyB0aGUgbG9nbyBvbiBhIHN0YXJ0dXAuIFdpbGwgYmUgcmVwbGFjZWQgYnkgYSBzaW1wbGUgdGV4dCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLm90aGVyLm5vTG9nby52YWx1ZVxuICAgIH1cbiAgXVxufTtcblxuLy8gQXJndW1lbnQgbmVzdGluZyBsZXZlbCBvZiBhbGwgZXhwb3J0IHNlcnZlciBvcHRpb25zXG5jb25zdCBuZXN0ZWRBcmdzID0ge307XG5cbi8vIE1hcCBvZiBwcm9wZXJ0aWVzIGZyb20gZW52c1xuY29uc3QgZW52VmFycyA9IFtdO1xuXG4vKipcbiAqIEJ1aWxkcyBtYXBzIGFuZCBsb2FkIGVudiB2YXJzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBUaGUgb2JqZWN0IGJhc2VkIG9uIHdoaWNoIHRoZSBpbml0aWFsIGNvbmZpZ3VyYXRpb24gYmVcbiAqIG1hZGUuXG4gKiBAcGFyYW0ge3N0cmluZyB9IHByb3BDaGFpbiAtIFJlcXVpcmVkIGZvciBjcmVhdGluZyBhIHN0cmluZyBjaGFpbiBvZlxuICogcHJvcGVydGllcyBmb3IgbmVzdGVkIGFyZ3VtZW50cy5cbiAqL1xuY29uc3QgaW5pdENvbmZpZyA9IChvYmosIHByb3BDaGFpbiA9ICcnKSA9PiB7XG4gIGNvbnN0IHRvQm9vbGVhbiA9IChpdGVtKSA9PlxuICAgIFsnZmFsc2UnLCAndW5kZWZpbmVkJywgJ251bGwnLCAnTmFOJywgJzAnLCAnJ10uaW5jbHVkZXMoaXRlbSlcbiAgICAgID8gZmFsc2VcbiAgICAgIDogISFpdGVtO1xuXG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaCgoaykgPT4ge1xuICAgIGlmICghWydwdXBwZXRlZXInLCAnaGlnaGNoYXJ0cyddLmluY2x1ZGVzKGspKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IG9ialtrXTtcbiAgICAgIGxldCBudW1FbnZWYWw7XG5cbiAgICAgIGlmICh0eXBlb2YgZW50cnkudmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGluaXRDb25maWcoZW50cnksIGAke3Byb3BDaGFpbn0uJHtrfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVudHJ5LmVudkxpbmspIHtcbiAgICAgICAgICAvLyBMb2FkIHRoZSBlbnYgdmFyXG4gICAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgZW50cnkudmFsdWUgPSB0b0Jvb2xlYW4oXG4gICAgICAgICAgICAgIFtwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXSwgZW50cnkudmFsdWVdLmZpbmQoXG4gICAgICAgICAgICAgICAgKGVsKSA9PiBlbCB8fCBlbCA9PT0gJ2ZhbHNlJ1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZW50cnkudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIG51bUVudlZhbCA9ICtwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXTtcbiAgICAgICAgICAgIGVudHJ5LnZhbHVlID0gbnVtRW52VmFsID49IDAgPyBudW1FbnZWYWwgOiBlbnRyeS52YWx1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgZW50cnkudHlwZS5pbmRleE9mKCddJykgPj0gMCAmJlxuICAgICAgICAgICAgcHJvY2Vzcy5lbnZbZW50cnkuZW52TGlua11cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGVudHJ5LnZhbHVlID0gcHJvY2Vzcy5lbnZbZW50cnkuZW52TGlua10uc3BsaXQoJywnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW50cnkudmFsdWUgPSBwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXSB8fCBlbnRyeS52YWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBZGQgdG8gbGlzdCBvZiBlbnYgdmFyc1xuICAgICAgICAgIGVudlZhcnMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBlbnRyeS5lbnZMaW5rLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGVudHJ5LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgdHlwZTogZW50cnkudHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjaGFpbiBvZiBuZXN0ZWQgYXJndW1lbnRzXG4gICAgICAgIG5lc3RlZEFyZ3NbZW50cnkuY2xpTmFtZSB8fCBrXSA9IGAke3Byb3BDaGFpbn0uJHtrfWAuc3Vic3RyaW5nKDEpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5pbml0Q29uZmlnKGRlZmF1bHRDb25maWcpO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRlZmF1bHRDb25maWcsXG4gIHByb21wdHNDb25maWcsXG4gIGVudlZhcnMsXG4gIG5lc3RlZEFyZ3Ncbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgYXBwZW5kRmlsZSwgZXhpc3RzU3luYywgbWtkaXJTeW5jIH0gZnJvbSAnZnMnO1xuXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi9zY2hlbWFzL2NvbmZpZy5qcyc7XG5cbi8vIFRoZSBkZWZhdWx0IGxvZ2dpbmcgY29uZmlnXG5sZXQgbG9nZ2luZyA9IHtcbiAgLy8gRmxhZ3MgZm9yIGxvZ2dpbmcgc3RhdHVzXG4gIHRvQ29uc29sZTogdHJ1ZSxcbiAgdG9GaWxlOiBmYWxzZSxcbiAgcGF0aENyZWF0ZWQ6IGZhbHNlLFxuICAvLyBMb2cgbGV2ZWxzXG4gIGxldmVsc0Rlc2M6IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ2Vycm9yJyxcbiAgICAgIGNvbG9yOiAncmVkJ1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICd3YXJuaW5nJyxcbiAgICAgIGNvbG9yOiAneWVsbG93J1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdub3RpY2UnLFxuICAgICAgY29sb3I6ICdibHVlJ1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICd2ZXJib3NlJyxcbiAgICAgIGNvbG9yOiAnZ3JheSdcbiAgICB9XG4gIF0sXG4gIC8vIExvZyBsaXN0ZW5lcnNcbiAgbGlzdGVuZXJzOiBbXVxufTtcblxuLy8gR2F0aGVyIGluaXQgbG9nZ2luZyBvcHRpb25zXG5mb3IgKGNvbnN0IFtrZXksIG9wdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoZGVmYXVsdENvbmZpZy5sb2dnaW5nKSkge1xuICBsb2dnaW5nW2tleV0gPSBvcHRpb24udmFsdWU7XG59XG5cbi8qKlxuICogTG9ncyBhIG1lc3NhZ2UuIEFjY2VwdHMgYSB2YXJpYWJsZSBhbW91bnQgb2YgYXJndW1lbnRzLiBBcmd1bWVudHMgYWZ0ZXJcbiAqIGBsZXZlbGAgd2lsbCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gY29uc29sZS5sb2csIGFuZC9vciB3aWxsIGJlIGpvaW5lZFxuICogYW5kIGFwcGVuZGVkIHRvIHRoZSBsb2cgZmlsZS5cbiAqXG4gKiBAcGFyYW0ge2FueX0gYXJncyAtIEFuIGFycmF5IG9mIGFyZ3VtZW50cyB3aGVyZSB0aGUgZmlyc3QgaXMgdGhlIGxvZyBsZXZlbFxuICogYW5kIHRoZSByZXN0IGFyZSBzdHJpbmdzIHRvIGJ1aWxkIGEgbWVzc2FnZSB3aXRoLlxuICovXG5leHBvcnQgY29uc3QgbG9nID0gKC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgW25ld0xldmVsLCAuLi50ZXh0c10gPSBhcmdzO1xuXG4gIC8vIEN1cnJlbnQgbG9nZ2luZyBvcHRpb25zXG4gIGNvbnN0IHsgbGV2ZWwsIGxldmVsc0Rlc2MgfSA9IGxvZ2dpbmc7XG5cbiAgLy8gQ2hlY2sgaWYgbG9nIGxldmVsIGlzIHdpdGhpbiBhIGNvcnJlY3QgcmFuZ2VcbiAgaWYgKG5ld0xldmVsID09PSAwIHx8IG5ld0xldmVsID4gbGV2ZWwgfHwgbGV2ZWwgPiBsZXZlbHNEZXNjLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEdldCByaWQgb2YgdGhlIEdNVCB0ZXh0IGluZm9ybWF0aW9uXG4gIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkuc3BsaXQoJygnKVswXS50cmltKCk7XG5cbiAgLy8gQ3JlYXRlIGEgbWVzc2FnZSdzIHByZWZpeFxuICBjb25zdCBwcmVmaXggPSBgJHtuZXdEYXRlfSBbJHtsZXZlbHNEZXNjW25ld0xldmVsIC0gMV0udGl0bGV9XSAtYDtcblxuICAvLyBDYWxsIGF2YWlsYWJsZSBsb2cgbGlzdGVuZXJzXG4gIGxvZ2dpbmcubGlzdGVuZXJzLmZvckVhY2goKGZuKSA9PiB7XG4gICAgZm4ocHJlZml4LCB0ZXh0cy5qb2luKCcgJykpO1xuICB9KTtcblxuICAvLyBMb2cgdG8gZmlsZVxuICBpZiAobG9nZ2luZy50b0ZpbGUpIHtcbiAgICBpZiAoIWxvZ2dpbmcucGF0aENyZWF0ZWQpIHtcbiAgICAgIC8vIENyZWF0ZSBpZiBkb2VzIG5vdCBleGlzdFxuICAgICAgIWV4aXN0c1N5bmMobG9nZ2luZy5kZXN0KSAmJiBta2RpclN5bmMobG9nZ2luZy5kZXN0KTtcblxuICAgICAgLy8gV2Ugbm93IGFzc3VtZSB0aGUgcGF0aCBpcyBhdmFpbGFibGUsIGUuZy4gaXQncyB0aGUgcmVzcG9uc2liaWxpdHlcbiAgICAgIC8vIG9mIHRoZSB1c2VyIHRvIGNyZWF0ZSB0aGUgcGF0aCB3aXRoIHRoZSBjb3JyZWN0IGFjY2VzcyByaWdodHMuXG4gICAgICBsb2dnaW5nLnBhdGhDcmVhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGNvbnRlbnQgdG8gYSBmaWxlXG4gICAgYXBwZW5kRmlsZShcbiAgICAgIGAke2xvZ2dpbmcuZGVzdH0ke2xvZ2dpbmcuZmlsZX1gLFxuICAgICAgW3ByZWZpeF0uY29uY2F0KHRleHRzKS5qb2luKCcgJykgKyAnXFxuJyxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW2xvZ2dlcl0gVW5hYmxlIHRvIHdyaXRlIHRvIGxvZyBmaWxlOiAke2Vycm9yfWApO1xuICAgICAgICAgIGxvZ2dpbmcudG9GaWxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLy8gTG9nIHRvIGNvbnNvbGVcbiAgaWYgKGxvZ2dpbmcudG9Db25zb2xlKSB7XG4gICAgY29uc29sZS5sb2cuYXBwbHkoXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBbcHJlZml4LnRvU3RyaW5nKClbbG9nZ2luZy5sZXZlbHNEZXNjW25ld0xldmVsIC0gMV0uY29sb3JdXS5jb25jYXQodGV4dHMpXG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBmaWxlIGxvZ2dpbmcgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9nRGVzdCAtIEEgcGF0aCB0byBsb2cgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9nRmlsZSAtIFRoZSBuYW1lIG9mIHRoZSBsb2cgZmlsZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGVuYWJsZUZpbGVMb2dnaW5nID0gKGxvZ0Rlc3QsIGxvZ0ZpbGUpID0+IHtcbiAgLy8gVXBkYXRlIGxvZ2dpbmcgb3B0aW9uc1xuICBsb2dnaW5nID0ge1xuICAgIC4uLmxvZ2dpbmcsXG4gICAgZGVzdDogbG9nRGVzdCB8fCBsb2dnaW5nLmRlc3QsXG4gICAgZmlsZTogbG9nRmlsZSB8fCBsb2dnaW5nLmZpbGUsXG4gICAgdG9GaWxlOiB0cnVlXG4gIH07XG5cbiAgaWYgKGxvZ2dpbmcuZGVzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbG9nKDEsICdbbG9nZ2VyXSBGaWxlIGxvZ2dpbmcgaW5pdDogbm8gcGF0aCBzdXBwbGllZC4nKTtcbiAgfVxuXG4gIGlmICghbG9nZ2luZy5kZXN0LmVuZHNXaXRoKCcvJykpIHtcbiAgICBsb2dnaW5nLmRlc3QgKz0gJy8nO1xuICB9XG59O1xuXG4vKipcbiAqIEFkZHMgYSBsb2cgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGdldHRpbmcgYSBsb2cgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBsaXN0ZW4gPSAoZm4pID0+IHtcbiAgbG9nZ2luZy5saXN0ZW5lcnMucHVzaChmbik7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgbG9nIGxldmVsLiBMb2cgbGV2ZWxzIGFyZTpcbiAqIC0gMCA9IG5vIGxvZ2dpbmdcbiAqIC0gMSA9IGVycm9yXG4gKiAtIDIgPSB3YXJuaW5nXG4gKiAtIDMgPSBub3RpY2VcbiAqIC0gNCA9IHZlcmJvc2VcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3TGV2ZWwgLSBUaGUgbmV3IGxvZyBsZXZlbCAoMCAtIDQpLlxuICovXG5leHBvcnQgY29uc3Qgc2V0TG9nTGV2ZWwgPSAobmV3TGV2ZWwpID0+IHtcbiAgaWYgKG5ld0xldmVsID49IDAgJiYgbmV3TGV2ZWwgPD0gbG9nZ2luZy5sZXZlbHNEZXNjLmxlbmd0aCkge1xuICAgIGxvZ2dpbmcubGV2ZWwgPSBuZXdMZXZlbDtcbiAgfVxufTtcblxuLyoqXG4gKiBFbmFibGVzIG9yIGRpc2FibGVzIGxvZ2dpbmcgdG8gdGhlIHN0ZG91dC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgLSBXaGV0aGVyIGxvZyB0byBjb25zb2xlIG9yIG5vdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvZ2dsZVNURE91dCA9IChlbmFibGVkKSA9PiB7XG4gIGxvZ2dpbmcudG9Db25zb2xlID0gZW5hYmxlZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbG9nLFxuICBlbmFibGVGaWxlTG9nZ2luZyxcbiAgbGlzdGVuLFxuICBzZXRMb2dMZXZlbCxcbiAgdG9nZ2xlU1RET3V0XG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tICd1cmwnO1xuXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XG5cbmNvbnN0IE1BWF9CQUNLT0ZGX0FUVEVNUFRTID0gNjtcblxuZXhwb3J0IGNvbnN0IF9fZGlybmFtZSA9IGZpbGVVUkxUb1BhdGgobmV3IFVSTCgnLi4vLicsIGltcG9ydC5tZXRhLnVybCkpO1xuXG4vKipcbiAqIENsZWFycyB0ZXh0IGZyb20gd2hpdGVzcGFjZXMgd2l0aCBhIHJlZ2V4IHJ1bGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJ1bGUgLSBUaGUgcnVsZSBmb3IgY2xlYXJpbmcgYSBzdHJpbmcsIGRlZmF1bHQgdG8gL1xcc1xccysvZy5cbiAqIEByZXR1cm4ge3N0cmluZ30gLSBDbGVhcmVkIHRleHQuXG4gKi9cbmV4cG9ydCBjb25zdCBjbGVhclRleHQgPSAodGV4dCwgcnVsZSA9IC9cXHNcXHMrL2csIHJlcGxhY2VyID0gJyAnKSA9PlxuICB0ZXh0LnJlcGxhY2VBbGwocnVsZSwgcmVwbGFjZXIpLnRyaW0oKTtcblxuLyoqXG4gKiBEZWxheXMgY2FsbGluZyB0aGUgZnVuY3Rpb24gYnkgdGltZSBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBiYWNrb2ZmXG4gKiBhbGdvcml0aG0uXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBBIGZ1bmN0aW9uIHRvIHRyeSB0byBjYWxsIHdpdGggdGhlIGJhY2tvZmYgYWxnb3JpdGhtXG4gKiBvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhdHRlbXB0IC0gVGhlIG51bWJlciBvZiBhbiBhdHRlbXB0LCB3aGVyZSB0aGUgZmlyc3Qgb25lIGlzIDAuXG4gKi9cbmV4cG9ydCBjb25zdCBleHBCYWNrb2ZmID0gYXN5bmMgKGZuLCBhdHRlbXB0ID0gMCwgLi4uYXJncykgPT4ge1xuICB0cnkge1xuICAgIC8vIFRyeSB0byBjYWxsIHRoZSBmdW5jdGlvblxuICAgIHJldHVybiBhd2FpdCBmbiguLi5hcmdzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBDYWxjdWxhdGUgZGVsYXkgaW4gbXNcbiAgICBjb25zdCBkZWxheUluTXMgPSAyICoqIGF0dGVtcHQgKiAxMDAwO1xuXG4gICAgLy8gSWYgdGhlIGF0dGVtcHQgZXhjZWVkcyB0aGUgbWF4aW11bSBhdHRlbXB0cyBvZiByZWFwZWF0LCB0aHJvdyBhbiBlcnJvclxuICAgIGlmICgrK2F0dGVtcHQgPj0gTUFYX0JBQ0tPRkZfQVRURU1QVFMpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIFdhaXQgZ2l2ZW4gYW1vdW50IG9mIHRpbWVcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzcG9uc2UpID0+IHNldFRpbWVvdXQocmVzcG9uc2UsIGRlbGF5SW5NcykpO1xuICAgIGxvZyhcbiAgICAgIDMsXG4gICAgICBgW3Bvb2xdIFdhaXRlZCAke2RlbGF5SW5Nc31tcyB1bnRpbCBuZXh0IGNhbGwgZm9yIHRoZSByZXNvdXJjZSBpZDogJHthcmdzWzBdfS5gXG4gICAgKTtcblxuICAgIC8vIFRyeSBhZ2FpblxuICAgIHJldHVybiBleHBCYWNrb2ZmKGZuLCBhdHRlbXB0LCAuLi5hcmdzKTtcbiAgfVxufTtcblxuLyoqXG4gKiBGaXhlcyB0byBzdXBwb3J0ZWQgdHlwZSBmb3JtYXQgaWYgTUlNRS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFR5cGUgdG8gYmUgY29ycmVjdGVkLlxuICogQHBhcmFtIHtzdHJpbmd9IG91dGZpbGUgLSBOYW1lIG9mIHRoZSBvdXRmaWxlLlxuICovXG5leHBvcnQgY29uc3QgZml4VHlwZSA9ICh0eXBlLCBvdXRmaWxlKSA9PiB7XG4gIC8vIE1JTUUgdHlwZXNcbiAgY29uc3QgbWltZVR5cGVzID0ge1xuICAgICdpbWFnZS9wbmcnOiAncG5nJyxcbiAgICAnaW1hZ2UvanBlZyc6ICdqcGVnJyxcbiAgICAnYXBwbGljYXRpb24vcGRmJzogJ3BkZicsXG4gICAgJ2ltYWdlL3N2Zyt4bWwnOiAnc3ZnJ1xuICB9O1xuXG4gIC8vIEZvcm1hdHNcbiAgY29uc3QgZm9ybWF0cyA9IFsncG5nJywgJ2pwZWcnLCAncGRmJywgJ3N2ZyddO1xuXG4gIC8vIENoZWNrIGlmIHR5cGUgYW5kIG91dGZpbGUncyBleHRlbnNpb25zIGFyZSB0aGUgc2FtZVxuICBpZiAob3V0ZmlsZSkge1xuICAgIGNvbnN0IG91dFR5cGUgPSBvdXRmaWxlLnNwbGl0KCcuJykucG9wKCk7XG5cbiAgICAvLyBDaGVjayBpZiBleHRlbnNpb24gaGFzIGEgY29ycmVjdCB0eXBlXG4gICAgaWYgKGZvcm1hdHMuaW5jbHVkZXMob3V0VHlwZSkgJiYgdHlwZSAhPT0gb3V0VHlwZSkge1xuICAgICAgdHlwZSA9IG91dFR5cGU7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJuIGEgY29ycmVjdCB0eXBlXG4gIHJldHVybiBtaW1lVHlwZXNbdHlwZV0gfHwgZm9ybWF0cy5maW5kKCh0KSA9PiB0ID09PSB0eXBlKSB8fCAncG5nJztcbn07XG5cbi8qKlxuICogSGFuZGxlcyB0aGUgcHJvdmlkZWQgcmVzb3VyY2VzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZXMgLSBUaGUgc3RyaW5naWZpZWQgcmVzb3VyY2VzLlxuICogQHBhcmFtIHtzdHJpbmd9IGFsbG93RmlsZVJlc291cmNlcyAtIERlY2lkZSBpZiByZXNvdXJjZXMgZnJvbSBmaWxlIGFyZVxuICogYWxsb3dlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhbmRsZVJlc291cmNlcyA9IChyZXNvdXJjZXMgPSBmYWxzZSwgYWxsb3dGaWxlUmVzb3VyY2VzKSA9PiB7XG4gIGNvbnN0IGFsbG93ZWRQcm9wcyA9IFsnanMnLCAnY3NzJywgJ2ZpbGVzJ107XG5cbiAgbGV0IGhhbmRsZWRSZXNvdXJjZXMgPSByZXNvdXJjZXM7XG4gIGxldCBjb3JyZWN0UmVzb3VyY2VzID0gZmFsc2U7XG5cbiAgLy8gVHJ5IHRvIGxvYWQgcmVzb3VyY2VzIGZyb20gYSBmaWxlXG4gIGlmIChhbGxvd0ZpbGVSZXNvdXJjZXMgJiYgcmVzb3VyY2VzLmVuZHNXaXRoKCcuanNvbicpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghcmVzb3VyY2VzKSB7XG4gICAgICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKFxuICAgICAgICAgIHJlYWRGaWxlU3luYygncmVzb3VyY2VzLmpzb24nLCAndXRmOCcpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHJlc291cmNlcyAmJiByZXNvdXJjZXMuZW5kc1dpdGgoJy5qc29uJykpIHtcbiAgICAgICAgaGFuZGxlZFJlc291cmNlcyA9IGlzQ29ycmVjdEpTT04ocmVhZEZpbGVTeW5jKHJlc291cmNlcywgJ3V0ZjgnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNDb3JyZWN0SlNPTihyZXNvdXJjZXMpO1xuICAgICAgICBpZiAoaGFuZGxlZFJlc291cmNlcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKFxuICAgICAgICAgICAgcmVhZEZpbGVTeW5jKCdyZXNvdXJjZXMuanNvbicsICd1dGY4JylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAobm90aWNlKSB7XG4gICAgICByZXR1cm4gbG9nKDMsIGBbY2xpXSBObyByZXNvdXJjZXMgZm91bmQuYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFRyeSB0byBnZXQgSlNPTlxuICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKHJlc291cmNlcyk7XG5cbiAgICAvLyBHZXQgcmlkIG9mIHRoZSBmaWxlcyBzZWN0aW9uXG4gICAgaWYgKCFhbGxvd0ZpbGVSZXNvdXJjZXMpIHtcbiAgICAgIGRlbGV0ZSBoYW5kbGVkUmVzb3VyY2VzLmZpbGVzO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbHRlciBmcm9tIHVubmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBoYW5kbGVkUmVzb3VyY2VzKSB7XG4gICAgaWYgKCFhbGxvd2VkUHJvcHMuaW5jbHVkZXMocHJvcE5hbWUpKSB7XG4gICAgICBkZWxldGUgaGFuZGxlZFJlc291cmNlc1twcm9wTmFtZV07XG4gICAgfSBlbHNlIGlmICghY29ycmVjdFJlc291cmNlcykge1xuICAgICAgY29ycmVjdFJlc291cmNlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIGFsbG93ZWQgcHJvcGVydGllcyBpcyBwcmVzZW50XG4gIGlmICghY29ycmVjdFJlc291cmNlcykge1xuICAgIHJldHVybiBsb2coMywgYFtjbGldIE5vIHJlc291cmNlcyBmb3VuZC5gKTtcbiAgfVxuXG4gIC8vIEhhbmRsZSBmaWxlcyBzZWN0aW9uXG4gIGlmIChoYW5kbGVkUmVzb3VyY2VzLmZpbGVzKSB7XG4gICAgaGFuZGxlZFJlc291cmNlcy5maWxlcyA9IGhhbmRsZWRSZXNvdXJjZXMuZmlsZXMubWFwKChpdGVtKSA9PiBpdGVtLnRyaW0oKSk7XG4gICAgaWYgKCFoYW5kbGVkUmVzb3VyY2VzLmZpbGVzIHx8IGhhbmRsZWRSZXNvdXJjZXMuZmlsZXMubGVuZ3RoIDw9IDApIHtcbiAgICAgIGRlbGV0ZSBoYW5kbGVkUmVzb3VyY2VzLmZpbGVzO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybiByZXNvdXJjZXNcbiAgcmV0dXJuIGhhbmRsZWRSZXNvdXJjZXM7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBwcm92aWRlZCBkYXRhIGlzIG9yIGNhbiBiZSBhIGNvcnJlY3QgSlNPTi5cbiAqXG4gKiBAcGFyYW0ge2FueX0gZGF0YSAtIERhdGEgdG8gYmUgY2hlY2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdG9TdHJpbmcgLSBJZiB0cnVlLCByZXR1cm4gc3RyaW5naWZpZWQgcmVwcmVzZW50YXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0NvcnJlY3RKU09OKGRhdGEsIHRvU3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gaWYgbm90IGFscmVhZHkgYmVmb3JlIHBhcnNpbmdcbiAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShcbiAgICAgIHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogZGF0YVxuICAgICk7XG5cbiAgICAvLyBSZXR1cm4gYSBzdHJpbmdpZmllZCByZXByZXNlbnRhdGlvbiBvZiBhIEpTT04gaWYgcmVxdWlyZWRcbiAgICBpZiAodHlwZW9mIHBhcnNlZERhdGEgIT09ICdzdHJpbmcnICYmIHRvU3RyaW5nKSB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocGFyc2VkRGF0YSk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGEgSlNPTlxuICAgIHJldHVybiBwYXJzZWREYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrcyBpZiBpdGVtIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge2FueX0gaXRlbSAtIEl0ZW0gdG8gYmUgY2hlY2tlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzT2JqZWN0ID0gKGl0ZW0pID0+XG4gIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpdGVtKSAmJiBpdGVtICE9PSBudWxsO1xuXG4vKipcbiAqIENoZWNrcyBpZiBzdHJpbmcgY29udGFpbnMgcHJpdmF0ZSByYW5nZSB1cmxzLlxuICpcbiAqIEBleHBvcnQgdXRpbHNcbiAqIEBwYXJhbSBpdGVtIHtzdHJpbmd9IGl0ZW0gdG8gYmUgY2hlY2tlZFxuICovXG5leHBvcnQgY29uc3QgaXNQcml2YXRlUmFuZ2VVcmxGb3VuZCA9IChpdGVtKSA9PiB7XG4gIHJldHVybiBbXG4gICAgJ2xvY2FsaG9zdCcsXG4gICAgJygxMCkuKC4qKS4oLiopLiguKiknLFxuICAgICcoMTI3KS4oLiopLiguKikuKC4qKScsXG4gICAgJygxNzIpLigxWzYtOV18MlswLTldfDNbMC0xXSkuKC4qKS4oLiopJyxcbiAgICAnKDE5MikuKDE2OCkuKC4qKS4oLiopJ1xuICBdLnNvbWUoKGlwUmVnRXgpID0+XG4gICAgaXRlbS5tYXRjaChgeGxpbms6aHJlZj1cIig/OihodHRwOi8vfGh0dHBzOi8vKSk/JHtpcFJlZ0V4fWApXG4gICk7XG59O1xuXG4vKipcbiAqIE1hcHMgdGhlIG9sZCBvcHRpb25zIHRvIHRoZSBuZXcgY29uZmlnIHN0cnVjdHVyZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2xkT3B0aW9ucyAtIE9wdGlvbnMgdG8gYmUgbWFwcGVkLlxuICovXG5leHBvcnQgY29uc3QgbWFwVG9OZXdDb25maWcgPSBhc3luYyAob2xkT3B0aW9ucykgPT4ge1xuICBjb25zdCBuZXdPcHRpb25zID0ge307XG4gIGNvbnN0IHsgZGVmYXVsdDogZGVmYXVsdFNjaGVtYUNvbmZpZyB9ID0gYXdhaXQgaW1wb3J0KCcuL3NjaGVtYXMvY29uZmlnLmpzJyk7XG4gIGNvbnN0IG5lc3RlZEFyZ3MgPSBkZWZhdWx0U2NoZW1hQ29uZmlnLm5lc3RlZEFyZ3M7XG5cbiAgLy8gQ3ljbGUgdGhyb3VnaCBvbGQtc3RydWN0dXJlZCBvcHRpb25zXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9sZE9wdGlvbnMpKSB7XG4gICAgY29uc3QgcHJvcGVydGllc0NoYWluID0gbmVzdGVkQXJnc1trZXldID8gbmVzdGVkQXJnc1trZXldLnNwbGl0KCcuJykgOiBbXTtcblxuICAgIC8vIFBvcHVsYXRlIG9iamVjdCBpbiBjb3JyZWN0IHByb3BlcnRpZXMgbGV2ZWxzXG4gICAgcHJvcGVydGllc0NoYWluLnJlZHVjZShcbiAgICAgIChvYmosIHByb3AsIGluZGV4KSA9PlxuICAgICAgICAob2JqW3Byb3BdID1cbiAgICAgICAgICBwcm9wZXJ0aWVzQ2hhaW4ubGVuZ3RoIC0gMSA9PT0gaW5kZXggPyB2YWx1ZSA6IG9ialtwcm9wXSB8fCB7fSksXG4gICAgICBuZXdPcHRpb25zXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbmV3T3B0aW9ucztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGRlZXAgY29weSBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgLSBPYmplY3QgdG8gY29weS5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBEZWVwIGNvcHkgb2YgdGhlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZXBDb3B5ID0gKG9iaikgPT4ge1xuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGNvbnN0IGNvcHkgPSBBcnJheS5pc0FycmF5KG9iaikgPyBbXSA6IHt9O1xuXG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59XG5cbi8qKlxuICogTWVyZ2VzIHRoZSBuZXcgb3B0aW9ucyB0byB0aGUgb3B0aW9ucyBvYmplY3QuIEl0IG9taXRzIHVuZGVmaW5lZCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBPbGQgb3B0aW9ucy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuZXdPcHRpb25zIC0gTmV3IG9wdGlvbnMuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhYnNvbHV0ZVByb3BzIC0gQXJyYXkgb2Ygb2JqZWN0IG5hbWVzIHRoYXQgc2hvdWxkIGJlIGZvcmNlXG4gKiBtZXJnZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBtZXJnZUNvbmZpZ09wdGlvbnMgPSAob3B0aW9ucywgbmV3T3B0aW9ucywgYWJzb2x1dGVQcm9wcyA9IFtdKSA9PiB7XG4gIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBkZWVwQ29weShvcHRpb25zKTtcblxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhuZXdPcHRpb25zKSkge1xuICAgIG1lcmdlZE9wdGlvbnNba2V5XSA9XG4gICAgICBpc09iamVjdCh2YWx1ZSkgJiZcbiAgICAgICFhYnNvbHV0ZVByb3BzLmluY2x1ZGVzKGtleSkgJiZcbiAgICAgIG1lcmdlZE9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbWVyZ2VDb25maWdPcHRpb25zKG1lcmdlZE9wdGlvbnNba2V5XSwgdmFsdWUsIGFic29sdXRlUHJvcHMpXG4gICAgICAgIDogdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHZhbHVlXG4gICAgICAgIDogbWVyZ2VkT3B0aW9uc1trZXldO1xuICB9XG5cbiAgcmV0dXJuIG1lcmdlZE9wdGlvbnM7XG59O1xuXG4vKipcbiAqIFN0cmluZ2lmaWVzIG9iamVjdCB3aXRoIG9wdGlvbnMuIFBvc3NpYmxlIHRvIHByZXNlcnZlIGZ1bmN0aW9ucyB3aXRoXG4gKiBhbGxvd0Z1bmN0aW9ucyBmbGFnLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyB0byBzdHJpbmdpZnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93RnVuY3Rpb25zIC0gRmxhZyBmb3Iga2VlcGluZyBmdW5jdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBvcHRpb25zU3RyaW5naWZ5ID0gKG9wdGlvbnMsIGFsbG93RnVuY3Rpb25zKSA9PiB7XG4gIGNvbnN0IHJlcGxhY2VyQ2FsbGJhY2sgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG5cbiAgICAgIC8vIElmIGFsbG93RnVuY3Rpb25zIGlzIHNldCB0byB0cnVlLCBwcmVzZXJ2ZSBmdW5jdGlvbnNcbiAgICAgIGlmIChcbiAgICAgICAgKHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uKCcpIHx8IHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uICgnKSkgJiZcbiAgICAgICAgdmFsdWUuZW5kc1dpdGgoJ30nKVxuICAgICAgKSB7XG4gICAgICAgIHZhbHVlID0gYWxsb3dGdW5jdGlvbnNcbiAgICAgICAgICA/IGBFWFBfRlVOJHsodmFsdWUgKyAnJykucmVwbGFjZUFsbCgvXFxufFxcdHxcXHIvZywgJyAnKX1FWFBfRlVOYFxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcbiAgICAgID8gYEVYUF9GVU4keyh2YWx1ZSArICcnKS5yZXBsYWNlQWxsKC9cXG58XFx0fFxcci9nLCAnICcpfUVYUF9GVU5gXG4gICAgICA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIFN0cmluZ2lmeSBvcHRpb25zIGFuZCBpZiByZXF1aXJlZCwgcmVwbGFjZSBzcGVjaWFsIGZ1bmN0aW9ucyBtYXJrc1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgcmVwbGFjZXJDYWxsYmFjaykucmVwbGFjZUFsbChcbiAgICAvXCJFWFBfRlVOfEVYUF9GVU5cIi9nLFxuICAgICcnXG4gICk7XG59O1xuXG4vKipcbiAqIFBhaXJzIGFyZ3VtZW50IHdpdGggYSBjb3JyZXNwb25kaW5nIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIHNlcnZlciBvcHRpb25zLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gYXJncyAtIEFycmF5IG9mIGFyZ3VtZW50cyBmcm9tIGEgdXNlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBkZWZhdWx0Q29uZmlnIC0gVGhlIGRlZmF1bHQgY29uZmlnIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhaXJBcmd1bWVudFZhbHVlID0gYXN5bmMgKG9wdGlvbnMsIGFyZ3MsIGRlZmF1bHRDb25maWcpID0+IHtcbiAgY29uc3QgeyBkZWZhdWx0OiBkZWZhdWx0U2NoZW1hQ29uZmlnIH0gPSBhd2FpdCBpbXBvcnQoJy4vc2NoZW1hcy9jb25maWcuanMnKTtcbiAgY29uc3QgbmVzdGVkQXJncyA9IGRlZmF1bHRTY2hlbWFDb25maWcubmVzdGVkQXJncztcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgb3B0aW9uID0gYXJnc1tpXS5yZXBsYWNlKC8tL2csICcnKTtcblxuICAgIC8vIEZpbmQgdGhlIHJpZ2h0IHBsYWNlIGZvciBwcm9wZXJ0eSdzIHZhbHVlXG4gICAgY29uc3QgcHJvcGVydGllc0NoYWluID0gbmVzdGVkQXJnc1tvcHRpb25dXG4gICAgICA/IG5lc3RlZEFyZ3Nbb3B0aW9uXS5zcGxpdCgnLicpXG4gICAgICA6IFtdO1xuXG4gICAgcHJvcGVydGllc0NoYWluLnJlZHVjZSgob2JqLCBwcm9wLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKHByb3BlcnRpZXNDaGFpbi5sZW5ndGggLSAxID09PSBpbmRleCkge1xuICAgICAgICAvLyBGaW5kcyBhbiBvcHRpb24gYW5kIHNldCBhIGNvcnJlc3BvbmRpbmcgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKGFyZ3NbKytpXSkge1xuICAgICAgICAgICAgb2JqW3Byb3BdID0gYXJnc1tpXSB8fCBvYmpbcHJvcF07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNaXNzaW5nIGFyZ3VtZW50IHZhbHVlIGZvciAke29wdGlvbn0hYC5yZWQsICdcXG4nKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBwcmludFVzYWdlKGRlZmF1bHRDb25maWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgICB9LCBvcHRpb25zKTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuLyoqXG4gKiBQcmludHMgdGhlIGV4cG9ydCBzZXJ2ZXIgbG9nby5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG5vTG9nbyAtIFdoZXRoZXIgdG8gZGlzcGxheSBsb2dvIG9yIHRleHQuXG4gKi9cbmV4cG9ydCBjb25zdCBwcmludExvZ28gPSAobm9Mb2dvKSA9PiB7ICBcblxuICAvLyBHZXQgcGFja2FnZSB2ZXJzaW9uIGVpdGhlciBmcm9tIGVudiBvciBmcm9tIHBhY2thZ2UuanNvbiAgXG4gIGNvbnN0IHBhY2thZ2VWZXJzaW9uID0gcHJvY2Vzcy5lbnYubnBtX3BhY2thZ2VfdmVyc2lvbiB8fFxuICAgIEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKG5ldyBVUkwoJy4uL3BhY2thZ2UuanNvbicsIGltcG9ydC5tZXRhLnVybCkpKS52ZXJzaW9uO1xuXG4gIC8vIFByaW50IHRleHQgb25seVxuICBpZiAobm9Mb2dvKSB7XG4gICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIGhpZ2hjaGFydHMgZXhwb3J0IHNlcnZlciB2JHtwYWNrYWdlVmVyc2lvbn0uLi5gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBQcmludCB0aGUgbG9nb1xuICBjb25zb2xlLmxvZyhcbiAgICByZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy9tc2cvc3RhcnR1cC5tc2cnKS50b1N0cmluZygpLmJvbGQueWVsbG93LFxuICAgIGB2JHtwYWNrYWdlVmVyc2lvbn1gXG4gICk7XG59O1xuXG4vKipcbiAqIFByaW50cyB0aGUgQ0xJIHVzYWdlLiBJZiByZXF1aXJlZCwgaXQgY2FuIGxpc3QgcHJvcGVydGllcyByZWN1cnNpdmVseVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkZWZhdWx0Q29uZmlnIC0gVGhlIGRlZmF1bHQgY29uZmlnIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByaW50VXNhZ2UoZGVmYXVsdENvbmZpZykge1xuICBjb25zdCBwYWQgPSA0ODtcbiAgY29uc3QgcmVhZG1lID0gJ2h0dHBzOi8vZ2l0aHViLmNvbS9oaWdoY2hhcnRzL25vZGUtZXhwb3J0LXNlcnZlciNyZWFkbWUnO1xuXG4gIC8vIERpc3BsYXkgcmVhZG1lIGluZm9ybWF0aW9uXG4gIGNvbnNvbGUubG9nKFxuICAgICdVc2FnZSBvZiBDTEkgYXJndW1lbnRzOicuYm9sZCxcbiAgICAnXFxuLS0tLS0tJyxcbiAgICBgXFxuRm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gdmlzaXQgcmVhZG1lIGF0OiAke3JlYWRtZS5ib2xkLnllbGxvd30uYFxuICApO1xuXG4gIGNvbnN0IGN5Y2xlQ2F0ZWdvcmllcyA9IChjYXRlZ29yaWVzKSA9PiB7XG4gICAgZm9yIChjb25zdCBbbmFtZSwgb3B0aW9uXSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yaWVzKSkge1xuICAgICAgLy8gSWYgY2F0ZWdvcnkgaGFzIG1vcmUgbGV2ZWxzLCBnbyBmdXJ0aGVyXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb24sICd2YWx1ZScpKSB7XG4gICAgICAgIGN5Y2xlQ2F0ZWdvcmllcyhvcHRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGRlc2NOYW1lID0gYCAgLS0ke29wdGlvbi5jbGlOYW1lIHx8IG5hbWV9ICR7XG4gICAgICAgICAgKCc8JyArIG9wdGlvbi50eXBlICsgJz4nKS5ncmVlblxuICAgICAgICB9IGA7XG4gICAgICAgIGlmIChkZXNjTmFtZS5sZW5ndGggPCBwYWQpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gZGVzY05hbWUubGVuZ3RoOyBpIDwgcGFkOyBpKyspIHtcbiAgICAgICAgICAgIGRlc2NOYW1lICs9ICcuJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEaXNwbGF5IGNvcnJlY3RseSBhbGlnbmVkIG1lc3NhZ2VzXG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGRlc2NOYW1lLFxuICAgICAgICAgIG9wdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICBgW0RlZmF1bHQ6ICR7b3B0aW9uLnZhbHVlLnRvU3RyaW5nKCkuYm9sZH1dYC5ibHVlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEN5Y2xlIHRocm91Z2ggb3B0aW9ucyBvZiBlYWNoIGNhdGVnb3JpZXMgYW5kIGRpc3BsYXkgdGhlIHVzYWdlIGluZm9cbiAgT2JqZWN0LmtleXMoZGVmYXVsdENvbmZpZykuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcbiAgICAvLyBPbmx5IHB1cHBldGVlciBhbmQgaGlnaGNoYXJ0cyBjYXRlZ29yaWVzIGNhbm5vdCBiZSBjb25maWd1cmVkIHRocm91Z2ggQ0xJXG4gICAgaWYgKCFbJ3B1cHBldGVlcicsICdoaWdoY2hhcnRzJ10uaW5jbHVkZXMoY2F0ZWdvcnkpKSB7XG4gICAgICBjb25zb2xlLmxvZyhgXFxuJHtjYXRlZ29yeS50b1VwcGVyQ2FzZSgpfWAucmVkKTtcbiAgICAgIGN5Y2xlQ2F0ZWdvcmllcyhkZWZhdWx0Q29uZmlnW2NhdGVnb3J5XSk7XG4gICAgfVxuICB9KTtcbiAgY29uc29sZS5sb2coJ1xcbicpO1xufVxuXG4vKipcbiAqIFJvdW5kcyBudW1iZXIgdG8gcGFzc2VkIHByZWNpc2lvbi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBOdW1iZXIgdG8gcm91bmQuXG4gKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uIC0gQSBwcmVjaXNpb24gb2Ygcm91bmRpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCByb3VuZE51bWJlciA9ICh2YWx1ZSwgcHJlY2lzaW9uID0gMSkgPT4ge1xuICBjb25zdCBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbiB8fCAwKTtcbiAgcmV0dXJuIE1hdGgucm91bmQoK3ZhbHVlICogbXVsdGlwbGllcikgLyBtdWx0aXBsaWVyO1xufTtcblxuLyoqXG4gKiBDYXN0cyB0aGUgaXRlbSB0byBib29sZWFuLlxuICpcbiAqIEBwYXJhbSB7YW55fSBpdGVtIC0gSXRlbSB0byBiZSBjYXN0LlxuICovXG5leHBvcnQgY29uc3QgdG9Cb29sZWFuID0gKGl0ZW0pID0+XG4gIFsnZmFsc2UnLCAndW5kZWZpbmVkJywgJ251bGwnLCAnTmFOJywgJzAnLCAnJ10uaW5jbHVkZXMoaXRlbSlcbiAgICA/IGZhbHNlXG4gICAgOiAhIWl0ZW07XG5cbi8qKlxuICogSWYgbmVjZXNzYXJ5LCBwbGFjZXMgYSBjdXN0b20gY29kZSBpbnNpZGUgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2FueX0gY3VzdG9tQ29kZSAtIFRoZSBjdXN0b21Db2RlLlxuICovXG5leHBvcnQgY29uc3Qgd3JhcEFyb3VuZCA9IChjdXN0b21Db2RlLCBhbGxvd0ZpbGVSZXNvdXJjZXMpID0+IHtcbiAgaWYgKGN1c3RvbUNvZGUgJiYgdHlwZW9mIGN1c3RvbUNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgY3VzdG9tQ29kZSA9IGN1c3RvbUNvZGUudHJpbSgpO1xuXG4gICAgaWYgKGN1c3RvbUNvZGUuZW5kc1dpdGgoJy5qcycpKSB7XG4gICAgICByZXR1cm4gYWxsb3dGaWxlUmVzb3VyY2VzXG4gICAgICAgID8gd3JhcEFyb3VuZChyZWFkRmlsZVN5bmMoY3VzdG9tQ29kZSwgJ3V0ZjgnKSlcbiAgICAgICAgOiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgY3VzdG9tQ29kZS5zdGFydHNXaXRoKCdmdW5jdGlvbigpJykgfHxcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnZnVuY3Rpb24gKCknKSB8fFxuICAgICAgY3VzdG9tQ29kZS5zdGFydHNXaXRoKCcoKT0+JykgfHxcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnKCkgPT4nKVxuICAgICkge1xuICAgICAgcmV0dXJuIGAoJHtjdXN0b21Db2RlfSkoKWA7XG4gICAgfVxuICAgIHJldHVybiBjdXN0b21Db2RlLnJlcGxhY2UoLzskLywgJycpO1xuICB9XG59O1xuXG4vKipcbiAqIFV0aWxpdHkgdG8gbWVhc3VyZSB0aW1lLlxuICovXG5leHBvcnQgY29uc3QgbWVhc3VyZVRpbWUgPSAoKSA9PiB7XG4gIGNvbnN0IHN0YXJ0ID0gcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCk7XG4gIHJldHVybiAoKSA9PiBOdW1iZXIocHJvY2Vzcy5ocnRpbWUuYmlnaW50KCkgLSBzdGFydCkgLyAxMDAwMDAwO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2Rpcm5hbWUsXG4gIGNsZWFyVGV4dCxcbiAgZXhwQmFja29mZixcbiAgZml4VHlwZSxcbiAgaGFuZGxlUmVzb3VyY2VzLFxuICBpc0NvcnJlY3RKU09OLFxuICBpc09iamVjdCxcbiAgaXNQcml2YXRlUmFuZ2VVcmxGb3VuZCxcbiAgbWFwVG9OZXdDb25maWcsXG4gIG1lcmdlQ29uZmlnT3B0aW9ucyxcbiAgb3B0aW9uc1N0cmluZ2lmeSxcbiAgcGFpckFyZ3VtZW50VmFsdWUsXG4gIHByaW50TG9nbyxcbiAgcHJpbnRVc2FnZSxcbiAgcm91bmROdW1iZXIsXG4gIHRvQm9vbGVhbixcbiAgd3JhcEFyb3VuZCxcbiAgbWVhc3VyZVRpbWVcbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHJhdGVMaW1pdCBmcm9tICdleHByZXNzLXJhdGUtbGltaXQnO1xuXG5pbXBvcnQgeyBjbGVhclRleHQgfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi9sb2dnZXIuanMnO1xuXG4vKipcbiAqIEVuYWJsZXMgcmF0ZSBsaW1pdGluZyBmb3IgYSBnaXZlbiBhcHAuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGFwcCAtIFRoZSBleHByZXNzIGFwcC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBsaW1pdENvbmZpZyAtIFRoZSBvcHRpb25zIGZvciB0aGUgcmF0ZSBsaW1pdGluZy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGFwcCwgbGltaXRDb25maWcpID0+IHtcbiAgY29uc3QgbXNnID1cbiAgICAnVG9vIG1hbnkgcmVxdWVzdHMsIHlvdSBoYXZlIGJlZW4gcmF0ZSBsaW1pdGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLic7XG5cbiAgLy8gT3B0aW9ucyBmb3IgdGhlIHJhdGUgbGltaXRlclxuICBjb25zdCByYXRlT3B0aW9ucyA9IHtcbiAgICBtYXg6IGxpbWl0Q29uZmlnLm1heFJlcXVlc3RzIHx8IDMwLFxuICAgIHdpbmRvdzogbGltaXRDb25maWcud2luZG93IHx8IDEsXG4gICAgZGVsYXk6IGxpbWl0Q29uZmlnLmRlbGF5IHx8IDAsXG4gICAgdHJ1c3RQcm94eTogbGltaXRDb25maWcudHJ1c3RQcm94eSB8fCBmYWxzZSxcbiAgICBza2lwS2V5OiBsaW1pdENvbmZpZy5za2lwS2V5IHx8IGZhbHNlLFxuICAgIHNraXBUb2tlbjogbGltaXRDb25maWcuc2tpcFRva2VuIHx8IGZhbHNlXG4gIH07XG5cbiAgLy8gU2V0IGlmIGJlaGluZCBhIHByb3h5XG4gIGlmIChyYXRlT3B0aW9ucy50cnVzdFByb3h5KSB7XG4gICAgYXBwLmVuYWJsZSgndHJ1c3QgcHJveHknKTtcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIGxpbWl0ZXJcbiAgY29uc3QgbGltaXRlciA9IHJhdGVMaW1pdCh7XG4gICAgd2luZG93TXM6IHJhdGVPcHRpb25zLndpbmRvdyAqIDYwICogMTAwMCxcbiAgICAvLyBMaW1pdCBlYWNoIElQIHRvIDEwMCByZXF1ZXN0cyBwZXIgd2luZG93TXNcbiAgICBtYXg6IHJhdGVPcHRpb25zLm1heCxcbiAgICAvLyBEaXNhYmxlIGRlbGF5aW5nLCBmdWxsIHNwZWVkIHVudGlsIHRoZSBtYXggbGltaXQgaXMgcmVhY2hlZFxuICAgIGRlbGF5TXM6IHJhdGVPcHRpb25zLmRlbGF5LFxuICAgIGhhbmRsZXI6IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgICAgcmVzcG9uc2UuZm9ybWF0KHtcbiAgICAgICAganNvbjogKCkgPT4ge1xuICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyg0MjkpLnNlbmQoeyBtZXNzYWdlOiBtc2cgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgICByZXNwb25zZS5zdGF0dXMoNDI5KS5zZW5kKG1zZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2tpcDogKHJlcXVlc3QpID0+IHtcbiAgICAgIC8vIEFsbG93IGJ5cGFzc2luZyB0aGUgbGltaXRlciBpZiBhIHZhbGlkIGtleS90b2tlbiBoYXMgYmVlbiBzZW50XG4gICAgICBpZiAoXG4gICAgICAgIHJhdGVPcHRpb25zLnNraXBLZXkgIT09IGZhbHNlICYmXG4gICAgICAgIHJhdGVPcHRpb25zLnNraXBUb2tlbiAhPT0gZmFsc2UgJiZcbiAgICAgICAgcmVxdWVzdC5xdWVyeS5rZXkgPT09IHJhdGVPcHRpb25zLnNraXBLZXkgJiZcbiAgICAgICAgcmVxdWVzdC5xdWVyeS5hY2Nlc3NfdG9rZW4gPT09IHJhdGVPcHRpb25zLnNraXBUb2tlblxuICAgICAgKSB7XG4gICAgICAgIGxvZyg0LCAnW3JhdGUtbGltaXRpbmddIFNraXBwaW5nIHJhdGUgbGltaXRlci4nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAvLyBVc2UgYSBsaW1pdGVyIGFzIGEgbWlkZGxld2FyZVxuICBhcHAudXNlKGxpbWl0ZXIpO1xuXG4gIGxvZyhcbiAgICAzLFxuICAgIGNsZWFyVGV4dChcbiAgICAgIGBbcmF0ZS1saW1pdGluZ10gRW5hYmxlZCByYXRlIGxpbWl0aW5nOiAke3JhdGVPcHRpb25zLm1heH0gcmVxdWVzdHNcbiAgICAgIHBlciAke3JhdGVPcHRpb25zLndpbmRvd30gbWludXRlIHBlciBJUCwgdHJ1c3RpbmcgcHJveHk6XG4gICAgICAke3JhdGVPcHRpb25zLnRydXN0UHJveHl9LmBcbiAgICApXG4gICk7XG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBleHBvcnRzIHR3byBmdW5jdGlvbnM6IGZldGNoIChmb3IgR0VUIHJlcXVlc3RzKSBhbmQgcG9zdCAoZm9yIFBPU1QgcmVxdWVzdHMpLlxuICovXG5cbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZ2l2ZW4gVVJMIChlaXRoZXIgYGh0dHBgIG9yIGBodHRwc2ApLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgd2hvc2UgcHJvdG9jb2wgbmVlZHMgdG8gYmUgZGV0ZXJtaW5lZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGBodHRwc2AgbW9kdWxlIGlmIHRoZSBVUkwgc3RhcnRzIHdpdGggJ2h0dHBzJyxcbiAqIG90aGVyd2lzZSByZXR1cm5zIHRoZSBgaHR0cGAgbW9kdWxlLlxuICogQHByaXZhdGVcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGNvbnN0IHByb3RvY29sID0gZ2V0UHJvdG9jb2woJ2h0dHBzOi8vZXhhbXBsZS5jb20nKTtcbiAqIGNvbnNvbGUubG9nKHByb3RvY29sKTsgLy8gT3V0cHV0cyB0aGUgJ2h0dHBzJyBtb2R1bGVcbiAqL1xuY29uc3QgZ2V0UHJvdG9jb2wgPSAodXJsKSA9PiB7XG4gIHJldHVybiB1cmwuc3RhcnRzV2l0aCgnaHR0cHMnKSA/IGh0dHBzIDogaHR0cDtcbn1cblxuLyoqXG4gKiBTZW5kcyBhIEdFVCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgVVJMIHdpdGggb3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zLlxuICpcbiAqIEBmdW5jdGlvblxuICogQGFzeW5jXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCB0byBmZXRjaC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdE9wdGlvbnM9e31dIC0gT3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zIGFuZCBoZWFkZXJzLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXNwb25zZSBvYmplY3QuXG4gKiBUaGUgcmVzcG9uc2Ugb2JqZWN0IGNvbnRhaW5zIGEgYC50ZXh0YCBwcm9wZXJ0eSB3aXRoIHRoZSByYXcgcmVzcG9uc2UgZGF0YS5cbiAqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIHJlcXVlc3QgZmFpbHMgb3IgaWYgbm8gZGF0YSBpcyBmZXRjaGVkIGZyb20gdGhlIFVSTC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGFzeW5jIGZ1bmN0aW9uIGdldERhdGEoKSB7XG4gKiAgIHRyeSB7XG4gKiAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpO1xuICogICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnRleHQpO1xuICogICB9IGNhdGNoIChlcnJvcikge1xuICogICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRhdGE6JywgZXJyb3IpO1xuICogICB9XG4gKiB9XG4gKlxuICogZ2V0RGF0YSgpO1xuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaCh1cmwsIHJlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBwcm90b2NvbCA9IGdldFByb3RvY29sKHVybCk7XG5cbiAgICBwcm90b2NvbC5nZXQodXJsLCByZXF1ZXN0T3B0aW9ucywgKHJlcykgPT4ge1xuICAgICAgbGV0IGRhdGEgPSAnJztcblxuICAgICAgLy8gQSBjaHVuayBvZiBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkLlxuICAgICAgcmVzLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICAgIGRhdGEgKz0gY2h1bms7XG4gICAgICB9KTtcblxuICAgICAgLy8gVGhlIHdob2xlIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkLlxuICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIHJlamVjdCgnTm90aGluZyB3YXMgZmV0Y2hlZCBmcm9tIHRoZSBVUkwuJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXMudGV4dCA9IGRhdGE7XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuXG4gICAgfSkub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBTZW5kcyBhIFBPU1QgcmVxdWVzdCB0byB0aGUgc3BlY2lmaWVkIFVSTCB3aXRoIHRoZSBnaXZlbiBib2R5IGFuZCByZXF1ZXN0IG9wdGlvbnMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAYXN5bmNcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHRvIHdoaWNoIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBzZW50LlxuICogQHBhcmFtIHtPYmplY3R9IFtib2R5PXt9XSAtIFRoZSBkYXRhIHRvIGJlIHNlbnQgYXMgdGhlIHJlcXVlc3QgYm9keSwgaW4gSlNPTiBmb3JtYXQuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RPcHRpb25zPXt9XSAtIE9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9ucyBhbmQgaGVhZGVycy5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IC0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBwYXJzZWQgSlNPTiByZXNwb25zZS5cbiAqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIHJlcXVlc3QgZmFpbHMgb3IgaWYgdGhlIHJlc3BvbnNlIGNhbm5vdCBiZSBwYXJzZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBhc3luYyBmdW5jdGlvbiBzZW5kRGF0YSgpIHtcbiAqICAgY29uc3QgZGF0YVRvU2VuZCA9IHtcbiAqICAgICBrZXkxOiAndmFsdWUxJyxcbiAqICAgICBrZXkyOiAndmFsdWUyJyxcbiAqICAgfTtcbiAqICAgdHJ5IHtcbiAqICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHBvc3QoJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL2RhdGEnLCBkYXRhVG9TZW5kKTtcbiAqICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gKiAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gKiAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBkYXRhOicsIGVycm9yKTtcbiAqICAgfVxuICogfVxuICpcbiAqIHNlbmREYXRhKCk7XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHBvc3QodXJsLCBib2R5ID0ge30sIHJlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBwcm90b2NvbCA9IGdldFByb3RvY29sKHVybCk7XG4gICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuXG4gICAgLy8gU2V0IGRlZmF1bHQgaGVhZGVycyBhbmQgbWVyZ2Ugd2l0aCByZXF1ZXN0T3B0aW9uc1xuICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBkYXRhLmxlbmd0aCxcbiAgICAgIH0sXG4gICAgfSwgcmVxdWVzdE9wdGlvbnMpO1xuXG4gICAgY29uc3QgcmVxID0gcHJvdG9jb2wucmVxdWVzdCh1cmwsIG9wdGlvbnMsIChyZXMpID0+IHtcbiAgICAgIGxldCByZXNwb25zZURhdGEgPSAnJztcblxuICAgICAgLy8gQSBjaHVuayBvZiBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkLlxuICAgICAgcmVzLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICAgIHJlc3BvbnNlRGF0YSArPSBjaHVuaztcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGUgd2hvbGUgcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWQuXG4gICAgICByZXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXMudGV4dCA9IHJlc3BvbnNlRGF0YTtcbiAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9KS5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfSk7XG5cbiAgICAvLyBXcml0ZSB0aGUgcmVxdWVzdCBib2R5IGFuZCBlbmQgdGhlIHJlcXVlc3QuXG4gICAgcmVxLndyaXRlKGRhdGEpO1xuICAgIHJlcS5lbmQoKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZldGNoO1xuZXhwb3J0IHsgZmV0Y2gsIHBvc3QgfTsiLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLy8gVGhlIGNhY2hlIG1hbmFnZXIgbWFuYWdlcyB0aGUgSGlnaGNoYXJ0cyBsaWJyYXJ5IGFuZCBpdHMgZGVwZW5kZW5jaWVzLlxuLy8gVGhlIGNhY2hlIGl0c2VsZiBpcyBzdG9yZWQgaW4gLmNhY2hlLCBhbmQgaXMgY2hlY2tlZCBieSB0aGUgY29uZmlnIHN5c3RlbVxuLy8gYmVmb3JlIHN0YXJ0aW5nIHRoZSBzZXJ2aWNlXG5cbmltcG9ydCB7IGV4aXN0c1N5bmMsIG1rZGlyU3luYywgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgSHR0cHNQcm94eUFnZW50IGZyb20gJ2h0dHBzLXByb3h5LWFnZW50JztcbmltcG9ydCBmZXRjaCBmcm9tICcuL2ZldGNoLmpzJztcblxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vbGliL3V0aWxzLmpzJztcblxuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBjYWNoZVBhdGggPSBqb2luKF9fZGlybmFtZSwgJy5jYWNoZScpO1xuXG5jb25zdCBjYWNoZSA9IHtcbiAgY2RuVVJMOiAnaHR0cHM6Ly9jb2RlLmhpZ2hjaGFydHMuY29tLycsXG4gIGFjdGl2ZU1hbmlmZXN0OiB7fSxcbiAgc291cmNlczogJycsXG4gIGhjVmVyc2lvbjogJydcbn07XG5cbi8vIFRPRE86IFRoZSBjb25maWcgc2hvdWxkIGJlIGFjY2Vzc3NpYmxlIGdsb2JhbGx5IHNvIHdlIGRvbid0IGhhdmUgdG8gZG8gdGhpcyBzb3J0IG9mIHRoaW5nLi5cbmxldCBhcHBsaWVkQ29uZmlnID0gZmFsc2U7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIEhpZ2hjaGFydHMgdmVyc2lvbiBmcm9tIHRoZSBjYWNoZVxuICovXG5jb25zdCBleHRyYWN0VmVyc2lvbiA9ICgpID0+XG4gIChjYWNoZS5oY1ZlcnNpb24gPSBjYWNoZS5zb3VyY2VzXG4gICAgLnN1YnN0cigwLCBjYWNoZS5zb3VyY2VzLmluZGV4T2YoJyovJykpXG4gICAgLnJlcGxhY2UoJy8qJywgJycpXG4gICAgLnJlcGxhY2UoJyovJywgJycpXG4gICAgLnJlcGxhY2UoL1xcbi9nLCAnJylcbiAgICAudHJpbSgpKTtcblxuLyoqXG4gKiBTYXZlcyB0aGUgSGlnaGNoYXJ0cyBwYXJ0IG9mIGEgY29uZmlnIHRvIGEgbWFuaWZlc3QgZmlsZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNhcnRzIHJlbGF0ZWQgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge29iamVjdH0gZmV0Y2hlZE1vZHVsZXMgLSBBbiBvYmplY3QgdGhhdCBjb250YWlucyBtYXBwZWQgbmFtZXMgb2ZcbiAqIGZldGNoZWQgSGlnaGNoYXJ0cyBtb2R1bGVzIHRvIHVzZS5cbiAqL1xuY29uc3Qgc2F2ZUNvbmZpZ1RvTWFuaWZlc3QgPSBhc3luYyAoY29uZmlnLCBmZXRjaGVkTW9kdWxlcykgPT4ge1xuICBjb25zdCBuZXdNYW5pZmVzdCA9IHtcbiAgICB2ZXJzaW9uOiBjb25maWcudmVyc2lvbixcbiAgICBtb2R1bGVzOiBmZXRjaGVkTW9kdWxlcyB8fCB7fVxuICB9O1xuXG4gIC8vIFVwZGF0ZSBjYWNoZSBvYmplY3Qgd2l0aCB0aGUgY3VycmVudCBtb2R1bGVzXG4gIGNhY2hlLmFjdGl2ZU1hbmlmZXN0ID0gbmV3TWFuaWZlc3Q7XG5cbiAgbG9nKDQsICdbY2FjaGVdIHdyaXRpbmcgbmV3IG1hbmlmZXN0Jyk7XG5cbiAgdHJ5IHtcbiAgICB3cml0ZUZpbGVTeW5jKFxuICAgICAgam9pbihjYWNoZVBhdGgsICdtYW5pZmVzdC5qc29uJyksXG4gICAgICBKU09OLnN0cmluZ2lmeShuZXdNYW5pZmVzdCksXG4gICAgICAndXRmOCdcbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZygxLCBgW2NhY2hlXSBFcnJvciB3cml0aW5nIGNhY2hlIG1hbmlmZXN0OiAke2Vycm9yfS5gKTtcbiAgfVxufTtcblxuLyoqXG4gKiBGZXRjaGVzIGEgc2luZ2xlIHNjcmlwdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc2NyaXB0IC0gQSBwYXRoIHRvIHNjcmlwdCB0byBnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gcHJveHlBZ2VudCAtIFRoZSBwcm94eSBhZ2VudCB0byB1c2UgZm9yIGEgcmVxdWVzdC5cbiAqL1xuY29uc3QgZmV0Y2hTY3JpcHQgPSBhc3luYyAoc2NyaXB0LCBwcm94eUFnZW50KSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IHJpZCBvZiB0aGUgLmpzIGZyb20gdGhlIGN1c3RvbSBzdHJpbmdzXG4gICAgaWYgKHNjcmlwdC5lbmRzV2l0aCgnLmpzJykpIHtcbiAgICAgICAgc2NyaXB0ID0gc2NyaXB0LnN1YnN0cmluZygwLCBzY3JpcHQubGVuZ3RoIC0gMyk7XG4gICAgfVxuXG4gICAgbG9nKDQsIGBbY2FjaGVdIEZldGNoaW5nIHNjcmlwdCAtICR7c2NyaXB0fS5qc2ApO1xuXG4gICAgLy8gSWYgZXhpc3RzLCBhZGQgcHJveHkgYWdlbnQgdG8gcmVxdWVzdCBvcHRpb25zXG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSBwcm94eUFnZW50XG4gICAgICA/IHtcbiAgICAgICAgICBhZ2VudDogcHJveHlBZ2VudCxcbiAgICAgICAgICB0aW1lb3V0OiArcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9USU1FT1VUJ10gfHwgNTAwMFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuXG4gICAgLy8gRmV0Y2ggdGhlIHNjcmlwdFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7c2NyaXB0fS5qc2AsIHJlcXVlc3RPcHRpb25zKTtcblxuICAgIC8vIElmIE9LLCByZXR1cm4gaXRzIHRleHQgcmVwcmVzZW50YXRpb25cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gMjAwKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UudGV4dDtcbiAgICB9XG5cbiAgICB0aHJvdyBgJHtyZXNwb25zZS5zdGF0dXNDb2RlfWA7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKDEsIGBbY2FjaGVdIEVycm9yIGZldGNoaW5nIHNjcmlwdCAke3NjcmlwdH0uanM6ICR7ZXJyb3J9LmApO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIEhpZ2hjaGFydHMgY2FjaGUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIEhpZ2hjYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhdGggLSBBIHBhdGggdG8gdGhlIGZpbGUgd2hlcmUgc2F2ZSB1cGRhdGVkIHNvdXJjZXMuXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIG1hcHBlZCBuYW1lcyBvZiBmZXRjaGVkIEhpZ2hjaGFydHNcbiAqIG1vZHVsZXMgdG8gdXNlLlxuICovXG5jb25zdCB1cGRhdGVDYWNoZSA9IGFzeW5jIChjb25maWcsIHNvdXJjZVBhdGgpID0+IHtcbiAgY29uc3QgeyBjb3JlU2NyaXB0cywgbW9kdWxlcywgaW5kaWNhdG9ycywgc2NyaXB0czogY3VzdG9tU2NyaXB0cyB9ID0gY29uZmlnO1xuICBjb25zdCBoY1ZlcnNpb24gPVxuICAgIGNvbmZpZy52ZXJzaW9uID09PSAnbGF0ZXN0JyB8fCAhY29uZmlnLnZlcnNpb24gPyAnJyA6IGAke2NvbmZpZy52ZXJzaW9ufS9gO1xuXG4gIGxvZygzLCAnW2NhY2hlXSBVcGRhdGluZyBjYWNoZSB0byBIaWdoY2hhcnRzICcsIGhjVmVyc2lvbik7XG5cbiAgLy8gR2F0aGVyIGFsbCBzY3JpcHRzIHRvIGZldGNoXG4gIGNvbnN0IGFsbFNjcmlwdHMgPSBbXG4gICAgLi4uY29yZVNjcmlwdHMubWFwKChjKSA9PiBgJHtoY1ZlcnNpb259JHtjfWApLFxuICAgIC4uLm1vZHVsZXMubWFwKChtKSA9PlxuICAgICAgbSA9PT0gJ21hcCcgPyBgbWFwcy8ke2hjVmVyc2lvbn1tb2R1bGVzLyR7bX1gIDogYCR7aGNWZXJzaW9ufW1vZHVsZXMvJHttfWBcbiAgICApLFxuICAgIC4uLmluZGljYXRvcnMubWFwKChpKSA9PiBgc3RvY2svJHtoY1ZlcnNpb259aW5kaWNhdG9ycy8ke2l9YClcbiAgXTtcblxuICAvLyBDb25maWd1cmUgcHJveHkgaWYgZXhpc3RzXG4gIGxldCBwcm94eUFnZW50O1xuICBjb25zdCBwcm94eUhvc3QgPSBwcm9jZXNzLmVudlsnUFJPWFlfU0VSVkVSX0hPU1QnXTtcbiAgY29uc3QgcHJveHlQb3J0ID0gcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9QT1JUJ107XG5cbiAgaWYgKHByb3h5SG9zdCAmJiBwcm94eVBvcnQpIHtcbiAgICBwcm94eUFnZW50ID0gbmV3IEh0dHBzUHJveHlBZ2VudCh7XG4gICAgICBob3N0OiBwcm94eUhvc3QsXG4gICAgICBwb3J0OiArcHJveHlQb3J0XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBmZXRjaGVkTW9kdWxlcyA9IHt9O1xuICB0cnkge1xuICAgIGNhY2hlLnNvdXJjZXMgPSAvLyBUT0RPOiBjb252ZXJ0IHRvIGZvciBsb29wXG4gICAgICAoXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAuLi5hbGxTY3JpcHRzLm1hcChhc3luYyAoc2NyaXB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmV0Y2hTY3JpcHQoXG4gICAgICAgICAgICAgIGAke2NvbmZpZy5jZG5VUkwgfHwgY2FjaGUuY2RuVVJMfSR7c2NyaXB0fWAsXG4gICAgICAgICAgICAgIHByb3h5QWdlbnRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIElmIGZldGNoZWQgY29ycmVjdGx5LCBzZXQgaXRcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgZmV0Y2hlZE1vZHVsZXNbXG4gICAgICAgICAgICAgICAgc2NyaXB0LnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAvKC4qKVxcL3woLiopbW9kdWxlc1xcL3xzdG9ja1xcLyguKilpbmRpY2F0b3JzXFwvfG1hcHNcXC8oLiopbW9kdWxlc1xcLy9naSxcbiAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uY3VzdG9tU2NyaXB0cy5tYXAoKHNjcmlwdCkgPT4gZmV0Y2hTY3JpcHQoc2NyaXB0LCBwcm94eUFnZW50KSlcbiAgICAgICAgXSlcbiAgICAgICkuam9pbignO1xcbicpO1xuICAgIGV4dHJhY3RWZXJzaW9uKCk7XG5cbiAgICAvLyBTYXZlIHRoZSBmZXRjaGVkIG1vZHVsZXMgaW50byBjYWNoZXMnIHNvdXJjZSBKU09OXG4gICAgd3JpdGVGaWxlU3luYyhzb3VyY2VQYXRoLCBjYWNoZS5zb3VyY2VzKTtcbiAgICByZXR1cm4gZmV0Y2hlZE1vZHVsZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKDEsICdbY2FjaGVdIFVuYWJsZSB0byB1cGRhdGUgbG9jYWwgSGlnaGNoYXJ0cyBjYWNoZS4nKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVZlcnNpb24gPSBhc3luYyAobmV3VmVyc2lvbikgPT5cbiAgYXBwbGllZENvbmZpZ1xuICAgID8gYXdhaXQgY2hlY2tDYWNoZShcbiAgICAgICAgT2JqZWN0LmFzc2lnbihhcHBsaWVkQ29uZmlnLCB7XG4gICAgICAgICAgdmVyc2lvbjogbmV3VmVyc2lvblxuICAgICAgICB9KVxuICAgICAgKVxuICAgIDogZmFsc2U7XG5cbi8qKlxuICogRmV0Y2hlcyBhbnkgbWlzc2luZyBIaWdoY2hhcnRzIGFuZCBkZXBlbmRlbmNpZXNcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNhcnRzIHJlbGF0ZWQgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBjaGVja0NhY2hlID0gYXN5bmMgKGNvbmZpZykgPT4ge1xuICBsZXQgZmV0Y2hlZE1vZHVsZXM7XG4gIC8vIFByZXBhcmUgcGF0aHMgdG8gbWFuaWZlc3QgYW5kIHNvdXJjZXMgZnJvbSB0aGUgLmNhY2hlIGZvbGRlclxuICBjb25zdCBtYW5pZmVzdFBhdGggPSBqb2luKGNhY2hlUGF0aCwgJ21hbmlmZXN0Lmpzb24nKTtcbiAgY29uc3Qgc291cmNlUGF0aCA9IGpvaW4oY2FjaGVQYXRoLCAnc291cmNlcy5qcycpO1xuXG4gIC8vIFRPRE86IGRlYWwgd2l0aCB0cnlpbmcgdG8gc3dpdGNoIHRvIHRoZSBydW5uaW5nIHZlcnNpb25cbiAgLy8gY29uc3QgYWN0aXZlVmVyc2lvbiA9IGFwcGxpZWRDb25maWcgPyBhcHBsaWVkQ29uZmlnLnZlcnNpb24gOiBmYWxzZTtcblxuICBhcHBsaWVkQ29uZmlnID0gY29uZmlnO1xuXG4gIC8vIENyZWF0ZSB0aGUgLmNhY2hlIGRlc3RpbmF0aW9uIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYWxyZWFkeVxuICAhZXhpc3RzU3luYyhjYWNoZVBhdGgpICYmIG1rZGlyU3luYyhjYWNoZVBhdGgpO1xuXG4gIC8vIExvYWQgdGhlIC5jYWNoZSBtYW5pZmVzdFxuICBpZiAoZXhpc3RzU3luYyhtYW5pZmVzdFBhdGgpKSB7XG4gICAgbGV0IHJlcXVlc3RVcGRhdGUgPSBmYWxzZTtcblxuICAgIC8vIFJlYWQgdGhlIG1hbmlmZXN0IEpTT05cbiAgICBjb25zdCBtYW5pZmVzdCA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKG1hbmlmZXN0UGF0aCkpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIG1vZHVsZXMgaXMgYW4gYXJyYXksIGlmIHNvLCB3ZSByZXdyaXRlIGl0IHRvIGEgbWFwIHRvIG1ha2VcbiAgICAvLyBpdCBlYXNpZXIgdG8gcmVzb2x2ZSBtb2R1bGVzLlxuICAgIGlmIChtYW5pZmVzdC5tb2R1bGVzICYmIEFycmF5LmlzQXJyYXkobWFuaWZlc3QubW9kdWxlcykpIHtcbiAgICAgIGNvbnN0IG1vZHVsZU1hcCA9IHt9O1xuICAgICAgbWFuaWZlc3QubW9kdWxlcy5mb3JFYWNoKChtKSA9PiAobW9kdWxlTWFwW21dID0gMSkpO1xuICAgICAgbWFuaWZlc3QubW9kdWxlcyA9IG1vZHVsZU1hcDtcbiAgICB9XG5cbiAgICBjb25zdCB7IG1vZHVsZXMsIGNvcmVTY3JpcHRzLCBpbmRpY2F0b3JzIH0gPSBjb25maWc7XG4gICAgY29uc3QgbnVtYmVyT2ZNb2R1bGVzID1cbiAgICAgIG1vZHVsZXMubGVuZ3RoICsgY29yZVNjcmlwdHMubGVuZ3RoICsgaW5kaWNhdG9ycy5sZW5ndGg7XG5cbiAgICAvLyBDb21wYXJlIHRoZSBsb2FkZWQgY29uZmlnIHdpdGggdGhlIGNvbnRlbnRzIGluIC5jYWNoZS5cbiAgICAvLyBJZiB0aGVyZSBhcmUgY2hhbmdlcywgZmV0Y2ggcmVxdWVzdGVkIG1vZHVsZXMgYW5kIHByb2R1Y3RzLFxuICAgIC8vIGFuZCBiYWtlIHRoZW0gaW50byBhIGdpYW50IGJsb2IuIFNhdmUgdGhlIGJsb2IuXG4gICAgaWYgKG1hbmlmZXN0LnZlcnNpb24gIT09IGNvbmZpZy52ZXJzaW9uKSB7XG4gICAgICBsb2coMywgJ1tjYWNoZV0gSGlnaGNoYXJ0cyB2ZXJzaW9uIG1pc21hdGNoIGluIGNhY2hlLCBuZWVkIHRvIHJlLWZldGNoLicpO1xuICAgICAgcmVxdWVzdFVwZGF0ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhtYW5pZmVzdC5tb2R1bGVzIHx8IHt9KS5sZW5ndGggIT09IG51bWJlck9mTW9kdWxlcykge1xuICAgICAgbG9nKFxuICAgICAgICAzLFxuICAgICAgICAnW2NhY2hlXSBDYWNoZSBhbmQgcmVxdWVzdGVkIG1vZHVsZXMgZG9lcyBub3QgbWF0Y2gsIG5lZWQgdG8gcmUtZmV0Y2guJ1xuICAgICAgKTtcbiAgICAgIHJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDaGVjayBlYWNoIG1vZHVsZSwgaWYgYW55dGhpbmcgaXMgbWlzc2luZyByZWZldGNoIGV2ZXJ5dGhpbmdcbiAgICAgIHJlcXVlc3RVcGRhdGUgPSAoY29uZmlnLm1vZHVsZXMgfHwgW10pLnNvbWUoKG1vZHVsZU5hbWUpID0+IHtcbiAgICAgICAgaWYgKCFtYW5pZmVzdC5tb2R1bGVzW21vZHVsZU5hbWVdKSB7XG4gICAgICAgICAgbG9nKFxuICAgICAgICAgICAgMyxcbiAgICAgICAgICAgIGBbY2FjaGVdIFRoZSAke21vZHVsZU5hbWV9IG1pc3NpbmcgaW4gY2FjaGUsIG5lZWQgdG8gcmUtZmV0Y2guYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0VXBkYXRlKSB7XG4gICAgICBmZXRjaGVkTW9kdWxlcyA9IGF3YWl0IHVwZGF0ZUNhY2hlKGNvbmZpZywgc291cmNlUGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZygzLCAnW2NhY2hlXSBEZXBlbmRlbmN5IGNhY2hlIGlzIHVwIHRvIGRhdGUsIHByb2NlZWRpbmcuJyk7XG5cbiAgICAgIC8vIExvYWQgdGhlIHNvdXJjZXNcbiAgICAgIGNhY2hlLnNvdXJjZXMgPSByZWFkRmlsZVN5bmMoc291cmNlUGF0aCwgJ3V0ZjgnKTtcblxuICAgICAgLy8gR2V0IGN1cnJlbnQgbW9kdWxlcyBtYXBcbiAgICAgIGZldGNoZWRNb2R1bGVzID0gbWFuaWZlc3QubW9kdWxlcztcbiAgICAgIGV4dHJhY3RWZXJzaW9uKCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFNvIHdlIGRvbid0IGhhdmUgb25lIHlldCwgd2hpY2ggbWVhbnMgd2UgbmVlZCB0byBmZXRjaCBldmVyeXRoaW5nXG4gICAgbG9nKDMsICdbY2FjaGVdIEZldGNoaW5nIGFuZCBjYWNoaW5nIEhpZ2hjaGFydHMgZGVwZW5kZW5jaWVzLicpO1xuICAgIGZldGNoZWRNb2R1bGVzID0gYXdhaXQgdXBkYXRlQ2FjaGUoY29uZmlnLCBzb3VyY2VQYXRoKTtcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNhdmUgdGhlIG5ldyBtYW5pZmVzdCwgd2hpY2ggaXMgYmFzaWNhbGx5IG91ciBjdXJyZW50IGNvbmZpZ1xuICAvLyBpbiBhIHNsaWdodGx5IGRpZmZlcmVudCBmb3JtYXRcbiAgYXdhaXQgc2F2ZUNvbmZpZ1RvTWFuaWZlc3QoY29uZmlnLCBmZXRjaGVkTW9kdWxlcyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNoZWNrQ2FjaGUsXG4gIHVwZGF0ZVZlcnNpb24sXG4gIGdldENhY2hlOiAoKSA9PiBjYWNoZSxcbiAgaGlnaGNoYXJ0czogKCkgPT4gY2FjaGUuc291cmNlcyxcbiAgdmVyc2lvbjogKCkgPT4gY2FjaGUuaGNWZXJzaW9uXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBwdXBwZXRlZXIgZnJvbSAncHVwcGV0ZWVyJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgKiBhcyB1cmwgZnJvbSAndXJsJztcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcbmltcG9ydCBwYXRoIGZyb20gJ25vZGU6cGF0aCc7XG5cbi8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTE0NjMzMjhcbi8vIE5vdCBpZGVhbCAtIGxlYXZlcyB0cmFzaCBpbiB0aGUgRlNcbmltcG9ydCB7IHJhbmRvbUJ5dGVzIH0gZnJvbSAnbm9kZTpjcnlwdG8nO1xuY29uc3QgUkFORE9NX1BJRCA9IHJhbmRvbUJ5dGVzKDY0KS50b1N0cmluZygnYmFzZTY0dXJsJyk7XG5jb25zdCBQVVBQRVRFRVJfRElSID0gcGF0aC5qb2luKCd0bXAnLCBgcHVwcGV0ZWVyLSR7UkFORE9NX1BJRH1gKTtcbmNvbnN0IERBVEFfRElSID0gcGF0aC5qb2luKFBVUFBFVEVFUl9ESVIsICdwcm9maWxlJyk7XG5cbi8vIFRoZSBtaW5pbWFsIGFyZ3MgdG8gc3BlZWQgdXAgdGhlIGJyb3dzZXJcbmNvbnN0IG1pbmltYWxBcmdzID0gW1xuICBgLS11c2VyLWRhdGEtZGlyPSR7REFUQV9ESVJ9YCxcbiAgJy0tYXV0b3BsYXktcG9saWN5PXVzZXItZ2VzdHVyZS1yZXF1aXJlZCcsXG4gICctLWRpc2FibGUtYmFja2dyb3VuZC1uZXR3b3JraW5nJyxcbiAgJy0tZGlzYWJsZS1iYWNrZ3JvdW5kLXRpbWVyLXRocm90dGxpbmcnLFxuICAnLS1kaXNhYmxlLWJhY2tncm91bmRpbmctb2NjbHVkZWQtd2luZG93cycsXG4gICctLWRpc2FibGUtYnJlYWtwYWQnLFxuICAnLS1kaXNhYmxlLWNsaWVudC1zaWRlLXBoaXNoaW5nLWRldGVjdGlvbicsXG4gICctLWRpc2FibGUtY29tcG9uZW50LXVwZGF0ZScsXG4gICctLWRpc2FibGUtZGVmYXVsdC1hcHBzJyxcbiAgJy0tZGlzYWJsZS1kZXYtc2htLXVzYWdlJyxcbiAgJy0tZGlzYWJsZS1kb21haW4tcmVsaWFiaWxpdHknLFxuICAnLS1kaXNhYmxlLWV4dGVuc2lvbnMnLFxuICAnLS1kaXNhYmxlLWZlYXR1cmVzPUF1ZGlvU2VydmljZU91dE9mUHJvY2VzcycsXG4gICctLWRpc2FibGUtaGFuZy1tb25pdG9yJyxcbiAgJy0tZGlzYWJsZS1pcGMtZmxvb2RpbmctcHJvdGVjdGlvbicsXG4gICctLWRpc2FibGUtbm90aWZpY2F0aW9ucycsXG4gICctLWRpc2FibGUtb2ZmZXItc3RvcmUtdW5tYXNrZWQtd2FsbGV0LWNhcmRzJyxcbiAgJy0tZGlzYWJsZS1wb3B1cC1ibG9ja2luZycsXG4gICctLWRpc2FibGUtcHJpbnQtcHJldmlldycsXG4gICctLWRpc2FibGUtcHJvbXB0LW9uLXJlcG9zdCcsXG4gICctLWRpc2FibGUtcmVuZGVyZXItYmFja2dyb3VuZGluZycsXG4gICctLWRpc2FibGUtc2Vzc2lvbi1jcmFzaGVkLWJ1YmJsZScsXG4gICctLWRpc2FibGUtc2V0dWlkLXNhbmRib3gnLFxuICAnLS1kaXNhYmxlLXNwZWVjaC1hcGknLFxuICAnLS1kaXNhYmxlLXN5bmMnLFxuICAnLS1oaWRlLWNyYXNoLXJlc3RvcmUtYnViYmxlJyxcbiAgJy0taGlkZS1zY3JvbGxiYXJzJyxcbiAgJy0taWdub3JlLWdwdS1ibGFja2xpc3QnLFxuICAnLS1tZXRyaWNzLXJlY29yZGluZy1vbmx5JyxcbiAgJy0tbXV0ZS1hdWRpbycsXG4gICctLW5vLWRlZmF1bHQtYnJvd3Nlci1jaGVjaycsXG4gICctLW5vLWZpcnN0LXJ1bicsXG4gICctLW5vLXBpbmdzJyxcbiAgJy0tbm8tc2FuZGJveCcsXG4gICctLW5vLXp5Z290ZScsXG4gICctLXBhc3N3b3JkLXN0b3JlPWJhc2ljJyxcbiAgJy0tdXNlLW1vY2sta2V5Y2hhaW4nXG5dO1xuXG5jb25zdCBfX2Rpcm5hbWUgPSB1cmwuZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuJywgaW1wb3J0Lm1ldGEudXJsKSk7XG5cbmNvbnN0IHRlbXBsYXRlID0gZnMucmVhZEZpbGVTeW5jKFxuICBfX2Rpcm5hbWUgKyAnLy4uL3RlbXBsYXRlcy90ZW1wbGF0ZS5odG1sJyxcbiAgJ3V0ZjgnXG4pO1xuXG5sZXQgYnJvd3NlcjtcblxuZXhwb3J0IGNvbnN0IG5ld1BhZ2UgPSBhc3luYyAoKSA9PiB7XG4gIGlmICghYnJvd3NlcikgcmV0dXJuIGZhbHNlO1xuXG4gIGNvbnN0IHAgPSBhd2FpdCBicm93c2VyLm5ld1BhZ2UoKTtcblxuICBhd2FpdCBwLnNldENvbnRlbnQodGVtcGxhdGUpO1xuICBhd2FpdCBwLmFkZFNjcmlwdFRhZyh7IHBhdGg6IF9fZGlybmFtZSArICcvLi4vLmNhY2hlL3NvdXJjZXMuanMnIH0pO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgYXdhaXQgcC5ldmFsdWF0ZSgoKSA9PiB3aW5kb3cuc2V0dXBIaWdoY2hhcnRzKCkpO1xuXG4gIHAub24oJ3BhZ2VlcnJvcicsIGFzeW5jIChlcnIpID0+IHtcbiAgICAvLyBUT0RPOiBDb25zaWRlciBhZGRpbmcgYSBzd2l0Y2ggaGVyZSB0aGF0IHR1cm5zIG9uIGxvZygwKSBsb2dnaW5nXG4gICAgLy8gb24gcGFnZSBlcnJvcnMuXG4gICAgbG9nKDEsICdbcGFnZSBlcnJvcl0nLCBlcnIpO1xuICAgIGF3YWl0IHAuJGV2YWwoXG4gICAgICAnI2NvbnRhaW5lcicsXG4gICAgICAoZWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICBpZiAod2luZG93Ll9kaXNwbGF5RXJyb3JzKSB7XG4gICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBgPGgxPkNoYXJ0IGlucHV0IGRhdGEgZXJyb3I8L2gxPiR7ZXJyLnRvU3RyaW5nKCl9YFxuICAgICk7XG4gIH0pO1xuXG4gIHJldHVybiBwO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IGFzeW5jIChwdXBwZXRlZXJBcmdzKSA9PiB7XG4gIGNvbnN0IGFsbEFyZ3MgPSBbLi4ubWluaW1hbEFyZ3MsIC4uLihwdXBwZXRlZXJBcmdzIHx8IFtdKV07XG5cbiAgLy8gQ3JlYXRlIGEgYnJvd3NlclxuICBpZiAoIWJyb3dzZXIpIHtcbiAgICBsZXQgdHJ5Q291bnQgPSAwO1xuXG4gICAgY29uc3Qgb3BlbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxvZyhcbiAgICAgICAgICAzLFxuICAgICAgICAgICdbYnJvd3Nlcl0gYXR0ZW1wdGluZyB0byBnZXQgYSBicm93c2VyIGluc3RhbmNlICh0cnknLFxuICAgICAgICAgIHRyeUNvdW50ICsgJyknXG4gICAgICAgICk7XG5cbiAgICAgICAgYnJvd3NlciA9IGF3YWl0IHB1cHBldGVlci5sYXVuY2goe1xuICAgICAgICAgIGhlYWRsZXNzOiAnbmV3JyxcbiAgICAgICAgICBhcmdzOiBhbGxBcmdzLFxuICAgICAgICAgIHVzZXJEYXRhRGlyOiAnLi90bXAvJ1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nKDAsICdbYnJvd3Nlcl0nLCBlKTtcbiAgICAgICAgaWYgKCsrdHJ5Q291bnQgPCAyNSkge1xuICAgICAgICAgIGxvZygzLCAnW2Jyb3dzZXJdIGZhaWxlZDonLCBlKTtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzcG9uc2UpID0+IHNldFRpbWVvdXQocmVzcG9uc2UsIDQwMDApKTtcbiAgICAgICAgICBhd2FpdCBvcGVuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nKDAsICdNYXggcmV0cmllcyByZWFjaGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG9wZW4oKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2coMCwgJ1ticm93c2VyXSBVbmFibGUgdG8gb3BlbiBicm93c2VyJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFicm93c2VyKSB7XG4gICAgICBsb2coMCwgJ1ticm93c2VyXSBVbmFibGUgdG8gb3BlbiBicm93c2VyJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJuIGEgYnJvd3NlciBwcm9taXNlXG4gIHJldHVybiBicm93c2VyO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldCA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCFicm93c2VyKSB7XG4gICAgdGhyb3cgJ25vIHZhbGlkIGJyb3dzZXIgaGFzIGJlZW4gY3JlYXRlZCc7XG4gIH1cblxuICByZXR1cm4gYnJvd3Nlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBjbG9zZSA9IGFzeW5jICgpID0+IHtcbiAgcmV0dXJuIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0LFxuICBjbG9zZSxcbiAgbmV3UGFnZVxufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vLyBUT0RPOiByZW1vdmUgdGhpcyB0ZW1wIGJlbmNobWFyayBzdHVmZi4gSSBoYWQgdGhpcyBpZGVhIG9mIGRvaW5nIGEgZ2VuZXJhbCBiZW5jaG1hcmtpbmdcbi8vIHN5c3RlbSwgYnV0IGl0IGFkZHMgc28gbXVjaCBibG9hdCBpbiB0aGUgY29kZSB0aGF0IGl0IHNob3VsZG4ndCBiZSB0aGVyZS5cblxuaW1wb3J0IGJlbmNobWFyayBmcm9tICcuL2JlbmNobWFyay5qcyc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZS5qcyc7XG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XG5pbXBvcnQgc3ZnVGVtcGxhdGUgZnJvbSAnLi8uLi90ZW1wbGF0ZXMvc3ZnX2V4cG9ydC9zdmdfZXhwb3J0LmpzJztcblxuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgKiBhcyB1cmwgZnJvbSAndXJsJztcblxuY29uc3QgX19iYXNlZGlyID0gdXJsLmZpbGVVUkxUb1BhdGgobmV3IFVSTCgnLicsIGltcG9ydC5tZXRhLnVybCkpO1xuXG4vLyBjb25zdCBqc29uVGVtcGxhdGUgPSByZXF1aXJlKCcuLy4uL3RlbXBsYXRlcy9qc29uX2V4cG9ydC9qc29uX2V4cG9ydC5qcycpO1xuXG4vKipcbiAqIEdldHMgdGhlIGNsaXAgcmVnaW9uIGZvciB0aGUgY2hhcnQgRE9NIG5vZGUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBhZ2UgLSBBIHBhZ2Ugb2YgYSBicm93c2VyIGluc3RhbmNlLlxuICogQHJldHVybiB7b2JqZWN0fSAtIEEgY2xpcHBlZCByZWdpb24uXG4gKi9cbmNvbnN0IGdldENsaXBSZWdpb24gPSAocGFnZSkgPT5cbiAgcGFnZS4kZXZhbCgnI2NoYXJ0LWNvbnRhaW5lcicsIChlbGVtZW50KSA9PiB7XG4gICAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB7XG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0OiBNYXRoLnRydW5jKGhlaWdodCA+IDEgPyBoZWlnaHQgOiA1MDApXG4gICAgfTtcbiAgfSk7XG5cbi8qKlxuICogUmFzdGVyaXplcyB0aGUgcGFnZSB0byBhbiBpbWFnZSAoUE5HIG9yIEpQRUcpXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBhZ2UgLSBBIHBhZ2Ugb2YgYSBicm93c2VyIGluc3RhbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBhIHJlc3VsdCBpbWFnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZyAtIFRoZSB0eXBlIG9mIGVuY29kaW5nIHVzZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xpcCAtIFRoZSBjbGlwIHJlZ2lvbi5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzY3JlZW5zaG90LlxuICovXG5jb25zdCBjcmVhdGVJbWFnZSA9IGFzeW5jIChwYWdlLCB0eXBlLCBlbmNvZGluZywgY2xpcCkgPT5cbiAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICBwYWdlLnNjcmVlbnNob3Qoe1xuICAgICAgdHlwZSxcbiAgICAgIGVuY29kaW5nLFxuICAgICAgY2xpcFxuICAgIH0pLFxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoJ1Jhc3Rlcml6YXRpb24gdGltZW91dCcpKSwgMTUwMClcbiAgICApXG4gIF0pO1xuXG4vKipcbiAqIFR1cm5zIHBhZ2UgaW50byBhIFBERi5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiBhIGNoYXJ0LlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIGEgY2hhcnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZW5jb2RpbmcgLSBUaGUgdHlwZSBvZiBlbmNvZGluZyB1c2VkLlxuICogQHJldHVybiB7b2JqZWN0fSAtIEEgYnVmZmVyIHdpdGggUERGIHJlcHJlc2VudGF0aW9uLlxuICovXG5jb25zdCBjcmVhdGVQREYgPSBhc3luYyAocGFnZSwgaGVpZ2h0LCB3aWR0aCwgZW5jb2RpbmcpID0+XG4gIGF3YWl0IHBhZ2UucGRmKHtcbiAgICAvLyBUaGlzIHdpbGwgcmVtb3ZlIGFuIGV4dHJhIGVtcHR5IHBhZ2UgaW4gUERGIGV4cG9ydHNcbiAgICBoZWlnaHQ6IGhlaWdodCArIDEsXG4gICAgd2lkdGgsXG4gICAgZW5jb2RpbmdcbiAgfSk7XG5cbi8qKlxuICogRXhwb3J0cyBhcyBhIFNWRy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVGhlIG91dGVySFRNTCBlbGVtZW50IHdpdGggdGhlIFNWRyByZXByZXNlbnRhdGlvbi5cbiAqL1xuY29uc3QgY3JlYXRlU1ZHID0gYXN5bmMgKHBhZ2UpID0+XG4gIGF3YWl0IHBhZ2UuJGV2YWwoXG4gICAgJyNjb250YWluZXIgc3ZnOmZpcnN0LW9mLXR5cGUnLFxuICAgIChlbGVtZW50KSA9PiBlbGVtZW50Lm91dGVySFRNTFxuICApO1xuXG4vKiogTG9hZCBjb25maWcgaW50byBhIHBhZ2UgYW5kIHJlbmRlciBhIGNoYXJ0ICovXG5jb25zdCBzZXRBc0NvbmZpZyA9IGFzeW5jIChwYWdlLCBjaGFydCwgb3B0aW9ucykgPT5cbiAgYXdhaXQgcGFnZS5ldmFsdWF0ZShcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAoY2hhcnQsIG9wdGlvbnMpID0+IHdpbmRvdy50cmlnZ2VyRXhwb3J0KGNoYXJ0LCBvcHRpb25zKSxcbiAgICBjaGFydCxcbiAgICBvcHRpb25zXG4gICk7XG5cbi8qKiBMb2FkIFNWRyBpbnRvIGEgcGFnZSAqL1xuLy8gY29uc3Qgc2V0QXNTVkcgPSBhc3luYyAocGFnZSwgc3ZnU3RyKSA9PiB0cnVlO1xuXG4vKipcbiAqIERvZXMgYW4gZXhwb3J0IGZvciBhIGdpdmVuIGJyb3dzZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGJyb3dzZXIgLSBBIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gY2hhcnQgLSBDaGFydCdzIG9wdGlvbnMuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBUaGUgZGF0YSByZXR1cm5lZCBmcm9tIG9uZSBvZiB0aGUgbWV0aG9kcyBmb3IgZXhwb3J0aW5nXG4gKiBhIHNwZWNpZmljIHR5cGUgb2YgYW4gaW1hZ2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChwYWdlLCBjaGFydCwgb3B0aW9ucykgPT4ge1xuICAvKipcbiAgICogS2VlcHMgdHJhY2sgb2YgYWxsIHJlc291cmNlcyBhZGRlZCBvbiB0aGUgcGFnZSB3aXRoIGFkZFhYWFRhZy4gZXRjXG4gICAqIEl0J3MgVklUQUwgdGhhdCBhbGwgYWRkZWQgcmVzb3VyY2VzIGVuZHMgdXAgaGVyZSBzbyB3ZSBjYW4gY2xlYXIgdGhpbmdzXG4gICAqIG91dCB3aGVuIGRvaW5nIGEgbmV3IGV4cG9ydCBpbiB0aGUgc2FtZSBwYWdlIVxuICAgKi9cbiAgY29uc3QgaW5qZWN0ZWRSZXNvdXJjZXMgPSBbXTtcblxuICAvKiogQ2xlYXIgb3V0IGFsbCBzdGF0ZSBzZXQgb24gdGhlIHBhZ2Ugd2l0aCBhZGRTY3JpcHRUYWcvYWRkU3R5bGVUYWcuICovXG4gIGNvbnN0IGNsZWFySW5qZWN0ZWQgPSBhc3luYyAocGFnZSkgPT4ge1xuICAgIGZvciAoY29uc3QgcmVzIG9mIGluamVjdGVkUmVzb3VyY2VzKSB7XG4gICAgICBhd2FpdCByZXMuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IGFsbCBDU1MgYW5kIHNjcmlwdCB0YWdzXG4gICAgYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XG4gICAgICAvLy9cbiAgICAgIC8vIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgLy8gSGlnaGNoYXJ0cy5zZXRPcHRpb25zT2JqID0ge307XG4gICAgICAvLy9cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgY29uc3QgWywgLi4uc2NyaXB0c1RvUmVtb3ZlXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgY29uc3QgWywgLi4uc3R5bGVzVG9SZW1vdmVdID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0eWxlJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIGNvbnN0IFsuLi5saW5rc1RvUmVtb3ZlXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaW5rJyk7XG5cbiAgICAgIC8vIFJlbW92ZSB0YWdzXG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgW1xuICAgICAgICAuLi5zY3JpcHRzVG9SZW1vdmUsXG4gICAgICAgIC4uLnN0eWxlc1RvUmVtb3ZlLFxuICAgICAgICAuLi5saW5rc1RvUmVtb3ZlXG4gICAgICBdKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBleHBvcnRCZW5jaCA9IGJlbmNobWFyaygnUHVwcGV0ZWVyJyk7XG5cbiAgICBsb2coNCwgJ1tleHBvcnRdIERldGVybWluaW5nIGV4cG9ydCBwYXRoLicpO1xuXG4gICAgY29uc3QgZXhwb3J0T3B0aW9ucyA9IG9wdGlvbnMuZXhwb3J0O1xuXG4gICAgLy8gRm9yY2UgYSByQUZcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3B1cHBldGVlci9wdXBwZXRlZXIvaXNzdWVzLzc1MDdcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7fSkpO1xuXG4gICAgLy8gRGVjaWRlIHdoZXRoZXIgZGlzcGxheSBlcnJvciBvciBkZWJidWdlciB3cmFwcGVyIGFyb3VuZCBpdFxuICAgIGNvbnN0IGRpc3BsYXlFcnJvcnMgPVxuICAgICAgZXhwb3J0T3B0aW9ucz8ub3B0aW9ucz8uY2hhcnQ/LmRpc3BsYXlFcnJvcnMgJiZcbiAgICAgIGNhY2hlLmdldENhY2hlKCkuYWN0aXZlTWFuaWZlc3QubW9kdWxlcy5kZWJ1Z2dlcjtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKGQpID0+ICh3aW5kb3cuX2Rpc3BsYXlFcnJvcnMgPSBkKSwgZGlzcGxheUVycm9ycyk7XG5cbiAgICBjb25zdCBzdmdCZW5jaCA9IGJlbmNobWFyaygnU1ZHIGhhbmRsaW5nJyk7XG5cbiAgICBsZXQgaXNTVkc7XG5cbiAgICBpZiAoXG4gICAgICBjaGFydC5pbmRleE9mICYmXG4gICAgICAoY2hhcnQuaW5kZXhPZignPHN2ZycpID49IDAgfHwgY2hhcnQuaW5kZXhPZignPD94bWwnKSA+PSAwKVxuICAgICkge1xuICAgICAgLy8gU1ZHIElOUFVUIEhBTkRMSU5HXG5cbiAgICAgIGxvZyg0LCAnW2V4cG9ydF0gVHJlYXRpbmcgYXMgU1ZHLicpO1xuXG4gICAgICAvLyBJZiBpbnB1dCBpcyBhbHNvIHN2ZywganVzdCByZXR1cm4gaXRcbiAgICAgIGlmIChleHBvcnRPcHRpb25zLnR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgIHJldHVybiBjaGFydDtcbiAgICAgIH1cblxuICAgICAgaXNTVkcgPSB0cnVlO1xuICAgICAgY29uc3Qgc2V0UGFnZUJlbmNoID0gYmVuY2htYXJrKCdTZXR0aW5nIGNvbnRlbnQnKTtcbiAgICAgIGF3YWl0IHBhZ2Uuc2V0Q29udGVudChzdmdUZW1wbGF0ZShjaGFydCkpO1xuICAgICAgc2V0UGFnZUJlbmNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEpTT04gQ29uZmlnIGhhbmRsaW5nXG5cbiAgICAgIGxvZyg0LCAnW2V4cG9ydF0gVHJlYXRpbmcgYXMgY29uZmlnLicpO1xuXG4gICAgICAvLyBOZWVkIHRvIHBlcmZvcm0gc3RyYWlnaHQgaW5qZWN0XG4gICAgICBpZiAoZXhwb3J0T3B0aW9ucy5zdHJJbmopIHtcbiAgICAgICAgLy8gSW5qZWN0aW9uIGJhc2VkIGNvbmZpZ3VyYXRpb24gZXhwb3J0XG4gICAgICAgIGNvbnN0IHNldFBhZ2VCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyBwYWdlIGNvbnRlbnQgKGluamVjdCknKTtcblxuICAgICAgICBhd2FpdCBzZXRBc0NvbmZpZyhcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgIGhlaWdodDogZXhwb3J0T3B0aW9ucy5oZWlnaHQsXG4gICAgICAgICAgICAgIHdpZHRoOiBleHBvcnRPcHRpb25zLndpZHRoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG5cbiAgICAgICAgc2V0UGFnZUJlbmNoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCYXNpYyBjb25maWd1cmF0aW9uIGV4cG9ydFxuXG4gICAgICAgIGNoYXJ0LmNoYXJ0LmhlaWdodCA9IGV4cG9ydE9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICBjaGFydC5jaGFydC53aWR0aCA9IGV4cG9ydE9wdGlvbnMud2lkdGg7XG5cbiAgICAgICAgY29uc3Qgc2V0Q29udGVudEJlbmNoID0gYmVuY2htYXJrKCdTZXR0aW5nIHBhZ2UgY29udGVudCAoY29uZmlnKScpO1xuICAgICAgICBhd2FpdCBzZXRBc0NvbmZpZyhwYWdlLCBjaGFydCwgb3B0aW9ucyk7XG4gICAgICAgIHNldENvbnRlbnRCZW5jaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN2Z0JlbmNoKCk7XG4gICAgY29uc3QgcmVzQmVuY2ggPSBiZW5jaG1hcmsoJ0FwcGx5aW5nIHJlc291cmNlcycpO1xuXG4gICAgLy8gVXNlIHJlc291cmNlc1xuICAgIGNvbnN0IHJlc291cmNlcyA9IG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXM7XG4gICAgaWYgKHJlc291cmNlcykge1xuICAgICAgLy8gTG9hZCBjdXN0b20gSlMgY29kZVxuICAgICAgaWYgKHJlc291cmNlcy5qcykge1xuICAgICAgICBpbmplY3RlZFJlc291cmNlcy5wdXNoKFxuICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU2NyaXB0VGFnKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlc291cmNlcy5qc1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvYWQgc2NyaXB0cyBmcm9tIGFsbCBjdXN0b20gZmlsZXNcbiAgICAgIGlmIChyZXNvdXJjZXMuZmlsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHJlc291cmNlcy5maWxlcykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpc0xvY2FsID0gIWZpbGUuc3RhcnRzV2l0aCgnaHR0cCcpID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBBZGQgZWFjaCBjdXN0b20gc2NyaXB0IGZyb20gcmVzb3VyY2VzJyBmaWxlc1xuICAgICAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcbiAgICAgICAgICAgICAgYXdhaXQgcGFnZS5hZGRTY3JpcHRUYWcoXG4gICAgICAgICAgICAgICAgaXNMb2NhbFxuICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVhZEZpbGVTeW5jKGZpbGUsICd1dGY4JylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdXJsOiBmaWxlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIChub3RpY2UpIHtcbiAgICAgICAgICAgIGxvZyg0LCAnW2V4cG9ydF0gSlMgZmlsZSBub3QgZm91bmQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNzc0JlbmNoID0gYmVuY2htYXJrKCdMb2FkaW5nIGNzcycpO1xuXG4gICAgICAvLyBMb2FkIENTU1xuICAgICAgaWYgKHJlc291cmNlcy5jc3MpIHtcbiAgICAgICAgbGV0IGNzc0ltcG9ydHMgPSByZXNvdXJjZXMuY3NzLm1hdGNoKC9AaW1wb3J0XFxzKihbXjtdKik7L2cpO1xuICAgICAgICBpZiAoY3NzSW1wb3J0cykge1xuICAgICAgICAgIC8vIEhhbmRsZSBjc3Mgc2VjdGlvblxuICAgICAgICAgIGZvciAobGV0IGNzc0ltcG9ydFBhdGggb2YgY3NzSW1wb3J0cykge1xuICAgICAgICAgICAgaWYgKGNzc0ltcG9ydFBhdGgpIHtcbiAgICAgICAgICAgICAgY3NzSW1wb3J0UGF0aCA9IGNzc0ltcG9ydFBhdGhcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgndXJsKCcsICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKCdAaW1wb3J0JywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC87LywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcKS9nLCAnJylcbiAgICAgICAgICAgICAgICAudHJpbSgpO1xuXG4gICAgICAgICAgICAgIC8vIEFkZCBlYWNoIGN1c3RvbSBjc3MgZnJvbSByZXNvdXJjZXNcbiAgICAgICAgICAgICAgaWYgKGNzc0ltcG9ydFBhdGguc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU3R5bGVUYWcoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGNzc0ltcG9ydFBhdGhcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dGaWxlUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU3R5bGVUYWcoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLmpvaW4oX19iYXNlZGlyLCBjc3NJbXBvcnRQYXRoKVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIENTUyBzZWN0aW9uIHdpbGwgYmUgY29udGVudCBieSBub3dcbiAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcbiAgICAgICAgICBhd2FpdCBwYWdlLmFkZFN0eWxlVGFnKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlc291cmNlcy5jc3MucmVwbGFjZSgvQGltcG9ydFxccyooW147XSopOy9nLCAnJykgfHwgJyAnXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY3NzQmVuY2goKTtcbiAgICB9XG5cbiAgICByZXNCZW5jaCgpO1xuXG4gICAgLy8gR2V0IHRoZSByZWFsIGNoYXJ0IHNpemVcbiAgICBjb25zdCBzaXplID0gaXNTVkdcbiAgICAgID8gYXdhaXQgcGFnZS4kZXZhbChcbiAgICAgICAgICAnI2NoYXJ0LWNvbnRhaW5lciBzdmc6Zmlyc3Qtb2YtdHlwZScsXG4gICAgICAgICAgYXN5bmMgKGVsZW1lbnQsIHNjYWxlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBjaGFydEhlaWdodDogZWxlbWVudC5oZWlnaHQuYmFzZVZhbC52YWx1ZSAqIHNjYWxlLFxuICAgICAgICAgICAgICBjaGFydFdpZHRoOiBlbGVtZW50LndpZHRoLmJhc2VWYWwudmFsdWUgKiBzY2FsZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhcnNlRmxvYXQoZXhwb3J0T3B0aW9ucy5zY2FsZSlcbiAgICAgICAgKVxuICAgICAgOiBhd2FpdCBwYWdlLmV2YWx1YXRlKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgICAgICBjb25zdCB7IGNoYXJ0SGVpZ2h0LCBjaGFydFdpZHRoIH0gPSB3aW5kb3cuSGlnaGNoYXJ0cy5jaGFydHNbMF07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNoYXJ0SGVpZ2h0LFxuICAgICAgICAgICAgY2hhcnRXaWR0aFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgdnBCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyB2aWV3cG9ydCcpO1xuXG4gICAgLy8gU2V0IGZpbmFsIGhlaWdodCBhbmQgd2lkdGggZm9yIHZpZXdwb3J0XG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBNYXRoLmNlaWwoc2l6ZT8uY2hhcnRIZWlnaHQgfHwgZXhwb3J0T3B0aW9ucy5oZWlnaHQpO1xuICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSBNYXRoLmNlaWwoc2l6ZT8uY2hhcnRXaWR0aCB8fCBleHBvcnRPcHRpb25zLndpZHRoKTtcblxuICAgIC8vIFNldCB0aGUgdmlld3BvcnQgZm9yIHRoZSBmaXJzdCB0aW1lXG4gICAgLy8gTk9URTogdGhlIGNhbGwgdG8gc2V0Vmlld3BvcnQgaXMgZXhwZW5zaXZlIC0gY2FuIHdlIGdldCBhd2F5IHdpdGggb25seVxuICAgIC8vIGNhbGxpbmcgaXQgb25jZSwgZS5nLiBtb3ZpbmcgdGhpcyBvbmUgaW50byB0aGUgaXNTVkcgY29uZGl0aW9uIGJlbG93P1xuICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQoe1xuICAgICAgaGVpZ2h0OiB2aWV3cG9ydEhlaWdodCxcbiAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoLFxuICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IGlzU1ZHID8gMSA6IHBhcnNlRmxvYXQoZXhwb3J0T3B0aW9ucy5zY2FsZSlcbiAgICB9KTtcblxuICAgIC8vIFByZXBhcmUgYSB6b29tIGNhbGxiYWNrIGZvciB0aGUgbmV4dCBldmFsdWF0ZSBjYWxsXG4gICAgY29uc3Qgem9vbUNhbGxiYWNrID0gaXNTVkdcbiAgICAgID8gLy8gSW4gY2FzZSBvZiBTVkcgdGhlIHpvb20gbXVzdCBiZSBzZXQgZGlyZWN0bHkgZm9yIGJvZHlcbiAgICAgICAgKHNjYWxlKSA9PiB7XG4gICAgICAgICAgLy8gU2V0IHRoZSB6b29tIGFzIHNjYWxlXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS56b29tID0gc2NhbGU7XG5cbiAgICAgICAgICAvLyBTZXQgdGhlIG1hcmdpbiB0byAwcHhcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICcwcHgnO1xuICAgICAgICB9XG4gICAgICA6IC8vIE5vIG5lZWQgZm9yIHN1Y2ggc2NhbGUgbWFuaXB1bGF0aW9uIGluIGNhc2Ugb2Ygb3RoZXIgdHlwZXMgb2YgZXhwb3J0c1xuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHpvb20gZm9yIG90aGVyIGV4cG9ydHMgdGhhbiB0byBTVkdzXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS56b29tID0gMTtcbiAgICAgICAgfTtcblxuICAgIC8vIFNldCB0aGUgem9vbSBhY2NvcmRpbmdseVxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoem9vbUNhbGxiYWNrLCBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpKTtcblxuICAgIC8vIEdldCB0aGUgY2xpcCByZWdpb24gZm9yIHRoZSBwYWdlXG4gICAgY29uc3QgeyBoZWlnaHQsIHdpZHRoLCB4LCB5IH0gPSBhd2FpdCBnZXRDbGlwUmVnaW9uKHBhZ2UpO1xuXG4gICAgaWYgKCFpc1NWRykge1xuICAgICAgLy8gU2V0IHRoZSBmaW5hbCB2aWV3cG9ydCBub3cgdGhhdCB3ZSBoYXZlIHRoZSByZWFsIGhlaWdodFxuICAgICAgYXdhaXQgcGFnZS5zZXRWaWV3cG9ydCh7XG4gICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHdpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGhlaWdodCksXG4gICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2cEJlbmNoKCk7XG5cbiAgICBsZXQgZGF0YTtcblxuICAgIGNvbnN0IGV4cEJlbmNobWFyayA9IGJlbmNobWFyaygnUmFzdGVyaXppbmcgY2hhcnQnKTtcblxuICAgIC8vIFJBU1RFUklaQVRJT05cbiAgICBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAnc3ZnJykge1xuICAgICAgLy8gU1ZHXG4gICAgICBkYXRhID0gYXdhaXQgY3JlYXRlU1ZHKHBhZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAncG5nJyB8fCBleHBvcnRPcHRpb25zLnR5cGUgPT09ICdqcGVnJykge1xuICAgICAgLy8gUE5HIG9yIEpQRUdcbiAgICAgIGRhdGEgPSBhd2FpdCBjcmVhdGVJbWFnZShwYWdlLCBleHBvcnRPcHRpb25zLnR5cGUsICdiYXNlNjQnLCB7XG4gICAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0LFxuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3BkZicpIHtcbiAgICAgIC8vIFBERlxuICAgICAgZGF0YSA9IGF3YWl0IGNyZWF0ZVBERihwYWdlLCB2aWV3cG9ydEhlaWdodCwgdmlld3BvcnRXaWR0aCwgJ2Jhc2U2NCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgVW5zdXBwb3J0ZWQgb3V0cHV0IGZvcm1hdCAke2V4cG9ydE9wdGlvbnMudHlwZX1gO1xuICAgIH1cblxuICAgIC8vIERlc3Ryb3kgb2xkIGNoYXJ0cyBhZnRlciB0aGUgZXhwb3J0IGlzIGRvbmVcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgY29uc3Qgb2xkQ2hhcnRzID0gSGlnaGNoYXJ0cy5jaGFydHM7XG5cbiAgICAgIC8vIENoZWNrIGluIGFueSBhbHJlYWR5IGV4aXN0aW5nIGNoYXJ0c1xuICAgICAgaWYgKG9sZENoYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgLy8gRGVzdHJveSBvbGQgY2hhcnRzXG4gICAgICAgIGZvciAoY29uc3Qgb2xkQ2hhcnQgb2Ygb2xkQ2hhcnRzKSB7XG4gICAgICAgICAgb2xkQ2hhcnQgJiYgb2xkQ2hhcnQuZGVzdHJveSgpO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICAgIEhpZ2hjaGFydHMuY2hhcnRzLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGV4cEJlbmNobWFyaygpO1xuICAgIGV4cG9ydEJlbmNoKCk7XG5cbiAgICBhd2FpdCBjbGVhckluamVjdGVkKHBhZ2UpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgYXdhaXQgY2xlYXJJbmplY3RlZChwYWdlKTtcbiAgICBsb2coMSwgYFtleHBvcnRdIEVycm9yIGVuY291bnRlcmVkIGR1cmluZyBleHBvcnQ6ICR7ZXJyb3J9YCk7XG5cbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjIsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuY29uc3QgdGltZXJzID0ge307XG5cbi8vIFRPRE86IFJlYWQgZnJvbSBjb25maWdcbmxldCBlbmFibGVkID0gZmFsc2U7XG5cbmV4cG9ydCBkZWZhdWx0IChpZCkgPT4ge1xuICBpZiAoIWVuYWJsZWQpIHtcbiAgICByZXR1cm4gKCkgPT4ge307XG4gIH1cblxuICB0aW1lcnNbaWRdID0gbmV3IERhdGUoKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsb2coXG4gICAgICAzLFxuICAgICAgYFtiZW5jaG1hcmtdIC0gJHtpZH06ICR7bmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aW1lcnNbaWRdLmdldFRpbWUoKX1tc2BcbiAgICApO1xuICB9O1xufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgY3NzVGVtcGxhdGUgZnJvbSAnLi9jc3MuanMnO1xuXG5leHBvcnQgZGVmYXVsdCAoY2hhcnQpID0+IGBcbjwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz0nZW4tVVMnPlxuICA8aGVhZD5cbiAgICA8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD11dGYtOFwiPlxuICAgIDx0aXRsZT5IaWdoY2FydHMgRXhwb3J0PC90aXRsZT5cbiAgPC9oZWFkPlxuICA8c3R5bGU+XG4gICAgJHtjc3NUZW1wbGF0ZSgpfVxuICA8L3N0eWxlPlxuICA8Ym9keT5cbiAgICA8ZGl2IGlkPVwiY2hhcnQtY29udGFpbmVyXCI+XG4gICAgICAke2NoYXJ0fVxuICAgIDwvZGl2PlxuICA8L2JvZHk+XG48L2h0bWw+XG5cbmA7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgZXhpc3RzU3luYywgcmVhZEZpbGVTeW5jLCBwcm9taXNlcyBhcyBmc1Byb21pc2VzIH0gZnJvbSAnZnMnO1xuXG5pbXBvcnQgcHJvbXB0cyBmcm9tICdwcm9tcHRzJztcblxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuXG5pbXBvcnQgeyBtZXJnZUNvbmZpZ09wdGlvbnMgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IHByb21wdHNDb25maWcgfSBmcm9tICcuL3NjaGVtYXMvY29uZmlnLmpzJztcblxuLyoqXG4gKiBMb2FkcyB0aGUgY29uZmlndXJhdGlvbiBmcm9tIEpTT04gZmlsZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBVcGRhdGVkIG9wdGlvbnMgb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgbG9hZENvbmZpZ0ZpbGUgPSBhc3luYyAob3B0aW9ucykgPT4ge1xuICBjb25zdCBjb25maWdGaWxlID0gb3B0aW9ucy5jdXN0b21Db2RlICYmIG9wdGlvbnMuY3VzdG9tQ29kZS5sb2FkQ29uZmlnO1xuICB0cnkge1xuICAgIC8vIEFuIGFkZGl0aW9uYWwgY29uZmlnIGZpbGVcbiAgICBpZiAoY29uZmlnRmlsZSkge1xuICAgICAgLy8gUmV0dXJuIG9wdGlvbnMgdXBkYXRlZCB3aXRoIHRoZSBwcm9wZXJ0aWVzIGZyb20gdGhlIGxvYWRlZCBKU09OIGZpbGVcbiAgICAgIG9wdGlvbnMgPSBtZXJnZUNvbmZpZ09wdGlvbnMoXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGNvbmZpZ0ZpbGUpKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gdXBkYXRlZCBvcHRpb25zXG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKDEsIGBbY29uZmlnXSBVbmFibGUgdG8gbG9hZCBjb25maWcgZnJvbSB0aGUgJHtjb25maWdGaWxlfTogJHtlcnJvcn1gKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZWN1cnNpdmVseSBzZXRzIGEgcHJvcGVydHkgaW4gYSBjb3JyZWN0IGluZGVudGF0aW9uIGxldmVsIGJhc2VkIG9uIHRoZVxuICogYXJyYXkgb2YgbmVzdGVkIHByb3BlcnRpZXMgbmFtZXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9iamVjdFRvVXBkYXRlIC0gT2JqZWN0IHdoZXJlIGEgcHJvcGVydHkgbXVzdCBiZSBzZXQgb24gYVxuICogY29ycmVjdCBsZXZlbC5cbiAqIEBwYXJhbSAge3N0cmluZ1tdfW5lc3RlZE5hbWVzIC0gQXJyYXkgb2YgbmFzdGVkIG5hbWVzIHRoYXQgaW5kaWNhdGVzXG4gKiBpbmRlbnRhdGlvbiBsZXZlbC5cbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSAtIEEgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBwcm9wZXJ0eS5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBVcGRhdGVkIG9wdGlvbnMgb2JqZWN0LlxuICovXG5jb25zdCByZWN1cnNpdmVQcm9wcyA9IChvYmplY3RUb1VwZGF0ZSwgbmVzdGVkTmFtZXMsIHZhbHVlKSA9PiB7XG4gIHdoaWxlIChuZXN0ZWROYW1lcy5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgcHJvcE5hbWUgPSBuZXN0ZWROYW1lcy5zaGlmdCgpO1xuXG4gICAgLy8gQ3JlYXRlIGEgcHJvcGVydHkgaW4gb2JqZWN0IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3RUb1VwZGF0ZSwgcHJvcE5hbWUpKSB7XG4gICAgICBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0gPSB7fTtcbiAgICB9XG5cbiAgICAvLyBDYWxsIGZ1bmN0aW9uIGFnYWluIGlmIHRoZXJlIHN0aWxsIG5hbWVzIHRvIGdvXG4gICAgb2JqZWN0VG9VcGRhdGVbcHJvcE5hbWVdID0gcmVjdXJzaXZlUHJvcHMoXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0pLFxuICAgICAgbmVzdGVkTmFtZXMsXG4gICAgICB2YWx1ZVxuICAgICk7XG5cbiAgICByZXR1cm4gb2JqZWN0VG9VcGRhdGU7XG4gIH1cblxuICAvLyBBc3NpZ24gdGhlIGZpbmFsIHZhbHVlXG4gIG9iamVjdFRvVXBkYXRlW25lc3RlZE5hbWVzWzBdXSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0VG9VcGRhdGU7XG59O1xuXG4vKipcbiAqIERpc3BsYXlzIGEgcHJvbXB0IGZvciB0aGUgbWFudWFsIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZ0ZpbGVOYW1lIC0gVGhlIG5hbWUgb2YgYSBjb25maWd1cmF0aW9uIGZpbGUuXG4gKi9cbmV4cG9ydCBjb25zdCBtYW51YWxDb25maWd1cmF0aW9uID0gYXN5bmMgKGNvbmZpZ0ZpbGVOYW1lKSA9PiB7XG4gIC8vIFByZXBhcmUgYSBjb25maWcgb2JqZWN0XG4gIGxldCBjb25maWdGaWxlID0ge307XG5cbiAgLy8gQ2hlY2sgaWYgcHJvdmlkZWQgY29uZmlnIGZpbGUgZXhpc3RzXG4gIGlmIChleGlzdHNTeW5jKGNvbmZpZ0ZpbGVOYW1lKSkge1xuICAgIGNvbmZpZ0ZpbGUgPSBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhjb25maWdGaWxlTmFtZSwgJ3V0ZjgnKSk7XG4gIH1cblxuICAvLyBRdWVzdGlvbiBhYm91dCBhIGNvbmZpZ3VyYXRpb24gY2F0ZWdvcnlcbiAgY29uc3Qgb25TdWJtaXQgPSBhc3luYyAocCwgY2F0ZWdvcmllcykgPT4ge1xuICAgIGxldCBxdWVzdGlvbnNDb3VudGVyID0gMDtcbiAgICBsZXQgYWxsUXVlc3Rpb25zID0gW107XG5cbiAgICAvLyBDcmVhdGUgYSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IGluIHRoZSBtYW51YWxDb25maWcgb2JqZWN0XG4gICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIGNhdGVnb3JpZXMpIHtcbiAgICAgIC8vIE1hcmsgZWFjaCBvcHRpb24gd2l0aCBhIHNlY3Rpb25cbiAgICAgIHByb21wdHNDb25maWdbc2VjdGlvbl0gPSBwcm9tcHRzQ29uZmlnW3NlY3Rpb25dLm1hcCgob3B0aW9uKSA9PiAoe1xuICAgICAgICAuLi5vcHRpb24sXG4gICAgICAgIHNlY3Rpb25cbiAgICAgIH0pKTtcblxuICAgICAgLy8gQ29sbGVjdCB0aGUgcXVlc3Rpb25zXG4gICAgICBhbGxRdWVzdGlvbnMgPSBbLi4uYWxsUXVlc3Rpb25zLCAuLi5wcm9tcHRzQ29uZmlnW3NlY3Rpb25dXTtcbiAgICB9XG5cbiAgICBhd2FpdCBwcm9tcHRzKGFsbFF1ZXN0aW9ucywge1xuICAgICAgb25TdWJtaXQ6IGFzeW5jIChwcm9tcHQsIGFuc3dlcikgPT4ge1xuICAgICAgICAvLyBHZXQgdGhlIGRlZmF1bHQgbW9kdWxlc1xuICAgICAgICBpZiAocHJvbXB0Lm5hbWUgPT09ICdtb2R1bGVzJykge1xuICAgICAgICAgIGFuc3dlciA9IGFuc3dlci5sZW5ndGhcbiAgICAgICAgICAgID8gYW5zd2VyLm1hcCgobW9kdWxlKSA9PiBwcm9tcHQuY2hvaWNlc1ttb2R1bGVdKVxuICAgICAgICAgICAgOiBwcm9tcHQuY2hvaWNlcztcblxuICAgICAgICAgIGNvbmZpZ0ZpbGVbcHJvbXB0LnNlY3Rpb25dW3Byb21wdC5uYW1lXSA9IGFuc3dlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25maWdGaWxlW3Byb21wdC5zZWN0aW9uXSA9IHJlY3Vyc2l2ZVByb3BzKFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnRmlsZVtwcm9tcHQuc2VjdGlvbl0gfHwge30pLFxuICAgICAgICAgICAgcHJvbXB0Lm5hbWUuc3BsaXQoJy4nKSxcbiAgICAgICAgICAgIGFuc3dlclxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKytxdWVzdGlvbnNDb3VudGVyID09PSBhbGxRdWVzdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGZzUHJvbWlzZXMud3JpdGVGaWxlKFxuICAgICAgICAgICAgICBjb25maWdGaWxlTmFtZSxcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY29uZmlnRmlsZSwgbnVsbCwgMiksXG4gICAgICAgICAgICAgICd1dGY4J1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nKDEsIGBbY29uZmlnXSBFcnJvciB3aGlsZSBjcmVhdGluZyBjb25maWcuanNvbjogJHtlcnJvcn1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIEZpbmQgdGhlIGNhdGVnb3JpZXNcbiAgY29uc3QgY2hvaWNlcyA9IE9iamVjdC5rZXlzKHByb21wdHNDb25maWcpLm1hcCgoY2hvaWNlKSA9PiAoe1xuICAgIHRpdGxlOiBgJHtjaG9pY2V9IG9wdGlvbnNgLFxuICAgIHZhbHVlOiBjaG9pY2VcbiAgfSkpO1xuXG4gIC8vIENhdGVnb3J5IHByb21wdFxuICByZXR1cm4gcHJvbXB0cyhcbiAgICB7XG4gICAgICB0eXBlOiAnbXVsdGlzZWxlY3QnLFxuICAgICAgbmFtZTogJ2NhdGVnb3J5JyxcbiAgICAgIG1lc3NhZ2U6ICdXaGljaCBjYXRlZ29yeSBkbyB5b3Ugd2FudCB0byBjb25maWd1cmU/JyxcbiAgICAgIGhpbnQ6ICdTcGFjZTogU2VsZWN0IHNwZWNpZmljLCBBOiBTZWxlY3QgYWxsLCBFbnRlcjogQ29uZmlybS4nLFxuICAgICAgaW5zdHJ1Y3Rpb25zOiAnJyxcbiAgICAgIGNob2ljZXNcbiAgICB9LFxuICAgIHsgb25TdWJtaXQgfVxuICApO1xufTtcblxuLyoqXG4gKiBJbml0cyBkZWZhdWx0IG9wdGlvbnMgcmVjdXJzaXZlbHkuXG4gKlxuICogQHBhcmFtIHthbnl9IGl0ZW1zIC0gSXRlbXMgdG8gdXBkYXRlIG9wdGlvbnMgZnJvbS5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBVcGRhdGVkIG9wdGlvbnMgb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgaW5pdERlZmF1bHRPcHRpb25zID0gKGl0ZW1zKSA9PiB7XG4gIGxldCBvcHRpb25zID0ge307XG4gIGZvciAoY29uc3QgW25hbWUsIGl0ZW1dIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW1zKSkge1xuICAgIG9wdGlvbnNbbmFtZV0gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaXRlbSwgJ3ZhbHVlJylcbiAgICAgID8gaXRlbS52YWx1ZVxuICAgICAgOiBpbml0RGVmYXVsdE9wdGlvbnMoaXRlbSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemVzIG9wdGlvbnMgZm9yIHRoZSBgc3RhcnRFeHBvcnRgIG1ldGhvZCBieSBtZXJnaW5nIHVzZXIgb3B0aW9uc1xuICogd2l0aCB0aGUgZGVmYXVsdCBvcHRpb25zIGFuZCBwb29sIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIHthbnl9IGV4cG9ydE9wdGlvbnMgLSBVc2VyIG9wdGlvbnMgZm9yIGV4cG9ydGluZy5cbiAqIEBwYXJhbSB7YW55fSBwb29sT3B0aW9ucyAtIE9wdGlvbnMgb2YgdGhlIHBvb2wgd2hpY2ggaXMgdXNlZCBmb3IgZXhwb3J0LlxuICogQHJldHVybiB7b2JqZWN0fSAtIFVzZXIgb3B0aW9ucyBtZXJnZWQgd2l0aCBkZWZhdWx0IG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBpbml0RXhwb3J0U2V0dGluZ3MgPSAoZXhwb3J0T3B0aW9ucywgcG9vbE9wdGlvbnMgPSB7fSkgPT4ge1xuICBsZXQgb3B0aW9ucyA9IHt9O1xuXG4gIGlmIChleHBvcnRPcHRpb25zLnN2Zykge1xuICAgIG9wdGlvbnMgPSBwb29sT3B0aW9uczsgLy8gZGVmYXVsdCBwb29sT3B0aW9uc1xuICAgIG9wdGlvbnMuZXhwb3J0LnR5cGUgPSBleHBvcnRPcHRpb25zLnR5cGUgfHwgZXhwb3J0T3B0aW9ucy5leHBvcnQudHlwZTtcbiAgICBvcHRpb25zLmV4cG9ydC5zY2FsZSA9IGV4cG9ydE9wdGlvbnMuc2NhbGUgfHwgZXhwb3J0T3B0aW9ucy5leHBvcnQuc2NhbGU7XG4gICAgb3B0aW9ucy5leHBvcnQub3V0ZmlsZSA9IGV4cG9ydE9wdGlvbnMub3V0ZmlsZSB8fCBleHBvcnRPcHRpb25zLmV4cG9ydC5vdXRmaWxlO1xuICAgIG9wdGlvbnMucGF5bG9hZCA9IHtcbiAgICAgIHN2ZzogZXhwb3J0T3B0aW9ucy5zdmdcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBtZXJnZUNvbmZpZ09wdGlvbnMoXG4gICAgICBwb29sT3B0aW9ucyxcbiAgICAgIGV4cG9ydE9wdGlvbnMsXG4gICAgICAvLyBPbWl0IGdvaW5nIGRvd24gcmVjdXJzaXZlbHkgd2l0aCB0aGUgYmVsb3dzXG4gICAgICBbJ29wdGlvbnMnLCAnZ2xvYmFsT3B0aW9ucycsICd0aGVtZU9wdGlvbnMnLCAncmVzb3VyY2VzJ11cbiAgICApO1xuICB9XG5cbiAgb3B0aW9ucy5leHBvcnQub3V0ZmlsZSA9IG9wdGlvbnMuZXhwb3J0Py5vdXRmaWxlIHx8IGBjaGFydC4ke29wdGlvbnMuZXhwb3J0Py50eXBlIHx8ICdwbmcnfWA7XG4gIHJldHVybiBvcHRpb25zO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGxvYWRDb25maWdGaWxlLFxuICBtYW51YWxDb25maWd1cmF0aW9uLFxuICBpbml0RGVmYXVsdE9wdGlvbnMsXG4gIGluaXRFeHBvcnRTZXR0aW5nc1xufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgeyByZWFkRmlsZSwgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xuXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XG5pbXBvcnQgeyBwb3N0V29yayB9IGZyb20gJy4vcG9vbC5qcyc7XG5pbXBvcnQge1xuICBjbGVhclRleHQsXG4gIGZpeFR5cGUsXG4gIGhhbmRsZVJlc291cmNlcyxcbiAgaXNDb3JyZWN0SlNPTixcbiAgb3B0aW9uc1N0cmluZ2lmeSxcbiAgcm91bmROdW1iZXIsXG4gIHRvQm9vbGVhbixcbiAgd3JhcEFyb3VuZFxufSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGluaXRFeHBvcnRTZXR0aW5ncyB9IGZyb20gJy4vY29uZmlnLmpzJztcblxubGV0IGFsbG93Q29kZUV4ZWN1dGlvbiA9IGZhbHNlO1xuXG5sZXQgcG9vbE9wdGlvbnMgPSB7fTtcblxuLyoqXG4gKiBGdW5jdGlvbiBmb3IgY2hvb3NpbmcgY2hhcnQgc2l6ZSBhbmQgc2NhbGUgYmFzZWQgb24gb3B0aW9ucyBwcmlvcml0aXphdGlvbi5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBBbiBvYmplY3Qgd2l0aCB1cGRhdGVkIHNpemUgYW5kIHNjYWxlIGZvciBhIGNoYXJ0LlxuICovXG5leHBvcnQgY29uc3QgZmluZENoYXJ0U2l6ZSA9IChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgY2hhcnQsIGV4cG9ydGluZyB9ID1cbiAgICBvcHRpb25zLmV4cG9ydD8ub3B0aW9ucyB8fCBpc0NvcnJlY3RKU09OKG9wdGlvbnMuZXhwb3J0Py5pbnN0cik7XG5cbiAgLy8gU2VlIGlmIGdsb2JhbE9wdGlvbnMgaG9sZHMgY2hhcnQgb3IgZXhwb3J0aW5nIHNpemVcbiAgY29uc3QgZ2xvYmFsT3B0aW9ucyA9IGlzQ29ycmVjdEpTT04ob3B0aW9ucy5leHBvcnQ/Lmdsb2JhbE9wdGlvbnMpO1xuXG4gIC8vIFNlY3VyZSBzY2FsZSB2YWx1ZVxuICBsZXQgc2NhbGUgPSByb3VuZE51bWJlcihcbiAgICBvcHRpb25zLmV4cG9ydD8uc2NhbGUgfHxcbiAgICAgIGV4cG9ydGluZz8uc2NhbGUgfHxcbiAgICAgIGdsb2JhbE9wdGlvbnM/LmV4cG9ydGluZz8uc2NhbGUgfHxcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py5kZWZhdWx0U2NhbGUgfHxcbiAgICAgIDFcbiAgKTtcblxuICBpZiAoc2NhbGUgPiA1KSB7XG4gICAgc2NhbGUgPSA1O1xuICB9IGVsc2UgaWYgKHNjYWxlIDwgMC4xKSB7XG4gICAgc2NhbGUgPSAxO1xuICB9XG5cbiAgLy8gRmluZCBjaGFydCBzaXplIGFuZCBzY2FsZVxuICByZXR1cm4ge1xuICAgIGhlaWdodDpcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py5oZWlnaHQgfHxcbiAgICAgIGV4cG9ydGluZz8uc291cmNlSGVpZ2h0IHx8XG4gICAgICBjaGFydD8uaGVpZ2h0IHx8XG4gICAgICBnbG9iYWxPcHRpb25zPy5leHBvcnRpbmc/LnNvdXJjZUhlaWdodCB8fFxuICAgICAgZ2xvYmFsT3B0aW9ucz8uY2hhcnQ/LmhlaWdodCB8fFxuICAgICAgb3B0aW9ucy5leHBvcnQ/LmRlZmF1bHRIZWlnaHQgfHxcbiAgICAgIDQwMCxcbiAgICB3aWR0aDpcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py53aWR0aCB8fFxuICAgICAgZXhwb3J0aW5nPy5zb3VyY2VXaWR0aCB8fFxuICAgICAgY2hhcnQ/LndpZHRoIHx8XG4gICAgICBnbG9iYWxPcHRpb25zPy5leHBvcnRpbmc/LnNvdXJjZVdpZHRoIHx8XG4gICAgICBnbG9iYWxPcHRpb25zPy5jaGFydD8ud2lkdGggfHxcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py5kZWZhdWx0V2lkdGggfHxcbiAgICAgIDYwMCxcbiAgICBzY2FsZVxuICB9O1xufTtcblxuLyoqXG4gKiBGdW5jdGlvbiBmb3IgZmluYWwgb3B0aW9ucyBwcmVwYXJhdGlvbiBiZWZvcmUgZXhwb3J0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtvYmplY3R9IGNoYXJ0SnNvbiAtIENoYXJ0IEpTT04uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRDYWxsYmFjayAtIFRoZSBlbmQgY2FsbGJhY2suXG4gKiBAcGFyYW0ge3N0cmluZ30gc3ZnIC0gVGhlIFNWRyByZXByZXNlbnRhdGlvbi5cbiAqL1xuY29uc3QgZG9FeHBvcnQgPSAob3B0aW9ucywgY2hhcnRKc29uLCBlbmRDYWxsYmFjaywgc3ZnKSA9PiB7XG4gIGxldCB7IGV4cG9ydDogZXhwb3J0T3B0aW9ucywgY3VzdG9tQ29kZTogY3VzdG9tQ29kZU9wdGlvbnMgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCBhbGxvd0NvZGVFeGVjdXRpb25TY29wZWQgPSAoXG4gICAgICAgIHR5cGVvZiBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb24gPT09ICdib29sZWFuJyA/XG4gICAgICAgICAgICBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb24gOiBhbGxvd0NvZGVFeGVjdXRpb25cbiAgICApO1xuXG4gIGlmICghY3VzdG9tQ29kZU9wdGlvbnMpIHtcbiAgICBjdXN0b21Db2RlT3B0aW9ucyA9IG9wdGlvbnMuY3VzdG9tQ29kZSA9IHt9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzID09PSAnc3RyaW5nJykge1xuICAgIC8vIFByb2Nlc3MgcmVzb3VyY2VzXG4gICAgb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcyA9IGhhbmRsZVJlc291cmNlcyhcbiAgICAgIG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXMsXG4gICAgICB0b0Jvb2xlYW4ob3B0aW9ucy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcylcbiAgICApO1xuICB9IGVsc2UgaWYgKCFvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc291cmNlcyA9IHJlYWRGaWxlU3luYygncmVzb3VyY2VzLmpzb24nLCAndXRmOCcpO1xuICAgICAgb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcyA9IGhhbmRsZVJlc291cmNlcyhcbiAgICAgICAgcmVzb3VyY2VzLFxuICAgICAgICB0b0Jvb2xlYW4ob3B0aW9ucy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcylcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2coMywgYFtjaGFydF0gVGhlIGRlZmF1bHQgcmVzb3VyY2VzLmpzb24gZmlsZSBub3QgZm91bmQuYCk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlIGFsbG93Q29kZUV4ZWN1dGlvbiBmbGFnIGlzbid0IHNldCwgd2Ugc2hvdWxkIHJlZnVzZSB0aGUgdXNhZ2VcbiAgLy8gb2YgY2FsbGJhY2ssIHJlc291cmNlcywgYW5kIGN1c3RvbSBjb2RlLiBBZGRpdGlvbmFsbHksIHRoZSB3b3JrZXIgd2lsbFxuICAvLyByZWZ1c2UgdG8gcnVuIGFyYml0cmFyeSBKYXZhU2NyaXB0LiBQcmlvcml0aXplZCBzaG91bGQgYmUgdGhlIHNjb3BlZFxuICAvLyBvcHRpb24sIHRoZW4gd2Ugc2hvdWxkIHRha2UgYSBsb29rIGF0IHRoZSBvdmVyYWxsIHBvb2wgb3B0aW9uLlxuICBpZiAoIWFsbG93Q29kZUV4ZWN1dGlvblNjb3BlZCAmJiBjdXN0b21Db2RlT3B0aW9ucykge1xuICAgIGlmIChcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrIHx8XG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5yZXNvdXJjZXMgfHxcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmN1c3RvbUNvZGVcbiAgICApIHtcbiAgICAgIC8vIFNlbmQgYmFjayBhIGZyaWVuZGx5IG1lc3NhZ2Ugc2F5aW5nIHRoYXQgdGhlIGV4cG9ydGVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHRoZXNlIHNldHRpbmdzLlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgZW5kQ2FsbGJhY2sgJiZcbiAgICAgICAgZW5kQ2FsbGJhY2soZmFsc2UsIHtcbiAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICBtZXNzYWdlOiBjbGVhclRleHQoXG4gICAgICAgICAgICBgVGhlIGNhbGxiYWNrLCByZXNvdXJjZXMgYW5kIGN1c3RvbUNvZGUgaGF2ZSBiZWVuIGRpc2FibGVkIGZvciB0aGlzXG4gICAgICAgICAgICBzZXJ2ZXIuYFxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgYWxsIGFkZGl0aW9uYWwgY3VzdG9tIGNvZGVcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xuICAgIGN1c3RvbUNvZGVPcHRpb25zLnJlc291cmNlcyA9IGZhbHNlO1xuICAgIGN1c3RvbUNvZGVPcHRpb25zLmN1c3RvbUNvZGUgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIENsZWFuIHByb3BlcnRpZXMgdG8ga2VlcCBpdCBsZWFuIGFuZCBtZWFuXG4gIGlmIChjaGFydEpzb24pIHtcbiAgICBjaGFydEpzb24uY2hhcnQgPSBjaGFydEpzb24uY2hhcnQgfHwge307XG4gICAgY2hhcnRKc29uLmV4cG9ydGluZyA9IGNoYXJ0SnNvbi5leHBvcnRpbmcgfHwge307XG4gICAgY2hhcnRKc29uLmV4cG9ydGluZy5lbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBleHBvcnRPcHRpb25zLmNvbnN0ciA9IGV4cG9ydE9wdGlvbnMuY29uc3RyIHx8ICdjaGFydCc7XG4gIGV4cG9ydE9wdGlvbnMudHlwZSA9IGZpeFR5cGUoZXhwb3J0T3B0aW9ucy50eXBlLCBleHBvcnRPcHRpb25zLm91dGZpbGUpO1xuICBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAnc3ZnJykge1xuICAgIGV4cG9ydE9wdGlvbnMud2lkdGggPSBmYWxzZTtcbiAgfVxuXG4gIC8vIFByZXBhcmUgZ2xvYmFsIGFuZCB0aGVtZSBvcHRpb25zXG4gIFsnZ2xvYmFsT3B0aW9ucycsICd0aGVtZU9wdGlvbnMnXS5mb3JFYWNoKChvcHRpb25zTmFtZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoZXhwb3J0T3B0aW9ucyAmJiBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdLmVuZHNXaXRoKCcuanNvbicpXG4gICAgICAgICkge1xuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID0gaXNDb3JyZWN0SlNPTihcbiAgICAgICAgICAgIHJlYWRGaWxlU3luYyhleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSwgJ3V0ZjgnKSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID0gaXNDb3JyZWN0SlNPTihcbiAgICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0gPSB7fTtcbiAgICAgIGxvZygxLCBgW2NoYXJ0XSBUaGUgJHtvcHRpb25zTmFtZX0gbm90IGZvdW5kLmApO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gUHJlcGFyZSBjdXN0b21Db2RlXG4gIGlmIChjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb24pIHtcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jdXN0b21Db2RlID0gd3JhcEFyb3VuZChcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmN1c3RvbUNvZGUsXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0ZpbGVSZXNvdXJjZXNcbiAgICApO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBjYWxsYmFja1xuICBpZiAoXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMgJiZcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayAmJlxuICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrPy5pbmRleE9mKCd7JykgPCAwXG4gICkge1xuICAgIC8vIFRoZSBhbGxvd0ZpbGVSZXNvdXJjZXMgaXMgYWx3YXlzIHNldCB0byBmYWxzZSBmb3IgSFRUUCByZXF1ZXN0cyB0byBhdm9pZFxuICAgIC8vIGluamVjdGluZyBhcmJpdHJhcnkgZmlsZXMgZnJvbSB0aGUgZnNcbiAgICBpZiAoY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dGaWxlUmVzb3VyY2VzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IHJlYWRGaWxlU3luYyhcbiAgICAgICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayxcbiAgICAgICAgICAndXRmOCdcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZygyLCBgW2NoYXJ0XSBFcnJvciBsb2FkaW5nIGNhbGxiYWNrOiAke2Vycm9yfS5gKTtcbiAgICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2sgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBTaXplIHNlYXJjaFxuICBvcHRpb25zLmV4cG9ydCA9IHtcbiAgICAuLi5vcHRpb25zLmV4cG9ydCxcbiAgICAuLi5maW5kQ2hhcnRTaXplKG9wdGlvbnMpXG4gIH07XG5cbiAgLy8gUG9zdCB0aGUgd29yayB0byB0aGUgcG9vbFxuICBwb3N0V29yayhleHBvcnRPcHRpb25zLnN0ckluaiB8fCBjaGFydEpzb24gfHwgc3ZnLCBvcHRpb25zKVxuICAgIC50aGVuKChyZXN1bHQpID0+IGVuZENhbGxiYWNrKHJlc3VsdCkpXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgbG9nKDAsICdbY2hhcnRdIFdoZW4gcG9zdGluZyB3b3JrOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBlbmRDYWxsYmFjayhmYWxzZSwgZXJyb3IpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBGdW5jdGlvbiBmb3Igc3RyYWlnaHQgaW5qZWN0aW5nIHRoZSBjb2RlLlxuICogRGFuZ2Vyb3VzIGFuZCBtdXN0IGJlIHVzZWQgZGVsaWJlcmF0ZWx5IGJ5IHNvbWVvbmUgd2hvIHNldHMgdXAgYSBzZXJ2ZXJcbiAqIChzZWUgIC0tYWxsb3dDb2RlRXhlY3V0aW9uKS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGVuZENhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBleHBvcnRpbmcgaXMgZG9uZS5cbiAqL1xuY29uc3QgZG9TdHJhaWdodEluamVjdCA9IChvcHRpb25zLCBlbmRDYWxsYmFjaykgPT4ge1xuICB0cnkge1xuICAgIGxldCBzdHJJbmo7XG4gICAgbGV0IGluc3RyID0gb3B0aW9ucy5leHBvcnQuaW5zdHIgfHwgb3B0aW9ucy5leHBvcnQub3B0aW9ucztcblxuICAgIGlmICh0eXBlb2YgaW5zdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBUcnkgdG8gc3RyaW5naWZ5IG9wdGlvbnNcbiAgICAgIHN0ckluaiA9IGluc3RyID0gb3B0aW9uc1N0cmluZ2lmeShcbiAgICAgICAgaW5zdHIsXG4gICAgICAgIG9wdGlvbnMuY3VzdG9tQ29kZT8uYWxsb3dDb2RlRXhlY3V0aW9uXG4gICAgICApO1xuICAgIH1cbiAgICBzdHJJbmogPSBpbnN0ci5yZXBsYWNlQWxsKC9cXHR8XFxufFxcci9nLCAnJykudHJpbSgpO1xuXG4gICAgLy8gR2V0IHJpZCBvZiB0aGUgO1xuICAgIGlmIChzdHJJbmpbc3RySW5qLmxlbmd0aCAtIDFdID09PSAnOycpIHtcbiAgICAgIHN0ckluaiA9IHN0ckluai5zdWJzdHJpbmcoMCwgc3RySW5qLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIC8vIFNhdmUgYXMgc3RyaWdodCBpbmplY3Qgc3RyaW5nXG4gICAgb3B0aW9ucy5leHBvcnQuc3RySW5qID0gc3RySW5qO1xuICAgIHJldHVybiBkb0V4cG9ydChvcHRpb25zLCBmYWxzZSwgZW5kQ2FsbGJhY2spO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjbGVhclRleHQoXG4gICAgICBgTWFsZm9ybWVkIGlucHV0IGRldGVjdGVkIGZvciAke29wdGlvbnMuZXhwb3J0Py5yZXF1ZXN0SWQgfHwgJz8nfTpcbiAgICAgIFBsZWFzZSBtYWtlIHN1cmUgdGhhdCB5b3VyIEpTT04vSmF2YVNjcmlwdCBvcHRpb25zXG4gICAgICBhcmUgc2VudCB1c2luZyB0aGUgXCJvcHRpb25zXCIgYXR0cmlidXRlLCBhbmQgdGhhdCBpZiB5b3UncmUgdXNpbmdcbiAgICAgIFNWRywgaXQgaXMgdW5lc2NhcGVkLmBcbiAgICApO1xuXG4gICAgbG9nKDEsIG1lc3NhZ2UpO1xuICAgIHJldHVybiAoXG4gICAgICBlbmRDYWxsYmFjayAmJlxuICAgICAgZW5kQ2FsbGJhY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogUHJlcGFyZXMgYW4gaW5wdXQgYmVmb3JlIGV4cG9ydGluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nVG9FeHBvcnQgLSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgU1ZHL2V4cG9ydCBvcHRpb25zLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRDYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gZXhwb3J0aW5nIGlzIGRvbmUuXG4gKi9cbmNvbnN0IGV4cG9ydEFzU3RyaW5nID0gKHN0cmluZ1RvRXhwb3J0LCBvcHRpb25zLCBlbmRDYWxsYmFjaykgPT4ge1xuICBjb25zdCB7IGFsbG93Q29kZUV4ZWN1dGlvbiB9ID0gb3B0aW9ucy5jdXN0b21Db2RlO1xuXG4gIC8vIENoZWNrIGlmIGl0IGlzIFNWR1xuICBpZiAoXG4gICAgc3RyaW5nVG9FeHBvcnQuaW5kZXhPZignPHN2ZycpID49IDAgfHxcbiAgICBzdHJpbmdUb0V4cG9ydC5pbmRleE9mKCc8P3htbCcpID49IDBcbiAgKSB7XG4gICAgbG9nKDQsICdbY2hhcnRdIFBhcnNpbmcgaW5wdXQgYXMgU1ZHLicpO1xuICAgIHJldHVybiBkb0V4cG9ydChvcHRpb25zLCBmYWxzZSwgZW5kQ2FsbGJhY2ssIHN0cmluZ1RvRXhwb3J0KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gVHJ5IHRvIHBhcnNlIHRvIEpTT04gYW5kIGNhbGwgdGhlIGRvRXhwb3J0IGZ1bmN0aW9uXG4gICAgY29uc3QgY2hhcnRKU09OID0gSlNPTi5wYXJzZShzdHJpbmdUb0V4cG9ydC5yZXBsYWNlQWxsKC9cXHR8XFxufFxcci9nLCAnICcpKTtcblxuICAgIC8vIElmIGEgY29ycmVjdCBKU09OLCBkbyB0aGUgZXhwb3J0XG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGNoYXJ0SlNPTiwgZW5kQ2FsbGJhY2spO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIE5vdCBhIHZhbGlkIEpTT05cbiAgICBpZiAodG9Cb29sZWFuKGFsbG93Q29kZUV4ZWN1dGlvbikpIHtcbiAgICAgIHJldHVybiBkb1N0cmFpZ2h0SW5qZWN0KG9wdGlvbnMsIGVuZENhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRG8gbm90IGFsbG93IHN0cmFpZ2h0IGluamVjdGlvbiB3aXRob3V0IHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gZmxhZ1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgZW5kQ2FsbGJhY2sgJiZcbiAgICAgICAgZW5kQ2FsbGJhY2soZmFsc2UsIHtcbiAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICBtZXNzYWdlOiBjbGVhclRleHQoXG4gICAgICAgICAgICBgT25seSBKU09OIGNvbmZpZ3VyYXRpb25zIGFuZCBTVkcgaXMgYWxsb3dlZCBmb3IgdGhpcyBzZXJ2ZXIuIElmXG4gICAgICAgICAgICB0aGlzIGlzIHlvdXIgc2VydmVyLCBKYXZhU2NyaXB0IGV4cG9ydGluZyBjYW4gYmUgZW5hYmxlZCBieSBzdGFydGluZ1xuICAgICAgICAgICAgdGhlIHNlcnZlciB3aXRoIHRoZSAtLWFsbG93Q29kZUV4ZWN1dGlvbiBmbGFnLmBcbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBTdGFydHMgYW4gZXhwb3J0aW5nIHByb2Nlc3NcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgLSBTZXR0aW5ncyBmb3IgZXhwb3J0LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZW5kQ2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGV4cG9ydGluZyBpcyBkb25lLlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN0YXJ0RXhwb3J0OiBhc3luYyAoc2V0dGluZ3MsIGVuZENhbGxiYWNrKSA9PiB7XG4gICAgLy8gU3RhcnRpbmcgZXhwb3J0aW5nIHByb2Nlc3MgbWVzc2FnZVxuICAgIGxvZyg0LCAnW2NoYXJ0XSBTdGFydGluZyBleHBvcnRpbmcgcHJvY2Vzcy4nKTtcblxuICAgIC8vIEluaXRpYWxpemUgb3B0aW9uc1xuICAgIGNvbnN0IG9wdGlvbnMgPSBpbml0RXhwb3J0U2V0dGluZ3Moc2V0dGluZ3MsIHBvb2xPcHRpb25zKTtcblxuICAgIC8vIEdldCB0aGUgZXhwb3J0IG9wdGlvbnNcbiAgICBjb25zdCBleHBvcnRPcHRpb25zID0gb3B0aW9ucy5leHBvcnQ7XG5cbiAgICAvLyBJZiBTVkcgaXMgYW4gaW5wdXQgKGFyZ3VtZW50IGNhbiBiZSBzZW50IG9ubHkgYnkgdGhlIHJlcXVlc3QpXG4gICAgaWYgKG9wdGlvbnMucGF5bG9hZD8uc3ZnICYmIG9wdGlvbnMucGF5bG9hZC5zdmcgIT09ICcnKSB7XG4gICAgICByZXR1cm4gZXhwb3J0QXNTdHJpbmcob3B0aW9ucy5wYXlsb2FkLnN2Zy50cmltKCksIG9wdGlvbnMsIGVuZENhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvLyBFeHBvcnQgdXNpbmcgb3B0aW9ucyBmcm9tIHRoZSBmaWxlXG4gICAgaWYgKGV4cG9ydE9wdGlvbnMuaW5maWxlICYmIGV4cG9ydE9wdGlvbnMuaW5maWxlLmxlbmd0aCkge1xuICAgICAgbG9nKDQsICdbY2hhcnRdIEF0dGVtcHRpbmcgdG8gZXhwb3J0IGZyb20gYW4gaW5wdXQgZmlsZS4nKTtcblxuICAgICAgLy8gVHJ5IHRvIHJlYWQgdGhlIGZpbGVcbiAgICAgIHJldHVybiByZWFkRmlsZShleHBvcnRPcHRpb25zLmluZmlsZSwgJ3V0ZjgnLCAoZXJyb3IsIGluZmlsZSkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gbG9nKDEsIGBbY2hhcnRdIEVycm9yIGxvYWRpbmcgaW5wdXQgZmlsZTogJHtlcnJvcn0uYCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgICBvcHRpb25zLmV4cG9ydC5pbnN0ciA9IGluZmlsZTtcbiAgICAgICAgcmV0dXJuIGV4cG9ydEFzU3RyaW5nKFxuICAgICAgICAgIG9wdGlvbnMuZXhwb3J0Lmluc3RyLnRyaW0oKSxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIGVuZENhbGxiYWNrXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBFeHBvcnQgd2l0aCBvcHRpb25zIGZyb20gdGhlIHJhdyByZXByZXNlbnRhdGlvblxuICAgIGlmIChcbiAgICAgIChleHBvcnRPcHRpb25zLmluc3RyICYmIGV4cG9ydE9wdGlvbnMuaW5zdHIgIT09ICcnKSB8fFxuICAgICAgKGV4cG9ydE9wdGlvbnMub3B0aW9ucyAmJiBleHBvcnRPcHRpb25zLm9wdGlvbnMgIT09ICcnKVxuICAgICkge1xuICAgICAgbG9nKDQsICdbY2hhcnRdIEF0dGVtcHRpbmcgdG8gZXhwb3J0IGZyb20gYSByYXcgaW5wdXQuJyk7XG5cbiAgICAgIC8vIFBlcmZvcm0gYSBkaXJlY3QgaW5qZWN0IHdoZW4gZm9yY2VkXG4gICAgICBpZiAodG9Cb29sZWFuKG9wdGlvbnMuY3VzdG9tQ29kZT8uYWxsb3dDb2RlRXhlY3V0aW9uKSkge1xuICAgICAgICByZXR1cm4gZG9TdHJhaWdodEluamVjdChvcHRpb25zLCBlbmRDYWxsYmFjayk7XG4gICAgICB9XG5cbiAgICAgIC8vIEVpdGhlciB0cnkgdG8gcGFyc2UgdG8gSlNPTiBmaXJzdCBvciBkbyB0aGUgZGlyZWN0IGV4cG9ydFxuICAgICAgcmV0dXJuIHR5cGVvZiBleHBvcnRPcHRpb25zLmluc3RyID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGV4cG9ydEFzU3RyaW5nKGV4cG9ydE9wdGlvbnMuaW5zdHIudHJpbSgpLCBvcHRpb25zLCBlbmRDYWxsYmFjaylcbiAgICAgICAgOiBkb0V4cG9ydChcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBleHBvcnRPcHRpb25zLmluc3RyIHx8IGV4cG9ydE9wdGlvbnMub3B0aW9ucyxcbiAgICAgICAgICAgIGVuZENhbGxiYWNrXG4gICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBObyBpbnB1dCBzcGVjaWZpZWQsIHBhc3MgYW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgY2FsbGJhY2tcbiAgICBsb2coXG4gICAgICAxLFxuICAgICAgY2xlYXJUZXh0KFxuICAgICAgICBgW2NoYXJ0XSBObyBpbnB1dCBzcGVjaWZpZWQuXG4gICAgICAgICR7SlNPTi5zdHJpbmdpZnkoZXhwb3J0T3B0aW9ucywgdW5kZWZpbmVkLCAnICAnKX0uYFxuICAgICAgKVxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgZW5kQ2FsbGJhY2sgJiZcbiAgICAgIGVuZENhbGxiYWNrKGZhbHNlLCB7XG4gICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiAnTm8gaW5wdXQgc3BlY2lmaWVkLidcbiAgICAgIH0pXG4gICAgKTtcbiAgfSxcbiAgZ2V0QWxsb3dDb2RlRXhlY3V0aW9uOiAoKSA9PiBhbGxvd0NvZGVFeGVjdXRpb24sXG4gIHNldEFsbG93Q29kZUV4ZWN1dGlvbjogKHZhbHVlKSA9PiB7XG4gICAgYWxsb3dDb2RlRXhlY3V0aW9uID0gdG9Cb29sZWFuKHZhbHVlKTtcbiAgfSxcbiAgc2V0UG9vbE9wdGlvbnM6IChvcHRpb25zKSA9PiB7XG4gICAgcG9vbE9wdGlvbnMgPSBvcHRpb25zO1xuICB9LFxuICBmaW5kQ2hhcnRTaXplXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IFBvb2wgfSBmcm9tICd0YXJuJztcbmltcG9ydCB7XG4gIGNsb3NlLFxuICBuZXdQYWdlIGFzIGJyb3dzZXJOZXdQYWdlLFxuICBjcmVhdGUgYXMgY3JlYXRlQnJvd3NlclxufSBmcm9tICcuL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuXG5pbXBvcnQgcHVwcGV0ZWVyRXhwb3J0IGZyb20gJy4vZXhwb3J0LmpzJztcbmltcG9ydCBjaGFydCBmcm9tICcuL2NoYXJ0LmpzJztcblxubGV0IHBlcmZvcm1lZEV4cG9ydHMgPSAwO1xubGV0IGV4cG9ydEF0dGVtcHRzID0gMDtcbmxldCB0aW1lU3BlbnQgPSAwO1xubGV0IGRyb3BwZWRFeHBvcnRzID0gMDtcbmxldCBzcGVudEF2ZXJhZ2UgPSAwO1xubGV0IHBvb2xDb25maWcgPSB7fTtcblxuLy8gVGhlIHBvb2wgaW5zdGFuY2VcbmxldCBwb29sID0gZmFsc2U7XG5cbi8vIEN1c3RvbSBwdXBwZXRlZXIgYXJndW1lbnRzXG5sZXQgcHVwcGV0ZWVyQXJncztcblxuY29uc3QgZmFjdG9yeSA9IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgd29ya2VyLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IC0gQW4gb2JqZWN0IHdpdGggdGhlIGlkIG9mIGEgcmVzb3VyY2UsIHRoZSB3b3JrIGNvdW50IGFuZFxuICAgKiBhIHJlZmVyZW5jZSB0byB0aGUgYnJvd3NlciBwYWdlLlxuICAgKi9cbiAgY3JlYXRlOiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaWQgPSB1dWlkKCk7XG4gICAgbGV0IHBhZ2UgPSBmYWxzZTtcblxuICAgIGNvbnN0IHMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIHRyeSB7XG4gICAgICBwYWdlID0gYXdhaXQgYnJvd3Nlck5ld1BhZ2UoKTtcblxuICAgICAgaWYgKCFwYWdlIHx8IHBhZ2UuaXNDbG9zZWQoKSkge1xuICAgICAgICB0aHJvdyAnaW52YWxpZCBwYWdlJztcbiAgICAgIH1cblxuICAgICAgbG9nKFxuICAgICAgICAzLFxuICAgICAgICBgW3Bvb2xdIFN1Y2Nlc3NmdWxseSBjcmVhdGVkIGEgd29ya2VyICR7aWR9IC0gdG9vayAke1xuICAgICAgICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc1xuICAgICAgICB9IG1zLmBcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgMSxcbiAgICAgICAgYFtwb29sXSBFcnJvciBjcmVhdGluZyBhIG5ldyBwYWdlIGluIHBvb2wgZW50cnkgY3JlYXRpb24hICR7ZXJyb3J9YFxuICAgICAgKTtcblxuICAgICAgdGhyb3cgJ0Vycm9yIGNyZWF0aW5nIHBhZ2UnO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpZCxcbiAgICAgIHBhZ2UsXG4gICAgICAvLyBUcnkgdG8gZGlzdHJpYnV0ZSB0aGUgaW5pdGlhbCB3b3JrIGNvdW50XG4gICAgICB3b3JrQ291bnQ6IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChwb29sQ29uZmlnLndvcmtMaW1pdCAvIDIpKVxuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBhIHdvcmtlci5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHdvcmtlckhhbmRsZSAtIEEgYnJvd3NlcidzIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSAtIEJvb2wgdGhhdCBpbmRpY2F0ZXMgaWYgYSByZXNvdXJjZSBpcyB2YWxpZCBvciBub3QuXG4gICAqL1xuICB2YWxpZGF0ZTogKHdvcmtlckhhbmRsZSkgPT4ge1xuICAgIGlmIChcbiAgICAgIHBvb2xDb25maWcud29ya0xpbWl0ICYmXG4gICAgICArK3dvcmtlckhhbmRsZS53b3JrQ291bnQgPiBwb29sQ29uZmlnLndvcmtMaW1pdFxuICAgICkge1xuICAgICAgbG9nKFxuICAgICAgICAzLFxuICAgICAgICBgW3Bvb2xdIFdvcmtlciBmYWlsZWQgdmFsaWRhdGlvbjpgLFxuICAgICAgICBgZXhjZWVkZWQgd29yayBsaW1pdCAobGltaXQgaXMgJHtwb29sQ29uZmlnLndvcmtMaW1pdH0pYFxuICAgICAgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIGEgd29ya2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gd29ya2VySGFuZGxlIC0gQSBicm93c2VyJ3MgaW5zdGFuY2UuXG4gICAqL1xuICBkZXN0cm95OiAod29ya2VySGFuZGxlKSA9PiB7XG4gICAgbG9nKDMsIGBbcG9vbF0gRGVzdHJveWluZyBwb29sIGVudHJ5ICR7d29ya2VySGFuZGxlLmlkfS5gKTtcblxuICAgIGlmICh3b3JrZXJIYW5kbGUucGFnZSkge1xuICAgICAgLy8gV2UgZG9uJ3QgcmVhbGx5IG5lZWQgdG8gd2FpdCBhcm91bmQgZm9yIHRoaXMuXG4gICAgICB3b3JrZXJIYW5kbGUucGFnZS5jbG9zZSgpO1xuICAgIH1cbiAgfSxcblxuICAvLyBMb2dnZXIgZnVuY3Rpb25cbiAgbG9nOiAobWVzc2FnZSwgbG9nTGV2ZWwpID0+IGNvbnNvbGUubG9nKGAke2xvZ0xldmVsfTogJHttZXNzYWdlfWApXG59XG5cbi8qKlxuICogSW5pdHMgdGhlIHBvb2wgb2YgcmVzb3VyY2VzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBQb29sIGNvbmZpZ3VyYXRpb24gYWxvbmcgd2l0aCBjdXN0b20gcHVwcGV0ZWVyXG4gKiBhcmd1bWVudHMgZm9yIHRoZSBwdXBwZXRlZXIubGF1bmNoIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgaW5pdCA9IGFzeW5jIChjb25maWcpID0+IHtcbiAgLy8gVGhlIG5ld2VzdCBwdXBwZXRlZXIgYXJndW1lbnRzIGZvciB0aGUgYnJvd3NlciBjcmVhdGlvblxuICBwdXBwZXRlZXJBcmdzID0gY29uZmlnLnB1cHBldGVlckFyZ3M7XG5cbiAgLy8gV2FpdCB1bnRpbCB3ZSd2ZSBzdWNlc3NmdWxseSBjcmVhdGVkIGEgYnJvd3NlciBpbnN0YW5jZS5cbiAgdHJ5IHtcbiAgICBhd2FpdCBjcmVhdGVCcm93c2VyKHB1cHBldGVlckFyZ3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nKDAsICdbcG9vbHxicm93c2VyXScsIGUpO1xuICB9XG5cbiAgLy8gRm9yIHRoZSBtb2R1bGUgc2NvcGUgdXNhZ2VcbiAgcG9vbENvbmZpZyA9IGNvbmZpZyAmJiBjb25maWcucG9vbCA/IHsgLi4uY29uZmlnLnBvb2wgfSA6IHt9O1xuXG4gIGxvZyhcbiAgICAzLFxuICAgICdbcG9vbF0gSW5pdGlhbGl6aW5nIHBvb2w6JyxcbiAgICBgbWluICR7cG9vbENvbmZpZy5pbml0aWFsV29ya2Vyc30sIG1heCAke3Bvb2xDb25maWcubWF4V29ya2Vyc30uYFxuICApO1xuXG4gIGlmIChwb29sKSB7XG4gICAgcmV0dXJuIGxvZyhcbiAgICAgIDQsXG4gICAgICAnW3Bvb2xdIEFscmVhZHkgaW5pdGlhbGl6ZWQsIHBsZWFzZSBraWxsIGl0IGJlZm9yZSBjcmVhdGluZyBhIG5ldyBvbmUuJ1xuICAgICk7XG4gIH1cblxuICAvLyBBdHRhY2ggcHJvY2VzcycgZXhpdCBsaXN0ZW5lcnNcbiAgaWYgKHBvb2xDb25maWcubGlzdGVuVG9Qcm9jZXNzRXhpdHMpIHtcbiAgICBhdHRhY2hQcm9jZXNzRXhpdExpc3RlbmVycygpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBDcmVhdGUgYSBwb29sIGFsb25nIHdpdGggYSBtaW5pbWFsIG51bWJlciBvZiByZXNvdXJjZXNcbiAgICBwb29sID0gbmV3IFBvb2woe1xuICAgICAgLy8gR2V0IHRoZSBjcmVhdGUvdmFsaWRhdGUvZGVzdHJveS9sb2cgZnVuY3Rpb25zXG4gICAgICAuLi5mYWN0b3J5LFxuICAgICAgbWluOiBwb29sQ29uZmlnLmluaXRpYWxXb3JrZXJzLFxuICAgICAgbWF4OiBwb29sQ29uZmlnLm1heFdvcmtlcnMsXG4gICAgICBjcmVhdGVSZXRyeUludGVydmFsTWlsbGlzOiAyMDAsXG4gICAgICBjcmVhdGVUaW1lb3V0TWlsbGlzOiBwb29sQ29uZmlnLmFjcXVpcmVUaW1lb3V0LFxuICAgICAgYWNxdWlyZVRpbWVvdXRNaWxsaXM6IHBvb2xDb25maWcuYWNxdWlyZVRpbWVvdXQsXG4gICAgICBkZXN0cm95VGltZW91dE1pbGxpczogcG9vbENvbmZpZy5hY3F1aXJlVGltZW91dCxcbiAgICAgIGlkbGVUaW1lb3V0TWlsbGlzOiBwb29sQ29uZmlnLnRpbWVvdXRUaHJlc2hvbGQsXG4gICAgICByZWFwSW50ZXJ2YWxNaWxsaXM6IDEwMDAsIC8vIHBvb2xDb25maWcucmVhcGVyID8gMTIwMDAwIDogMCwgZm9yIG5vd1xuICAgICAgcHJvcGFnYXRlQ3JlYXRlRXJyb3I6IGZhbHNlXG4gICAgfSk7XG5cbiAgICAvLyBTZXQgZXZlbnRzXG4gICAgcG9vbC5vbignY3JlYXRlRmFpbCcsIChldmVudElkLCBlcnIpID0+IHtcbiAgICAgIGxvZygxLCBgW3Bvb2xdIEVycm9yIHdoZW4gY3JlYXRpbmcgd29ya2VyIG9mIGFuIGV2ZW50IGlkICR7ZXZlbnRJZH06YCwgZXJyKTtcbiAgICB9KTtcblxuICAgIHBvb2wub24oJ2FjcXVpcmVGYWlsJywgKGV2ZW50SWQsIGVycikgPT4ge1xuICAgICAgbG9nKDEsIGBbcG9vbF0gRXJyb3Igd2hlbiBhY3F1aXJpbmcgd29ya2VyIG9mIGFuIGV2ZW50IGlkICR7ZXZlbnRJZH06YCwgZXJyKTtcbiAgICB9KTtcblxuICAgIHBvb2wub24oJ2Rlc3Ryb3lGYWlsJywgKGV2ZW50SWQsIHJlc291cmNlLCBlcnIpID0+IHtcbiAgICAgIGxvZygxLCBgW3Bvb2xdIEVycm9yIHdoZW4gZGVzdHJveWluZyB3b3JrZXIgb2YgYW4gaWQgJHtyZXNvdXJjZS5pZH0sIGV2ZW50IGlkICR7ZXZlbnRJZH06YCwgZXJyKTtcbiAgICB9KTtcblxuICAgIHBvb2wub24oJ3JlbGVhc2UnLCAocmVzb3VyY2UpID0+IHtcbiAgICAgIGxvZyg0LCBgW3Bvb2xdIFJlbGVhc2luZyBhIHdvcmtlciBvZiBhbiBpZCAke3Jlc291cmNlLmlkfWApO1xuICAgIH0pO1xuXG4gICAgcG9vbC5vbignZGVzdHJveVN1Y2Nlc3MnLCAoZXZlbnRJZCwgcmVzb3VyY2UpID0+IHtcbiAgICAgIGxvZyg0LCBgW3Bvb2xdIERlc3Ryb3llZCBhIHdvcmtlciBvZiBhbiBpZCAke3Jlc291cmNlLmlkfWApO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaW5pdGlhbFJlc291cmNlcyA9IFtdO1xuICAgIC8vIENyZWF0ZSBhbiBpbml0aWFsIG51bWJlciBvZiByZXNvdXJjZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvb2xDb25maWcuaW5pdGlhbFdvcmtlcnM7IGkrKykge1xuICAgICAgaW5pdGlhbFJlc291cmNlcy5wdXNoKGF3YWl0IHBvb2wuYWNxdWlyZSgpLnByb21pc2UpO1xuICAgIH1cblxuICAgIC8vIFJlbGVhc2UgdGhlIGluaXRpYWwgbnVtYmVyIG9mIHJlc291cmNlcyBiYWNrIHRvIHRoZSBwb29sXG4gICAgaW5pdGlhbFJlc291cmNlcy5mb3JFYWNoKChyZXNvdXJjZSkgPT4ge1xuICAgICAgcG9vbC5yZWxlYXNlKHJlc291cmNlKTtcbiAgICB9KTtcblxuICAgIGxvZyhcbiAgICAgIDMsXG4gICAgICBgW3Bvb2xdIFRoZSBwb29sIGlzIHJlYWR5IHdpdGggJHtwb29sQ29uZmlnLmluaXRpYWxXb3JrZXJzfSBpbml0aWFsIHJlc291cmNlcyB3YWl0aW5nLmBcbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZygxLCBgW3Bvb2xdIENvdWxkbid0IGNyZWF0ZSB0aGUgd29ya2VyIHBvb2wgJHtlcnJvcn1gKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLyoqXG4gKiBBdHRhY2hlcyBwcm9jZXNzJyBleGl0IGxpc3RlbmVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFByb2Nlc3NFeGl0TGlzdGVuZXJzKCkge1xuICBsb2coNCwgJ1twb29sXSBBdHRhY2hpbmcgZXhpdCBsaXN0ZW5lcnMgdG8gdGhlIHByb2Nlc3MuJyk7XG5cbiAgLy8gS2lsbCBhbGwgcG9vbCByZXNvdXJjZXMgb24gZXhpdFxuICBwcm9jZXNzLm9uKCdleGl0JywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGtpbGxBbGwoKTtcbiAgfSk7XG5cbiAgLy8gSGFuZGxlciBmb3IgdGhlIFNJR0lOVFxuICBwcm9jZXNzLm9uKCdTSUdJTlQnLCAobmFtZSwgY29kZSkgPT4ge1xuICAgIGxvZyg0LCBgVGhlICR7bmFtZX0gZXZlbnQgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgfSk7XG5cbiAgLy8gSGFuZGxlciBmb3IgdGhlIFNJR1RFUk1cbiAgcHJvY2Vzcy5vbignU0lHVEVSTScsIChuYW1lLCBjb2RlKSA9PiB7XG4gICAgbG9nKDQsIGBUaGUgJHtuYW1lfSBldmVudCB3aXRoIGNvZGU6ICR7Y29kZX0uYCk7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xuICB9KTtcblxuICAvLyBIYW5kbGVyIGZvciB0aGUgdW5jYXVnaHRFeGNlcHRpb25cbiAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCBhc3luYyAoZXJyb3IsIG5hbWUpID0+IHtcbiAgICBsb2coNCwgYFRoZSAke25hbWV9IGVycm9yLCBtZXNzYWdlOiAke2Vycm9yLm1lc3NhZ2V9LmApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBLaWxscyB0aGUgcG9vbCBhbmQgZmx1c2ggdGhlIGJyb3dzZXIgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBraWxsQWxsKCkge1xuICBsb2coMywgJ1twb29sXSBLaWxsaW5nIGFsbCB3b3JrZXJzLicpO1xuXG4gIGNoYXJ0LnNldFBvb2xPcHRpb25zKHt9KTtcblxuICAvLyBDbG9zZSBicm93c2VyIGluc3RhbmNlXG4gIHRyeSB7XG4gICAgYXdhaXQgY2xvc2UoKTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gaWYgdGhlIGJyb3dzZXIgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQsXG4gICAgLy8gc2tpcCB0aGUgcmVzdCBvZiB0aGlzIGZ1bmN0aW9uXG4gICAgbG9nKDQsIFwiW3Bvb2xdIFdvcmtlciBoYXMgYWxyZWFkeSBiZWVuIGtpbGxlZC5cIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUmV0dXJuIHRydWUgd2hlbiBwb29sIGlzIGFscmVhZHkgZGVhZFxuICBpZiAoIXBvb2wpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIERlc3Ryb3kgdGhlIHBvb2xcbiAgcmV0dXJuIHBvb2wuZGVzdHJveSgpO1xufVxuXG4vKipcbiAqIFBvc3RzIHdvcmsgdG8gdGhlIHBvb2wuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNoYXJ0IC0gQ2hhcnQncyBvcHRpb25zLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBwb3N0V29yayA9IGFzeW5jIChjaGFydCwgb3B0aW9ucykgPT4ge1xuICBsZXQgd29ya2VySGFuZGxlO1xuXG4gIC8vIEhhbmRsZSBmYWlsIGNvbmRpdGlvbnNcbiAgY29uc3QgZmFpbCA9IChtc2cpID0+IHtcbiAgICArK2Ryb3BwZWRFeHBvcnRzO1xuXG4gICAgaWYgKHdvcmtlckhhbmRsZSkge1xuICAgICAgcG9vbC5yZWxlYXNlKHdvcmtlckhhbmRsZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgJ0luIHBvb2wucG9zdFdvcms6ICcgKyBtc2c7XG4gIH07XG5cbiAgbG9nKDQsICdbcG9vbF0gV29yayByZWNlaXZlZCwgc3RhcnRpbmcgdG8gcHJvY2Vzcy4nKTtcblxuICBpZiAocG9vbENvbmZpZy5iZW5jaG1hcmtpbmcpIHtcbiAgICBnZXRQb29sSW5mbygpO1xuICB9XG5cbiAgKytleHBvcnRBdHRlbXB0cztcblxuICBpZiAoIXBvb2wpIHtcbiAgICBsb2coMSwgJ1twb29sXSBXb3JrIHJlY2VpdmVkLCBidXQgcG9vbCBoYXMgbm90IGJlZW4gc3RhcnRlZC4nKTtcbiAgICByZXR1cm4gZmFpbCgnUG9vbCBpcyBub3QgaW5pdGVkIGJ1dCB3b3JrIHdhcyBwb3N0ZWQgdG8gaXQhJyk7XG4gIH1cblxuICAvLyBBY3F1aXJlIHRoZSB3b3JrZXIgYWxvbmcgd2l0aCB0aGUgaWQgb2YgcmVzb3VyY2UgYW5kIHdvcmsgY291bnRcbiAgdHJ5IHtcbiAgICBsb2coNCwgJ1twb29sXSBBY3F1aXJpbmcgd29ya2VyJyk7XG4gICAgd29ya2VySGFuZGxlID0gYXdhaXQgcG9vbC5hY3F1aXJlKCkucHJvbWlzZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZmFpbChgW3Bvb2xdIEVycm9yIHdoZW4gYWNxdWlyaW5nIGF2YWlsYWJsZSBlbnRyeTogJHtlcnJvcn1gKTtcbiAgfVxuXG4gIGxvZyg0LCAnW3Bvb2xdIEFjcXVpcmVkIHdvcmtlciBoYW5kbGUnKTtcblxuICBpZiAoIXdvcmtlckhhbmRsZS5wYWdlKSB7XG4gICAgcmV0dXJuIGZhaWwoJ1Jlc29sdmVkIHdvcmtlciBwYWdlIGlzIGludmFsaWQ6IHBvb2wgc2V0dXAgaXMgd29ua3knKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gU2F2ZSB0aGUgc3RhcnQgdGltZVxuICAgIGxldCB3b3JrU3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIGxvZyg0LCBgW3Bvb2xdIFN0YXJ0aW5nIHdvcmsgb24gcG9vbCBlbnRyeSAke3dvcmtlckhhbmRsZS5pZH0uYCk7XG5cbiAgICAvLyBQZXJmb3JtIGFuIGV4cG9ydCBvbiBhIHB1cHBldGVlciBsZXZlbFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cHBldGVlckV4cG9ydCh3b3JrZXJIYW5kbGUucGFnZSwgY2hhcnQsIG9wdGlvbnMpO1xuXG4gICAgLy8gQ2hlY2sgaWYgaXQncyBhbiBlcnJvclxuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gVE9ETzogSWYgdGhlIGV4cG9ydCBmYWlsZWQgYmVjYXVzZSBwdXBwZXRlZXIgdGltZWQgb3V0LCB3ZSBuZWVkIHRvIGZvcmNlIGtpbGwgdGhlIHdvcmtlciBzbyB3ZSBnZXQgYSBuZXcgcGFnZS4gVGhhdCBuZWVkcyB0byBiZSBoYW5kbGVkIGJldHRlciB0aGFuIHRoaXMgaGFjay5cbiAgICAgIGlmIChyZXN1bHQubWVzc2FnZSA9PT0gJ1Jhc3Rlcml6YXRpb24gdGltZW91dCcpIHtcbiAgICAgICAgd29ya2VySGFuZGxlLnBhZ2UuY2xvc2UoKTtcbiAgICAgICAgd29ya2VySGFuZGxlLnBhZ2UgPSBhd2FpdCBicm93c2VyTmV3UGFnZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFpbChyZXN1bHQpO1xuICAgIH1cblxuICAgIC8vIFJlbGVhc2UgdGhlIHJlc291cmNlIGJhY2sgdG8gdGhlIHBvb2xcbiAgICBwb29sLnJlbGVhc2Uod29ya2VySGFuZGxlKTtcblxuICAgIC8vIFVzZWQgZm9yIHN0YXRpc3RpY3MgaW4gYXZlcmFnZVRpbWUgYW5kIHByb2Nlc3NlZFdvcmtDb3VudCwgd2hpY2hcbiAgICAvLyBpbiB0dXJuIGlzIHVzZWQgYnkgdGhlIC9oZWFsdGggcm91dGUuXG4gICAgY29uc3Qgd29ya0VuZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IGV4cG9ydFRpbWUgPSB3b3JrRW5kIC0gd29ya1N0YXJ0O1xuICAgIHRpbWVTcGVudCArPSBleHBvcnRUaW1lO1xuICAgIHNwZW50QXZlcmFnZSA9IHRpbWVTcGVudCAvICsrcGVyZm9ybWVkRXhwb3J0cztcblxuICAgIGxvZyg0LCBgW3Bvb2xdIFdvcmsgY29tcGxldGVkIGluICR7ZXhwb3J0VGltZX0gbXMuYCk7XG5cbiAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSByZXN1bHRcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgb3B0aW9uc1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZmFpbChgRXJyb3IgdHJ5aW5nIHRvIHBlcmZvcm0gcHVwcGV0ZWVyIGV4cG9ydDogJHtlcnJvcn0uYCk7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0cyB0aGUgcG9vbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBvb2woKSB7XG4gIHJldHVybiBwb29sO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0UG9vbEluZm9KU09OID0gKCkgPT4gKHtcbiAgbWluOiBwb29sLm1pbixcbiAgbWF4OiBwb29sLm1heCxcbiAgc2l6ZTogcG9vbC5zaXplLFxuICBhdmFpbGFibGU6IHBvb2wuYXZhaWxhYmxlLFxuICBib3Jyb3dlZDogcG9vbC5ib3Jyb3dlZCxcbiAgcGVuZGluZzogcG9vbC5wZW5kaW5nLFxuICBzcGFyZVJlc291cmNlQ2FwYWNpdHk6IHBvb2wuc3BhcmVSZXNvdXJjZUNhcGFjaXR5XG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBwb29sJ3MgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb29sSW5mbygpIHtcbiAgY29uc3Qge1xuICAgIG1pbixcbiAgICBtYXgsXG4gICAgc2l6ZSxcbiAgICBhdmFpbGFibGUsXG4gICAgYm9ycm93ZWQsXG4gICAgcGVuZGluZyxcbiAgICBzcGFyZVJlc291cmNlQ2FwYWNpdHlcbiAgfSA9IHBvb2w7XG5cbiAgbG9nKDQsIGBbcG9vbF0gVGhlIG1pbmltdW0gbnVtYmVyIG9mIHJlc291cmNlcyBhbGxvd2VkIGJ5IHBvb2w6ICR7bWlufS5gKTtcbiAgbG9nKDQsIGBbcG9vbF0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc291cmNlcyBhbGxvd2VkIGJ5IHBvb2w6ICR7bWF4fS5gKTtcbiAgbG9nKFxuICAgIDQsXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIGFsbCByZXNvdXJjZXMgaW4gcG9vbCAoZnJlZSBvciBpbiB1c2UpOiAke3NpemV9LmBcbiAgKTtcbiAgbG9nKFxuICAgIDQsXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0aGF0IGFyZSBjdXJyZW50bHkgYXZhaWxhYmxlOiAke2F2YWlsYWJsZX0uYFxuICApO1xuICBsb2coXG4gICAgNCxcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGN1cnJlbnRseSBhY3F1aXJlZDogJHtib3Jyb3dlZH0uYFxuICApO1xuICBsb2coXG4gICAgNCxcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgY2FsbGVycyB3YWl0aW5nIHRvIGFjcXVpcmUgYSByZXNvdXJjZTogJHtwZW5kaW5nfS5gXG4gICk7XG4gIGxvZyhcbiAgICA0LFxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiBob3cgbWFueSBtb3JlIHJlc291cmNlcyBjYW4gdGhlIHBvb2wgbWFuYWdlL2NyZWF0ZTogJHtzcGFyZVJlc291cmNlQ2FwYWNpdHl9LmBcbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0LFxuICBraWxsQWxsLFxuICBwb3N0V29yayxcbiAgZ2V0UG9vbCxcbiAgZ2V0UG9vbEluZm8sXG4gIGdldFBvb2xJbmZvSlNPTixcbiAgd29ya0F0dGVtcHRzOiAoKSA9PiBleHBvcnRBdHRlbXB0cyxcbiAgZHJvcHBlZFdvcms6ICgpID0+IGRyb3BwZWRFeHBvcnRzLFxuICBhdmVyYWdlVGltZTogKCkgPT4gc3BlbnRBdmVyYWdlLFxuICBwcm9jZXNzZWRXb3JrQ291bnQ6ICgpID0+IHBlcmZvcm1lZEV4cG9ydHNcbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IGNhY2hlIGZyb20gJy4uLy4uL2NhY2hlLmpzJztcbmltcG9ydCBwb29sIGZyb20gJy4uLy4uL3Bvb2wuanMnO1xuXG5jb25zdCBwYWNrYWdlVmVyc2lvbiA9IHByb2Nlc3MuZW52Lm5wbV9wYWNrYWdlX3ZlcnNpb247XG5jb25zdCBzZXJ2ZXJTdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4vKipcbiAqIEFkZHMgdGhlIC9oZWFsdGggcm91dGUgd2hpY2ggb3V0cHV0cyBiYXNpYyBzdGF0cyBmb3IgdGhlIHNlcnZlclxuICovXG5leHBvcnQgZGVmYXVsdCAoYXBwKSA9PlxuICAhYXBwXG4gICAgPyBmYWxzZVxuICAgIDogYXBwLmdldCgnL2hlYWx0aCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICBzdGF0dXM6ICdPSycsXG4gICAgICAgICAgYm9vdFRpbWU6IHNlcnZlclN0YXJ0VGltZSxcbiAgICAgICAgICB1cHRpbWU6XG4gICAgICAgICAgICBNYXRoLmZsb29yKFxuICAgICAgICAgICAgICAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzZXJ2ZXJTdGFydFRpbWUuZ2V0VGltZSgpKSAvIDEwMDAgLyA2MFxuICAgICAgICAgICAgKSArICcgbWludXRlcycsXG4gICAgICAgICAgdmVyc2lvbjogcGFja2FnZVZlcnNpb24sXG4gICAgICAgICAgaGlnaGNoYXJ0c1ZlcnNpb246IGNhY2hlLnZlcnNpb24oKSxcbiAgICAgICAgICBhdmVyYWdlUHJvY2Vzc2luZ1RpbWU6IHBvb2wuYXZlcmFnZVRpbWUoKSxcbiAgICAgICAgICBwZXJmb3JtZWRFeHBvcnRzOiBwb29sLnByb2Nlc3NlZFdvcmtDb3VudCgpLFxuICAgICAgICAgIGZhaWxlZEV4cG9ydHM6IHBvb2wuZHJvcHBlZFdvcmsoKSxcbiAgICAgICAgICBleHBvcnRBdHRlbXB0czogcG9vbC53b3JrQXR0ZW1wdHMoKSxcbiAgICAgICAgICBzdWNlc3NSYXRpbzogKHBvb2wucHJvY2Vzc2VkV29ya0NvdW50KCkgLyBwb29sLndvcmtBdHRlbXB0cygpKSAqIDEwMCxcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLW5hbWVkLWFzLWRlZmF1bHQtbWVtYmVyXG4gICAgICAgICAgcG9vbDogcG9vbC5nZXRQb29sSW5mb0pTT04oKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcblxuaW1wb3J0IGNoYXJ0IGZyb20gJy4uLy4uL2NoYXJ0LmpzJztcbmltcG9ydCB7IGluaXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcyc7XG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi8uLi9sb2dnZXIuanMnO1xuaW1wb3J0IHtcbiAgY2xlYXJUZXh0LFxuICBmaXhUeXBlLFxuICBpc0NvcnJlY3RKU09OLFxuICBpc1ByaXZhdGVSYW5nZVVybEZvdW5kLFxuICBtZXJnZUNvbmZpZ09wdGlvbnMsXG4gIG9wdGlvbnNTdHJpbmdpZnksXG4gIG1lYXN1cmVUaW1lXG59IGZyb20gJy4uLy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IGRlZmF1bHRDb25maWcgfSBmcm9tICcuLi8uLi9zY2hlbWFzL2NvbmZpZy5qcyc7XG5cbi8vIFJldmVyc2VkIE1JTUUgdHlwZXNcbmNvbnN0IHJldmVyc2VkTWltZSA9IHtcbiAgcG5nOiAnaW1hZ2UvcG5nJyxcbiAganBlZzogJ2ltYWdlL2pwZWcnLFxuICBnaWY6ICdpbWFnZS9naWYnLFxuICBwZGY6ICdhcHBsaWNhdGlvbi9wZGYnLFxuICBzdmc6ICdpbWFnZS9zdmcreG1sJ1xufTtcblxuLy8gVGhlIHJlcXVlc3RzIGNvdW50ZXJcbmxldCByZXF1ZXN0c0NvdW50ZXIgPSAwO1xuXG5jb25zdCBiZW5jaG1hcmsgPSBmYWxzZTtcblxuLy8gVGhlIGFycmF5IG9mIGNhbGxiYWNrcyB0byBjYWxsIGJlZm9yZSBhIHJlcXVlc3RcbmNvbnN0IGJlZm9yZVJlcXVlc3QgPSBbXTtcblxuLy8gVGhlIGFycmF5IG9mIGNhbGxiYWNrcyB0byBjYWxsIGFmdGVyIGEgcmVxdWVzdFxuY29uc3QgYWZ0ZXJSZXF1ZXN0ID0gW107XG5cbi8qKlxuICogQ2FsbHMgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNhbGxiYWNrcyAtIEFuIGFycmF5IG9mIGNhbGxiYWNrcy5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgLSBUaGUgcmVzcG9uc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIFRoZSBkYXRhIHRvIHNlbmQgdG8gY2FsbGJhY2tzLlxuICogQHJldHVybiB7b2JqZWN0fSAtIFRoZSByZXN1bHQgZnJvbSBhIGNhbGxiYWNrLlxuICovXG5jb25zdCBkb0NhbGxiYWNrcyA9IChjYWxsYmFja3MsIHJlcXVlc3QsIHJlc3BvbnNlLCBkYXRhKSA9PiB7XG4gIGxldCByZXN1bHQgPSB0cnVlO1xuICBjb25zdCB7IGlkLCB1bmlxdWVJZCwgdHlwZSwgYm9keSB9ID0gZGF0YTtcblxuICBjYWxsYmFja3Muc29tZSgoY2FsbGJhY2spID0+IHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGxldCBjYWxsUmVzcG9uc2UgPSBjYWxsYmFjayhyZXF1ZXN0LCByZXNwb25zZSwgaWQsIHVuaXF1ZUlkLCB0eXBlLCBib2R5KTtcblxuICAgICAgaWYgKGNhbGxSZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIGNhbGxSZXNwb25zZSAhPT0gdHJ1ZSkge1xuICAgICAgICByZXN1bHQgPSBjYWxsUmVzcG9uc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogSGFuZGxlcyBhbiBleHBvcnQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJlcXVlc3QgLSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSAtIFRoZSByZXNwb25zZS5cbiAqL1xuY29uc3QgZXhwb3J0SGFuZGxlciA9IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAvLyBTdGFydCBjb3VudGluZyB0aW1lXG4gIGNvbnN0IHN0b3BDb3VudGVyID0gbWVhc3VyZVRpbWUoKTtcblxuICAvLyBHZXQgZGVmYXVsdCBvcHRpb25zIGZyb20gdGhlIGNvbmZpZ1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGluaXREZWZhdWx0T3B0aW9ucyhkZWZhdWx0Q29uZmlnKTtcblxuICAvLyBJbml0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ0luaXQgZGVmYXVsdCBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIGNvbnN0IGJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gIGNvbnN0IGlkID0gKytyZXF1ZXN0c0NvdW50ZXI7XG4gIGNvbnN0IHVuaXF1ZUlkID0gdXVpZCgpLnJlcGxhY2UoLy0vZywgJycpO1xuICBsZXQgdHlwZSA9IGZpeFR5cGUoYm9keS50eXBlKTtcblxuICAvLyBGaXggdHlwZVxuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ0ZpeCB0eXBlOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIC8vIFRocm93ICdCYWQgUmVxdWVzdCcgaWYgdGhlcmUncyBubyBib2R5XG4gIGlmICghYm9keSkge1xuICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKFxuICAgICAgY2xlYXJUZXh0KFxuICAgICAgICBgQm9keSBpcyByZXF1aXJlZC4gU2VuZGluZyBhIGJvZHk/IE1ha2Ugc3VyZSB5b3VyIENvbnRlbnQtdHlwZSBoZWFkZXJcbiAgICAgICAgaXMgY29ycmVjdC4gQWNjZXB0ZWQgaXMgYXBwbGljYXRpb24vanNvbiBhbmQgbXVsdGlwYXJ0L2Zvcm0tZGF0YS5gXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8vIEFsbCBvZiB0aGUgYmVsb3cgY2FuIGJlIHVzZWRcbiAgbGV0IGluc3RyID0gaXNDb3JyZWN0SlNPTihib2R5LmluZmlsZSB8fCBib2R5Lm9wdGlvbnMgfHwgYm9keS5kYXRhKTtcblxuICAvLyBJcyBjb3JyZWN0IEpTT05cbiAgaWYgKGJlbmNobWFyaykge1xuICAgIGNvbnNvbGUubG9nKCdJcyBjb3JyZWN0IEpTT046Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xuICB9XG5cbiAgLy8gVGhyb3cgJ0JhZCBSZXF1ZXN0JyBpZiB0aGVyZSdzIG5vIEpTT04gb3IgU1ZHIHRvIGV4cG9ydFxuICBpZiAoIWluc3RyICYmICFib2R5LnN2Zykge1xuICAgIGxvZyhcbiAgICAgIDIsXG4gICAgICBjbGVhclRleHQoXG4gICAgICAgIGBSZXF1ZXN0ICR7dW5pcXVlSWR9IGZyb20gJHtcbiAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddIHx8IHJlcXVlc3QuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzXG4gICAgICAgIH0gd2FzIGluY29ycmVjdC4gQ2hlY2sgeW91ciBwYXlsb2FkLmBcbiAgICAgIClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLnNlbmQoXG4gICAgICBjbGVhclRleHQoXG4gICAgICAgIGBObyBjb3JyZWN0IGNoYXJ0IGRhdGEgZm91bmQuIFBsZWFzZSBtYWtlIHN1cmUgeW91IGFyZSB1c2luZ1xuICAgICAgICBhcHBsaWNhdGlvbi9qc29uIG9yIG11bHRpcGFydC9mb3JtLWRhdGEgaGVhZGVycywgYW5kIHRoYXQgdGhlIGNoYXJ0XG4gICAgICAgIGRhdGEgaXMgaW4gdGhlICdpbmZpbGUnLCAnb3B0aW9ucycgb3IgJ2RhdGEnIGF0dHJpYnV0ZSBpZiBzZW5kaW5nXG4gICAgICAgIEpTT04gb3IgaW4gdGhlICdzdmcnIGlmIHNlbmRpbmcgU1ZHLmBcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgbGV0IGNhbGxSZXNwb25zZSA9IGZhbHNlO1xuXG4gIC8vIENhbGwgdGhlIGJlZm9yZSByZXF1ZXN0IGZ1bmN0aW9uc1xuICBjYWxsUmVzcG9uc2UgPSBkb0NhbGxiYWNrcyhiZWZvcmVSZXF1ZXN0LCByZXF1ZXN0LCByZXNwb25zZSwge1xuICAgIGlkLFxuICAgIHVuaXF1ZUlkLFxuICAgIHR5cGUsXG4gICAgYm9keVxuICB9KTtcblxuICAvLyBEbyBjYWxsYmFja3NcbiAgaWYgKGJlbmNobWFyaykge1xuICAgIGNvbnNvbGUubG9nKCdEbyBjYWxsYmFja3M6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xuICB9XG5cbiAgLy8gQmxvY2sgdGhlIHJlcXVlc3QgaWYgb25lIG9mIGEgY2FsbGJhY2tzIGZhaWxlZFxuICBpZiAoY2FsbFJlc3BvbnNlICE9PSB0cnVlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoY2FsbFJlc3BvbnNlKTtcbiAgfVxuXG4gIGxldCBjb25uZWN0aW9uQWJvcnRlZCA9IGZhbHNlO1xuXG4gIC8vIEluIGNhc2UgdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkLCBmb3JjZSB0byBhYm9ydCBmdXJ0aGVyIGFjdGlvbnNcbiAgcmVxdWVzdC5zb2NrZXQub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgIGNvbm5lY3Rpb25BYm9ydGVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgbG9nKDQsIGBbZXhwb3J0XSBHb3QgYW4gaW5jb21pbmcgSFRUUCByZXF1ZXN0ICR7dW5pcXVlSWR9LmApO1xuXG4gIGJvZHkuY29uc3RyID0gKHR5cGVvZiBib2R5LmNvbnN0ciA9PT0gJ3N0cmluZycgJiYgYm9keS5jb25zdHIpIHx8ICdjaGFydCc7XG5cbiAgLy8gR2F0aGVyIGFuZCBvcmdhbml6ZSBvcHRpb25zIGZyb20gdGhlIHBheWxvYWRcbiAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgZXhwb3J0OiB7XG4gICAgICBpbnN0cixcbiAgICAgIHR5cGUsXG4gICAgICBjb25zdHI6IGJvZHkuY29uc3RyWzBdLnRvTG93ZXJDYXNlKCkgKyBib2R5LmNvbnN0ci5zdWJzdHIoMSksXG4gICAgICBoZWlnaHQ6IGJvZHkuaGVpZ2h0LFxuICAgICAgd2lkdGg6IGJvZHkud2lkdGgsXG4gICAgICBzY2FsZTogYm9keS5zY2FsZSB8fCBkZWZhdWx0T3B0aW9ucy5leHBvcnQuc2NhbGUsXG4gICAgICBnbG9iYWxPcHRpb25zOiBpc0NvcnJlY3RKU09OKGJvZHkuZ2xvYmFsT3B0aW9ucywgdHJ1ZSksXG4gICAgICB0aGVtZU9wdGlvbnM6IGlzQ29ycmVjdEpTT04oYm9keS50aGVtZU9wdGlvbnMsIHRydWUpXG4gICAgfSxcbiAgICBjdXN0b21Db2RlOiB7XG4gICAgICBhbGxvd0NvZGVFeGVjdXRpb246IGNoYXJ0LmdldEFsbG93Q29kZUV4ZWN1dGlvbigpLFxuICAgICAgYWxsb3dGaWxlUmVzb3VyY2VzOiBmYWxzZSxcbiAgICAgIHJlc291cmNlczogaXNDb3JyZWN0SlNPTihib2R5LnJlc291cmNlcywgdHJ1ZSksXG4gICAgICBjYWxsYmFjazogYm9keS5jYWxsYmFjayxcbiAgICAgIGN1c3RvbUNvZGU6IGJvZHkuY3VzdG9tQ29kZVxuICAgIH1cbiAgfTtcblxuICAvLyBPcmdhbml6ZSBvcHRpb25zXG4gIGlmIChiZW5jaG1hcmspIHtcbiAgICBjb25zb2xlLmxvZygnT3JnYW5pemUgb3B0aW9uczonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XG4gIH1cblxuICBpZiAoaW5zdHIpIHtcbiAgICAvLyBTdHJpbmdpZnkgSlNPTiB3aXRoIG9wdGlvbnNcbiAgICByZXF1ZXN0T3B0aW9ucy5leHBvcnQuaW5zdHIgPSBvcHRpb25zU3RyaW5naWZ5KFxuICAgICAgaW5zdHIsXG4gICAgICByZXF1ZXN0T3B0aW9ucy5jdXN0b21Db2RlLmFsbG93Q29kZUV4ZWN1dGlvblxuICAgICk7XG5cbiAgICAvLyBTdHJpbmdpZnkgSlNPTiB3aXRoIG9wdGlvbnNcbiAgICBpZiAoYmVuY2htYXJrKSB7XG4gICAgICBjb25zb2xlLmxvZygnU3RyaW5naWZ5IEpTT04gd2l0aCBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgICB9XG4gIH1cblxuICAvLyBNZXJnZSB0aGUgcmVxdWVzdCBvcHRpb25zIGludG8gZGVmYXVsdCBvbmVzXG4gIGNvbnN0IG9wdGlvbnMgPSBtZXJnZUNvbmZpZ09wdGlvbnMoZGVmYXVsdE9wdGlvbnMsIHJlcXVlc3RPcHRpb25zKTtcblxuICAvLyBNZXJnZSBjb25maWcgb3B0aW9uc1xuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ01lcmdlIGNvbmZpZyBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIC8vIFNhdmUgdGhlIEpTT04gaWYgZXhpc3RzXG4gIG9wdGlvbnMuZXhwb3J0Lm9wdGlvbnMgPSBpbnN0cjtcblxuICAvLyBMYXN0bHksIGFkZCB0aGUgc2VydmVyIHNwZWNpZmljIGFyZ3VtZW50cyBpbnRvIG9wdGlvbnMgYXMgcGF5bG9hZFxuICBvcHRpb25zLnBheWxvYWQgPSB7XG4gICAgc3ZnOiBib2R5LnN2ZyB8fCBmYWxzZSxcbiAgICBiNjQ6IGJvZHkuYjY0IHx8IGZhbHNlLFxuICAgIGRhdGFPcHRpb25zOiBpc0NvcnJlY3RKU09OKGJvZHkuZGF0YU9wdGlvbnMsIHRydWUpLFxuICAgIG5vRG93bmxvYWQ6IGJvZHkubm9Eb3dubG9hZCB8fCBmYWxzZSxcbiAgICByZXF1ZXN0SWQ6IHVuaXF1ZUlkXG4gIH07XG5cbiAgLy8gU2V0dGluZyBwYXlsb2FkXG4gIGlmIChiZW5jaG1hcmspIHtcbiAgICBjb25zb2xlLmxvZygnU2V0dGluZyBwYXlsb2FkOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIC8vIFRlc3QgeGxpbms6aHJlZiBlbGVtZW50cyBmcm9tIHBheWxvYWQncyBTVkdcbiAgaWYgKGJvZHkuc3ZnICYmIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQob3B0aW9ucy5wYXlsb2FkLnN2ZykpIHtcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgLnNlbmQoXG4gICAgICAgICdTVkcgcG90ZW50aWFsbHkgY29udGFpbiBhdCBsZWFzdCBvbmUgZm9yYmlkZGVuIFVSTCBpbiB4bGluazpocmVmIGVsZW1lbnQuJ1xuICAgICAgKTtcbiAgfVxuXG4gIC8vIENoZWNrIFVSTCByYW5nZVxuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ0NoZWNrIFVSTCByYW5nZTonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XG4gIH1cblxuICAvLyBTdGFydCB0aGUgZXhwb3J0IHByb2Nlc3NcbiAgY2hhcnQuc3RhcnRFeHBvcnQob3B0aW9ucywgKGluZm8sIGVycm9yKSA9PiB7XG4gICAgLy8gUmVtb3ZlIHRoZSBjbG9zZSBldmVudCBmcm9tIHRoZSBzb2NrZXRcbiAgICByZXF1ZXN0LnNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2Nsb3NlJyk7XG5cbiAgICAvLyBBZnRlciBQdXBwZXRlZXIgZXhwb3J0aW5nXG4gICAgaWYgKGJlbmNobWFyaykge1xuICAgICAgY29uc29sZS5sb2coJ0FmdGVyIFB1cHBldGVlciBleHBvcnRpbmc6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicsICdcXG4nKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkLCBkbyBub3RoaW5nXG4gICAgaWYgKGNvbm5lY3Rpb25BYm9ydGVkKSB7XG4gICAgICByZXR1cm4gbG9nKFxuICAgICAgICAzLFxuICAgICAgICBjbGVhclRleHQoXG4gICAgICAgICAgYFtleHBvcnRdIFRoZSBjbGllbnQgY2xvc2VkIHRoZSBjb25uZWN0aW9uIGJlZm9yZSB0aGUgY2hhcnQgd2FzIGRvbmVcbiAgICAgICAgICBwcm9jZXNzaW5nLmBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBJZiBlcnJvciwgcmV0dXJuIGl0XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBsb2coXG4gICAgICAgIDEsXG4gICAgICAgIGNsZWFyVGV4dChcbiAgICAgICAgICBgW2V4cG9ydF0gV29yazogJHt1bmlxdWVJZH0gY291bGQgbm90IGJlIGNvbXBsZXRlZCwgc2VuZGluZzpcbiAgICAgICAgICAke2Vycm9yfWBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8vIElmIGRhdGEgaXMgbWlzc2luZywgcmV0dXJuIHRoZSBlcnJvclxuICAgIGlmICghaW5mbyB8fCAhaW5mby5kYXRhKSB7XG4gICAgICBsb2coXG4gICAgICAgIDEsXG4gICAgICAgIGNsZWFyVGV4dChcbiAgICAgICAgICBgW2V4cG9ydF0gVW5leHBlY3RlZCByZXR1cm4gZnJvbSBjaGFydCBnZW5lcmF0aW9uLCBwbGVhc2UgY2hlY2sgeW91clxuICAgICAgICAgIGRhdGEgUmVxdWVzdDogJHt1bmlxdWVJZH0gaXMgJHtpbmZvLmRhdGF9LmBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZVxuICAgICAgICAuc3RhdHVzKDQwMClcbiAgICAgICAgLnNlbmQoXG4gICAgICAgICAgJ1VuZXhwZWN0ZWQgcmV0dXJuIGZyb20gY2hhcnQgZ2VuZXJhdGlvbiwgcGxlYXNlIGNoZWNrIHlvdXIgZGF0YS4nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSB0eXBlIGZyb20gb3B0aW9uc1xuICAgIHR5cGUgPSBpbmZvLm9wdGlvbnMuZXhwb3J0LnR5cGU7XG5cbiAgICAvLyBUaGUgYWZ0ZXIgcmVxdWVzdCBjYWxsYmFja3NcbiAgICBkb0NhbGxiYWNrcyhhZnRlclJlcXVlc3QsIHJlcXVlc3QsIHJlc3BvbnNlLCB7IGlkLCBib2R5OiBpbmZvLmRhdGEgfSk7XG5cbiAgICBpZiAoaW5mby5kYXRhKSB7XG4gICAgICAvLyBJZiBvbmx5IGJhc2U2NCBpcyByZXF1aXJlZCwgcmV0dXJuIGl0XG4gICAgICBpZiAoYm9keS5iNjQpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgaXMgYWxyZWFkeSBiYXNlNjQgb3IgYSByYXcgU1ZHXG4gICAgICAgIGlmICh0eXBlID09PSAncGRmJykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKFxuICAgICAgICAgICAgQnVmZmVyLmZyb20oaW5mby5kYXRhLCAndXRmOCcpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoaW5mby5kYXRhKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IGNvcnJlY3QgY29udGVudCB0eXBlXG4gICAgICByZXNwb25zZS5oZWFkZXIoJ0NvbnRlbnQtVHlwZScsIHJldmVyc2VkTWltZVt0eXBlXSB8fCAnaW1hZ2UvcG5nJyk7XG5cbiAgICAgIC8vIERlY2lkZSB3aGV0aGVyIHRvIGRvd25sb2FkIG9yIG5vdCBjaGFydCBmaWxlXG4gICAgICBpZiAoIWJvZHkubm9Eb3dubG9hZCkge1xuICAgICAgICByZXNwb25zZS5hdHRhY2htZW50KFxuICAgICAgICAgIGAke3JlcXVlc3QucGFyYW1zLmZpbGVuYW1lIHx8ICdjaGFydCd9LiR7dHlwZSB8fCAncG5nJ31gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIFNWRywgcmV0dXJuIHBsYWluIGNvbnRlbnRcbiAgICAgIHJldHVybiB0eXBlID09PSAnc3ZnJ1xuICAgICAgICA/IHJlc3BvbnNlLnNlbmQoaW5mby5kYXRhKVxuICAgICAgICA6IHJlc3BvbnNlLnNlbmQoQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JykpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAoYXBwKSA9PiB7XG4gIGFwcC5wb3N0KCcvJywgZXhwb3J0SGFuZGxlcik7XG4gIGFwcC5wb3N0KCcvOmZpbGVuYW1lJywgZXhwb3J0SGFuZGxlcik7XG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IHByb21pc2VzIGFzIGZzUHJvbWlzZXMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBwb3NpeCB9IGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xuXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi9sb2dnZXIuanMnO1xuaW1wb3J0IHJhdGVMaW1pdCBmcm9tICcuL3JhdGVfbGltaXQuanMnO1xuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5pbXBvcnQgaGVhbHRoUm91dGUgZnJvbSAnLi9yb3V0ZXMvaGVhbHRoLmpzJztcbmltcG9ydCBleHBvcnRSb3V0ZXMgZnJvbSAnLi9yb3V0ZXMvZXhwb3J0LmpzJztcbmltcG9ydCB2c3dpdGNoUm91dGUgZnJvbSAnLi9yb3V0ZXMvY2hhbmdlLWhjLXZlcnNpb24uanMnO1xuaW1wb3J0IHVpUm91dGUgZnJvbSAnLi9yb3V0ZXMvdWkuanMnO1xuXG4vLyBDcmVhdGUgZXhwcmVzcyBhcHBcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gRGlzYWJsZSB0aGUgWC1Qb3dlcmVkLUJ5IGhlYWRlclxuYXBwLmRpc2FibGUoJ3gtcG93ZXJlZC1ieScpO1xuXG4vLyBFbmFibGUgQ09SUyBzdXBwb3J0XG5hcHAudXNlKGNvcnMoKSk7XG5cbi8vIEVuYWJsZSBwYXJzaW5nIG9mIGZvcm0gZGF0YSAoZmlsZXMpIHdpdGggTXVsdGVyIHBhY2thZ2VcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIubWVtb3J5U3RvcmFnZSgpO1xuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtcbiAgICBzdG9yYWdlLFxuICAgIGxpbWl0czoge1xuICAgICAgICBmaWVsZHNTaXplOiAnNTBNQidcbiAgICB9XG59KTtcblxuYXBwLnVzZSh1cGxvYWQuYW55KCkpO1xuXG4vLyBFbmFibGUgYm9keSBwYXJzZXJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKHsgbGltaXQ6ICc1MG1iJyB9KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlLCBsaW1pdDogJzUwbWInIH0pKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlLCBsaW1pdDogJzUwbWInIH0pKTtcblxuLyoqXG4gKiBFcnJvciBoYW5kbGVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBlcnJvciAtIEFuIGVycm9yIG9iamVjdC5cbiAqIEByZXR1cm4ge3N0cmluZ30gLSBBbiBlcnJvciBtZXNzYWdlLlxuICovXG5jb25zdCBlcnJvckhhbmRsZXIgPSAoZXJyb3IpID0+IGxvZygxLCBgW3NlcnZlcl0gU29ja2V0IGVycm9yOiAke2Vycm9yfWApO1xuXG4vKipcbiAqIEF0dGFjaGVzIGVycm9yIGhhbmRsZXJzIGZvciBhIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gc2VydmVyIC0gVGhlIGh0dHAvaHR0cHMgc2VydmVyLlxuICovXG5jb25zdCBhdHRhY2hFcnJvckhhbmRsZXJzID0gKHNlcnZlcikgPT4ge1xuICBzZXJ2ZXIub24oJ2NsaWVudEVycm9yJywgZXJyb3JIYW5kbGVyKTtcbiAgc2VydmVyLm9uKCdlcnJvcicsIGVycm9ySGFuZGxlcik7XG4gIHNlcnZlci5vbignY29ubmVjdGlvbicsIChzb2NrZXQpID0+XG4gICAgc29ja2V0Lm9uKCdlcnJvcicsIChlcnJvcikgPT4gZXJyb3JIYW5kbGVyKGVycm9yLCBzb2NrZXQpKVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHN0YXJ0ID0gYXN5bmMgKHNlcnZlckNvbmZpZykgPT4ge1xuICAvLyBTdG9wIGlmIG5vdCBlbmFibGVkXG4gIGlmICghc2VydmVyQ29uZmlnLmVuYWJsZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIC8vIEdldCB0aGUgcG9vbFxuICAvLyBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xuXG4gIC8vIC8vIFRyeSB0byBjcmVhdGUgYnJvd3NlciBpbnN0YW5jZSBiZWZvcmUgc3RhcnRpbmcgdGhlIHNlcnZlclxuICAvLyBjb25zdCByZXNvdXJjZSA9IGF3YWl0IHBvb2wuYWNxdWlyZSgpO1xuXG4gIC8vIC8vIElmIG5vdCBmb3VuZCwgdGhyb3cgYW4gZXJyb3JcbiAgLy8gaWYgKCFyZXNvdXJjZS5icm93c2VyKSB7XG4gIC8vICAgbG9nKDEsIGBbczplcnZlcl0gQ291bGQgbm90IGFjcXVpcmUgYnJvd3NlciBpbnN0YW5jZS5gKTtcbiAgLy8gICBwcm9jZXNzLmV4aXQoMSk7XG4gIC8vIH1cblxuICAvLyAvLyBSZWxlYXNlIHRoZSByZXNvdXJjZVxuICAvLyBwb29sLnJlbGVhc2UocmVzb3VyY2UpO1xuXG4gIC8vIExpc3RlbiBIVFRQIHNlcnZlclxuICBpZiAoIXNlcnZlckNvbmZpZy5zc2wuZW5hYmxlICYmICFzZXJ2ZXJDb25maWcuc3NsLmZvcmNlKSB7XG4gICAgLy8gTWFpbiBzZXJ2ZXIgaW5zdGFuY2UgKEhUVFApXG4gICAgY29uc3QgaHR0cFNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XG4gICAgLy8gQXR0YWNoIGVycm9yIGhhbmRsZXJzIGFuZCBsaXN0ZW4gdG8gdGhlIHNlcnZlclxuICAgIGF0dGFjaEVycm9ySGFuZGxlcnMoaHR0cFNlcnZlcik7XG4gICAgLy8gTGlzdGVuXG4gICAgaHR0cFNlcnZlci5saXN0ZW4oc2VydmVyQ29uZmlnLnBvcnQsIHNlcnZlckNvbmZpZy5ob3N0KTtcblxuICAgIGxvZyhcbiAgICAgIDMsXG4gICAgICBgW3NlcnZlcl0gU3RhcnRlZCBIVFRQIHNlcnZlciBvbiAke3NlcnZlckNvbmZpZy5ob3N0fToke3NlcnZlckNvbmZpZy5wb3J0fS5gXG4gICAgKTtcbiAgfVxuXG4gIC8vIExpc3RlbiBIVFRQUyBzZXJ2ZXJcbiAgaWYgKHNlcnZlckNvbmZpZy5zc2wuZW5hYmxlKSB7XG4gICAgLy8gU2V0IHVwIGFuIFNTTCBzZXJ2ZXIgYWxzb1xuICAgIGxldCBrZXksIGNlcnQ7XG5cbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHRoZSBTU0wga2V5XG4gICAgICBrZXkgPSBhd2FpdCBmc1Byb21pc2VzLnJlYWRGaWxlKFxuICAgICAgICBwb3NpeC5qb2luKHNlcnZlckNvbmZpZy5zc2wuY2VydFBhdGgsICdzZXJ2ZXIua2V5JyksXG4gICAgICAgICd1dGY4J1xuICAgICAgKTtcblxuICAgICAgLy8gR2V0IHRoZSBTU0wgY2VydGlmaWNhdGVcbiAgICAgIGNlcnQgPSBhd2FpdCBmc1Byb21pc2VzLnJlYWRGaWxlKFxuICAgICAgICBwb3NpeC5qb2luKHNlcnZlckNvbmZpZy5zc2wuY2VydFBhdGgsICdzZXJ2ZXIuY3J0JyksXG4gICAgICAgICd1dGY4J1xuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nKFxuICAgICAgICAxLFxuICAgICAgICBgW3NlcnZlcl0gVW5hYmxlIHRvIGxvYWQga2V5L2NlcnRpZmljYXRlIGZyb20gJHtzZXJ2ZXJDb25maWcuc3NsLmNlcnRQYXRofS5gXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChrZXkgJiYgY2VydCkge1xuICAgICAgLy8gTWFpbiBzZXJ2ZXIgaW5zdGFuY2UgKEhUVFBTKVxuICAgICAgY29uc3QgaHR0cHNTZXJ2ZXIgPSBodHRwcy5jcmVhdGVTZXJ2ZXIoYXBwKTtcbiAgICAgIC8vIEF0dGFjaCBlcnJvciBoYW5kbGVycyBhbmQgbGlzdGVuIHRvIHRoZSBzZXJ2ZXJcbiAgICAgIGF0dGFjaEVycm9ySGFuZGxlcnMoaHR0cHNTZXJ2ZXIpO1xuICAgICAgLy8gTGlzdGVuXG4gICAgICBodHRwc1NlcnZlci5saXN0ZW4oc2VydmVyQ29uZmlnLnNzbC5wb3J0LCBzZXJ2ZXJDb25maWcuaG9zdCk7XG5cbiAgICAgIGxvZyhcbiAgICAgICAgMyxcbiAgICAgICAgYFtzZXJ2ZXJdIFN0YXJ0ZWQgSFRUUFMgc2VydmVyIG9uICR7c2VydmVyQ29uZmlnLmhvc3R9OiR7c2VydmVyQ29uZmlnLnNzbC5wb3J0fS5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEVuYWJsZSB0aGUgcmF0ZSBsaW1pdGVyIGlmIGNvbmZpZyBzYXlzIHNvXG4gIGlmIChcbiAgICBzZXJ2ZXJDb25maWcucmF0ZUxpbWl0aW5nICYmXG4gICAgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZy5lbmFibGUgJiZcbiAgICAhWzAsIE5hTl0uaW5jbHVkZXMoc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cylcbiAgKSB7XG4gICAgcmF0ZUxpbWl0KGFwcCwgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZyk7XG4gIH1cblxuICAvLyBTZXQgdXAgc3RhdGljIGZvbGRlcidzIHJvdXRlXG4gIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMocG9zaXguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpO1xuXG4gIC8vIFNldCB1cCByb3V0ZXNcbiAgaGVhbHRoUm91dGUoYXBwKTtcbiAgZXhwb3J0Um91dGVzKGFwcCk7XG4gIHVpUm91dGUoYXBwKTtcbiAgdnN3aXRjaFJvdXRlKGFwcCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGV4cHJlc3MgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFeHByZXNzID0gKCkgPT4ge1xuICByZXR1cm4gZXhwcmVzcztcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYXBwIGluc3RhbmNlLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXBwID0gKCkgPT4ge1xuICByZXR1cm4gYXBwO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgbWlkZGxld2FyZSB0byB0aGUgc2VydmVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXRoIC0gQW4gZW5kcG9pbnQgcGF0aCB0byBhZGQgbWlkZGxld2FyZXMgdG8uXG4gKiBAcGFyYW0ge0FycmF5fSBtaWRkbGV3YXJlcyAtIEFuIHVubGltaXRlZCBudW1iZXIgb2YgbWlkZGxld2FyZXMgdG8gdXNlXG4gKiBhZ2FpbnN0IHRoZSBzcGVjaWZpYyBlbmRwb2ludC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZSA9IChwYXRoLCAuLi5taWRkbGV3YXJlcykgPT4ge1xuICBhcHAudXNlKHBhdGgsIC4uLm1pZGRsZXdhcmVzKTtcbn07XG5cbi8qKlxuICogQWRkcyBhIGdldCByb3V0ZSB0byB0aGUgc2VydmVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXRoIC0gQW4gZW5kcG9pbnQgcGF0aCB0byBhZGQgbWlkZGxld2FyZXMgdG8uXG4gKiBAcGFyYW0ge0FycmF5fSBtaWRkbGV3YXJlcyAtIEFuIHVubGltaXRlZCBudW1iZXIgb2YgbWlkZGxld2FyZXMgdG8gdXNlXG4gKiBhZ2FpbnN0IHRoZSBzcGVjaWZpYyBlbmRwb2ludCBmb3IgR0VUIG1ldGhvZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldCA9IChwYXRoLCAuLi5taWRkbGV3YXJlcykgPT4ge1xuICBhcHAuZ2V0KHBhdGgsIC4uLm1pZGRsZXdhcmVzKTtcbn07XG5cbi8qKlxuICogQWRkcyBhIHBvc3Qgcm91dGUgdG8gdGhlIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGF0aCAtIEFuIGVuZHBvaW50IHBhdGggdG8gYWRkIG1pZGRsZXdhcmVzIHRvLlxuICogQHBhcmFtIHtBcnJheX0gbWlkZGxld2FyZXMgLSBBbiB1bmxpbWl0ZWQgbnVtYmVyIG9mIG1pZGRsZXdhcmVzIHRvIHVzZVxuICogYWdhaW5zdCB0aGUgc3BlY2lmaWMgZW5kcG9pbnQgZm9yIFBPU1QgbWV0aG9kLlxuICovXG5leHBvcnQgY29uc3QgcG9zdCA9IChwYXRoLCAuLi5taWRkbGV3YXJlcykgPT4ge1xuICBhcHAucG9zdChwYXRoLCAuLi5taWRkbGV3YXJlcyk7XG59O1xuXG4vKipcbiAqIEZvcmNlZnVsbHkgZW5hYmxlcyByYXRlIGxpbWl0aW5nLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaW1pdENvbmZpZyAtIFRoZSBvcHRpb25zIG9iamVjdCBmb3IgdGhlIHJhdGUgbGltaXRlclxuICogY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGVuYWJsZVJhdGVMaW1pdGluZyA9IChsaW1pdENvbmZpZykgPT4ge1xuICByZXR1cm4gcmF0ZUxpbWl0KGFwcCwgbGltaXRDb25maWcpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzdGFydCxcbiAgZ2V0RXhwcmVzcyxcbiAgZ2V0QXBwLFxuICB1c2UsXG4gIGdldCxcbiAgcG9zdCxcbiAgZW5hYmxlUmF0ZUxpbWl0aW5nXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcblxuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vLi4vdXRpbHMuanMnO1xuLyoqXG4gKiBBZGRzIHRoZSAvIHJvdXRlIGZvciBhIFVJIHdoZW4gZW5hYmxlZCBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGFwcCkgPT5cbiAgIWFwcFxuICAgID8gZmFsc2VcbiAgICA6IGFwcC5nZXQoJy8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcG9uc2Uuc2VuZEZpbGUoam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnLCAnaW5kZXguaHRtbCcpKTtcbiAgICAgIH0pO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBjYWNoZSBmcm9tICcuLi8uLi9jYWNoZS5qcyc7XG5cbi8qKlxuICogQWRkcyBhIHJvdXRlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hhbmdlIHRoZSBIQyB2ZXJzaW9uIG9uIHRoZSBzZXJ2ZXJcbiAqIFRPRE86IEFkZCBhdXRoIHRva2VuIGFuZCBjb25uZWN0IHRvIEFQSVxuICovXG5leHBvcnQgZGVmYXVsdCAoYXBwKSA9PlxuICAhYXBwXG4gICAgPyBmYWxzZVxuICAgIDogYXBwLnBvc3QoJy9jaGFuZ2UtaGMtdmVyc2lvbi86bmV3VmVyc2lvbicsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCBjdG9rZW4gPSBwcm9jZXNzLmVudi5ISUdIQ0hBUlRTX0FETUlOX1RPS0VOO1xuXG4gICAgICAgIGlmICghY3Rva2VuIHx8ICFjdG9rZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoe1xuICAgICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAnU2VydmVyIG5vdCBjb25maWd1cmVkIHRvIGRvIHJ1bi10aW1lIHZlcnNpb24gY2hhbmdlczogSElHSENIQVJUU19BRE1JTl9UT0tFTiBub3Qgc2V0J1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmdldCgnaGMtYXV0aCcpO1xuXG4gICAgICAgIGlmICghdG9rZW4gfHwgdG9rZW4gIT09IGN0b2tlbikge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgb3IgbWlzc2luZyB0b2tlbjogc2V0IHRva2VuIGluIHRoZSBoYy1hdXRoIGhlYWRlcidcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld1ZlcnNpb24gPSByZXF1ZXN0LnBhcmFtcy5uZXdWZXJzaW9uO1xuXG4gICAgICAgIGlmIChuZXdWZXJzaW9uKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbmFtZWQtYXMtZGVmYXVsdC1tZW1iZXJcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlLnVwZGF0ZVZlcnNpb24obmV3VmVyc2lvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XG4gICAgICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICAgIHZlcnNpb246IGNhY2hlLnZlcnNpb24oKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3BvbnNlLnNlbmQoe1xuICAgICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiAnTm8gbmV3IHZlcnNpb24gc3VwcGxpZWQnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIEFkZCB0aGUgbWFpbiBkaXJlY3RvcnkgaW4gdGhlIGdsb2JhbCBvYmplY3RcbmltcG9ydCAnY29sb3JzJztcblxuaW1wb3J0IHNlcnZlciwgeyBzdGFydCB9IGZyb20gJy4vc2VydmVyL3NlcnZlci5qcyc7XG5pbXBvcnQgY2hhcnQgZnJvbSAnLi9jaGFydC5qcyc7XG5pbXBvcnQgeyBsb2csIHNldExvZ0xldmVsLCBlbmFibGVGaWxlTG9nZ2luZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcbmltcG9ydCB7IGtpbGxBbGwsIGluaXQgfSBmcm9tICcuL3Bvb2wuanMnO1xuaW1wb3J0IHsgaW5pdERlZmF1bHRPcHRpb25zLCBsb2FkQ29uZmlnRmlsZSB9IGZyb20gJy4vY29uZmlnLmpzJztcbmltcG9ydCB7IGNoZWNrQ2FjaGUgfSBmcm9tICcuL2NhY2hlLmpzJztcbmltcG9ydCB7IG1lcmdlQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgZGVmYXVsdENvbmZpZyB9IGZyb20gJy4vc2NoZW1hcy9jb25maWcuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGxvZyxcbiAgc2VydmVyLFxuICBzdGFydEV4cG9ydDogY2hhcnQuc3RhcnRFeHBvcnQsXG4gIHN0YXJ0U2VydmVyOiBzdGFydCxcbiAga2lsbFBvb2w6IGtpbGxBbGwsXG4gIGluaXRQb29sOiBhc3luYyAob3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBpbml0RGVmYXVsdE9wdGlvbnMoZGVmYXVsdENvbmZpZyk7XG5cbiAgICAvLyBMb2FkIGFuIG9wdGlvbmFsIGNvbmZpZyBmaWxlXG4gICAgb3B0aW9ucyA9IGF3YWl0IGxvYWRDb25maWdGaWxlKG1lcmdlQ29uZmlnT3B0aW9ucyhkZWZhdWx0T3B0aW9ucywgb3B0aW9ucykpO1xuXG4gICAgLy8gU2V0IHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gcGVyIGV4cG9ydCBtb2R1bGUgc2NvcGVcbiAgICBjaGFydC5zZXRBbGxvd0NvZGVFeGVjdXRpb24oXG4gICAgICBvcHRpb25zLmN1c3RvbUNvZGUgJiYgb3B0aW9ucy5jdXN0b21Db2RlLmFsbG93Q29kZUV4ZWN1dGlvblxuICAgICk7XG5cbiAgICAvLyBTZXQgdGhlIGxvZyBsZXZlbFxuICAgIHNldExvZ0xldmVsKG9wdGlvbnMubG9nZ2luZyAmJiBwYXJzZUludChvcHRpb25zLmxvZ2dpbmcubGV2ZWwpKTtcblxuICAgIC8vIFNldCB0aGUgbG9nIGZpbGUgcGF0aCBhbmQgbmFtZVxuICAgIGlmIChvcHRpb25zLmxvZ2dpbmcgJiYgb3B0aW9ucy5sb2dnaW5nLmRlc3QpIHtcbiAgICAgIGVuYWJsZUZpbGVMb2dnaW5nKFxuICAgICAgICBvcHRpb25zLmxvZ2dpbmcuZGVzdCxcbiAgICAgICAgb3B0aW9ucy5sb2dnaW5nLmZpbGUgfHwgJ2hpZ2hjaGFydHMtZXhwb3J0LXNlcnZlci5sb2cnXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGNhY2hlIG5lZWRzIHRvIGJlIHVwZGF0ZWRcbiAgICBhd2FpdCBjaGVja0NhY2hlKG9wdGlvbnMuaGlnaGNoYXJ0cyB8fCB7IHZlcnNpb246ICdsYXRlc3QnIH0pO1xuXG4gICAgLy8gSW5pdCB0aGUgcG9vbFxuICAgIGF3YWl0IGluaXQoe1xuICAgICAgcG9vbDogb3B0aW9ucy5wb29sIHx8IHtcbiAgICAgICAgaW5pdGlhbFdvcmtlcnM6IDEsXG4gICAgICAgIG1heFdvcmtlcnM6IDFcbiAgICAgIH0sXG4gICAgICBwdXBwZXRlZXJBcmdzOiBvcHRpb25zLnB1cHBldGVlcj8uYXJncyB8fCBbXVxuICAgIH0pO1xuXG4gICAgY2hhcnQuc2V0UG9vbE9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAvLyBSZXR1cm4gdXBkYXRlZCBvcHRpb25zXG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiZGVmYXVsdENvbmZpZyIsInB1cHBldGVlciIsImFyZ3MiLCJ2YWx1ZSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsImhpZ2hjaGFydHMiLCJ2ZXJzaW9uIiwiZW52TGluayIsImNkblVSTCIsImNvcmVTY3JpcHRzIiwibW9kdWxlcyIsImluZGljYXRvcnMiLCJzY3JpcHRzIiwiZXhwb3J0IiwiaW5maWxlIiwiaW5zdHIiLCJvcHRpb25zIiwib3V0ZmlsZSIsImNvbnN0ciIsImRlZmF1bHRIZWlnaHQiLCJkZWZhdWx0V2lkdGgiLCJkZWZhdWx0U2NhbGUiLCJoZWlnaHQiLCJ3aWR0aCIsInNjYWxlIiwiZ2xvYmFsT3B0aW9ucyIsInRoZW1lT3B0aW9ucyIsImJhdGNoIiwiY3VzdG9tQ29kZSIsImFsbG93Q29kZUV4ZWN1dGlvbiIsImFsbG93RmlsZVJlc291cmNlcyIsImNhbGxiYWNrIiwicmVzb3VyY2VzIiwibG9hZENvbmZpZyIsImNyZWF0ZUNvbmZpZyIsInNlcnZlciIsImVuYWJsZSIsImNsaU5hbWUiLCJob3N0IiwicG9ydCIsInNzbCIsImZvcmNlIiwiY2VydFBhdGgiLCJyYXRlTGltaXRpbmciLCJtYXhSZXF1ZXN0cyIsIndpbmRvdyIsImRlbGF5IiwidHJ1c3RQcm94eSIsInNraXBLZXkiLCJza2lwVG9rZW4iLCJwb29sIiwiaW5pdGlhbFdvcmtlcnMiLCJtYXhXb3JrZXJzIiwid29ya0xpbWl0IiwicXVldWVTaXplIiwidGltZW91dFRocmVzaG9sZCIsImFjcXVpcmVUaW1lb3V0IiwicmVhcGVyIiwiYmVuY2htYXJraW5nIiwibGlzdGVuVG9Qcm9jZXNzRXhpdHMiLCJwYXlsb2FkIiwibG9nZ2luZyIsImxldmVsIiwiZmlsZSIsImRlc3QiLCJ1aSIsInJvdXRlIiwib3RoZXIiLCJub0xvZ28iLCJqb2luIiwibmVzdGVkQXJncyIsImVudlZhcnMiLCJpbml0Q29uZmlnIiwib2JqIiwicHJvcENoYWluIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrIiwiaW5jbHVkZXMiLCJlbnRyeSIsIm51bUVudlZhbCIsIml0ZW0iLCJwcm9jZXNzIiwiZW52IiwiZmluZCIsImVsIiwiaW5kZXhPZiIsInNwbGl0IiwicHVzaCIsIm5hbWUiLCJzdWJzdHJpbmciLCJ0b0NvbnNvbGUiLCJ0b0ZpbGUiLCJwYXRoQ3JlYXRlZCIsImxldmVsc0Rlc2MiLCJ0aXRsZSIsImNvbG9yIiwibGlzdGVuZXJzIiwia2V5Iiwib3B0aW9uIiwiZW50cmllcyIsImxvZyIsIm5ld0xldmVsIiwidGV4dHMiLCJsZW5ndGgiLCJwcmVmaXgiLCJEYXRlIiwidG9TdHJpbmciLCJ0cmltIiwiZm4iLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwiYXBwZW5kRmlsZSIsImNvbmNhdCIsImVycm9yIiwiY29uc29sZSIsImFwcGx5IiwidW5kZWZpbmVkIiwiX19kaXJuYW1lIiwiZmlsZVVSTFRvUGF0aCIsIlVSTCIsImRvY3VtZW50IiwicmVxdWlyZSIsInBhdGhUb0ZpbGVVUkwiLCJfX2ZpbGVuYW1lIiwiaHJlZiIsIl9kb2N1bWVudEN1cnJlbnRTY3JpcHQiLCJzcmMiLCJiYXNlVVJJIiwiY2xlYXJUZXh0IiwidGV4dCIsInJ1bGUiLCJyZXBsYWNlciIsInJlcGxhY2VBbGwiLCJmaXhUeXBlIiwiZm9ybWF0cyIsIm91dFR5cGUiLCJwb3AiLCJ0IiwiaGFuZGxlUmVzb3VyY2VzIiwiYWxsb3dlZFByb3BzIiwiaGFuZGxlZFJlc291cmNlcyIsImNvcnJlY3RSZXNvdXJjZXMiLCJlbmRzV2l0aCIsImlzQ29ycmVjdEpTT04iLCJyZWFkRmlsZVN5bmMiLCJub3RpY2UiLCJmaWxlcyIsInByb3BOYW1lIiwibWFwIiwiZGF0YSIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJkZWVwQ29weSIsImNvcHkiLCJBcnJheSIsImlzQXJyYXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtZXJnZUNvbmZpZ09wdGlvbnMiLCJuZXdPcHRpb25zIiwiYWJzb2x1dGVQcm9wcyIsIm1lcmdlZE9wdGlvbnMiLCJvcHRpb25zU3RyaW5naWZ5IiwiYWxsb3dGdW5jdGlvbnMiLCJzdGFydHNXaXRoIiwidG9Cb29sZWFuIiwid3JhcEFyb3VuZCIsInJlcGxhY2UiLCJyYXRlTGltaXQiLCJhcHAiLCJsaW1pdENvbmZpZyIsIm1zZyIsInJhdGVPcHRpb25zIiwibWF4IiwibGltaXRlciIsIndpbmRvd01zIiwiZGVsYXlNcyIsImhhbmRsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJmb3JtYXQiLCJqc29uIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJkZWZhdWx0Iiwic2tpcCIsInF1ZXJ5IiwiYWNjZXNzX3Rva2VuIiwidXNlIiwiYXN5bmMiLCJmZXRjaCIsInVybCIsInJlcXVlc3RPcHRpb25zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwcm90b2NvbCIsImh0dHBzIiwiaHR0cCIsImdldFByb3RvY29sIiwiZ2V0IiwicmVzIiwib24iLCJjaHVuayIsImNhY2hlUGF0aCIsImNhY2hlIiwiYWN0aXZlTWFuaWZlc3QiLCJzb3VyY2VzIiwiaGNWZXJzaW9uIiwiYXBwbGllZENvbmZpZyIsImV4dHJhY3RWZXJzaW9uIiwic3Vic3RyIiwiZmV0Y2hTY3JpcHQiLCJzY3JpcHQiLCJwcm94eUFnZW50IiwiYWdlbnQiLCJ0aW1lb3V0Iiwic3RhdHVzQ29kZSIsInVwZGF0ZUNhY2hlIiwic291cmNlUGF0aCIsImN1c3RvbVNjcmlwdHMiLCJhbGxTY3JpcHRzIiwiYyIsIm0iLCJpIiwicHJveHlIb3N0IiwicHJveHlQb3J0IiwiSHR0cHNQcm94eUFnZW50IiwiZmV0Y2hlZE1vZHVsZXMiLCJhbGwiLCJ3cml0ZUZpbGVTeW5jIiwiY2hlY2tDYWNoZSIsIm1hbmlmZXN0UGF0aCIsInJlcXVlc3RVcGRhdGUiLCJtYW5pZmVzdCIsIm1vZHVsZU1hcCIsIm51bWJlck9mTW9kdWxlcyIsInNvbWUiLCJtb2R1bGVOYW1lIiwibmV3TWFuaWZlc3QiLCJzYXZlQ29uZmlnVG9NYW5pZmVzdCIsImNhY2hlJDEiLCJuZXdWZXJzaW9uIiwiYXNzaWduIiwiUkFORE9NX1BJRCIsInJhbmRvbUJ5dGVzIiwiUFVQUEVURUVSX0RJUiIsInBhdGgiLCJtaW5pbWFsQXJncyIsInRlbXBsYXRlIiwiZnMiLCJicm93c2VyIiwibmV3UGFnZSIsInAiLCJzZXRDb250ZW50IiwiYWRkU2NyaXB0VGFnIiwiZXZhbHVhdGUiLCJzZXR1cEhpZ2hjaGFydHMiLCJlcnIiLCIkZXZhbCIsImVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJfZGlzcGxheUVycm9ycyIsImlubmVySFRNTCIsImNsb3NlIiwiX19iYXNlZGlyIiwic2V0QXNDb25maWciLCJwYWdlIiwiY2hhcnQiLCJ0cmlnZ2VyRXhwb3J0IiwicHVwcGV0ZWVyRXhwb3J0IiwiaW5qZWN0ZWRSZXNvdXJjZXMiLCJjbGVhckluamVjdGVkIiwiZGlzcG9zZSIsInNjcmlwdHNUb1JlbW92ZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic3R5bGVzVG9SZW1vdmUiLCJsaW5rc1RvUmVtb3ZlIiwicmVtb3ZlIiwiZXhwb3J0QmVuY2giLCJleHBvcnRPcHRpb25zIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGlzcGxheUVycm9ycyIsImRlYnVnZ2VyIiwiZCIsInN2Z0JlbmNoIiwiaXNTVkciLCJzZXRQYWdlQmVuY2giLCJzdmdUZW1wbGF0ZSIsInN0ckluaiIsInNldENvbnRlbnRCZW5jaCIsInJlc0JlbmNoIiwianMiLCJjb250ZW50IiwiaXNMb2NhbCIsImNzc0JlbmNoIiwiY3NzIiwiY3NzSW1wb3J0cyIsIm1hdGNoIiwiY3NzSW1wb3J0UGF0aCIsImFkZFN0eWxlVGFnIiwic2l6ZSIsImNoYXJ0SGVpZ2h0IiwiYmFzZVZhbCIsImNoYXJ0V2lkdGgiLCJwYXJzZUZsb2F0IiwiSGlnaGNoYXJ0cyIsImNoYXJ0cyIsInZwQmVuY2giLCJ2aWV3cG9ydEhlaWdodCIsIk1hdGgiLCJjZWlsIiwidmlld3BvcnRXaWR0aCIsInNldFZpZXdwb3J0IiwiZGV2aWNlU2NhbGVGYWN0b3IiLCJ6b29tQ2FsbGJhY2siLCJib2R5Iiwic3R5bGUiLCJ6b29tIiwibWFyZ2luIiwieCIsInkiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0cnVuYyIsImdldENsaXBSZWdpb24iLCJyb3VuZCIsImV4cEJlbmNobWFyayIsIm91dGVySFRNTCIsImNyZWF0ZVNWRyIsImVuY29kaW5nIiwiY2xpcCIsInJhY2UiLCJzY3JlZW5zaG90Iiwic2V0VGltZW91dCIsIkVycm9yIiwiY3JlYXRlSW1hZ2UiLCJwZGYiLCJjcmVhdGVQREYiLCJvbGRDaGFydHMiLCJvbGRDaGFydCIsImRlc3Ryb3kiLCJzaGlmdCIsImluaXREZWZhdWx0T3B0aW9ucyIsIml0ZW1zIiwicG9vbE9wdGlvbnMiLCJmaW5kQ2hhcnRTaXplIiwiZXhwb3J0aW5nIiwicHJlY2lzaW9uIiwibXVsdGlwbGllciIsInBvdyIsInJvdW5kTnVtYmVyIiwic291cmNlSGVpZ2h0Iiwic291cmNlV2lkdGgiLCJkb0V4cG9ydCIsImNoYXJ0SnNvbiIsImVuZENhbGxiYWNrIiwic3ZnIiwiY3VzdG9tQ29kZU9wdGlvbnMiLCJhbGxvd0NvZGVFeGVjdXRpb25TY29wZWQiLCJlbmFibGVkIiwib3B0aW9uc05hbWUiLCJwb3N0V29yayIsInRoZW4iLCJyZXN1bHQiLCJjYXRjaCIsImRvU3RyYWlnaHRJbmplY3QiLCJyZXF1ZXN0SWQiLCJleHBvcnRBc1N0cmluZyIsInN0cmluZ1RvRXhwb3J0IiwiY2hhcnRKU09OIiwic3RhcnRFeHBvcnQiLCJzZXR0aW5ncyIsImluaXRFeHBvcnRTZXR0aW5ncyIsInJlYWRGaWxlIiwiZ2V0QWxsb3dDb2RlRXhlY3V0aW9uIiwic2V0QWxsb3dDb2RlRXhlY3V0aW9uIiwic2V0UG9vbE9wdGlvbnMiLCJwdXBwZXRlZXJBcmdzIiwicGVyZm9ybWVkRXhwb3J0cyIsImV4cG9ydEF0dGVtcHRzIiwidGltZVNwZW50IiwiZHJvcHBlZEV4cG9ydHMiLCJzcGVudEF2ZXJhZ2UiLCJwb29sQ29uZmlnIiwiZmFjdG9yeSIsImNyZWF0ZSIsImlkIiwidXVpZCIsInMiLCJnZXRUaW1lIiwiYnJvd3Nlck5ld1BhZ2UiLCJpc0Nsb3NlZCIsIndvcmtDb3VudCIsInJhbmRvbSIsInZhbGlkYXRlIiwid29ya2VySGFuZGxlIiwibG9nTGV2ZWwiLCJpbml0IiwiYWxsQXJncyIsInRyeUNvdW50Iiwib3BlbiIsImxhdW5jaCIsImhlYWRsZXNzIiwidXNlckRhdGFEaXIiLCJlIiwiY3JlYXRlQnJvd3NlciIsImtpbGxBbGwiLCJjb2RlIiwiZXhpdCIsIlBvb2wiLCJtaW4iLCJjcmVhdGVSZXRyeUludGVydmFsTWlsbGlzIiwiY3JlYXRlVGltZW91dE1pbGxpcyIsImFjcXVpcmVUaW1lb3V0TWlsbGlzIiwiZGVzdHJveVRpbWVvdXRNaWxsaXMiLCJpZGxlVGltZW91dE1pbGxpcyIsInJlYXBJbnRlcnZhbE1pbGxpcyIsInByb3BhZ2F0ZUNyZWF0ZUVycm9yIiwiZXZlbnRJZCIsInJlc291cmNlIiwiaW5pdGlhbFJlc291cmNlcyIsImFjcXVpcmUiLCJwcm9taXNlIiwicmVsZWFzZSIsImZhaWwiLCJnZXRQb29sSW5mbyIsIndvcmtTdGFydCIsImV4cG9ydFRpbWUiLCJhdmFpbGFibGUiLCJib3Jyb3dlZCIsInBlbmRpbmciLCJzcGFyZVJlc291cmNlQ2FwYWNpdHkiLCJwb29sJDEiLCJwYWNrYWdlVmVyc2lvbiIsIm5wbV9wYWNrYWdlX3ZlcnNpb24iLCJzZXJ2ZXJTdGFydFRpbWUiLCJyZXZlcnNlZE1pbWUiLCJwbmciLCJqcGVnIiwiZ2lmIiwicmVxdWVzdHNDb3VudGVyIiwiYmVmb3JlUmVxdWVzdCIsImFmdGVyUmVxdWVzdCIsImRvQ2FsbGJhY2tzIiwiY2FsbGJhY2tzIiwidW5pcXVlSWQiLCJjYWxsUmVzcG9uc2UiLCJleHBvcnRIYW5kbGVyIiwic3RhcnQiLCJocnRpbWUiLCJiaWdpbnQiLCJtZWFzdXJlVGltZSIsImRlZmF1bHRPcHRpb25zIiwiaGVhZGVycyIsImNvbm5lY3Rpb24iLCJyZW1vdGVBZGRyZXNzIiwiY29ubmVjdGlvbkFib3J0ZWQiLCJzb2NrZXQiLCJ0b0xvd2VyQ2FzZSIsImI2NCIsImRhdGFPcHRpb25zIiwibm9Eb3dubG9hZCIsImlwUmVnRXgiLCJpbmZvIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiQnVmZmVyIiwiZnJvbSIsImhlYWRlciIsImF0dGFjaG1lbnQiLCJwYXJhbXMiLCJmaWxlbmFtZSIsImV4cHJlc3MiLCJkaXNhYmxlIiwiY29ycyIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJtZW1vcnlTdG9yYWdlIiwidXBsb2FkIiwibGltaXRzIiwiZmllbGRzU2l6ZSIsImFueSIsImJvZHlQYXJzZXIiLCJsaW1pdCIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImVycm9ySGFuZGxlciIsImF0dGFjaEVycm9ySGFuZGxlcnMiLCJzZXJ2ZXJDb25maWciLCJodHRwU2VydmVyIiwiY3JlYXRlU2VydmVyIiwibGlzdGVuIiwiY2VydCIsImZzUHJvbWlzZXMiLCJwb3NpeCIsImh0dHBzU2VydmVyIiwiTmFOIiwic3RhdGljIiwiYm9vdFRpbWUiLCJ1cHRpbWUiLCJmbG9vciIsImhpZ2hjaGFydHNWZXJzaW9uIiwiYXZlcmFnZVByb2Nlc3NpbmdUaW1lIiwiZmFpbGVkRXhwb3J0cyIsInN1Y2Vzc1JhdGlvIiwiaGVhbHRoUm91dGUiLCJwb3N0IiwiZXhwb3J0Um91dGVzIiwic2VuZEZpbGUiLCJ1aVJvdXRlIiwiY3Rva2VuIiwiSElHSENIQVJUU19BRE1JTl9UT0tFTiIsInRva2VuIiwidnN3aXRjaFJvdXRlIiwiZ2V0RXhwcmVzcyIsImdldEFwcCIsIm1pZGRsZXdhcmVzIiwiZW5hYmxlUmF0ZUxpbWl0aW5nIiwiaW5kZXgiLCJzdGFydFNlcnZlciIsImtpbGxQb29sIiwiaW5pdFBvb2wiLCJjb25maWdGaWxlIiwibG9hZENvbmZpZ0ZpbGUiLCJwYXJzZUludCIsImxvZ0Rlc3QiLCJsb2dGaWxlIiwiZW5hYmxlRmlsZUxvZ2dpbmciXSwibWFwcGluZ3MiOiI2dUJBaUJBQSxFQUFPQyxTQUlBLE1BQU1DLEVBQWdCLENBQzNCQyxVQUFXLENBQ1RDLEtBQU0sQ0FDSkMsTUFBTyxHQUNQQyxLQUFNLFdBQ05DLFlBQWEsNkNBR2pCQyxXQUFZLENBQ1ZDLFFBQVMsQ0FDUEosTUFBTyxTQUNQSyxRQUFTLHFCQUNUSixLQUFNLFNBQ05DLFlBQWEsOEJBRWZJLE9BQVEsQ0FDTk4sTUFBTywrQkFDUEssUUFBUyxpQkFDVEosS0FBTSxTQUNOQyxZQUFhLDZDQUVmSyxZQUFhLENBQ1hGLFFBQVMsMEJBQ1RMLE1BQU8sQ0FBQyxhQUFjLGtCQUFtQixpQkFDekNDLEtBQU0sV0FDTkMsWUFBYSxxQ0FFZk0sUUFBUyxDQUNQSCxRQUFTLHFCQUNUTCxNQUFPLENBQ0wsUUFDQSxNQUNBLFFBQ0EsWUFDQSxjQUNBLHVCQUNBLGdCQUNBLHVCQUNBLGVBQ0EsUUFDQSxPQUNBLG1CQUNBLGVBQ0EsY0FDQSxVQUNBLFVBQ0EsV0FDQSxVQUNBLGNBQ0EsWUFDQSxzQkFDQSxTQUNBLFNBQ0EsV0FDQSxZQUNBLGVBQ0EsU0FDQSxlQUNBLFlBQ0Esa0JBQ0EsU0FDQSxjQUNBLG1CQUNBLGVBQ0EsY0FDQSxlQUNBLGNBQ0EsY0FDQSxXQUNBLGVBQ0EsV0FDQSxTQUNBLE9BQ0EsV0FDQSxZQUNBLFNBQ0EscUJBQ0EsYUFDQSxXQUNBLFdBQ0EsV0FDQSxXQUNBLGVBQ0EsVUFDQSxrQkFDQSxvQkFDQSxjQUVG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
=======
"use strict";require("colors");var e=require("fs"),t=require("path"),o=require("body-parser"),r=require("cors"),i=require("express"),n=require("multer"),s=require("http"),a=require("https"),l=require("dotenv"),c=require("express-rate-limit"),p=require("url"),u=require("https-proxy-agent"),d=require("uuid"),h=require("tarn"),g=require("puppeteer"),f=require("node:path"),m=require("node:crypto");require("prompts");var v="undefined"!=typeof document?document.currentScript:null;function y(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var b=y(p);l.config();const w={puppeteer:{args:{value:[],type:"string[]",description:"Array of arguments to send to puppeteer."}},highcharts:{version:{value:"latest",envLink:"HIGHCHARTS_VERSION",type:"string",description:"Highcharts version to use."},cdnURL:{value:"https://code.highcharts.com/",envLink:"HIGHCHARTS_CDN",type:"string",description:"The CDN URL of Highcharts scripts to use."},coreScripts:{envLink:"HIGHCHARTS_CORE_SCRIPTS",value:["highcharts","highcharts-more","highcharts-3d"],type:"string[]",description:"Highcharts core scripts to fetch."},modules:{envLink:"HIGHCHARTS_MODULES",value:["stock","map","gantt","exporting","export-data","parallel-coordinates","accessibility","annotations-advanced","boost-canvas","boost","data","draggable-points","static-scale","broken-axis","heatmap","tilemap","timeline","treemap","item-series","drilldown","histogram-bellcurve","bullet","funnel","funnel3d","pyramid3d","networkgraph","pareto","pattern-fill","pictorial","price-indicator","sankey","arc-diagram","dependency-wheel","series-label","solid-gauge","sonification","stock-tools","streamgraph","sunburst","variable-pie","variwide","vector","venn","windbarb","wordcloud","xrange","no-data-to-display","drag-panes","debugger","dumbbell","lollipop","cylinder","organization","dotplot","marker-clusters","hollowcandlestick","heikinashi"],type:"string[]",description:"Highcharts modules to fetch."},indicators:{envLink:"HIGHCHARTS_INDICATORS",value:["indicators-all"],type:"string[]",description:"Highcharts indicators to fetch."},scripts:{value:["https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"],type:"string[]",description:"Additional direct scripts/optional dependencies (e.g. moment.js)."}},export:{infile:{value:!1,type:"string",description:"The input file name along with a type (json or svg). It can be a correct JSON or SVG file."},instr:{value:!1,type:"string",description:"An input in a form of a stringified JSON or SVG file. Overrides the --infile."},options:{value:!1,type:"string",description:"An alias for the --instr option."},outfile:{value:!1,type:"string",description:"The output filename along with a type (jpeg, png, pdf or svg). Ignores the --type flag."},type:{envLink:"EXPORT_DEFAULT_TYPE",value:"png",type:"string",description:"The format of the file to export to. Can be jpeg, png, pdf or svg."},constr:{envLink:"EXPORT_DEFAULT_CONSTR",value:"chart",type:"string",description:"The constructor to use. Can be chart, stockChart, mapChart or ganttChart."},defaultHeight:{envLink:"EXPORT_DEFAULT_HEIGHT",value:400,type:"number",description:"The default height of the exported chart. Used when not found any value set."},defaultWidth:{envLink:"EXPORT_DEFAULT_WIDTH",value:600,type:"number",description:"The default width of the exported chart. Used when not found any value set."},defaultScale:{envLink:"EXPORT_DEFAULT_SCALE",value:1,type:"number",description:"The default scale of the exported chart. Ranges between 1 and 5."},height:{type:"number",value:!1,description:"The default height of the exported chart. Overrides the option in the chart settings."},width:{type:"number",value:!1,description:"The width of the exported chart. Overrides the option in the chart settings."},scale:{value:!1,type:"number",description:"The scale of the exported chart. Ranges between 1 and 5."},globalOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with options to be passed into the Highcharts.setOptions."},themeOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with theme options to be passed into the Highcharts.setOptions."},batch:{value:!1,type:"string",description:'Starts a batch job. A string that contains input/output pairs: "in=out;in=out;..".'}},customCode:{allowCodeExecution:{envLink:"HIGHCHARTS_ALLOW_CODE_EXECUTION",value:!1,type:"boolean",description:"If set to true, allow for the execution of arbitrary code when exporting."},allowFileResources:{envLink:"HIGHCHARTS_ALLOW_FILE_RESOURCES",value:!0,type:"boolean",description:"Allow injecting resources from the filesystem. Has no effect when running as a server."},customCode:{value:!1,type:"string",description:"A function to be called before chart initialization. Can be a filename with the js extension."},callback:{value:!1,type:"string",description:"A JavaScript file with a function to run on construction."},resources:{value:!1,type:"string",description:"An additional resource in a form of stringified JSON. It can contain files, js and css sections."},loadConfig:{value:!1,type:"string",description:"A file that contains a pre-defined config to use."},createConfig:{value:!1,type:"string",description:"Allows to set options through a prompt and save in a provided config file."}},server:{enable:{envLink:"HIGHCHARTS_SERVER_ENABLE",value:!1,type:"boolean",cliName:"enableServer",description:"If set to true, starts a server on 0.0.0.0."},host:{envLink:"HIGHCHARTS_SERVER_HOST",value:"0.0.0.0",type:"string",description:"The hostname of the server. Also starts a server listening on the supplied hostname."},port:{envLink:"HIGHCHARTS_SERVER_PORT",value:7801,type:"number",description:"The port to use for the server. Defaults to 7801."},ssl:{enable:{envLink:"HIGHCHARTS_SERVER_SSL_ENABLE",value:!1,type:"boolean",cliName:"enableSsl",description:"Enables the SSL protocol."},force:{envLink:"HIGHCHARTS_SERVER_SSL_FORCE",value:!1,type:"boolean",cliName:"sslForced",description:"If set to true, forces the server to only serve over HTTPS."},port:{envLink:"HIGHCHARTS_SERVER_SSL_PORT",value:443,type:"number",cliName:"sslPort",description:"The port on which to run the SSL server."},certPath:{envLink:"HIGHCHARTS_SSL_CERT_PATH",value:"",type:"string",description:"The path to the SSL certificate/key."}},rateLimiting:{enable:{envLink:"HIGHCHARTS_RATE_LIMIT_ENABLE",value:!1,type:"boolean",cliName:"enableRateLimiting",description:"Enables rate limiting."},maxRequests:{envLink:"HIGHCHARTS_RATE_LIMIT_MAX",value:10,type:"number",description:"Max requests allowed in a one minute."},window:{envLink:"HIGHCHARTS_RATE_LIMIT_WINDOW",value:1,type:"number",description:"The time window in minutes for rate limiting."},delay:{envLink:"HIGHCHARTS_RATE_LIMIT_DELAY",value:0,type:"number",description:"The amount to delay each successive request before hitting the max."},trustProxy:{envLink:"HIGHCHARTS_RATE_LIMIT_TRUST_PROXY",value:!1,type:"boolean",description:"Set this to true if behind a load balancer."},skipKey:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_KEY",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipToken argument."},skipToken:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_TOKEN",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipKey argument."}}},pool:{initialWorkers:{envLink:"HIGHCHARTS_POOL_MIN_WORKERS",value:4,type:"number",description:"The number of initial workers to spawn."},maxWorkers:{envLink:"HIGHCHARTS_POOL_MAX_WORKERS",value:8,type:"number",description:"The number of max workers to spawn."},workLimit:{envLink:"HIGHCHARTS_POOL_WORK_LIMIT",value:40,type:"number",description:"The pieces of work that can be performed before restarting process."},queueSize:{envLink:"HIGHCHARTS_POOL_QUEUE_SIZE",value:5,type:"number",description:"The size of the request overflow queue."},timeoutThreshold:{envLink:"HIGHCHARTS_POOL_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds before timing out."},acquireTimeout:{envLink:"HIGHCHARTS_POOL_ACQUIRE_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds to wait for acquiring a resource."},reaper:{envLink:"HIGHCHARTS_POOL_ENABLE_REAPER",value:!0,type:"boolean",description:"Whether or not to evict workers after a certain time period."},benchmarking:{envLink:"HIGHCHARTS_POOL_BENCHMARKING",value:!1,type:"boolean",description:"Enable benchmarking."},listenToProcessExits:{envLink:"HIGHCHARTS_POOL_LISTEN_TO_PROCESS_EXITS",value:!0,type:"boolean",description:"Set to false in order to skip attaching process.exit handlers."}},logging:{level:{envLink:"HIGHCHARTS_LOG_LEVEL",value:4,type:"number",cliName:"logLevel",description:"The log level (0: silent, 1: error, 2: warning, 3: notice, 4: verbose)."},file:{envLink:"HIGHCHARTS_LOG_FILE",value:"highcharts-export-server.log",type:"string",cliName:"logFile",description:"A name of a log file. The --logDest also needs to be set to enable file logging."},dest:{envLink:"HIGHCHARTS_LOG_DEST",value:"log/",type:"string",cliName:"logDest",description:"The path to store log files. Also enables file logging."}},ui:{enable:{envLink:"HIGHCHARTS_UI_ENABLE",value:!1,type:"boolean",cliName:"enableUi",description:"Enables the UI for the export server."},route:{envLink:"HIGHCHARTS_UI_ROUTE",value:"/",type:"string",cliName:"uiRoute",description:"The route to attach the UI to."}},other:{noLogo:{envLink:"HIGHCHARTS_NO_LOGO",value:!1,type:"boolean",description:"Skip printing the logo on a startup. Will be replaced by a simple text."}},payload:{}};w.puppeteer.args.value.join(","),w.highcharts.version.value,w.highcharts.cdnURL.value,w.highcharts.modules.value,w.highcharts.scripts.value.join(","),w.export.type.value,w.export.constr.value,w.export.defaultHeight.value,w.export.defaultWidth.value,w.export.defaultScale.value,w.customCode.allowCodeExecution.value,w.customCode.allowFileResources.value,w.server.enable.value,w.server.host.value,w.server.port.value,w.server.ssl.enable.value,w.server.ssl.force.value,w.server.ssl.port.value,w.server.ssl.certPath.value,w.server.rateLimiting.enable.value,w.server.rateLimiting.maxRequests.value,w.server.rateLimiting.window.value,w.server.rateLimiting.delay.value,w.server.rateLimiting.trustProxy.value,w.server.rateLimiting.skipKey.value,w.server.rateLimiting.skipToken.value,w.pool.initialWorkers.value,w.pool.maxWorkers.value,w.pool.workLimit.value,w.pool.queueSize.value,w.pool.timeoutThreshold.value,w.pool.acquireTimeout.value,w.pool.reaper.value,w.pool.benchmarking.value,w.pool.listenToProcessExits.value,w.logging.level.value,w.logging.file.value,w.logging.dest.value,w.ui.enable.value,w.ui.route.value,w.other.noLogo.value;const x=["options","globalOptions","themeOptions","resources","payload"],T={},k=(e,t="")=>{Object.keys(e).forEach((o=>{if(!["puppeteer","highcharts"].includes(o)){const r=e[o];void 0===r.value?k(r,`${t}.${o}`):T[r.cliName||o]=`${t}.${o}`.substring(1)}}))};k(w);let S={toConsole:!0,toFile:!1,pathCreated:!1,levelsDesc:[{title:"error",color:"red"},{title:"warning",color:"yellow"},{title:"notice",color:"blue"},{title:"verbose",color:"gray"}],listeners:[]};for(const[e,t]of Object.entries(w.logging))S[e]=t.value;const H=(...t)=>{const[o,...r]=t,{level:i,levelsDesc:n}=S;if(0===o||o>i||i>n.length)return;const s=`${(new Date).toString().split("(")[0].trim()} [${n[o-1].title}] -`;S.listeners.forEach((e=>{e(s,r.join(" "))})),S.toFile&&(S.pathCreated||(!e.existsSync(S.dest)&&e.mkdirSync(S.dest),S.pathCreated=!0),e.appendFile(`${S.dest}${S.file}`,[s].concat(r).join(" ")+"\n",(e=>{e&&(console.log(`[logger] Unable to write to log file: ${e}`),S.toFile=!1)}))),S.toConsole&&console.log.apply(void 0,[s.toString()[S.levelsDesc[o-1].color]].concat(r))},E=p.fileURLToPath(new URL("../.","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),R=(e,t=/\s\s+/g,o=" ")=>e.replaceAll(t,o).trim(),L=(e,t)=>{const o=["png","jpeg","pdf","svg"];if(t){const r=t.split(".").pop();o.includes(r)&&e!==r&&(e=r)}return{"image/png":"png","image/jpeg":"jpeg","application/pdf":"pdf","image/svg+xml":"svg"}[e]||o.find((t=>t===e))||"png"},O=(t=!1,o)=>{const r=["js","css","files"];let i=t,n=!1;if(o&&t.endsWith(".json"))try{t?t&&t.endsWith(".json")?i=C(e.readFileSync(t,"utf8")):(i=C(t),!0===i&&(i=C(e.readFileSync("resources.json","utf8")))):i=C(e.readFileSync("resources.json","utf8"))}catch(e){return H(3,"[cli] No resources found.")}else i=C(t),o||delete i.files;for(const e in i)r.includes(e)?n||(n=!0):delete i[e];return n?(i.files&&(i.files=i.files.map((e=>e.trim())),(!i.files||i.files.length<=0)&&delete i.files),i):H(3,"[cli] No resources found.")};function C(e,t){try{const o=JSON.parse("string"!=typeof e?JSON.stringify(e):e);return"string"!=typeof o&&t?JSON.stringify(o):o}catch(e){return!1}}const _=e=>{if(null===e||"object"!=typeof e)return e;const t=Array.isArray(e)?[]:{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=_(e[o]));return t},A=(e,t)=>JSON.stringify(e,((e,o)=>("string"==typeof o&&((o=o.trim()).startsWith("function(")||o.startsWith("function ("))&&o.endsWith("}")&&(o=t?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:void 0),"function"==typeof o?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:o))).replaceAll(/"EXP_FUN|EXP_FUN"/g,"");function $(){console.log("Usage of CLI arguments:".bold,"\n------",`\nFor more detailed information visit readme at: ${"https://github.com/highcharts/node-export-server#readme".bold.yellow}.`);const e=t=>{for(const[o,r]of Object.entries(t))if(Object.prototype.hasOwnProperty.call(r,"value")){let e=`  --${r.cliName||o} ${("<"+r.type+">").green} `;if(e.length<48)for(let t=e.length;t<48;t++)e+=".";console.log(e,r.description,`[Default: ${r.value.toString().bold}]`.blue)}else e(r)};Object.keys(w).forEach((t=>{["puppeteer","highcharts"].includes(t)||(console.log(`\n${t.toUpperCase()}`.red),e(w[t]))})),console.log("\n")}const I=e=>!["false","undefined","null","NaN","0",""].includes(e)&&!!e,j=(t,o)=>{if(t&&"string"==typeof t)return(t=t.trim()).endsWith(".js")?!!o&&j(e.readFileSync(t,"utf8")):t.startsWith("function()")||t.startsWith("function ()")||t.startsWith("()=>")||t.startsWith("() =>")?`(${t})()`:t.replace(/;$/,"")};var P=(e,t)=>{const o="Too many requests, you have been rate limited. Please try again later.",r={max:t.maxRequests||30,window:t.window||1,delay:t.delay||0,trustProxy:t.trustProxy||!1,skipKey:t.skipKey||!1,skipToken:t.skipToken||!1};r.trustProxy&&e.enable("trust proxy");const i=c({windowMs:60*r.window*1e3,max:r.max,delayMs:r.delay,handler:(e,t)=>{t.format({json:()=>{t.status(429).send({message:o})},default:()=>{t.status(429).send(o)}})},skip:e=>!1!==r.skipKey&&!1!==r.skipToken&&e.query.key===r.skipKey&&e.query.access_token===r.skipToken&&(H(4,"[rate-limiting] Skipping rate limiter."),!0)});e.use(i),H(3,R(`[rate-limiting] Enabled rate limiting: ${r.max} requests\n      per ${r.window} minute per IP, trusting proxy:\n      ${r.trustProxy}.`))};async function N(e,t={}){return new Promise(((o,r)=>{const i=(e=>e.startsWith("https")?a:s)(e);i.get(e,t,(e=>{let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{t||r("Nothing was fetched from the URL."),e.text=t,o(e)}))})).on("error",(e=>{r(e)}))}))}l.config();const F=t.join(E,".cache"),U={cdnURL:"https://code.highcharts.com/",activeManifest:{},sources:"",hcVersion:""};let q=!1;const G=()=>U.hcVersion=U.sources.substr(0,U.sources.indexOf("*/")).replace("/*","").replace("*/","").replace(/\n/g,"").trim(),W=async(e,t)=>{try{e.endsWith(".js")&&(e=e.substring(0,e.length-3)),H(4,`[cache] Fetching script - ${e}.js`);const o=t?{agent:t,timeout:+process.env.PROXY_SERVER_TIMEOUT||5e3}:{},r=await N(`${e}.js`,o);if(200===r.statusCode)return r.text;throw`${r.statusCode}`}catch(t){throw H(1,`[cache] Error fetching script ${e}.js: ${t}.`),t}},M=async(t,o)=>{const{coreScripts:r,modules:i,indicators:n,scripts:s}=t,a="latest"!==t.version&&t.version?`${t.version}/`:"";H(3,"[cache] Updating cache to Highcharts ",a);const l=[...r.map((e=>`${a}${e}`)),...i.map((e=>"map"===e?`maps/${a}modules/${e}`:`${a}modules/${e}`)),...n.map((e=>`stock/${a}indicators/${e}`))];let c;const p=process.env.PROXY_SERVER_HOST,d=process.env.PROXY_SERVER_PORT;p&&d&&(c=new u({host:p,port:+d}));const h={};try{return U.sources=(await Promise.all([...l.map((async e=>{const o=await W(`${t.cdnURL||U.cdnURL}${e}`,c);return"string"==typeof o&&(h[e.replace(/(.*)\/|(.*)modules\/|stock\/(.*)indicators\/|maps\/(.*)modules\//gi,"")]=1),o})),...s.map((e=>W(e,c)))])).join(";\n"),G(),e.writeFileSync(o,U.sources),h}catch(e){H(1,"[cache] Unable to update local Highcharts cache.")}},D=async o=>{let r;const i=t.join(F,"manifest.json"),n=t.join(F,"sources.js");if(q=o,!e.existsSync(F)&&e.mkdirSync(F),e.existsSync(i)){let t=!1;const s=JSON.parse(e.readFileSync(i));if(s.modules&&Array.isArray(s.modules)){const e={};s.modules.forEach((t=>e[t]=1)),s.modules=e}const{modules:a,coreScripts:l,indicators:c}=o,p=a.length+l.length+c.length;s.version!==o.version?(H(3,"[cache] Highcharts version mismatch in cache, need to re-fetch."),t=!0):Object.keys(s.modules||{}).length!==p?(H(3,"[cache] Cache and requested modules does not match, need to re-fetch."),t=!0):t=(o.modules||[]).some((e=>{if(!s.modules[e])return H(3,`[cache] The ${e} missing in cache, need to re-fetch.`),!0})),t?r=await M(o,n):(H(3,"[cache] Dependency cache is up to date, proceeding."),U.sources=e.readFileSync(n,"utf8"),r=s.modules,G())}else H(3,"[cache] Fetching and caching Highcharts dependencies."),r=await M(o,n);await(async(o,r)=>{const i={version:o.version,modules:r||{}};U.activeManifest=i,H(4,"[cache] writing new manifest");try{e.writeFileSync(t.join(F,"manifest.json"),JSON.stringify(i),"utf8")}catch(e){H(1,`[cache] Error writing cache manifest: ${e}.`)}})(o,r)};var V=async e=>!!q&&await D(Object.assign(q,{version:e})),J=()=>U,z=()=>U.hcVersion;const K=m.randomBytes(64).toString("base64url"),X=f.join("tmp",`puppeteer-${K}`),B=[`--user-data-dir=${f.join(X,"profile")}`,"--autoplay-policy=user-gesture-required","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-update","--disable-default-apps","--disable-dev-shm-usage","--disable-domain-reliability","--disable-extensions","--disable-features=AudioServiceOutOfProcess","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-notifications","--disable-offer-store-unmasked-wallet-cards","--disable-popup-blocking","--disable-print-preview","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-session-crashed-bubble","--disable-setuid-sandbox","--disable-speech-api","--disable-sync","--hide-crash-restore-bubble","--hide-scrollbars","--ignore-gpu-blacklist","--metrics-recording-only","--mute-audio","--no-default-browser-check","--no-first-run","--no-pings","--no-sandbox","--no-zygote","--password-store=basic","--use-mock-keychain"],Y=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),Q=e.readFileSync(Y+"/../templates/template.html","utf8");let Z;const ee=async()=>{if(!Z)return!1;const e=await Z.newPage();return await e.setContent(Q),await e.addScriptTag({path:Y+"/../.cache/sources.js"}),await e.evaluate((()=>window.setupHighcharts())),e.on("pageerror",(async t=>{H(1,"[page error]",t),await e.$eval("#container",((e,t)=>{window._displayErrors&&(e.innerHTML=t)}),`<h1>Chart input data error</h1>${t.toString()}`)})),e},te=async()=>{Z.connected&&await Z.close()};const oe=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),re=async(e,t,o)=>await e.evaluate(((e,t)=>window.triggerExport(e,t)),t,o);var ie=async(o,r,i)=>{const n=[],s=async e=>{for(const e of n)await e.dispose();await e.evaluate((()=>{const[,...e]=document.getElementsByTagName("script"),[,...t]=document.getElementsByTagName("style"),[...o]=document.getElementsByTagName("link");for(const r of[...e,...t,...o])r.remove()}))};try{const a=()=>{};H(4,"[export] Determining export path.");const l=i.export;await o.evaluate((()=>requestAnimationFrame((()=>{}))));const c=l?.options?.chart?.displayErrors&&J().activeManifest.modules.debugger;await o.evaluate((e=>window._displayErrors=e),c);const p=()=>{};let u;if(r.indexOf&&(r.indexOf("<svg")>=0||r.indexOf("<?xml")>=0)){if(H(4,"[export] Treating as SVG."),"svg"===l.type)return r;u=!0;const e=()=>{};await o.setContent((e=>`\n<!DOCTYPE html>\n<html lang='en-US'>\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n    <title>Highcarts Export</title>\n  </head>\n  <style>\n    \n\nhtml, body {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#table-div, #sliders, #datatable, #controls, .ld-row {\n  display: none;\n  height: 0;\n}\n\n#chart-container {\n  box-sizing: border-box;\n  margin: 0;\n  overflow: auto;\n  font-size: 0;\n}\n\n#chart-container > figure, div {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n\n\n  </style>\n  <body>\n    <div id="chart-container">\n      ${e}\n    </div>\n  </body>\n</html>\n\n`)(r)),e()}else if(H(4,"[export] Treating as config."),l.strInj){const e=()=>{};await re(o,{chart:{height:l.height,width:l.width}},i),e()}else{r.chart.height=l.height,r.chart.width=l.width;const e=()=>{};await re(o,r,i),e()}p();const d=()=>{},h=i.customCode.resources;if(h){if(h.js&&n.push(await o.addScriptTag({content:h.js})),h.files)for(const t of h.files)try{const r=!t.startsWith("http");n.push(await o.addScriptTag(r?{content:e.readFileSync(t,"utf8")}:{url:t}))}catch(e){H(4,"[export] JS file not found.")}const r=()=>{};if(h.css){let e=h.css.match(/@import\s*([^;]*);/g);if(e)for(let r of e)r&&(r=r.replace("url(","").replace("@import","").replace(/"/g,"").replace(/'/g,"").replace(/;/,"").replace(/\)/g,"").trim(),r.startsWith("http")?n.push(await o.addStyleTag({url:r})):i.customCode.allowFileResources&&n.push(await o.addStyleTag({path:t.join(oe,r)})));n.push(await o.addStyleTag({content:h.css.replace(/@import\s*([^;]*);/g,"")||" "}))}r()}d();const g=u?await o.$eval("#chart-container svg:first-of-type",(async(e,t)=>({chartHeight:e.height.baseVal.value*t,chartWidth:e.width.baseVal.value*t})),parseFloat(l.scale)):await o.evaluate((async()=>{const{chartHeight:e,chartWidth:t}=window.Highcharts.charts[0];return{chartHeight:e,chartWidth:t}})),f=()=>{},m=Math.ceil(g?.chartHeight||l.height),v=Math.ceil(g?.chartWidth||l.width);await o.setViewport({height:m,width:v,deviceScaleFactor:u?1:parseFloat(l.scale)});const y=u?e=>{document.body.style.zoom=e,document.body.style.margin="0px"}:()=>{document.body.style.zoom=1};await o.evaluate(y,parseFloat(l.scale));const{height:b,width:w,x:x,y:T}=await(e=>e.$eval("#chart-container",(e=>{const{x:t,y:o,width:r,height:i}=e.getBoundingClientRect();return{x:t,y:o,width:r,height:Math.trunc(i>1?i:500)}})))(o);let k;u||await o.setViewport({width:Math.round(w),height:Math.round(b),deviceScaleFactor:parseFloat(l.scale)}),f();const S=()=>{};if("svg"===l.type)k=await(async e=>await e.$eval("#container svg:first-of-type",(e=>e.outerHTML)))(o);else if("png"===l.type||"jpeg"===l.type)k=await(async(e,t,o,r)=>await Promise.race([e.screenshot({type:t,encoding:o,clip:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("Rasterization timeout"))),1500)))]))(o,l.type,"base64",{width:v,height:m,x:x,y:T});else{if("pdf"!==l.type)throw`Unsupported output format ${l.type}`;k=await(async(e,t,o,r)=>await e.pdf({height:t+1,width:o,encoding:r}))(o,m,v,"base64")}return await o.evaluate((()=>{const e=Highcharts.charts;if(e.length)for(const t of e)t&&t.destroy(),Highcharts.charts.shift()})),S(),a(),await s(o),k}catch(e){return await s(o),H(1,`[export] Error encountered during export: ${e}`),e}};let ne,se=0,ae=0,le=0,ce=0,pe=0,ue={},de=!1;const he={create:async()=>{const e=d.v4();let t=!1;const o=(new Date).getTime();try{if(t=await ee(),!t||t.isClosed())throw"invalid page";H(3,`[pool] Successfully created a worker ${e} - took ${(new Date).getTime()-o} ms.`)}catch(e){throw H(1,`[pool] Error creating a new page in pool entry creation! ${e}`),"Error creating page"}return{id:e,page:t,workCount:Math.round(Math.random()*(ue.workLimit/2))}},validate:e=>!(ue.workLimit&&++e.workCount>ue.workLimit)||(H(3,"[pool] Worker failed validation:",`exceeded work limit (limit is ${ue.workLimit})`),!1),destroy:e=>{H(3,`[pool] Destroying pool entry ${e.id}.`),e.page&&e.page.close()},log:(e,t)=>console.log(`${t}: ${e}`)},ge=async e=>{ne=e.puppeteerArgs;try{await(async e=>{const t=[...B,...e||[]];if(!Z){let e=0;const o=async()=>{try{H(3,"[browser] attempting to get a browser instance (try",e+")"),Z=await g.launch({headless:"new",args:t,userDataDir:"./tmp/"})}catch(t){H(0,"[browser]",t),++e<25?(H(3,"[browser] failed:",t),await new Promise((e=>setTimeout(e,4e3))),await o()):H(0,"Max retries reached")}};try{await o()}catch(e){return H(0,"[browser] Unable to open browser"),!1}if(!Z)return H(0,"[browser] Unable to open browser"),!1}return Z})(ne)}catch(e){H(0,"[pool|browser]",e)}if(ue=e&&e.pool?{...e.pool}:{},H(3,"[pool] Initializing pool:",`min ${ue.initialWorkers}, max ${ue.maxWorkers}.`),de)return H(4,"[pool] Already initialized, please kill it before creating a new one.");ue.listenToProcessExits&&(H(4,"[pool] Attaching exit listeners to the process."),process.on("exit",(async()=>{await fe()})),process.on("SIGINT",((e,t)=>{H(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("SIGTERM",((e,t)=>{H(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("uncaughtException",(async(e,t)=>{H(4,`The ${t} error, message: ${e.message}.`)})));try{de=new h.Pool({...he,min:ue.initialWorkers,max:ue.maxWorkers,createRetryIntervalMillis:200,createTimeoutMillis:ue.acquireTimeout,acquireTimeoutMillis:ue.acquireTimeout,destroyTimeoutMillis:ue.acquireTimeout,idleTimeoutMillis:ue.timeoutThreshold,reapIntervalMillis:1e3,propagateCreateError:!1}),de.on("createFail",((e,t)=>{H(1,`[pool] Error when creating worker of an event id ${e}:`,t)})),de.on("acquireFail",((e,t)=>{H(1,`[pool] Error when acquiring worker of an event id ${e}:`,t)})),de.on("destroyFail",((e,t,o)=>{H(1,`[pool] Error when destroying worker of an id ${t.id}, event id ${e}:`,o)})),de.on("release",(e=>{H(4,`[pool] Releasing a worker of an id ${e.id}`)})),de.on("destroySuccess",((e,t)=>{H(4,`[pool] Destroyed a worker of an id ${t.id}`)}));const e=[];for(let t=0;t<ue.initialWorkers;t++)e.push(await de.acquire().promise);e.forEach((e=>{de.release(e)})),H(3,`[pool] The pool is ready with ${ue.initialWorkers} initial resources waiting.`)}catch(e){throw H(1,`[pool] Couldn't create the worker pool ${e}`),e}};async function fe(){return H(3,"[pool] Killing all workers."),de.destroyed?(await te(),!0):(await de.destroy(),await te(),!0)}const me=async(e,t)=>{let o;const r=e=>{throw++ce,o&&de.release(o),"In pool.postWork: "+e};if(H(4,"[pool] Work received, starting to process."),ue.benchmarking&&ve(),++ae,!de)return H(1,"[pool] Work received, but pool has not been started."),r("Pool is not inited but work was posted to it!");try{H(4,"[pool] Acquiring worker"),o=await de.acquire().promise}catch(e){return r(`[pool] Error when acquiring available entry: ${e}`)}if(H(4,"[pool] Acquired worker handle"),!o.page)return r("Resolved worker page is invalid: pool setup is wonky");try{let i=(new Date).getTime();H(4,`[pool] Starting work on pool entry ${o.id}.`);const n=await ie(o.page,e,t);if(n instanceof Error)return"Rasterization timeout"===n.message&&(o.page.close(),o.page=await ee()),r(n);de.release(o);const s=(new Date).getTime()-i;return le+=s,pe=le/++se,H(4,`[pool] Work completed in ${s} ms.`),{data:n,options:t}}catch(e){r(`Error trying to perform puppeteer export: ${e}.`)}};function ve(){const{min:e,max:t,size:o,available:r,borrowed:i,pending:n,spareResourceCapacity:s}=de;H(4,`[pool] The minimum number of resources allowed by pool: ${e}.`),H(4,`[pool] The maximum number of resources allowed by pool: ${t}.`),H(4,`[pool] The number of all resources in pool (free or in use): ${o}.`),H(4,`[pool] The number of resources that are currently available: ${r}.`),H(4,`[pool] The number of resources that are currently acquired: ${i}.`),H(4,`[pool] The number of callers waiting to acquire a resource: ${n}.`),H(4,`[pool] The number of how many more resources can the pool manage/create: ${s}.`)}var ye=()=>({min:de.min,max:de.max,size:de.size,available:de.available,borrowed:de.borrowed,pending:de.pending,spareResourceCapacity:de.spareResourceCapacity}),be=()=>ae,we=()=>ce,xe=()=>pe,Te=()=>se;const ke=process.env.npm_package_version,Se=new Date;let He={};const Ee=()=>He,Re=(e,t,o=[])=>{const r=_(e);for(const[e,n]of Object.entries(t))r[e]="object"!=typeof(i=n)||Array.isArray(i)||null===i||o.includes(e)||void 0===r[e]?void 0!==n?n:r[e]:Re(r[e],n,o);var i;return r};function Le(e,t={},o=""){Object.keys(e).forEach((r=>{if(!["puppeteer","highcharts"].includes(r)){const i=e[r],n=t&&t[r];let s;void 0===i.value?Le(i,n,`${o}.${r}`):(void 0!==n&&(i.value=n),i.envLink&&("boolean"===i.type?i.value=I([process.env[i.envLink],i.value].find((e=>e||"false"===e))):"number"===i.type?(s=+process.env[i.envLink],i.value=s>=0?s:i.value):i.type.indexOf("]")>=0&&process.env[i.envLink]?i.value=process.env[i.envLink].split(","):i.value=process.env[i.envLink]||i.value))}}))}function Oe(e){let t={};for(const[o,r]of Object.entries(e))t[o]=Object.prototype.hasOwnProperty.call(r,"value")?r.value:Oe(r);return t}let Ce=!1;const _e=async(t,o)=>{H(4,"[chart] Starting exporting process.");const r=((e,t={})=>{let o={};return e.svg?(o=_(t),o.export.type=e.type||e.export.type,o.export.scale=e.scale||e.export.scale,o.export.outfile=e.outfile||e.export.outfile,o.payload={svg:e.svg}):o=Re(t,e,x),o.export.outfile=o.export?.outfile||`chart.${o.export?.type||"png"}`,o})(t,Ee()),i=r.export;return r.payload?.svg&&""!==r.payload.svg?je(r.payload.svg.trim(),r,o):i.infile&&i.infile.length?(H(4,"[chart] Attempting to export from an input file."),e.readFile(i.infile,"utf8",((e,t)=>e?H(1,`[chart] Error loading input file: ${e}.`):(r.export.instr=t,je(r.export.instr.trim(),r,o))))):i.instr&&""!==i.instr||i.options&&""!==i.options?(H(4,"[chart] Attempting to export from a raw input."),I(r.customCode?.allowCodeExecution)?Ie(r,o):"string"==typeof i.instr?je(i.instr.trim(),r,o):$e(r,i.instr||i.options,o)):(H(1,R(`[chart] No input specified.\n      ${JSON.stringify(i,void 0,"  ")}.`)),o&&o(!1,{error:!0,message:"No input specified."}))},Ae=e=>{const{chart:t,exporting:o}=e.export?.options||C(e.export?.instr),r=C(e.export?.globalOptions);let i=((e,t=1)=>{const o=Math.pow(10,t||0);return Math.round(+e*o)/o})(e.export?.scale||o?.scale||r?.exporting?.scale||e.export?.defaultScale||1);return i>5?i=5:i<.1&&(i=1),{height:e.export?.height||o?.sourceHeight||t?.height||r?.exporting?.sourceHeight||r?.chart?.height||e.export?.defaultHeight||400,width:e.export?.width||o?.sourceWidth||t?.width||r?.exporting?.sourceWidth||r?.chart?.width||e.export?.defaultWidth||600,scale:i}},$e=(t,o,r,i)=>{let{export:n,customCode:s}=t;const a="boolean"==typeof s.allowCodeExecution?s.allowCodeExecution:Ce;if(s){if("string"==typeof t.customCode.resources)t.customCode.resources=O(t.customCode.resources,I(t.customCode.allowFileResources));else if(!t.customCode.resources)try{const o=e.readFileSync("resources.json","utf8");t.customCode.resources=O(o,I(t.customCode.allowFileResources))}catch(e){H(3,"[chart] The default resources.json file not found.")}}else s=t.customCode={};if(!a&&s){if(s.callback||s.resources||s.customCode)return r&&r(!1,{error:!0,message:R("The callback, resources and customCode have been disabled for this\n            server.")});s.callback=!1,s.resources=!1,s.customCode=!1}if(o&&(o.chart=o.chart||{},o.exporting=o.exporting||{},o.exporting.enabled=!1),n.constr=n.constr||"chart",n.type=L(n.type,n.outfile),"svg"===n.type&&(n.width=!1),["globalOptions","themeOptions"].forEach((t=>{try{n&&n[t]&&("string"==typeof n[t]&&n[t].endsWith(".json")?n[t]=C(e.readFileSync(n[t],"utf8"),!0):n[t]=C(n[t],!0))}catch(e){n[t]={},H(1,`[chart] The ${t} not found.`)}})),s.allowCodeExecution&&(s.customCode=j(s.customCode,s.allowFileResources)),s&&s.callback&&s.callback?.indexOf("{")<0)if(s.allowFileResources)try{s.callback=e.readFileSync(s.callback,"utf8")}catch(e){H(2,`[chart] Error loading callback: ${e}.`),s.callback=!1}else s.callback=!1;t.export={...t.export,...Ae(t)},me(n.strInj||o||i,t).then((e=>r(e))).catch((e=>(H(0,"[chart] When posting work:",e),r(!1,e))))},Ie=(e,t)=>{try{let o,r=e.export.instr||e.export.options;return"string"!=typeof r&&(o=r=A(r,e.customCode?.allowCodeExecution)),o=r.replaceAll(/\t|\n|\r/g,"").trim(),";"===o[o.length-1]&&(o=o.substring(0,o.length-1)),e.export.strInj=o,$e(e,!1,t)}catch(o){const r=R(`Malformed input detected for ${e.export?.requestId||"?"}:\n      Please make sure that your JSON/JavaScript options\n      are sent using the "options" attribute, and that if you're using\n      SVG, it is unescaped.`);return H(1,r),t&&t(!1,JSON.stringify({error:!0,message:r}))}},je=(e,t,o)=>{const{allowCodeExecution:r}=t.customCode;if(e.indexOf("<svg")>=0||e.indexOf("<?xml")>=0)return H(4,"[chart] Parsing input as SVG."),$e(t,!1,o,e);try{const r=JSON.parse(e.replaceAll(/\t|\n|\r/g," "));return $e(t,r,o)}catch(e){return I(r)?Ie(t,o):o&&o(!1,{error:!0,message:R("Only JSON configurations and SVG is allowed for this server. If\n            this is your server, JavaScript exporting can be enabled by starting\n            the server with the --allowCodeExecution flag.")})}},Pe={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",pdf:"application/pdf",svg:"image/svg+xml"};let Ne=0;const Fe=[],Ue=[],qe=(e,t,o,r)=>{let i=!0;const{id:n,uniqueId:s,type:a,body:l}=r;return e.some((e=>{if(e){let r=e(t,o,n,s,a,l);return void 0!==r&&!0!==r&&(i=r),!0}})),i},Ge=(e,t)=>{(()=>{const e=process.hrtime.bigint()})();const o=Ee(),r=e.body,i=++Ne,n=d.v4().replace(/-/g,"");let s=L(r.type);if(!r)return t.status(400).send(R("Body is required. Sending a body? Make sure your Content-type header\n        is correct. Accepted is application/json and multipart/form-data."));let a=C(r.infile||r.options||r.data);if(!a&&!r.svg)return H(2,R(`Request ${n} from ${e.headers["x-forwarded-for"]||e.connection.remoteAddress} was incorrect. Check your payload.`)),t.status(400).send(R("No correct chart data found. Please make sure you are using\n        application/json or multipart/form-data headers, and that the chart\n        data is in the 'infile', 'options' or 'data' attribute if sending\n        JSON or in the 'svg' if sending SVG."));let l=!1;if(l=qe(Fe,e,t,{id:i,uniqueId:n,type:s,body:r}),!0!==l)return t.send(l);let c=!1;e.socket.on("close",(()=>{c=!0})),H(4,`[export] Got an incoming HTTP request ${n}.`),r.constr="string"==typeof r.constr&&r.constr||"chart";const p={export:{instr:a,type:s,constr:r.constr[0].toLowerCase()+r.constr.substr(1),height:r.height,width:r.width,scale:r.scale||o.export.scale,globalOptions:C(r.globalOptions,!0),themeOptions:C(r.themeOptions,!0)},customCode:{allowCodeExecution:Ce,allowFileResources:!1,resources:C(r.resources,!0),callback:r.callback,customCode:r.customCode}};a&&(p.export.instr=A(a,p.customCode.allowCodeExecution));const u=Re(o,p);if(u.export.options=a,u.payload={svg:r.svg||!1,b64:r.b64||!1,dataOptions:C(r.dataOptions,!0),noDownload:r.noDownload||!1,requestId:n},r.svg&&(h=u.payload.svg,["localhost","(10).(.*).(.*).(.*)","(127).(.*).(.*).(.*)","(172).(1[6-9]|2[0-9]|3[0-1]).(.*).(.*)","(192).(168).(.*).(.*)"].some((e=>h.match(`xlink:href="(?:(http://|https://))?${e}`)))))return t.status(400).send("SVG potentially contain at least one forbidden URL in xlink:href element.");var h;_e(u,((o,a)=>(e.socket.removeAllListeners("close"),c?H(3,R("[export] The client closed the connection before the chart was done\n          processing.")):a?(H(1,R(`[export] Work: ${n} could not be completed, sending:\n          ${a}`)),t.status(400).send(a.message)):o&&o.data?(s=o.options.export.type,qe(Ue,e,t,{id:i,body:o.data}),o.data?r.b64?"pdf"===s?t.send(Buffer.from(o.data,"utf8").toString("base64")):t.send(o.data):(t.header("Content-Type",Pe[s]||"image/png"),r.noDownload||t.attachment(`${e.params.filename||"chart"}.${s||"png"}`),"svg"===s?t.send(o.data):t.send(Buffer.from(o.data,"base64"))):void 0):(H(1,R(`[export] Unexpected return from chart generation, please check your\n          data Request: ${n} is ${o.data}.`)),t.status(400).send("Unexpected return from chart generation, please check your data.")))))};const We=i();We.disable("x-powered-by"),We.use(r());const Me=n.memoryStorage(),De=n({storage:Me,limits:{fieldsSize:"50MB"}});We.use(De.any()),We.use(o.json({limit:"50mb"})),We.use(o.urlencoded({extended:!0,limit:"50mb"})),We.use(o.urlencoded({extended:!1,limit:"50mb"}));const Ve=e=>H(1,`[server] Socket error: ${e}`),Je=e=>{e.on("clientError",Ve),e.on("error",Ve),e.on("connection",(e=>e.on("error",(e=>Ve(e)))))},ze=async o=>{if(!o.enable)return!1;if(!o.ssl.enable&&!o.ssl.force){const e=s.createServer(We);Je(e),e.listen(o.port,o.host),H(3,`[server] Started HTTP server on ${o.host}:${o.port}.`)}if(o.ssl.enable){let r,i;try{r=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.key"),"utf8"),i=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.crt"),"utf8")}catch(e){H(1,`[server] Unable to load key/certificate from ${o.ssl.certPath}.`)}if(r&&i){const e=a.createServer(We);Je(e),e.listen(o.ssl.port,o.host),H(3,`[server] Started HTTPS server on ${o.host}:${o.ssl.port}.`)}}o.rateLimiting&&o.rateLimiting.enable&&![0,NaN].includes(o.rateLimiting.maxRequests)&&P(We,o.rateLimiting),We.use(i.static(t.posix.join(E,"public"))),(e=>{!!e&&e.get("/health",((e,t)=>{t.send({status:"OK",bootTime:Se,uptime:Math.floor(((new Date).getTime()-Se.getTime())/1e3/60)+" minutes",version:ke,highchartsVersion:z(),averageProcessingTime:xe(),performedExports:Te(),failedExports:we(),exportAttempts:be(),sucessRatio:Te()/be()*100,pool:ye()})}))})(We),(e=>{e.post("/",Ge),e.post("/:filename",Ge)})(We),(e=>{!!e&&e.get("/",((e,o)=>{o.sendFile(t.join(E,"public","index.html"))}))})(We),(e=>{!!e&&e.post("/change_hc_version/:newVersion",(async(e,t)=>{const o=process.env.HIGHCHARTS_ADMIN_TOKEN;if(!o||!o.length)return t.send({error:!0,message:"Server not configured to do run-time version changes: HIGHCHARTS_ADMIN_TOKEN not set"});const r=e.get("hc-auth");if(!r||r!==o)return t.send({error:!0,message:"Invalid or missing token: set token in the hc-auth header"});const i=e.params.newVersion;if(i){try{await V(i)}catch(e){t.send({error:!0,message:e})}t.send({version:z()})}else t.send({error:!0,message:"No new version supplied"})}))})(We)};var Ke={startServer:ze,getExpress:()=>i,getApp:()=>We,use:(e,...t)=>{We.use(e,...t)},get:(e,...t)=>{We.get(e,...t)},post:(e,...t)=>{We.post(e,...t)},enableRateLimiting:e=>P(We,e)},Xe={log:H,mapToNewConfig:e=>{const t={};for(const[o,r]of Object.entries(e)){const e=T[o]?T[o].split("."):[];e.reduce(((t,o,i)=>t[o]=e.length-1===i?r:t[o]||{}),t)}return t},setOptions:(t,o)=>(o?.length&&(He=function(t){const o=t.findIndex((e=>"loadConfig"===e.replace(/-/g,"")));if(o>-1&&t[o+1]){const r=t[o+1];try{if(r&&r.endsWith(".json"))return JSON.parse(e.readFileSync(r))}catch(e){H(1,`[config] Unable to load config from the ${r}: ${e}`)}}return{}}(o)),Le(w,He),He=Oe(w),t&&(He=Re(He,t,x)),o?.length&&(He=function(e,t,o){for(let o=0;o<t.length;o++){let r=t[o].replace(/-/g,"");const i=T[r]?T[r].split("."):[];i.reduce(((n,s,a)=>(i.length-1===a&&void 0!==n[s]&&(t[++o]?n[s]=t[o]||n[s]:(console.log(`Missing argument value for ${r}!`.red,"\n"),e=$())),n[s])),e)}return e}(He,o)),He),singleExport:t=>{t.export.instr=t.export.instr||t.export.options,_e(t,((t,o)=>{o&&(H(1,`[cli] ${o.message}`),process.exit(1));const{outfile:r,type:i}=t.options.export;e.writeFileSync(r||`chart.${i}`,"svg"!==i?Buffer.from(t.data,"base64"):t.data),fe()}))},startExport:_e,batchExport:t=>{const o=[];for(let r of t.export.batch.split(";"))r=r.split("="),2===r.length&&o.push(new Promise(((o,i)=>{_e({...t,export:{...t.export,infile:r[0],outfile:r[1]}},((t,r)=>{if(r)return i(r);e.writeFileSync(t.options.export.outfile,Buffer.from(t.data,"base64")),o()}))})));Promise.all(o).then((()=>{fe()})).catch((e=>{H(1,`[chart] Error encountered during batch export: ${e}`),fe()}))},server:Ke,startServer:ze,killPool:fe,initPool:async(e={})=>{var t,o;return t=e.customCode&&e.customCode.allowCodeExecution,Ce=I(t),(o=e.logging&&parseInt(e.logging.level))>=0&&o<=S.levelsDesc.length&&(S.level=o),e.logging&&e.logging.dest&&((e,t)=>{if(S={...S,dest:e||S.dest,file:t||S.file,toFile:!0},0===S.dest.length)return H(1,"[logger] File logging init: no path supplied.");S.dest.endsWith("/")||(S.dest+="/")})(e.logging.dest,e.logging.file||"highcharts-export-server.log"),await D(e.highcharts||{version:"latest"}),await ge({pool:e.pool||{initialWorkers:1,maxWorkers:1},puppeteerArgs:e.puppeteer?.args||[]}),e}};module.exports=Xe;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9saWIvc2NoZW1hcy9jb25maWcuanMiLCIuLi9saWIvbG9nZ2VyLmpzIiwiLi4vbGliL3V0aWxzLmpzIiwiLi4vbGliL3NlcnZlci9yYXRlX2xpbWl0LmpzIiwiLi4vbGliL2ZldGNoLmpzIiwiLi4vbGliL2NhY2hlLmpzIiwiLi4vbGliL2Jyb3dzZXIuanMiLCIuLi9saWIvZXhwb3J0LmpzIiwiLi4vbGliL2JlbmNobWFyay5qcyIsIi4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMiLCIuLi9saWIvcG9vbC5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL2hlYWx0aC5qcyIsIi4uL2xpYi9jb25maWcuanMiLCIuLi9saWIvY2hhcnQuanMiLCIuLi9saWIvc2VydmVyL3JvdXRlcy9leHBvcnQuanMiLCIuLi9saWIvc2VydmVyL3NlcnZlci5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL3VpLmpzIiwiLi4vbGliL3NlcnZlci9yb3V0ZXMvY2hhbmdlX2hjX3ZlcnNpb24uanMiLCIuLi9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLyBMb2FkIC5lbnYgaW50byBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuZG90ZW52LmNvbmZpZygpO1xyXG5cclxuLy8gVGhpcyBpcyB0aGUgY29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCBhbGwgb3B0aW9ucyBhbmQgdGhlaXIgZGVmYXVsdCB2YWx1ZXMsXHJcbi8vIGFsc28gZnJvbSB0aGUgLmVudiBmaWxlIGlmIG9uZSBleGlzdHNcclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XHJcbiAgcHVwcGV0ZWVyOiB7XHJcbiAgICBhcmdzOiB7XHJcbiAgICAgIHZhbHVlOiBbXSxcclxuICAgICAgdHlwZTogJ3N0cmluZ1tdJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdBcnJheSBvZiBhcmd1bWVudHMgdG8gc2VuZCB0byBwdXBwZXRlZXIuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgaGlnaGNoYXJ0czoge1xyXG4gICAgdmVyc2lvbjoge1xyXG4gICAgICB2YWx1ZTogJ2xhdGVzdCcsXHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1ZFUlNJT04nLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIHZlcnNpb24gdG8gdXNlLidcclxuICAgIH0sXHJcbiAgICBjZG5VUkw6IHtcclxuICAgICAgdmFsdWU6ICdodHRwczovL2NvZGUuaGlnaGNoYXJ0cy5jb20vJyxcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQ0ROJyxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIENETiBVUkwgb2YgSGlnaGNoYXJ0cyBzY3JpcHRzIHRvIHVzZS4nXHJcbiAgICB9LFxyXG4gICAgY29yZVNjcmlwdHM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQ09SRV9TQ1JJUFRTJyxcclxuICAgICAgdmFsdWU6IFsnaGlnaGNoYXJ0cycsICdoaWdoY2hhcnRzLW1vcmUnLCAnaGlnaGNoYXJ0cy0zZCddLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0hpZ2hjaGFydHMgY29yZSBzY3JpcHRzIHRvIGZldGNoLidcclxuICAgIH0sXHJcbiAgICBtb2R1bGVzOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX01PRFVMRVMnLFxyXG4gICAgICB2YWx1ZTogW1xyXG4gICAgICAgICdzdG9jaycsXHJcbiAgICAgICAgJ21hcCcsXHJcbiAgICAgICAgJ2dhbnR0JyxcclxuICAgICAgICAnZXhwb3J0aW5nJyxcclxuICAgICAgICAnZXhwb3J0LWRhdGEnLFxyXG4gICAgICAgICdwYXJhbGxlbC1jb29yZGluYXRlcycsXHJcbiAgICAgICAgJ2FjY2Vzc2liaWxpdHknLFxyXG4gICAgICAgICdhbm5vdGF0aW9ucy1hZHZhbmNlZCcsXHJcbiAgICAgICAgJ2Jvb3N0LWNhbnZhcycsXHJcbiAgICAgICAgJ2Jvb3N0JyxcclxuICAgICAgICAnZGF0YScsXHJcbiAgICAgICAgJ2RyYWdnYWJsZS1wb2ludHMnLFxyXG4gICAgICAgICdzdGF0aWMtc2NhbGUnLFxyXG4gICAgICAgICdicm9rZW4tYXhpcycsXHJcbiAgICAgICAgJ2hlYXRtYXAnLFxyXG4gICAgICAgICd0aWxlbWFwJyxcclxuICAgICAgICAndGltZWxpbmUnLFxyXG4gICAgICAgICd0cmVlbWFwJyxcclxuICAgICAgICAnaXRlbS1zZXJpZXMnLFxyXG4gICAgICAgICdkcmlsbGRvd24nLFxyXG4gICAgICAgICdoaXN0b2dyYW0tYmVsbGN1cnZlJyxcclxuICAgICAgICAnYnVsbGV0JyxcclxuICAgICAgICAnZnVubmVsJyxcclxuICAgICAgICAnZnVubmVsM2QnLFxyXG4gICAgICAgICdweXJhbWlkM2QnLFxyXG4gICAgICAgICduZXR3b3JrZ3JhcGgnLFxyXG4gICAgICAgICdwYXJldG8nLFxyXG4gICAgICAgICdwYXR0ZXJuLWZpbGwnLFxyXG4gICAgICAgICdwaWN0b3JpYWwnLFxyXG4gICAgICAgICdwcmljZS1pbmRpY2F0b3InLFxyXG4gICAgICAgICdzYW5rZXknLFxyXG4gICAgICAgICdhcmMtZGlhZ3JhbScsXHJcbiAgICAgICAgJ2RlcGVuZGVuY3ktd2hlZWwnLFxyXG4gICAgICAgICdzZXJpZXMtbGFiZWwnLFxyXG4gICAgICAgICdzb2xpZC1nYXVnZScsXHJcbiAgICAgICAgJ3NvbmlmaWNhdGlvbicsXHJcbiAgICAgICAgJ3N0b2NrLXRvb2xzJyxcclxuICAgICAgICAnc3RyZWFtZ3JhcGgnLFxyXG4gICAgICAgICdzdW5idXJzdCcsXHJcbiAgICAgICAgJ3ZhcmlhYmxlLXBpZScsXHJcbiAgICAgICAgJ3Zhcml3aWRlJyxcclxuICAgICAgICAndmVjdG9yJyxcclxuICAgICAgICAndmVubicsXHJcbiAgICAgICAgJ3dpbmRiYXJiJyxcclxuICAgICAgICAnd29yZGNsb3VkJyxcclxuICAgICAgICAneHJhbmdlJyxcclxuICAgICAgICAnbm8tZGF0YS10by1kaXNwbGF5JyxcclxuICAgICAgICAnZHJhZy1wYW5lcycsXHJcbiAgICAgICAgJ2RlYnVnZ2VyJyxcclxuICAgICAgICAnZHVtYmJlbGwnLFxyXG4gICAgICAgICdsb2xsaXBvcCcsXHJcbiAgICAgICAgJ2N5bGluZGVyJyxcclxuICAgICAgICAnb3JnYW5pemF0aW9uJyxcclxuICAgICAgICAnZG90cGxvdCcsXHJcbiAgICAgICAgJ21hcmtlci1jbHVzdGVycycsXHJcbiAgICAgICAgJ2hvbGxvd2NhbmRsZXN0aWNrJyxcclxuICAgICAgICAnaGVpa2luYXNoaSdcclxuICAgICAgXSxcclxuICAgICAgdHlwZTogJ3N0cmluZ1tdJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIG1vZHVsZXMgdG8gZmV0Y2guJ1xyXG4gICAgfSxcclxuICAgIGluZGljYXRvcnM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfSU5ESUNBVE9SUycsXHJcbiAgICAgIHZhbHVlOiBbJ2luZGljYXRvcnMtYWxsJ10sXHJcbiAgICAgIHR5cGU6ICdzdHJpbmdbXScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyBpbmRpY2F0b3JzIHRvIGZldGNoLidcclxuICAgIH0sXHJcbiAgICBzY3JpcHRzOiB7XHJcbiAgICAgIHZhbHVlOiBbXHJcbiAgICAgICAgJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21vbWVudC5qcy8yLjI5LjQvbW9tZW50Lm1pbi5qcydcclxuICAgICAgXSxcclxuICAgICAgdHlwZTogJ3N0cmluZ1tdJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0FkZGl0aW9uYWwgZGlyZWN0IHNjcmlwdHMvb3B0aW9uYWwgZGVwZW5kZW5jaWVzIChlLmcuIG1vbWVudC5qcykuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgZXhwb3J0OiB7XHJcbiAgICBpbmZpbGU6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBpbnB1dCBmaWxlIG5hbWUgYWxvbmcgd2l0aCBhIHR5cGUgKGpzb24gb3Igc3ZnKS4gSXQgY2FuIGJlIGEgY29ycmVjdCBKU09OIG9yIFNWRyBmaWxlLidcclxuICAgIH0sXHJcbiAgICBpbnN0cjoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQW4gaW5wdXQgaW4gYSBmb3JtIG9mIGEgc3RyaW5naWZpZWQgSlNPTiBvciBTVkcgZmlsZS4gT3ZlcnJpZGVzIHRoZSAtLWluZmlsZS4nXHJcbiAgICB9LFxyXG4gICAgb3B0aW9uczoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0FuIGFsaWFzIGZvciB0aGUgLS1pbnN0ciBvcHRpb24uJ1xyXG4gICAgfSxcclxuICAgIG91dGZpbGU6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBvdXRwdXQgZmlsZW5hbWUgYWxvbmcgd2l0aCBhIHR5cGUgKGpwZWcsIHBuZywgcGRmIG9yIHN2ZykuIElnbm9yZXMgdGhlIC0tdHlwZSBmbGFnLidcclxuICAgIH0sXHJcbiAgICB0eXBlOiB7XHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfREVGQVVMVF9UWVBFJyxcclxuICAgICAgdmFsdWU6ICdwbmcnLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBmb3JtYXQgb2YgdGhlIGZpbGUgdG8gZXhwb3J0IHRvLiBDYW4gYmUganBlZywgcG5nLCBwZGYgb3Igc3ZnLidcclxuICAgIH0sXHJcbiAgICBjb25zdHI6IHtcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX0NPTlNUUicsXHJcbiAgICAgIHZhbHVlOiAnY2hhcnQnLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBjb25zdHJ1Y3RvciB0byB1c2UuIENhbiBiZSBjaGFydCwgc3RvY2tDaGFydCwgbWFwQ2hhcnQgb3IgZ2FudHRDaGFydC4nXHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdEhlaWdodDoge1xyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfSEVJR0hUJyxcclxuICAgICAgdmFsdWU6IDQwMCxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgZGVmYXVsdCBoZWlnaHQgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBVc2VkIHdoZW4gbm90IGZvdW5kIGFueSB2YWx1ZSBzZXQuJ1xyXG4gICAgfSxcclxuICAgIGRlZmF1bHRXaWR0aDoge1xyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfV0lEVEgnLFxyXG4gICAgICB2YWx1ZTogNjAwLFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBkZWZhdWx0IHdpZHRoIG9mIHRoZSBleHBvcnRlZCBjaGFydC4gVXNlZCB3aGVuIG5vdCBmb3VuZCBhbnkgdmFsdWUgc2V0LidcclxuICAgIH0sXHJcbiAgICBkZWZhdWx0U2NhbGU6IHtcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX1NDQUxFJyxcclxuICAgICAgdmFsdWU6IDEsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIGRlZmF1bHQgc2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBSYW5nZXMgYmV0d2VlbiAxIGFuZCA1LidcclxuICAgIH0sXHJcbiAgICBoZWlnaHQ6IHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBkZWZhdWx0IGhlaWdodCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIE92ZXJyaWRlcyB0aGUgb3B0aW9uIGluIHRoZSBjaGFydCBzZXR0aW5ncy4nXHJcbiAgICB9LFxyXG4gICAgd2lkdGg6IHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSB3aWR0aCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIE92ZXJyaWRlcyB0aGUgb3B0aW9uIGluIHRoZSBjaGFydCBzZXR0aW5ncy4nXHJcbiAgICB9LFxyXG4gICAgc2NhbGU6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgc2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBSYW5nZXMgYmV0d2VlbiAxIGFuZCA1LidcclxuICAgIH0sXHJcbiAgICBnbG9iYWxPcHRpb25zOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBIHN0cmluZ2lmaWVkIEpTT04gb3IgYSBmaWxlbmFtZSB3aXRoIG9wdGlvbnMgdG8gYmUgcGFzc2VkIGludG8gdGhlIEhpZ2hjaGFydHMuc2V0T3B0aW9ucy4nXHJcbiAgICB9LFxyXG4gICAgdGhlbWVPcHRpb25zOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBIHN0cmluZ2lmaWVkIEpTT04gb3IgYSBmaWxlbmFtZSB3aXRoIHRoZW1lIG9wdGlvbnMgdG8gYmUgcGFzc2VkIGludG8gdGhlIEhpZ2hjaGFydHMuc2V0T3B0aW9ucy4nXHJcbiAgICB9LFxyXG4gICAgYmF0Y2g6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1N0YXJ0cyBhIGJhdGNoIGpvYi4gQSBzdHJpbmcgdGhhdCBjb250YWlucyBpbnB1dC9vdXRwdXQgcGFpcnM6IFwiaW49b3V0O2luPW91dDsuLlwiLidcclxuICAgIH1cclxuICB9LFxyXG4gIGN1c3RvbUNvZGU6IHtcclxuICAgIGFsbG93Q29kZUV4ZWN1dGlvbjoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19BTExPV19DT0RFX0VYRUNVVElPTicsXHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnSWYgc2V0IHRvIHRydWUsIGFsbG93IGZvciB0aGUgZXhlY3V0aW9uIG9mIGFyYml0cmFyeSBjb2RlIHdoZW4gZXhwb3J0aW5nLidcclxuICAgIH0sXHJcbiAgICBhbGxvd0ZpbGVSZXNvdXJjZXM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQUxMT1dfRklMRV9SRVNPVVJDRVMnLFxyXG4gICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQWxsb3cgaW5qZWN0aW5nIHJlc291cmNlcyBmcm9tIHRoZSBmaWxlc3lzdGVtLiBIYXMgbm8gZWZmZWN0IHdoZW4gcnVubmluZyBhcyBhIHNlcnZlci4nXHJcbiAgICB9LFxyXG4gICAgY3VzdG9tQ29kZToge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYmVmb3JlIGNoYXJ0IGluaXRpYWxpemF0aW9uLiBDYW4gYmUgYSBmaWxlbmFtZSB3aXRoIHRoZSBqcyBleHRlbnNpb24uJ1xyXG4gICAgfSxcclxuICAgIGNhbGxiYWNrOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnQSBKYXZhU2NyaXB0IGZpbGUgd2l0aCBhIGZ1bmN0aW9uIHRvIHJ1biBvbiBjb25zdHJ1Y3Rpb24uJ1xyXG4gICAgfSxcclxuICAgIHJlc291cmNlczoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQW4gYWRkaXRpb25hbCByZXNvdXJjZSBpbiBhIGZvcm0gb2Ygc3RyaW5naWZpZWQgSlNPTi4gSXQgY2FuIGNvbnRhaW4gZmlsZXMsIGpzIGFuZCBjc3Mgc2VjdGlvbnMuJ1xyXG4gICAgfSxcclxuICAgIGxvYWRDb25maWc6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdBIGZpbGUgdGhhdCBjb250YWlucyBhIHByZS1kZWZpbmVkIGNvbmZpZyB0byB1c2UuJ1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZUNvbmZpZzoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQWxsb3dzIHRvIHNldCBvcHRpb25zIHRocm91Z2ggYSBwcm9tcHQgYW5kIHNhdmUgaW4gYSBwcm92aWRlZCBjb25maWcgZmlsZS4nXHJcbiAgICB9XHJcbiAgfSxcclxuICBzZXJ2ZXI6IHtcclxuICAgIGVuYWJsZToge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfRU5BQkxFJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGNsaU5hbWU6ICdlbmFibGVTZXJ2ZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0lmIHNldCB0byB0cnVlLCBzdGFydHMgYSBzZXJ2ZXIgb24gMC4wLjAuMC4nXHJcbiAgICB9LFxyXG4gICAgaG9zdDoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfSE9TVCcsXHJcbiAgICAgIHZhbHVlOiAnMC4wLjAuMCcsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIGhvc3RuYW1lIG9mIHRoZSBzZXJ2ZXIuIEFsc28gc3RhcnRzIGEgc2VydmVyIGxpc3RlbmluZyBvbiB0aGUgc3VwcGxpZWQgaG9zdG5hbWUuJ1xyXG4gICAgfSxcclxuICAgIHBvcnQ6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX1BPUlQnLFxyXG4gICAgICB2YWx1ZTogNzgwMSxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvcnQgdG8gdXNlIGZvciB0aGUgc2VydmVyLiBEZWZhdWx0cyB0byA3ODAxLidcclxuICAgIH0sXHJcbiAgICBzc2w6IHtcclxuICAgICAgZW5hYmxlOiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX1NTTF9FTkFCTEUnLFxyXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgICAgY2xpTmFtZTogJ2VuYWJsZVNzbCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdFbmFibGVzIHRoZSBTU0wgcHJvdG9jb2wuJ1xyXG4gICAgICB9LFxyXG4gICAgICBmb3JjZToge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NFUlZFUl9TU0xfRk9SQ0UnLFxyXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgICAgY2xpTmFtZTogJ3NzbEZvcmNlZCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgICAnSWYgc2V0IHRvIHRydWUsIGZvcmNlcyB0aGUgc2VydmVyIHRvIG9ubHkgc2VydmUgb3ZlciBIVFRQUy4nXHJcbiAgICAgIH0sXHJcbiAgICAgIHBvcnQ6IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfU1NMX1BPUlQnLFxyXG4gICAgICAgIHZhbHVlOiA0NDMsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgY2xpTmFtZTogJ3NzbFBvcnQnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBvcnQgb24gd2hpY2ggdG8gcnVuIHRoZSBTU0wgc2VydmVyLidcclxuICAgICAgfSxcclxuICAgICAgY2VydFBhdGg6IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TU0xfQ0VSVF9QQVRIJyxcclxuICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgcGF0aCB0byB0aGUgU1NMIGNlcnRpZmljYXRlL2tleS4nXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICByYXRlTGltaXRpbmc6IHtcclxuICAgICAgZW5hYmxlOiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9FTkFCTEUnLFxyXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgICAgY2xpTmFtZTogJ2VuYWJsZVJhdGVMaW1pdGluZycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdFbmFibGVzIHJhdGUgbGltaXRpbmcuJ1xyXG4gICAgICB9LFxyXG4gICAgICBtYXhSZXF1ZXN0czoge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfTUFYJyxcclxuICAgICAgICB2YWx1ZTogMTAsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdNYXggcmVxdWVzdHMgYWxsb3dlZCBpbiBhIG9uZSBtaW51dGUuJ1xyXG4gICAgICB9LFxyXG4gICAgICB3aW5kb3c6IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX1dJTkRPVycsXHJcbiAgICAgICAgdmFsdWU6IDEsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgdGltZSB3aW5kb3cgaW4gbWludXRlcyBmb3IgcmF0ZSBsaW1pdGluZy4nXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlbGF5OiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9ERUxBWScsXHJcbiAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgICAnVGhlIGFtb3VudCB0byBkZWxheSBlYWNoIHN1Y2Nlc3NpdmUgcmVxdWVzdCBiZWZvcmUgaGl0dGluZyB0aGUgbWF4LidcclxuICAgICAgfSxcclxuICAgICAgdHJ1c3RQcm94eToge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfVFJVU1RfUFJPWFknLFxyXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZXQgdGhpcyB0byB0cnVlIGlmIGJlaGluZCBhIGxvYWQgYmFsYW5jZXIuJ1xyXG4gICAgICB9LFxyXG4gICAgICBza2lwS2V5OiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9TS0lQX0tFWScsXHJcbiAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXJ8c3RyaW5nJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAgICdBbGxvd3MgYnlwYXNzaW5nIHRoZSByYXRlIGxpbWl0ZXIgYW5kIHNob3VsZCBiZSBwcm92aWRlZCB3aXRoIHNraXBUb2tlbiBhcmd1bWVudC4nXHJcbiAgICAgIH0sXHJcbiAgICAgIHNraXBUb2tlbjoge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfU0tJUF9UT0tFTicsXHJcbiAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXJ8c3RyaW5nJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAgICdBbGxvd3MgYnlwYXNzaW5nIHRoZSByYXRlIGxpbWl0ZXIgYW5kIHNob3VsZCBiZSBwcm92aWRlZCB3aXRoIHNraXBLZXkgYXJndW1lbnQuJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBwb29sOiB7XHJcbiAgICBpbml0aWFsV29ya2Vyczoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX01JTl9XT1JLRVJTJyxcclxuICAgICAgdmFsdWU6IDQsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgaW5pdGlhbCB3b3JrZXJzIHRvIHNwYXduLidcclxuICAgIH0sXHJcbiAgICBtYXhXb3JrZXJzOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfTUFYX1dPUktFUlMnLFxyXG4gICAgICB2YWx1ZTogOCxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBtYXggd29ya2VycyB0byBzcGF3bi4nXHJcbiAgICB9LFxyXG4gICAgd29ya0xpbWl0OiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfV09SS19MSU1JVCcsXHJcbiAgICAgIHZhbHVlOiA0MCxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgcGllY2VzIG9mIHdvcmsgdGhhdCBjYW4gYmUgcGVyZm9ybWVkIGJlZm9yZSByZXN0YXJ0aW5nIHByb2Nlc3MuJ1xyXG4gICAgfSxcclxuICAgIHF1ZXVlU2l6ZToge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX1FVRVVFX1NJWkUnLFxyXG4gICAgICB2YWx1ZTogNSxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNpemUgb2YgdGhlIHJlcXVlc3Qgb3ZlcmZsb3cgcXVldWUuJ1xyXG4gICAgfSxcclxuICAgIHRpbWVvdXRUaHJlc2hvbGQ6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9USU1FT1VUJyxcclxuICAgICAgdmFsdWU6IDUwMDAsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJlZm9yZSB0aW1pbmcgb3V0LidcclxuICAgIH0sXHJcbiAgICBhY3F1aXJlVGltZW91dDoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX0FDUVVJUkVfVElNRU9VVCcsXHJcbiAgICAgIHZhbHVlOiA1MDAwLFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGFjcXVpcmluZyBhIHJlc291cmNlLidcclxuICAgIH0sXHJcbiAgICByZWFwZXI6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9FTkFCTEVfUkVBUEVSJyxcclxuICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1doZXRoZXIgb3Igbm90IHRvIGV2aWN0IHdvcmtlcnMgYWZ0ZXIgYSBjZXJ0YWluIHRpbWUgcGVyaW9kLidcclxuICAgIH0sXHJcbiAgICBiZW5jaG1hcmtpbmc6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9CRU5DSE1BUktJTkcnLFxyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFbmFibGUgYmVuY2htYXJraW5nLidcclxuICAgIH0sXHJcbiAgICBsaXN0ZW5Ub1Byb2Nlc3NFeGl0czoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX0xJU1RFTl9UT19QUk9DRVNTX0VYSVRTJyxcclxuICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1NldCB0byBmYWxzZSBpbiBvcmRlciB0byBza2lwIGF0dGFjaGluZyBwcm9jZXNzLmV4aXQgaGFuZGxlcnMuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbG9nZ2luZzoge1xyXG4gICAgbGV2ZWw6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfTE9HX0xFVkVMJyxcclxuICAgICAgdmFsdWU6IDQsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBjbGlOYW1lOiAnbG9nTGV2ZWwnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIGxvZyBsZXZlbCAoMDogc2lsZW50LCAxOiBlcnJvciwgMjogd2FybmluZywgMzogbm90aWNlLCA0OiB2ZXJib3NlKS4nXHJcbiAgICB9LFxyXG4gICAgZmlsZToge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19MT0dfRklMRScsXHJcbiAgICAgIHZhbHVlOiAnaGlnaGNoYXJ0cy1leHBvcnQtc2VydmVyLmxvZycsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBjbGlOYW1lOiAnbG9nRmlsZScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBIG5hbWUgb2YgYSBsb2cgZmlsZS4gVGhlIC0tbG9nRGVzdCBhbHNvIG5lZWRzIHRvIGJlIHNldCB0byBlbmFibGUgZmlsZSBsb2dnaW5nLidcclxuICAgIH0sXHJcbiAgICBkZXN0OiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0xPR19ERVNUJyxcclxuICAgICAgdmFsdWU6ICdsb2cvJyxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGNsaU5hbWU6ICdsb2dEZXN0JyxcclxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcGF0aCB0byBzdG9yZSBsb2cgZmlsZXMuIEFsc28gZW5hYmxlcyBmaWxlIGxvZ2dpbmcuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgdWk6IHtcclxuICAgIGVuYWJsZToge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19VSV9FTkFCTEUnLFxyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgY2xpTmFtZTogJ2VuYWJsZVVpJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFbmFibGVzIHRoZSBVSSBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXIuJ1xyXG4gICAgfSxcclxuICAgIHJvdXRlOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1VJX1JPVVRFJyxcclxuICAgICAgdmFsdWU6ICcvJyxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGNsaU5hbWU6ICd1aVJvdXRlJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcm91dGUgdG8gYXR0YWNoIHRoZSBVSSB0by4nXHJcbiAgICB9XHJcbiAgfSxcclxuICBvdGhlcjoge1xyXG4gICAgbm9Mb2dvOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX05PX0xPR08nLFxyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1NraXAgcHJpbnRpbmcgdGhlIGxvZ28gb24gYSBzdGFydHVwLiBXaWxsIGJlIHJlcGxhY2VkIGJ5IGEgc2ltcGxlIHRleHQuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcGF5bG9hZDoge31cclxufTtcclxuXHJcbi8vIFRoZSBjb25maWcgZGVzY3JpcHRpb25zIG9iamVjdCBmb3IgdGhlIHByb21wdHMgZnVuY3Rpb25hbGl0eS4gSXQgY29udGFpbnNcclxuLy8gaW5mb3JtYXRpb24gbGlrZTpcclxuLy8gKiBUeXBlIG9mIGEgcHJvbXB0XHJcbi8vICogTmFtZSBvZiBhbiBvcHRpb25cclxuLy8gKiBTaG9ydCBkZXNjcmlwdGlvbiBvZiBhIGNob3NlbiBvcHRpb25cclxuLy8gKiBJbml0aWFsIHZhbHVlXHJcbmV4cG9ydCBjb25zdCBwcm9tcHRzQ29uZmlnID0ge1xyXG4gIHB1cHBldGVlcjogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbGlzdCcsXHJcbiAgICAgIG5hbWU6ICdhcmdzJyxcclxuICAgICAgbWVzc2FnZTogJ1B1cHBldGVlciBhcmd1bWVudHMnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnB1cHBldGVlci5hcmdzLnZhbHVlLmpvaW4oJywnKSxcclxuICAgICAgc2VwYXJhdG9yOiAnLCdcclxuICAgIH1cclxuICBdLFxyXG4gIGhpZ2hjaGFydHM6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICBuYW1lOiAndmVyc2lvbicsXHJcbiAgICAgIG1lc3NhZ2U6ICdIaWdoY2hhcnRzIHZlcnNpb24nLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMudmVyc2lvbi52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICBuYW1lOiAnY2RuVVJMJyxcclxuICAgICAgbWVzc2FnZTogJ1RoZSB1cmwgb2YgQ0ROJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLmNkblVSTC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ211bHRpc2VsZWN0JyxcclxuICAgICAgbmFtZTogJ21vZHVsZXMnLFxyXG4gICAgICBtZXNzYWdlOiAnQXZhaWxhYmxlIG1vZHVsZXMnLFxyXG4gICAgICBpbnN0cnVjdGlvbnM6ICdTcGFjZTogU2VsZWN0IHNwZWNpZmljLCBBOiBTZWxlY3QgYWxsLCBFbnRlcjogQ29uZmlybS4nLFxyXG4gICAgICBjaG9pY2VzOiBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMubW9kdWxlcy52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ2xpc3QnLFxyXG4gICAgICBuYW1lOiAnc2NyaXB0cycsXHJcbiAgICAgIG1lc3NhZ2U6ICdDdXN0b20gc2NyaXB0cycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuaGlnaGNoYXJ0cy5zY3JpcHRzLnZhbHVlLmpvaW4oJywnKSxcclxuICAgICAgc2VwYXJhdG9yOiAnLCdcclxuICAgIH1cclxuICBdLFxyXG4gIGV4cG9ydDogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAnc2VsZWN0JyxcclxuICAgICAgbmFtZTogJ3R5cGUnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgdHlwZSBvZiBhIGZpbGUgdG8gZXhwb3J0IHRvJyxcclxuICAgICAgaGludDogYERlZmF1bHQ6ICR7ZGVmYXVsdENvbmZpZy5leHBvcnQudHlwZS52YWx1ZX1gLFxyXG4gICAgICBpbml0aWFsOiAwLFxyXG4gICAgICBjaG9pY2VzOiBbJ3BuZycsICdqcGVnJywgJ3BkZicsICdzdmcnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3NlbGVjdCcsXHJcbiAgICAgIG5hbWU6ICdjb25zdHInLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgY29uc3RydWN0b3IgZm9yIEhpZ2hjaGFydHMgdG8gdXNlJyxcclxuICAgICAgaGludDogYERlZmF1bHQ6ICR7ZGVmYXVsdENvbmZpZy5leHBvcnQuY29uc3RyLnZhbHVlfWAsXHJcbiAgICAgIGluaXRpYWw6IDAsXHJcbiAgICAgIGNob2ljZXM6IFsnY2hhcnQnLCAnc3RvY2tDaGFydCcsICdtYXBDaGFydCcsICdnYW50dENoYXJ0J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnZGVmYXVsdEhlaWdodCcsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgZGVmYXVsdCBmYWxsYmFjayBoZWlnaHQgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5leHBvcnQuZGVmYXVsdEhlaWdodC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdkZWZhdWx0V2lkdGgnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgZmFsbGJhY2sgd2lkdGggb2YgdGhlIGV4cG9ydGVkIGNoYXJ0JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5leHBvcnQuZGVmYXVsdFdpZHRoLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ2RlZmF1bHRTY2FsZScsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgZGVmYXVsdCBmYWxsYmFjayBzY2FsZSBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmV4cG9ydC5kZWZhdWx0U2NhbGUudmFsdWUsXHJcbiAgICAgIG1pbjogMC4xLFxyXG4gICAgICBtYXg6IDVcclxuICAgIH1cclxuICBdLFxyXG4gIGN1c3RvbUNvZGU6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdhbGxvd0NvZGVFeGVjdXRpb24nLFxyXG4gICAgICBtZXNzYWdlOiAnQWxsb3cgdG8gZXhlY3V0ZSBjdXN0b20gY29kZScsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuY3VzdG9tQ29kZS5hbGxvd0NvZGVFeGVjdXRpb24udmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnYWxsb3dGaWxlUmVzb3VyY2VzJyxcclxuICAgICAgbWVzc2FnZTogJ0FsbG93IGZpbGUgcmVzb3VyY2VzJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcy52YWx1ZVxyXG4gICAgfVxyXG4gIF0sXHJcbiAgc2VydmVyOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnZW5hYmxlJyxcclxuICAgICAgbWVzc2FnZTogJ1N0YXJ0cyBhIHNlcnZlciBvbiAwLjAuMC4wJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuZW5hYmxlLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgIG5hbWU6ICdob3N0JyxcclxuICAgICAgbWVzc2FnZTogJ0EgaG9zdG5hbWUgb2YgYSBzZXJ2ZXInLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5ob3N0LnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ3BvcnQnLFxyXG4gICAgICBtZXNzYWdlOiAnQSBwb3J0IG9mIGEgc2VydmVyJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucG9ydC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdzc2wuZW5hYmxlJyxcclxuICAgICAgbWVzc2FnZTogJ0VuYWJsZSBTU0wgcHJvdG9jb2wnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5zc2wuZW5hYmxlLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ3NzbC5mb3JjZScsXHJcbiAgICAgIG1lc3NhZ2U6ICdGb3JjZSB0byBvbmx5IHNlcnZlIG92ZXIgSFRUUFMnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5zc2wuZm9yY2UudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnc3NsLnBvcnQnLFxyXG4gICAgICBtZXNzYWdlOiAnUG9ydCBvbiB3aGljaCB0byBydW4gdGhlIFNTTCBzZXJ2ZXInLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5zc2wucG9ydC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICBuYW1lOiAnc3NsLmNlcnRQYXRoJyxcclxuICAgICAgbWVzc2FnZTogJ0EgcGF0aCB3aGVyZSB0byBmaW5kIHRoZSBTU0wgY2VydGlmaWNhdGUva2V5JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuc3NsLmNlcnRQYXRoLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5lbmFibGUnLFxyXG4gICAgICBtZXNzYWdlOiAnRW5hYmxlIHJhdGUgbGltaXRpbmcnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5yYXRlTGltaXRpbmcuZW5hYmxlLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cycsXHJcbiAgICAgIG1lc3NhZ2U6ICdNYXggcmVxdWVzdHMgYWxsb3dlZCBpbiBhIG9uZSBtaW51dGUnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5yYXRlTGltaXRpbmcubWF4UmVxdWVzdHMudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLndpbmRvdycsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgdGltZSB3aW5kb3cgaW4gbWludXRlcyBmb3IgcmF0ZSBsaW1pdGluZycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy53aW5kb3cudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLmRlbGF5JyxcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICAnVGhlIGFtb3VudCB0byBkZWxheSBlYWNoIHN1Y2Nlc3NpdmUgcmVxdWVzdCBiZWZvcmUgaGl0dGluZyB0aGUgbWF4JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLmRlbGF5LnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy50cnVzdFByb3h5JyxcclxuICAgICAgbWVzc2FnZTogJ1NldCB0aGlzIHRvIHRydWUgaWYgYmVoaW5kIGEgbG9hZCBiYWxhbmNlcicsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy50cnVzdFByb3h5LnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcuc2tpcEtleScsXHJcbiAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgJ0FsbG93cyBieXBhc3NpbmcgdGhlIHJhdGUgbGltaXRlciBhbmQgc2hvdWxkIGJlIHByb3ZpZGVkIHdpdGggc2tpcFRva2VuIGFyZ3VtZW50JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLnNraXBLZXkudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5za2lwVG9rZW4nLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgICdBbGxvd3MgYnlwYXNzaW5nIHRoZSByYXRlIGxpbWl0ZXIgYW5kIHNob3VsZCBiZSBwcm92aWRlZCB3aXRoIHNraXBLZXkgYXJndW1lbnQnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5yYXRlTGltaXRpbmcuc2tpcFRva2VuLnZhbHVlXHJcbiAgICB9XHJcbiAgXSxcclxuICBwb29sOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnaW5pdGlhbFdvcmtlcnMnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBpbml0aWFsIHdvcmtlcnMgdG8gc3Bhd24nLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wuaW5pdGlhbFdvcmtlcnMudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnbWF4V29ya2VycycsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgbnVtYmVyIG9mIG1heCB3b3JrZXJzIHRvIHNwYXduJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLm1heFdvcmtlcnMudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnd29ya0xpbWl0JyxcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICAnVGhlIHBpZWNlcyBvZiB3b3JrIHRoYXQgY2FuIGJlIHBlcmZvcm1lZCBiZWZvcmUgcmVzdGFydGluZyBhIHB1cHBldGVlciBwcm9jZXNzJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLndvcmtMaW1pdC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdxdWV1ZVNpemUnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIHNpemUgb2YgdGhlIHJlcXVlc3Qgb3ZlcmZsb3cgcXVldWUnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wucXVldWVTaXplLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ3RpbWVvdXRUaHJlc2hvbGQnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBzZWNvbmRzIGJlZm9yZSB0aW1pbmcgb3V0JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLnRpbWVvdXRUaHJlc2hvbGQudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnYWNxdWlyZVRpbWVvdXQnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgYWNxdWlyaW5nIGEgcmVzb3VyY2UnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wuYWNxdWlyZVRpbWVvdXQudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAncmVhcGVyJyxcclxuICAgICAgbWVzc2FnZTogJ1RoZSByZWFwZXIgdG8gcmVtb3ZlIGhhbmdpbmcgcHJvY2Vzc2VzJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLnJlYXBlci52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdiZW5jaG1hcmtpbmcnLFxyXG4gICAgICBtZXNzYWdlOiAnU2V0IGJlbmNobWFya2luZycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5iZW5jaG1hcmtpbmcudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnbGlzdGVuVG9Qcm9jZXNzRXhpdHMnLFxyXG4gICAgICBtZXNzYWdlOiAnU2V0IHRvIGZhbHNlIGluIG9yZGVyIHRvIHNraXAgYXR0YWNoaW5nIHByb2Nlc3MuZXhpdCBoYW5kbGVycycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5saXN0ZW5Ub1Byb2Nlc3NFeGl0cy52YWx1ZVxyXG4gICAgfVxyXG4gIF0sXHJcbiAgbG9nZ2luZzogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ2xldmVsJyxcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICAnVGhlIGxvZyBsZXZlbCAoMDogc2lsZW50LCAxOiBlcnJvciwgMjogd2FybmluZywgMzogbm90aWNlLCA0OiB2ZXJib3NlKScsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcubG9nZ2luZy5sZXZlbC52YWx1ZSxcclxuICAgICAgcm91bmQ6IDAsXHJcbiAgICAgIG1pbjogMCxcclxuICAgICAgbWF4OiA0XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgIG5hbWU6ICdmaWxlJyxcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICAnQSBuYW1lIG9mIGEgbG9nIGZpbGUuIFRoZSAtLWxvZ0Rlc3QgYWxzbyBuZWVkcyB0byBiZSBzZXQgdG8gZW5hYmxlIGZpbGUgbG9nZ2luZycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcubG9nZ2luZy5maWxlLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgIG5hbWU6ICdkZXN0JyxcclxuICAgICAgbWVzc2FnZTogJ0EgcGF0aCB0byBsb2cgZmlsZXMuIEl0IGVuYWJsZXMgZmlsZSBsb2dnaW5nJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmRlc3QudmFsdWVcclxuICAgIH1cclxuICBdLFxyXG4gIHVpOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnZW5hYmxlJyxcclxuICAgICAgbWVzc2FnZTogJ0VuYWJsZSBVSSBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXInLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnVpLmVuYWJsZS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICBuYW1lOiAncm91dGUnLFxyXG4gICAgICBtZXNzYWdlOiAnQSByb3V0ZSB0byBhdHRhY2ggdGhlIFVJIHRvJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy51aS5yb3V0ZS52YWx1ZVxyXG4gICAgfVxyXG4gIF0sXHJcbiAgb3RoZXI6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdub0xvZ28nLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgICdTa2lwIHByaW50aW5nIHRoZSBsb2dvIG9uIGEgc3RhcnR1cC4gV2lsbCBiZSByZXBsYWNlZCBieSBhIHNpbXBsZSB0ZXh0JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5vdGhlci5ub0xvZ28udmFsdWVcclxuICAgIH1cclxuICBdXHJcbn07XHJcblxyXG4vLyBBYnNvbHV0ZSBwcm9wcyB0aGF0LCBpbiBjYXNlIG9mIG1lcmdpbmcgcmVjdXJzaXZlbHksIG5lZWQgdG8gYmUgZm9yY2UgbWVyZ2VkXHJcbmV4cG9ydCBjb25zdCBhYnNvbHV0ZVByb3BzID0gW1xyXG4gICdvcHRpb25zJyxcclxuICAnZ2xvYmFsT3B0aW9ucycsXHJcbiAgJ3RoZW1lT3B0aW9ucycsXHJcbiAgJ3Jlc291cmNlcycsXHJcbiAgJ3BheWxvYWQnXHJcbl07XHJcblxyXG4vLyBBcmd1bWVudCBuZXN0aW5nIGxldmVsIG9mIGFsbCBleHBvcnQgc2VydmVyIG9wdGlvbnNcclxuZXhwb3J0IGNvbnN0IG5lc3RlZEFyZ3MgPSB7fTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIG5lc3RlZCBhcmd1bWVudHMgY2hhaW4gZm9yIGFsbCBvcHRpb25zXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBUaGUgb2JqZWN0IGJhc2VkIG9uIHdoaWNoIHRoZSBpbml0aWFsIGNvbmZpZ3VyYXRpb24gYmVcclxuICogbWFkZS5cclxuICogQHBhcmFtIHtzdHJpbmcgfSBwcm9wQ2hhaW4gLSBSZXF1aXJlZCBmb3IgY3JlYXRpbmcgYSBzdHJpbmcgY2hhaW4gb2ZcclxuICogcHJvcGVydGllcyBmb3IgbmVzdGVkIGFyZ3VtZW50cy5cclxuICovXHJcbmNvbnN0IGNyZWF0ZU5lc3RlZEFyZ3MgPSAob2JqLCBwcm9wQ2hhaW4gPSAnJykgPT4ge1xyXG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaCgoaykgPT4ge1xyXG4gICAgaWYgKCFbJ3B1cHBldGVlcicsICdoaWdoY2hhcnRzJ10uaW5jbHVkZXMoaykpIHtcclxuICAgICAgY29uc3QgZW50cnkgPSBvYmpba107XHJcbiAgICAgIGlmICh0eXBlb2YgZW50cnkudmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gR28gZGVlcGVyIGluIHRoZSBuZXN0ZWQgYXJndW1lbnRzXHJcbiAgICAgICAgY3JlYXRlTmVzdGVkQXJncyhlbnRyeSwgYCR7cHJvcENoYWlufS4ke2t9YCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjaGFpbiBvZiBuZXN0ZWQgYXJndW1lbnRzXHJcbiAgICAgICAgbmVzdGVkQXJnc1tlbnRyeS5jbGlOYW1lIHx8IGtdID0gYCR7cHJvcENoYWlufS4ke2t9YC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmNyZWF0ZU5lc3RlZEFyZ3MoZGVmYXVsdENvbmZpZyk7XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgYXBwZW5kRmlsZSwgZXhpc3RzU3luYywgbWtkaXJTeW5jIH0gZnJvbSAnZnMnO1xyXG5cclxuaW1wb3J0IHsgZGVmYXVsdENvbmZpZyB9IGZyb20gJy4vc2NoZW1hcy9jb25maWcuanMnO1xyXG5cclxuLy8gVGhlIGRlZmF1bHQgbG9nZ2luZyBjb25maWdcclxubGV0IGxvZ2dpbmcgPSB7XHJcbiAgLy8gRmxhZ3MgZm9yIGxvZ2dpbmcgc3RhdHVzXHJcbiAgdG9Db25zb2xlOiB0cnVlLFxyXG4gIHRvRmlsZTogZmFsc2UsXHJcbiAgcGF0aENyZWF0ZWQ6IGZhbHNlLFxyXG4gIC8vIExvZyBsZXZlbHNcclxuICBsZXZlbHNEZXNjOiBbXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAnZXJyb3InLFxyXG4gICAgICBjb2xvcjogJ3JlZCdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAnd2FybmluZycsXHJcbiAgICAgIGNvbG9yOiAneWVsbG93J1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICdub3RpY2UnLFxyXG4gICAgICBjb2xvcjogJ2JsdWUnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ3ZlcmJvc2UnLFxyXG4gICAgICBjb2xvcjogJ2dyYXknXHJcbiAgICB9XHJcbiAgXSxcclxuICAvLyBMb2cgbGlzdGVuZXJzXHJcbiAgbGlzdGVuZXJzOiBbXVxyXG59O1xyXG5cclxuLy8gR2F0aGVyIGluaXQgbG9nZ2luZyBvcHRpb25zXHJcbmZvciAoY29uc3QgW2tleSwgb3B0aW9uXSBvZiBPYmplY3QuZW50cmllcyhkZWZhdWx0Q29uZmlnLmxvZ2dpbmcpKSB7XHJcbiAgbG9nZ2luZ1trZXldID0gb3B0aW9uLnZhbHVlO1xyXG59XHJcblxyXG4vKipcclxuICogTG9ncyBhIG1lc3NhZ2UuIEFjY2VwdHMgYSB2YXJpYWJsZSBhbW91bnQgb2YgYXJndW1lbnRzLiBBcmd1bWVudHMgYWZ0ZXJcclxuICogYGxldmVsYCB3aWxsIGJlIHBhc3NlZCBkaXJlY3RseSB0byBjb25zb2xlLmxvZywgYW5kL29yIHdpbGwgYmUgam9pbmVkXHJcbiAqIGFuZCBhcHBlbmRlZCB0byB0aGUgbG9nIGZpbGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSBhcmdzIC0gQW4gYXJyYXkgb2YgYXJndW1lbnRzIHdoZXJlIHRoZSBmaXJzdCBpcyB0aGUgbG9nIGxldmVsXHJcbiAqIGFuZCB0aGUgcmVzdCBhcmUgc3RyaW5ncyB0byBidWlsZCBhIG1lc3NhZ2Ugd2l0aC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBsb2cgPSAoLi4uYXJncykgPT4ge1xyXG4gIGNvbnN0IFtuZXdMZXZlbCwgLi4udGV4dHNdID0gYXJncztcclxuXHJcbiAgLy8gQ3VycmVudCBsb2dnaW5nIG9wdGlvbnNcclxuICBjb25zdCB7IGxldmVsLCBsZXZlbHNEZXNjIH0gPSBsb2dnaW5nO1xyXG5cclxuICAvLyBDaGVjayBpZiBsb2cgbGV2ZWwgaXMgd2l0aGluIGEgY29ycmVjdCByYW5nZVxyXG4gIGlmIChuZXdMZXZlbCA9PT0gMCB8fCBuZXdMZXZlbCA+IGxldmVsIHx8IGxldmVsID4gbGV2ZWxzRGVzYy5sZW5ndGgpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIEdldCByaWQgb2YgdGhlIEdNVCB0ZXh0IGluZm9ybWF0aW9uXHJcbiAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKS5zcGxpdCgnKCcpWzBdLnRyaW0oKTtcclxuXHJcbiAgLy8gQ3JlYXRlIGEgbWVzc2FnZSdzIHByZWZpeFxyXG4gIGNvbnN0IHByZWZpeCA9IGAke25ld0RhdGV9IFske2xldmVsc0Rlc2NbbmV3TGV2ZWwgLSAxXS50aXRsZX1dIC1gO1xyXG5cclxuICAvLyBDYWxsIGF2YWlsYWJsZSBsb2cgbGlzdGVuZXJzXHJcbiAgbG9nZ2luZy5saXN0ZW5lcnMuZm9yRWFjaCgoZm4pID0+IHtcclxuICAgIGZuKHByZWZpeCwgdGV4dHMuam9pbignICcpKTtcclxuICB9KTtcclxuXHJcbiAgLy8gTG9nIHRvIGZpbGVcclxuICBpZiAobG9nZ2luZy50b0ZpbGUpIHtcclxuICAgIGlmICghbG9nZ2luZy5wYXRoQ3JlYXRlZCkge1xyXG4gICAgICAvLyBDcmVhdGUgaWYgZG9lcyBub3QgZXhpc3RcclxuICAgICAgIWV4aXN0c1N5bmMobG9nZ2luZy5kZXN0KSAmJiBta2RpclN5bmMobG9nZ2luZy5kZXN0KTtcclxuXHJcbiAgICAgIC8vIFdlIG5vdyBhc3N1bWUgdGhlIHBhdGggaXMgYXZhaWxhYmxlLCBlLmcuIGl0J3MgdGhlIHJlc3BvbnNpYmlsaXR5XHJcbiAgICAgIC8vIG9mIHRoZSB1c2VyIHRvIGNyZWF0ZSB0aGUgcGF0aCB3aXRoIHRoZSBjb3JyZWN0IGFjY2VzcyByaWdodHMuXHJcbiAgICAgIGxvZ2dpbmcucGF0aENyZWF0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCB0aGUgY29udGVudCB0byBhIGZpbGVcclxuICAgIGFwcGVuZEZpbGUoXHJcbiAgICAgIGAke2xvZ2dpbmcuZGVzdH0ke2xvZ2dpbmcuZmlsZX1gLFxyXG4gICAgICBbcHJlZml4XS5jb25jYXQodGV4dHMpLmpvaW4oJyAnKSArICdcXG4nLFxyXG4gICAgICAoZXJyb3IpID0+IHtcclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBbbG9nZ2VyXSBVbmFibGUgdG8gd3JpdGUgdG8gbG9nIGZpbGU6ICR7ZXJyb3J9YCk7XHJcbiAgICAgICAgICBsb2dnaW5nLnRvRmlsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIExvZyB0byBjb25zb2xlXHJcbiAgaWYgKGxvZ2dpbmcudG9Db25zb2xlKSB7XHJcbiAgICBjb25zb2xlLmxvZy5hcHBseShcclxuICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICBbcHJlZml4LnRvU3RyaW5nKClbbG9nZ2luZy5sZXZlbHNEZXNjW25ld0xldmVsIC0gMV0uY29sb3JdXS5jb25jYXQodGV4dHMpXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBTZXRzIHRoZSBmaWxlIGxvZ2dpbmcgY29uZmlndXJhdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGxvZ0Rlc3QgLSBBIHBhdGggdG8gbG9nIHRvLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9nRmlsZSAtIFRoZSBuYW1lIG9mIHRoZSBsb2cgZmlsZS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBlbmFibGVGaWxlTG9nZ2luZyA9IChsb2dEZXN0LCBsb2dGaWxlKSA9PiB7XHJcbiAgLy8gVXBkYXRlIGxvZ2dpbmcgb3B0aW9uc1xyXG4gIGxvZ2dpbmcgPSB7XHJcbiAgICAuLi5sb2dnaW5nLFxyXG4gICAgZGVzdDogbG9nRGVzdCB8fCBsb2dnaW5nLmRlc3QsXHJcbiAgICBmaWxlOiBsb2dGaWxlIHx8IGxvZ2dpbmcuZmlsZSxcclxuICAgIHRvRmlsZTogdHJ1ZVxyXG4gIH07XHJcblxyXG4gIGlmIChsb2dnaW5nLmRlc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4gbG9nKDEsICdbbG9nZ2VyXSBGaWxlIGxvZ2dpbmcgaW5pdDogbm8gcGF0aCBzdXBwbGllZC4nKTtcclxuICB9XHJcblxyXG4gIGlmICghbG9nZ2luZy5kZXN0LmVuZHNXaXRoKCcvJykpIHtcclxuICAgIGxvZ2dpbmcuZGVzdCArPSAnLyc7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSBsb2cgbGlzdGVuZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBnZXR0aW5nIGEgbG9nIGV2ZW50LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGxpc3RlbiA9IChmbikgPT4ge1xyXG4gIGxvZ2dpbmcubGlzdGVuZXJzLnB1c2goZm4pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNldHMgdGhlIGN1cnJlbnQgbG9nIGxldmVsLiBMb2cgbGV2ZWxzIGFyZTpcclxuICogLSAwID0gbm8gbG9nZ2luZ1xyXG4gKiAtIDEgPSBlcnJvclxyXG4gKiAtIDIgPSB3YXJuaW5nXHJcbiAqIC0gMyA9IG5vdGljZVxyXG4gKiAtIDQgPSB2ZXJib3NlXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdMZXZlbCAtIFRoZSBuZXcgbG9nIGxldmVsICgwIC0gNCkuXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2V0TG9nTGV2ZWwgPSAobmV3TGV2ZWwpID0+IHtcclxuICBpZiAobmV3TGV2ZWwgPj0gMCAmJiBuZXdMZXZlbCA8PSBsb2dnaW5nLmxldmVsc0Rlc2MubGVuZ3RoKSB7XHJcbiAgICBsb2dnaW5nLmxldmVsID0gbmV3TGV2ZWw7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgbG9nZ2luZyB0byB0aGUgc3Rkb3V0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgLSBXaGV0aGVyIGxvZyB0byBjb25zb2xlIG9yIG5vdC5cclxuICovXHJcbmV4cG9ydCBjb25zdCB0b2dnbGVTVERPdXQgPSAoZW5hYmxlZCkgPT4ge1xyXG4gIGxvZ2dpbmcudG9Db25zb2xlID0gZW5hYmxlZDtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBsb2csXHJcbiAgZW5hYmxlRmlsZUxvZ2dpbmcsXHJcbiAgbGlzdGVuLFxyXG4gIHNldExvZ0xldmVsLFxyXG4gIHRvZ2dsZVNURE91dFxyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJztcclxuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ3VybCc7XHJcblxyXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vbGliL3NjaGVtYXMvY29uZmlnLmpzJztcclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5cclxuY29uc3QgTUFYX0JBQ0tPRkZfQVRURU1QVFMgPSA2O1xyXG5cclxuZXhwb3J0IGNvbnN0IF9fZGlybmFtZSA9IGZpbGVVUkxUb1BhdGgobmV3IFVSTCgnLi4vLicsIGltcG9ydC5tZXRhLnVybCkpO1xyXG5cclxuLyoqXHJcbiAqIENsZWFycyB0ZXh0IGZyb20gd2hpdGVzcGFjZXMgd2l0aCBhIHJlZ2V4IHJ1bGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBydWxlIC0gVGhlIHJ1bGUgZm9yIGNsZWFyaW5nIGEgc3RyaW5nLCBkZWZhdWx0IHRvIC9cXHNcXHMrL2cuXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gLSBDbGVhcmVkIHRleHQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY2xlYXJUZXh0ID0gKHRleHQsIHJ1bGUgPSAvXFxzXFxzKy9nLCByZXBsYWNlciA9ICcgJykgPT5cclxuICB0ZXh0LnJlcGxhY2VBbGwocnVsZSwgcmVwbGFjZXIpLnRyaW0oKTtcclxuXHJcbi8qKlxyXG4gKiBEZWxheXMgY2FsbGluZyB0aGUgZnVuY3Rpb24gYnkgdGltZSBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBiYWNrb2ZmXHJcbiAqIGFsZ29yaXRobS5cclxuICpcclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBBIGZ1bmN0aW9uIHRvIHRyeSB0byBjYWxsIHdpdGggdGhlIGJhY2tvZmYgYWxnb3JpdGhtXHJcbiAqIG9uLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gYXR0ZW1wdCAtIFRoZSBudW1iZXIgb2YgYW4gYXR0ZW1wdCwgd2hlcmUgdGhlIGZpcnN0IG9uZSBpcyAwLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGV4cEJhY2tvZmYgPSBhc3luYyAoZm4sIGF0dGVtcHQgPSAwLCAuLi5hcmdzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFRyeSB0byBjYWxsIHRoZSBmdW5jdGlvblxyXG4gICAgcmV0dXJuIGF3YWl0IGZuKC4uLmFyZ3MpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAvLyBDYWxjdWxhdGUgZGVsYXkgaW4gbXNcclxuICAgIGNvbnN0IGRlbGF5SW5NcyA9IDIgKiogYXR0ZW1wdCAqIDEwMDA7XHJcblxyXG4gICAgLy8gSWYgdGhlIGF0dGVtcHQgZXhjZWVkcyB0aGUgbWF4aW11bSBhdHRlbXB0cyBvZiByZWFwZWF0LCB0aHJvdyBhbiBlcnJvclxyXG4gICAgaWYgKCsrYXR0ZW1wdCA+PSBNQVhfQkFDS09GRl9BVFRFTVBUUykge1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXYWl0IGdpdmVuIGFtb3VudCBvZiB0aW1lXHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzcG9uc2UpID0+IHNldFRpbWVvdXQocmVzcG9uc2UsIGRlbGF5SW5NcykpO1xyXG4gICAgbG9nKFxyXG4gICAgICAzLFxyXG4gICAgICBgW3Bvb2xdIFdhaXRlZCAke2RlbGF5SW5Nc31tcyB1bnRpbCBuZXh0IGNhbGwgZm9yIHRoZSByZXNvdXJjZSBpZDogJHthcmdzWzBdfS5gXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFRyeSBhZ2FpblxyXG4gICAgcmV0dXJuIGV4cEJhY2tvZmYoZm4sIGF0dGVtcHQsIC4uLmFyZ3MpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBGaXhlcyB0byBzdXBwb3J0ZWQgdHlwZSBmb3JtYXQgaWYgTUlNRS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUeXBlIHRvIGJlIGNvcnJlY3RlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IG91dGZpbGUgLSBOYW1lIG9mIHRoZSBvdXRmaWxlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGZpeFR5cGUgPSAodHlwZSwgb3V0ZmlsZSkgPT4ge1xyXG4gIC8vIE1JTUUgdHlwZXNcclxuICBjb25zdCBtaW1lVHlwZXMgPSB7XHJcbiAgICAnaW1hZ2UvcG5nJzogJ3BuZycsXHJcbiAgICAnaW1hZ2UvanBlZyc6ICdqcGVnJyxcclxuICAgICdhcHBsaWNhdGlvbi9wZGYnOiAncGRmJyxcclxuICAgICdpbWFnZS9zdmcreG1sJzogJ3N2ZydcclxuICB9O1xyXG5cclxuICAvLyBGb3JtYXRzXHJcbiAgY29uc3QgZm9ybWF0cyA9IFsncG5nJywgJ2pwZWcnLCAncGRmJywgJ3N2ZyddO1xyXG5cclxuICAvLyBDaGVjayBpZiB0eXBlIGFuZCBvdXRmaWxlJ3MgZXh0ZW5zaW9ucyBhcmUgdGhlIHNhbWVcclxuICBpZiAob3V0ZmlsZSkge1xyXG4gICAgY29uc3Qgb3V0VHlwZSA9IG91dGZpbGUuc3BsaXQoJy4nKS5wb3AoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBleHRlbnNpb24gaGFzIGEgY29ycmVjdCB0eXBlXHJcbiAgICBpZiAoZm9ybWF0cy5pbmNsdWRlcyhvdXRUeXBlKSAmJiB0eXBlICE9PSBvdXRUeXBlKSB7XHJcbiAgICAgIHR5cGUgPSBvdXRUeXBlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIGEgY29ycmVjdCB0eXBlXHJcbiAgcmV0dXJuIG1pbWVUeXBlc1t0eXBlXSB8fCBmb3JtYXRzLmZpbmQoKHQpID0+IHQgPT09IHR5cGUpIHx8ICdwbmcnO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXMgdGhlIHByb3ZpZGVkIHJlc291cmNlcy5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlcyAtIFRoZSBzdHJpbmdpZmllZCByZXNvdXJjZXMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhbGxvd0ZpbGVSZXNvdXJjZXMgLSBEZWNpZGUgaWYgcmVzb3VyY2VzIGZyb20gZmlsZSBhcmVcclxuICogYWxsb3dlZC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVSZXNvdXJjZXMgPSAocmVzb3VyY2VzID0gZmFsc2UsIGFsbG93RmlsZVJlc291cmNlcykgPT4ge1xyXG4gIGNvbnN0IGFsbG93ZWRQcm9wcyA9IFsnanMnLCAnY3NzJywgJ2ZpbGVzJ107XHJcblxyXG4gIGxldCBoYW5kbGVkUmVzb3VyY2VzID0gcmVzb3VyY2VzO1xyXG4gIGxldCBjb3JyZWN0UmVzb3VyY2VzID0gZmFsc2U7XHJcblxyXG4gIC8vIFRyeSB0byBsb2FkIHJlc291cmNlcyBmcm9tIGEgZmlsZVxyXG4gIGlmIChhbGxvd0ZpbGVSZXNvdXJjZXMgJiYgcmVzb3VyY2VzLmVuZHNXaXRoKCcuanNvbicpKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIXJlc291cmNlcykge1xyXG4gICAgICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKFxyXG4gICAgICAgICAgcmVhZEZpbGVTeW5jKCdyZXNvdXJjZXMuanNvbicsICd1dGY4JylcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2UgaWYgKHJlc291cmNlcyAmJiByZXNvdXJjZXMuZW5kc1dpdGgoJy5qc29uJykpIHtcclxuICAgICAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNDb3JyZWN0SlNPTihyZWFkRmlsZVN5bmMocmVzb3VyY2VzLCAndXRmOCcpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNDb3JyZWN0SlNPTihyZXNvdXJjZXMpO1xyXG4gICAgICAgIGlmIChoYW5kbGVkUmVzb3VyY2VzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNDb3JyZWN0SlNPTihcclxuICAgICAgICAgICAgcmVhZEZpbGVTeW5jKCdyZXNvdXJjZXMuanNvbicsICd1dGY4JylcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChub3RpY2UpIHtcclxuICAgICAgcmV0dXJuIGxvZygzLCBgW2NsaV0gTm8gcmVzb3VyY2VzIGZvdW5kLmApO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBUcnkgdG8gZ2V0IEpTT05cclxuICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKHJlc291cmNlcyk7XHJcblxyXG4gICAgLy8gR2V0IHJpZCBvZiB0aGUgZmlsZXMgc2VjdGlvblxyXG4gICAgaWYgKCFhbGxvd0ZpbGVSZXNvdXJjZXMpIHtcclxuICAgICAgZGVsZXRlIGhhbmRsZWRSZXNvdXJjZXMuZmlsZXM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBGaWx0ZXIgZnJvbSB1bm5lY2Vzc2FyeSBwcm9wZXJ0aWVzXHJcbiAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBoYW5kbGVkUmVzb3VyY2VzKSB7XHJcbiAgICBpZiAoIWFsbG93ZWRQcm9wcy5pbmNsdWRlcyhwcm9wTmFtZSkpIHtcclxuICAgICAgZGVsZXRlIGhhbmRsZWRSZXNvdXJjZXNbcHJvcE5hbWVdO1xyXG4gICAgfSBlbHNlIGlmICghY29ycmVjdFJlc291cmNlcykge1xyXG4gICAgICBjb3JyZWN0UmVzb3VyY2VzID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIGF0IGxlYXN0IG9uZSBvZiBhbGxvd2VkIHByb3BlcnRpZXMgaXMgcHJlc2VudFxyXG4gIGlmICghY29ycmVjdFJlc291cmNlcykge1xyXG4gICAgcmV0dXJuIGxvZygzLCBgW2NsaV0gTm8gcmVzb3VyY2VzIGZvdW5kLmApO1xyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlIGZpbGVzIHNlY3Rpb25cclxuICBpZiAoaGFuZGxlZFJlc291cmNlcy5maWxlcykge1xyXG4gICAgaGFuZGxlZFJlc291cmNlcy5maWxlcyA9IGhhbmRsZWRSZXNvdXJjZXMuZmlsZXMubWFwKChpdGVtKSA9PiBpdGVtLnRyaW0oKSk7XHJcbiAgICBpZiAoIWhhbmRsZWRSZXNvdXJjZXMuZmlsZXMgfHwgaGFuZGxlZFJlc291cmNlcy5maWxlcy5sZW5ndGggPD0gMCkge1xyXG4gICAgICBkZWxldGUgaGFuZGxlZFJlc291cmNlcy5maWxlcztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJldHVybiByZXNvdXJjZXNcclxuICByZXR1cm4gaGFuZGxlZFJlc291cmNlcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgcHJvdmlkZWQgZGF0YSBpcyBvciBjYW4gYmUgYSBjb3JyZWN0IEpTT04uXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSBkYXRhIC0gRGF0YSB0byBiZSBjaGVja2VkLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHRvU3RyaW5nIC0gSWYgdHJ1ZSwgcmV0dXJuIHN0cmluZ2lmaWVkIHJlcHJlc2VudGF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29ycmVjdEpTT04oZGF0YSwgdG9TdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgLy8gR2V0IHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gaWYgbm90IGFscmVhZHkgYmVmb3JlIHBhcnNpbmdcclxuICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKFxyXG4gICAgICB0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IGRhdGFcclxuICAgICk7XHJcblxyXG4gICAgLy8gUmV0dXJuIGEgc3RyaW5naWZpZWQgcmVwcmVzZW50YXRpb24gb2YgYSBKU09OIGlmIHJlcXVpcmVkXHJcbiAgICBpZiAodHlwZW9mIHBhcnNlZERhdGEgIT09ICdzdHJpbmcnICYmIHRvU3RyaW5nKSB7XHJcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwYXJzZWREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gYSBKU09OXHJcbiAgICByZXR1cm4gcGFyc2VkRGF0YTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBpdGVtIGlzIGFuIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHthbnl9IGl0ZW0gLSBJdGVtIHRvIGJlIGNoZWNrZWQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAoaXRlbSkgPT5cclxuICB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSkgJiYgaXRlbSAhPT0gbnVsbDtcclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgc3RyaW5nIGNvbnRhaW5zIHByaXZhdGUgcmFuZ2UgdXJscy5cclxuICpcclxuICogQGV4cG9ydCB1dGlsc1xyXG4gKiBAcGFyYW0gaXRlbSB7c3RyaW5nfSBpdGVtIHRvIGJlIGNoZWNrZWRcclxuICovXHJcbmV4cG9ydCBjb25zdCBpc1ByaXZhdGVSYW5nZVVybEZvdW5kID0gKGl0ZW0pID0+IHtcclxuICByZXR1cm4gW1xyXG4gICAgJ2xvY2FsaG9zdCcsXHJcbiAgICAnKDEwKS4oLiopLiguKikuKC4qKScsXHJcbiAgICAnKDEyNykuKC4qKS4oLiopLiguKiknLFxyXG4gICAgJygxNzIpLigxWzYtOV18MlswLTldfDNbMC0xXSkuKC4qKS4oLiopJyxcclxuICAgICcoMTkyKS4oMTY4KS4oLiopLiguKiknXHJcbiAgXS5zb21lKChpcFJlZ0V4KSA9PlxyXG4gICAgaXRlbS5tYXRjaChgeGxpbms6aHJlZj1cIig/OihodHRwOi8vfGh0dHBzOi8vKSk/JHtpcFJlZ0V4fWApXHJcbiAgKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgZGVlcCBjb3B5IG9mIHRoZSBnaXZlbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgLSBPYmplY3QgdG8gY29weS5cclxuICogQHJldHVybiB7b2JqZWN0fSAtIERlZXAgY29weSBvZiB0aGUgb2JqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGRlZXBDb3B5ID0gKG9iaikgPT4ge1xyXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcclxuICAgIHJldHVybiBvYmo7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb3B5ID0gQXJyYXkuaXNBcnJheShvYmopID8gW10gOiB7fTtcclxuXHJcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY29weTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTdHJpbmdpZmllcyBvYmplY3Qgd2l0aCBvcHRpb25zLiBQb3NzaWJsZSB0byBwcmVzZXJ2ZSBmdW5jdGlvbnMgd2l0aFxyXG4gKiBhbGxvd0Z1bmN0aW9ucyBmbGFnLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gc3RyaW5naWZ5LlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93RnVuY3Rpb25zIC0gRmxhZyBmb3Iga2VlcGluZyBmdW5jdGlvbnMuXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgb3B0aW9uc1N0cmluZ2lmeSA9IChvcHRpb25zLCBhbGxvd0Z1bmN0aW9ucykgPT4ge1xyXG4gIGNvbnN0IHJlcGxhY2VyQ2FsbGJhY2sgPSAobmFtZSwgdmFsdWUpID0+IHtcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xyXG5cclxuICAgICAgLy8gSWYgYWxsb3dGdW5jdGlvbnMgaXMgc2V0IHRvIHRydWUsIHByZXNlcnZlIGZ1bmN0aW9uc1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgKHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uKCcpIHx8IHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uICgnKSkgJiZcclxuICAgICAgICB2YWx1ZS5lbmRzV2l0aCgnfScpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHZhbHVlID0gYWxsb3dGdW5jdGlvbnNcclxuICAgICAgICAgID8gYEVYUF9GVU4keyh2YWx1ZSArICcnKS5yZXBsYWNlQWxsKC9cXG58XFx0fFxcci9nLCAnICcpfUVYUF9GVU5gXHJcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcclxuICAgICAgPyBgRVhQX0ZVTiR7KHZhbHVlICsgJycpLnJlcGxhY2VBbGwoL1xcbnxcXHR8XFxyL2csICcgJyl9RVhQX0ZVTmBcclxuICAgICAgOiB2YWx1ZTtcclxuICB9O1xyXG5cclxuICAvLyBTdHJpbmdpZnkgb3B0aW9ucyBhbmQgaWYgcmVxdWlyZWQsIHJlcGxhY2Ugc3BlY2lhbCBmdW5jdGlvbnMgbWFya3NcclxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgcmVwbGFjZXJDYWxsYmFjaykucmVwbGFjZUFsbChcclxuICAgIC9cIkVYUF9GVU58RVhQX0ZVTlwiL2csXHJcbiAgICAnJ1xyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICogUHJpbnRzIHRoZSBleHBvcnQgc2VydmVyIGxvZ28uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbm9Mb2dvIC0gV2hldGhlciB0byBkaXNwbGF5IGxvZ28gb3IgdGV4dC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBwcmludExvZ28gPSAobm9Mb2dvKSA9PiB7XHJcbiAgLy8gR2V0IHBhY2thZ2UgdmVyc2lvbiBlaXRoZXIgZnJvbSBlbnYgb3IgZnJvbSBwYWNrYWdlLmpzb25cclxuICBjb25zdCBwYWNrYWdlVmVyc2lvbiA9XHJcbiAgICBwcm9jZXNzLmVudi5ucG1fcGFja2FnZV92ZXJzaW9uIHx8XHJcbiAgICBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhuZXcgVVJMKCcuLi9wYWNrYWdlLmpzb24nLCBpbXBvcnQubWV0YS51cmwpKSlcclxuICAgICAgLnZlcnNpb247XHJcblxyXG4gIC8vIFByaW50IHRleHQgb25seVxyXG4gIGlmIChub0xvZ28pIHtcclxuICAgIGNvbnNvbGUubG9nKGBTdGFydGluZyBoaWdoY2hhcnRzIGV4cG9ydCBzZXJ2ZXIgdiR7cGFja2FnZVZlcnNpb259Li4uYCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBQcmludCB0aGUgbG9nb1xyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgcmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvbXNnL3N0YXJ0dXAubXNnJykudG9TdHJpbmcoKS5ib2xkLnllbGxvdyxcclxuICAgIGB2JHtwYWNrYWdlVmVyc2lvbn1gXHJcbiAgKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBQcmludHMgdGhlIENMSSB1c2FnZS4gSWYgcmVxdWlyZWQsIGl0IGNhbiBsaXN0IHByb3BlcnRpZXMgcmVjdXJzaXZlbHlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwcmludFVzYWdlKCkge1xyXG4gIGNvbnN0IHBhZCA9IDQ4O1xyXG4gIGNvbnN0IHJlYWRtZSA9ICdodHRwczovL2dpdGh1Yi5jb20vaGlnaGNoYXJ0cy9ub2RlLWV4cG9ydC1zZXJ2ZXIjcmVhZG1lJztcclxuXHJcbiAgLy8gRGlzcGxheSByZWFkbWUgaW5mb3JtYXRpb25cclxuICBjb25zb2xlLmxvZyhcclxuICAgICdVc2FnZSBvZiBDTEkgYXJndW1lbnRzOicuYm9sZCxcclxuICAgICdcXG4tLS0tLS0nLFxyXG4gICAgYFxcbkZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIHZpc2l0IHJlYWRtZSBhdDogJHtyZWFkbWUuYm9sZC55ZWxsb3d9LmBcclxuICApO1xyXG5cclxuICBjb25zdCBjeWNsZUNhdGVnb3JpZXMgPSAoY2F0ZWdvcmllcykgPT4ge1xyXG4gICAgZm9yIChjb25zdCBbbmFtZSwgb3B0aW9uXSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yaWVzKSkge1xyXG4gICAgICAvLyBJZiBjYXRlZ29yeSBoYXMgbW9yZSBsZXZlbHMsIGdvIGZ1cnRoZXJcclxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9uLCAndmFsdWUnKSkge1xyXG4gICAgICAgIGN5Y2xlQ2F0ZWdvcmllcyhvcHRpb24pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBkZXNjTmFtZSA9IGAgIC0tJHtvcHRpb24uY2xpTmFtZSB8fCBuYW1lfSAke1xyXG4gICAgICAgICAgKCc8JyArIG9wdGlvbi50eXBlICsgJz4nKS5ncmVlblxyXG4gICAgICAgIH0gYDtcclxuICAgICAgICBpZiAoZGVzY05hbWUubGVuZ3RoIDwgcGFkKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gZGVzY05hbWUubGVuZ3RoOyBpIDwgcGFkOyBpKyspIHtcclxuICAgICAgICAgICAgZGVzY05hbWUgKz0gJy4nO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGlzcGxheSBjb3JyZWN0bHkgYWxpZ25lZCBtZXNzYWdlc1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgZGVzY05hbWUsXHJcbiAgICAgICAgICBvcHRpb24uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICBgW0RlZmF1bHQ6ICR7b3B0aW9uLnZhbHVlLnRvU3RyaW5nKCkuYm9sZH1dYC5ibHVlXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEN5Y2xlIHRocm91Z2ggb3B0aW9ucyBvZiBlYWNoIGNhdGVnb3JpZXMgYW5kIGRpc3BsYXkgdGhlIHVzYWdlIGluZm9cclxuICBPYmplY3Qua2V5cyhkZWZhdWx0Q29uZmlnKS5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xyXG4gICAgLy8gT25seSBwdXBwZXRlZXIgYW5kIGhpZ2hjaGFydHMgY2F0ZWdvcmllcyBjYW5ub3QgYmUgY29uZmlndXJlZCB0aHJvdWdoIENMSVxyXG4gICAgaWYgKCFbJ3B1cHBldGVlcicsICdoaWdoY2hhcnRzJ10uaW5jbHVkZXMoY2F0ZWdvcnkpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBcXG4ke2NhdGVnb3J5LnRvVXBwZXJDYXNlKCl9YC5yZWQpO1xyXG4gICAgICBjeWNsZUNhdGVnb3JpZXMoZGVmYXVsdENvbmZpZ1tjYXRlZ29yeV0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIGNvbnNvbGUubG9nKCdcXG4nKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJvdW5kcyBudW1iZXIgdG8gcGFzc2VkIHByZWNpc2lvbi5cclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gTnVtYmVyIHRvIHJvdW5kLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gcHJlY2lzaW9uIC0gQSBwcmVjaXNpb24gb2Ygcm91bmRpbmcuXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgcm91bmROdW1iZXIgPSAodmFsdWUsIHByZWNpc2lvbiA9IDEpID0+IHtcclxuICBjb25zdCBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbiB8fCAwKTtcclxuICByZXR1cm4gTWF0aC5yb3VuZCgrdmFsdWUgKiBtdWx0aXBsaWVyKSAvIG11bHRpcGxpZXI7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2FzdHMgdGhlIGl0ZW0gdG8gYm9vbGVhbi5cclxuICpcclxuICogQHBhcmFtIHthbnl9IGl0ZW0gLSBJdGVtIHRvIGJlIGNhc3QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdG9Cb29sZWFuID0gKGl0ZW0pID0+XHJcbiAgWydmYWxzZScsICd1bmRlZmluZWQnLCAnbnVsbCcsICdOYU4nLCAnMCcsICcnXS5pbmNsdWRlcyhpdGVtKVxyXG4gICAgPyBmYWxzZVxyXG4gICAgOiAhIWl0ZW07XHJcblxyXG4vKipcclxuICogSWYgbmVjZXNzYXJ5LCBwbGFjZXMgYSBjdXN0b20gY29kZSBpbnNpZGUgYSBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHthbnl9IGN1c3RvbUNvZGUgLSBUaGUgY3VzdG9tQ29kZS5cclxuICovXHJcbmV4cG9ydCBjb25zdCB3cmFwQXJvdW5kID0gKGN1c3RvbUNvZGUsIGFsbG93RmlsZVJlc291cmNlcykgPT4ge1xyXG4gIGlmIChjdXN0b21Db2RlICYmIHR5cGVvZiBjdXN0b21Db2RlID09PSAnc3RyaW5nJykge1xyXG4gICAgY3VzdG9tQ29kZSA9IGN1c3RvbUNvZGUudHJpbSgpO1xyXG5cclxuICAgIGlmIChjdXN0b21Db2RlLmVuZHNXaXRoKCcuanMnKSkge1xyXG4gICAgICByZXR1cm4gYWxsb3dGaWxlUmVzb3VyY2VzXHJcbiAgICAgICAgPyB3cmFwQXJvdW5kKHJlYWRGaWxlU3luYyhjdXN0b21Db2RlLCAndXRmOCcpKVxyXG4gICAgICAgIDogZmFsc2U7XHJcbiAgICB9IGVsc2UgaWYgKFxyXG4gICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uKCknKSB8fFxyXG4gICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uICgpJykgfHxcclxuICAgICAgY3VzdG9tQ29kZS5zdGFydHNXaXRoKCcoKT0+JykgfHxcclxuICAgICAgY3VzdG9tQ29kZS5zdGFydHNXaXRoKCcoKSA9PicpXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuIGAoJHtjdXN0b21Db2RlfSkoKWA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3VzdG9tQ29kZS5yZXBsYWNlKC87JC8sICcnKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogVXRpbGl0eSB0byBtZWFzdXJlIHRpbWUuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWVhc3VyZVRpbWUgPSAoKSA9PiB7XHJcbiAgY29uc3Qgc3RhcnQgPSBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcclxuICByZXR1cm4gKCkgPT4gTnVtYmVyKHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpIC0gc3RhcnQpIC8gMTAwMDAwMDtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBfX2Rpcm5hbWUsXHJcbiAgY2xlYXJUZXh0LFxyXG4gIGV4cEJhY2tvZmYsXHJcbiAgZml4VHlwZSxcclxuICBoYW5kbGVSZXNvdXJjZXMsXHJcbiAgaXNDb3JyZWN0SlNPTixcclxuICBpc09iamVjdCxcclxuICBpc1ByaXZhdGVSYW5nZVVybEZvdW5kLFxyXG4gIG9wdGlvbnNTdHJpbmdpZnksXHJcbiAgcHJpbnRMb2dvLFxyXG4gIHByaW50VXNhZ2UsXHJcbiAgcm91bmROdW1iZXIsXHJcbiAgdG9Cb29sZWFuLFxyXG4gIHdyYXBBcm91bmQsXHJcbiAgbWVhc3VyZVRpbWVcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgcmF0ZUxpbWl0IGZyb20gJ2V4cHJlc3MtcmF0ZS1saW1pdCc7XHJcblxyXG5pbXBvcnQgeyBjbGVhclRleHQgfSBmcm9tICcuLi91dGlscy5qcyc7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4uL2xvZ2dlci5qcyc7XHJcblxyXG4vKipcclxuICogRW5hYmxlcyByYXRlIGxpbWl0aW5nIGZvciBhIGdpdmVuIGFwcC5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGFwcCAtIFRoZSBleHByZXNzIGFwcC5cclxuICogQHBhcmFtIHtvYmplY3R9IGxpbWl0Q29uZmlnIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSByYXRlIGxpbWl0aW5nLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKGFwcCwgbGltaXRDb25maWcpID0+IHtcclxuICBjb25zdCBtc2cgPVxyXG4gICAgJ1RvbyBtYW55IHJlcXVlc3RzLCB5b3UgaGF2ZSBiZWVuIHJhdGUgbGltaXRlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nO1xyXG5cclxuICAvLyBPcHRpb25zIGZvciB0aGUgcmF0ZSBsaW1pdGVyXHJcbiAgY29uc3QgcmF0ZU9wdGlvbnMgPSB7XHJcbiAgICBtYXg6IGxpbWl0Q29uZmlnLm1heFJlcXVlc3RzIHx8IDMwLFxyXG4gICAgd2luZG93OiBsaW1pdENvbmZpZy53aW5kb3cgfHwgMSxcclxuICAgIGRlbGF5OiBsaW1pdENvbmZpZy5kZWxheSB8fCAwLFxyXG4gICAgdHJ1c3RQcm94eTogbGltaXRDb25maWcudHJ1c3RQcm94eSB8fCBmYWxzZSxcclxuICAgIHNraXBLZXk6IGxpbWl0Q29uZmlnLnNraXBLZXkgfHwgZmFsc2UsXHJcbiAgICBza2lwVG9rZW46IGxpbWl0Q29uZmlnLnNraXBUb2tlbiB8fCBmYWxzZVxyXG4gIH07XHJcblxyXG4gIC8vIFNldCBpZiBiZWhpbmQgYSBwcm94eVxyXG4gIGlmIChyYXRlT3B0aW9ucy50cnVzdFByb3h5KSB7XHJcbiAgICBhcHAuZW5hYmxlKCd0cnVzdCBwcm94eScpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGEgbGltaXRlclxyXG4gIGNvbnN0IGxpbWl0ZXIgPSByYXRlTGltaXQoe1xyXG4gICAgd2luZG93TXM6IHJhdGVPcHRpb25zLndpbmRvdyAqIDYwICogMTAwMCxcclxuICAgIC8vIExpbWl0IGVhY2ggSVAgdG8gMTAwIHJlcXVlc3RzIHBlciB3aW5kb3dNc1xyXG4gICAgbWF4OiByYXRlT3B0aW9ucy5tYXgsXHJcbiAgICAvLyBEaXNhYmxlIGRlbGF5aW5nLCBmdWxsIHNwZWVkIHVudGlsIHRoZSBtYXggbGltaXQgaXMgcmVhY2hlZFxyXG4gICAgZGVsYXlNczogcmF0ZU9wdGlvbnMuZGVsYXksXHJcbiAgICBoYW5kbGVyOiAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgICAgcmVzcG9uc2UuZm9ybWF0KHtcclxuICAgICAgICBqc29uOiAoKSA9PiB7XHJcbiAgICAgICAgICByZXNwb25zZS5zdGF0dXMoNDI5KS5zZW5kKHsgbWVzc2FnZTogbXNnIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVmYXVsdDogKCkgPT4ge1xyXG4gICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzKDQyOSkuc2VuZChtc2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgc2tpcDogKHJlcXVlc3QpID0+IHtcclxuICAgICAgLy8gQWxsb3cgYnlwYXNzaW5nIHRoZSBsaW1pdGVyIGlmIGEgdmFsaWQga2V5L3Rva2VuIGhhcyBiZWVuIHNlbnRcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHJhdGVPcHRpb25zLnNraXBLZXkgIT09IGZhbHNlICYmXHJcbiAgICAgICAgcmF0ZU9wdGlvbnMuc2tpcFRva2VuICE9PSBmYWxzZSAmJlxyXG4gICAgICAgIHJlcXVlc3QucXVlcnkua2V5ID09PSByYXRlT3B0aW9ucy5za2lwS2V5ICYmXHJcbiAgICAgICAgcmVxdWVzdC5xdWVyeS5hY2Nlc3NfdG9rZW4gPT09IHJhdGVPcHRpb25zLnNraXBUb2tlblxyXG4gICAgICApIHtcclxuICAgICAgICBsb2coNCwgJ1tyYXRlLWxpbWl0aW5nXSBTa2lwcGluZyByYXRlIGxpbWl0ZXIuJyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBVc2UgYSBsaW1pdGVyIGFzIGEgbWlkZGxld2FyZVxyXG4gIGFwcC51c2UobGltaXRlcik7XHJcblxyXG4gIGxvZyhcclxuICAgIDMsXHJcbiAgICBjbGVhclRleHQoXHJcbiAgICAgIGBbcmF0ZS1saW1pdGluZ10gRW5hYmxlZCByYXRlIGxpbWl0aW5nOiAke3JhdGVPcHRpb25zLm1heH0gcmVxdWVzdHNcclxuICAgICAgcGVyICR7cmF0ZU9wdGlvbnMud2luZG93fSBtaW51dGUgcGVyIElQLCB0cnVzdGluZyBwcm94eTpcclxuICAgICAgJHtyYXRlT3B0aW9ucy50cnVzdFByb3h5fS5gXHJcbiAgICApXHJcbiAgKTtcclxufTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGV4cG9ydHMgdHdvIGZ1bmN0aW9uczogZmV0Y2ggKGZvciBHRVQgcmVxdWVzdHMpIGFuZCBwb3N0IChmb3IgUE9TVCByZXF1ZXN0cykuXHJcbiAqL1xyXG5cclxuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XHJcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5lcyB0aGUgcHJvdG9jb2wgb2YgdGhlIGdpdmVuIFVSTCAoZWl0aGVyIGBodHRwYCBvciBgaHR0cHNgKS5cclxuICpcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHdob3NlIHByb3RvY29sIG5lZWRzIHRvIGJlIGRldGVybWluZWQuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGBodHRwc2AgbW9kdWxlIGlmIHRoZSBVUkwgc3RhcnRzIHdpdGggJ2h0dHBzJyxcclxuICogb3RoZXJ3aXNlIHJldHVybnMgdGhlIGBodHRwYCBtb2R1bGUuXHJcbiAqIEBwcml2YXRlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGNvbnN0IHByb3RvY29sID0gZ2V0UHJvdG9jb2woJ2h0dHBzOi8vZXhhbXBsZS5jb20nKTtcclxuICogY29uc29sZS5sb2cocHJvdG9jb2wpOyAvLyBPdXRwdXRzIHRoZSAnaHR0cHMnIG1vZHVsZVxyXG4gKi9cclxuY29uc3QgZ2V0UHJvdG9jb2wgPSAodXJsKSA9PiB7XHJcbiAgcmV0dXJuIHVybC5zdGFydHNXaXRoKCdodHRwcycpID8gaHR0cHMgOiBodHRwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNlbmRzIGEgR0VUIHJlcXVlc3QgdG8gdGhlIHNwZWNpZmllZCBVUkwgd2l0aCBvcHRpb25hbCByZXF1ZXN0IG9wdGlvbnMuXHJcbiAqXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAYXN5bmNcclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gZmV0Y2guXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdE9wdGlvbnM9e31dIC0gT3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zIGFuZCBoZWFkZXJzLlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlIG9iamVjdC5cclxuICogVGhlIHJlc3BvbnNlIG9iamVjdCBjb250YWlucyBhIGAudGV4dGAgcHJvcGVydHkgd2l0aCB0aGUgcmF3IHJlc3BvbnNlIGRhdGEuXHJcbiAqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIHJlcXVlc3QgZmFpbHMgb3IgaWYgbm8gZGF0YSBpcyBmZXRjaGVkIGZyb20gdGhlIFVSTC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcclxuICogICB0cnkge1xyXG4gKiAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScpO1xyXG4gKiAgICAgY29uc29sZS5sb2cocmVzcG9uc2UudGV4dCk7XHJcbiAqICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICogICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRhdGE6JywgZXJyb3IpO1xyXG4gKiAgIH1cclxuICogfVxyXG4gKlxyXG4gKiBnZXREYXRhKCk7XHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBmZXRjaCh1cmwsIHJlcXVlc3RPcHRpb25zID0ge30pIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgcHJvdG9jb2wgPSBnZXRQcm90b2NvbCh1cmwpO1xyXG5cclxuICAgIHByb3RvY29sXHJcbiAgICAgIC5nZXQodXJsLCByZXF1ZXN0T3B0aW9ucywgKHJlcykgPT4ge1xyXG4gICAgICAgIGxldCBkYXRhID0gJyc7XHJcblxyXG4gICAgICAgIC8vIEEgY2h1bmsgb2YgZGF0YSBoYXMgYmVlbiByZWNlaXZlZC5cclxuICAgICAgICByZXMub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcclxuICAgICAgICAgIGRhdGEgKz0gY2h1bms7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRoZSB3aG9sZSByZXNwb25zZSBoYXMgYmVlbiByZWNlaXZlZC5cclxuICAgICAgICByZXMub24oJ2VuZCcsICgpID0+IHtcclxuICAgICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICByZWplY3QoJ05vdGhpbmcgd2FzIGZldGNoZWQgZnJvbSB0aGUgVVJMLicpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJlcy50ZXh0ID0gZGF0YTtcclxuICAgICAgICAgIHJlc29sdmUocmVzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICAgLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogU2VuZHMgYSBQT1NUIHJlcXVlc3QgdG8gdGhlIHNwZWNpZmllZCBVUkwgd2l0aCB0aGUgZ2l2ZW4gYm9keSBhbmQgcmVxdWVzdCBvcHRpb25zLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb25cclxuICogQGFzeW5jXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHRvIHdoaWNoIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBzZW50LlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2JvZHk9e31dIC0gVGhlIGRhdGEgdG8gYmUgc2VudCBhcyB0aGUgcmVxdWVzdCBib2R5LCBpbiBKU09OIGZvcm1hdC5cclxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0T3B0aW9ucz17fV0gLSBPcHRpb25hbCByZXF1ZXN0IG9wdGlvbnMgYW5kIGhlYWRlcnMuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IC0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBwYXJzZWQgSlNPTiByZXNwb25zZS5cclxuICogQHRocm93cyB7RXJyb3J9IFRocm93cyBhbiBlcnJvciBpZiB0aGUgcmVxdWVzdCBmYWlscyBvciBpZiB0aGUgcmVzcG9uc2UgY2Fubm90IGJlIHBhcnNlZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYXN5bmMgZnVuY3Rpb24gc2VuZERhdGEoKSB7XHJcbiAqICAgY29uc3QgZGF0YVRvU2VuZCA9IHtcclxuICogICAgIGtleTE6ICd2YWx1ZTEnLFxyXG4gKiAgICAga2V5MjogJ3ZhbHVlMicsXHJcbiAqICAgfTtcclxuICogICB0cnkge1xyXG4gKiAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwb3N0KCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJywgZGF0YVRvU2VuZCk7XHJcbiAqICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAqICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICogICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgZGF0YTonLCBlcnJvcik7XHJcbiAqICAgfVxyXG4gKiB9XHJcbiAqXHJcbiAqIHNlbmREYXRhKCk7XHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBwb3N0KHVybCwgYm9keSA9IHt9LCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHByb3RvY29sID0gZ2V0UHJvdG9jb2wodXJsKTtcclxuICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShib2R5KTtcclxuXHJcbiAgICAvLyBTZXQgZGVmYXVsdCBoZWFkZXJzIGFuZCBtZXJnZSB3aXRoIHJlcXVlc3RPcHRpb25zXHJcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBkYXRhLmxlbmd0aFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgcmVxdWVzdE9wdGlvbnNcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgcmVxID0gcHJvdG9jb2xcclxuICAgICAgLnJlcXVlc3QodXJsLCBvcHRpb25zLCAocmVzKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlRGF0YSA9ICcnO1xyXG5cclxuICAgICAgICAvLyBBIGNodW5rIG9mIGRhdGEgaGFzIGJlZW4gcmVjZWl2ZWQuXHJcbiAgICAgICAgcmVzLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XHJcbiAgICAgICAgICByZXNwb25zZURhdGEgKz0gY2h1bms7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRoZSB3aG9sZSByZXNwb25zZSBoYXMgYmVlbiByZWNlaXZlZC5cclxuICAgICAgICByZXMub24oJ2VuZCcsICgpID0+IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlcy50ZXh0ID0gcmVzcG9uc2VEYXRhO1xyXG4gICAgICAgICAgICByZXNvbHZlKHJlcyk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgLy8gV3JpdGUgdGhlIHJlcXVlc3QgYm9keSBhbmQgZW5kIHRoZSByZXF1ZXN0LlxyXG4gICAgcmVxLndyaXRlKGRhdGEpO1xyXG4gICAgcmVxLmVuZCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmZXRjaDtcclxuZXhwb3J0IHsgZmV0Y2gsIHBvc3QgfTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLyBUaGUgY2FjaGUgbWFuYWdlciBtYW5hZ2VzIHRoZSBIaWdoY2hhcnRzIGxpYnJhcnkgYW5kIGl0cyBkZXBlbmRlbmNpZXMuXHJcbi8vIFRoZSBjYWNoZSBpdHNlbGYgaXMgc3RvcmVkIGluIC5jYWNoZSwgYW5kIGlzIGNoZWNrZWQgYnkgdGhlIGNvbmZpZyBzeXN0ZW1cclxuLy8gYmVmb3JlIHN0YXJ0aW5nIHRoZSBzZXJ2aWNlXHJcblxyXG5pbXBvcnQgeyBleGlzdHNTeW5jLCBta2RpclN5bmMsIHJlYWRGaWxlU3luYywgd3JpdGVGaWxlU3luYyB9IGZyb20gJ2ZzJztcclxuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5cclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgSHR0cHNQcm94eUFnZW50IGZyb20gJ2h0dHBzLXByb3h5LWFnZW50JztcclxuaW1wb3J0IHsgZmV0Y2ggfSBmcm9tICcuL2ZldGNoLmpzJztcclxuXHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vbGliL3V0aWxzLmpzJztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmNvbnN0IGNhY2hlUGF0aCA9IGpvaW4oX19kaXJuYW1lLCAnLmNhY2hlJyk7XHJcblxyXG5jb25zdCBjYWNoZSA9IHtcclxuICBjZG5VUkw6ICdodHRwczovL2NvZGUuaGlnaGNoYXJ0cy5jb20vJyxcclxuICBhY3RpdmVNYW5pZmVzdDoge30sXHJcbiAgc291cmNlczogJycsXHJcbiAgaGNWZXJzaW9uOiAnJ1xyXG59O1xyXG5cclxuLy8gVE9ETzogVGhlIGNvbmZpZyBzaG91bGQgYmUgYWNjZXNzc2libGUgZ2xvYmFsbHkgc28gd2UgZG9uJ3QgaGF2ZSB0byBkbyB0aGlzIHNvcnQgb2YgdGhpbmcuLlxyXG5sZXQgYXBwbGllZENvbmZpZyA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIEV4dHJhY3RzIHRoZSBIaWdoY2hhcnRzIHZlcnNpb24gZnJvbSB0aGUgY2FjaGVcclxuICovXHJcbmNvbnN0IGV4dHJhY3RWZXJzaW9uID0gKCkgPT5cclxuICAoY2FjaGUuaGNWZXJzaW9uID0gY2FjaGUuc291cmNlc1xyXG4gICAgLnN1YnN0cigwLCBjYWNoZS5zb3VyY2VzLmluZGV4T2YoJyovJykpXHJcbiAgICAucmVwbGFjZSgnLyonLCAnJylcclxuICAgIC5yZXBsYWNlKCcqLycsICcnKVxyXG4gICAgLnJlcGxhY2UoL1xcbi9nLCAnJylcclxuICAgIC50cmltKCkpO1xyXG5cclxuLyoqXHJcbiAqIFNhdmVzIHRoZSBIaWdoY2hhcnRzIHBhcnQgb2YgYSBjb25maWcgdG8gYSBtYW5pZmVzdCBmaWxlIGluIHRoZSBjYWNoZVxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNhcnRzIHJlbGF0ZWQgY29uZmlndXJhdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBmZXRjaGVkTW9kdWxlcyAtIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIG1hcHBlZCBuYW1lcyBvZlxyXG4gKiBmZXRjaGVkIEhpZ2hjaGFydHMgbW9kdWxlcyB0byB1c2UuXHJcbiAqL1xyXG5jb25zdCBzYXZlQ29uZmlnVG9NYW5pZmVzdCA9IGFzeW5jIChjb25maWcsIGZldGNoZWRNb2R1bGVzKSA9PiB7XHJcbiAgY29uc3QgbmV3TWFuaWZlc3QgPSB7XHJcbiAgICB2ZXJzaW9uOiBjb25maWcudmVyc2lvbixcclxuICAgIG1vZHVsZXM6IGZldGNoZWRNb2R1bGVzIHx8IHt9XHJcbiAgfTtcclxuXHJcbiAgLy8gVXBkYXRlIGNhY2hlIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IG1vZHVsZXNcclxuICBjYWNoZS5hY3RpdmVNYW5pZmVzdCA9IG5ld01hbmlmZXN0O1xyXG5cclxuICBsb2coNCwgJ1tjYWNoZV0gd3JpdGluZyBuZXcgbWFuaWZlc3QnKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIHdyaXRlRmlsZVN5bmMoXHJcbiAgICAgIGpvaW4oY2FjaGVQYXRoLCAnbWFuaWZlc3QuanNvbicpLFxyXG4gICAgICBKU09OLnN0cmluZ2lmeShuZXdNYW5pZmVzdCksXHJcbiAgICAgICd1dGY4J1xyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbG9nKDEsIGBbY2FjaGVdIEVycm9yIHdyaXRpbmcgY2FjaGUgbWFuaWZlc3Q6ICR7ZXJyb3J9LmApO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBGZXRjaGVzIGEgc2luZ2xlIHNjcmlwdC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHNjcmlwdCAtIEEgcGF0aCB0byBzY3JpcHQgdG8gZ2V0LlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcHJveHlBZ2VudCAtIFRoZSBwcm94eSBhZ2VudCB0byB1c2UgZm9yIGEgcmVxdWVzdC5cclxuICovXHJcbmNvbnN0IGZldGNoU2NyaXB0ID0gYXN5bmMgKHNjcmlwdCwgcHJveHlBZ2VudCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgcmlkIG9mIHRoZSAuanMgZnJvbSB0aGUgY3VzdG9tIHN0cmluZ3NcclxuICAgIGlmIChzY3JpcHQuZW5kc1dpdGgoJy5qcycpKSB7XHJcbiAgICAgIHNjcmlwdCA9IHNjcmlwdC5zdWJzdHJpbmcoMCwgc2NyaXB0Lmxlbmd0aCAtIDMpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZyg0LCBgW2NhY2hlXSBGZXRjaGluZyBzY3JpcHQgLSAke3NjcmlwdH0uanNgKTtcclxuXHJcbiAgICAvLyBJZiBleGlzdHMsIGFkZCBwcm94eSBhZ2VudCB0byByZXF1ZXN0IG9wdGlvbnNcclxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0gcHJveHlBZ2VudFxyXG4gICAgICA/IHtcclxuICAgICAgICAgIGFnZW50OiBwcm94eUFnZW50LFxyXG4gICAgICAgICAgdGltZW91dDogK3Byb2Nlc3MuZW52WydQUk9YWV9TRVJWRVJfVElNRU9VVCddIHx8IDUwMDBcclxuICAgICAgICB9XHJcbiAgICAgIDoge307XHJcblxyXG4gICAgLy8gRmV0Y2ggdGhlIHNjcmlwdFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtzY3JpcHR9LmpzYCwgcmVxdWVzdE9wdGlvbnMpO1xyXG5cclxuICAgIC8vIElmIE9LLCByZXR1cm4gaXRzIHRleHQgcmVwcmVzZW50YXRpb25cclxuICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDApIHtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3cgYCR7cmVzcG9uc2Uuc3RhdHVzQ29kZX1gO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBsb2coMSwgYFtjYWNoZV0gRXJyb3IgZmV0Y2hpbmcgc2NyaXB0ICR7c2NyaXB0fS5qczogJHtlcnJvcn0uYCk7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogVXBkYXRlcyB0aGUgSGlnaGNoYXJ0cyBjYWNoZS5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIEhpZ2hjYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlUGF0aCAtIEEgcGF0aCB0byB0aGUgZmlsZSB3aGVyZSBzYXZlIHVwZGF0ZWQgc291cmNlcy5cclxuICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgdGhhdCBjb250YWlucyBtYXBwZWQgbmFtZXMgb2YgZmV0Y2hlZCBIaWdoY2hhcnRzXHJcbiAqIG1vZHVsZXMgdG8gdXNlLlxyXG4gKi9cclxuY29uc3QgdXBkYXRlQ2FjaGUgPSBhc3luYyAoY29uZmlnLCBzb3VyY2VQYXRoKSA9PiB7XHJcbiAgY29uc3QgeyBjb3JlU2NyaXB0cywgbW9kdWxlcywgaW5kaWNhdG9ycywgc2NyaXB0czogY3VzdG9tU2NyaXB0cyB9ID0gY29uZmlnO1xyXG4gIGNvbnN0IGhjVmVyc2lvbiA9XHJcbiAgICBjb25maWcudmVyc2lvbiA9PT0gJ2xhdGVzdCcgfHwgIWNvbmZpZy52ZXJzaW9uID8gJycgOiBgJHtjb25maWcudmVyc2lvbn0vYDtcclxuXHJcbiAgbG9nKDMsICdbY2FjaGVdIFVwZGF0aW5nIGNhY2hlIHRvIEhpZ2hjaGFydHMgJywgaGNWZXJzaW9uKTtcclxuXHJcbiAgLy8gR2F0aGVyIGFsbCBzY3JpcHRzIHRvIGZldGNoXHJcbiAgY29uc3QgYWxsU2NyaXB0cyA9IFtcclxuICAgIC4uLmNvcmVTY3JpcHRzLm1hcCgoYykgPT4gYCR7aGNWZXJzaW9ufSR7Y31gKSxcclxuICAgIC4uLm1vZHVsZXMubWFwKChtKSA9PlxyXG4gICAgICBtID09PSAnbWFwJyA/IGBtYXBzLyR7aGNWZXJzaW9ufW1vZHVsZXMvJHttfWAgOiBgJHtoY1ZlcnNpb259bW9kdWxlcy8ke219YFxyXG4gICAgKSxcclxuICAgIC4uLmluZGljYXRvcnMubWFwKChpKSA9PiBgc3RvY2svJHtoY1ZlcnNpb259aW5kaWNhdG9ycy8ke2l9YClcclxuICBdO1xyXG5cclxuICAvLyBDb25maWd1cmUgcHJveHkgaWYgZXhpc3RzXHJcbiAgbGV0IHByb3h5QWdlbnQ7XHJcbiAgY29uc3QgcHJveHlIb3N0ID0gcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9IT1NUJ107XHJcbiAgY29uc3QgcHJveHlQb3J0ID0gcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9QT1JUJ107XHJcblxyXG4gIGlmIChwcm94eUhvc3QgJiYgcHJveHlQb3J0KSB7XHJcbiAgICBwcm94eUFnZW50ID0gbmV3IEh0dHBzUHJveHlBZ2VudCh7XHJcbiAgICAgIGhvc3Q6IHByb3h5SG9zdCxcclxuICAgICAgcG9ydDogK3Byb3h5UG9ydFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBmZXRjaGVkTW9kdWxlcyA9IHt9O1xyXG4gIHRyeSB7XHJcbiAgICBjYWNoZS5zb3VyY2VzID0gLy8gVE9ETzogY29udmVydCB0byBmb3IgbG9vcFxyXG4gICAgICAoXHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgLi4uYWxsU2NyaXB0cy5tYXAoYXN5bmMgKHNjcmlwdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmV0Y2hTY3JpcHQoXHJcbiAgICAgICAgICAgICAgYCR7Y29uZmlnLmNkblVSTCB8fCBjYWNoZS5jZG5VUkx9JHtzY3JpcHR9YCxcclxuICAgICAgICAgICAgICBwcm94eUFnZW50XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBmZXRjaGVkIGNvcnJlY3RseSwgc2V0IGl0XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICBmZXRjaGVkTW9kdWxlc1tcclxuICAgICAgICAgICAgICAgIHNjcmlwdC5yZXBsYWNlKFxyXG4gICAgICAgICAgICAgICAgICAvKC4qKVxcL3woLiopbW9kdWxlc1xcL3xzdG9ja1xcLyguKilpbmRpY2F0b3JzXFwvfG1hcHNcXC8oLiopbW9kdWxlc1xcLy9naSxcclxuICAgICAgICAgICAgICAgICAgJydcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICBdID0gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgIC4uLmN1c3RvbVNjcmlwdHMubWFwKChzY3JpcHQpID0+IGZldGNoU2NyaXB0KHNjcmlwdCwgcHJveHlBZ2VudCkpXHJcbiAgICAgICAgXSlcclxuICAgICAgKS5qb2luKCc7XFxuJyk7XHJcbiAgICBleHRyYWN0VmVyc2lvbigpO1xyXG5cclxuICAgIC8vIFNhdmUgdGhlIGZldGNoZWQgbW9kdWxlcyBpbnRvIGNhY2hlcycgc291cmNlIEpTT05cclxuICAgIHdyaXRlRmlsZVN5bmMoc291cmNlUGF0aCwgY2FjaGUuc291cmNlcyk7XHJcbiAgICByZXR1cm4gZmV0Y2hlZE1vZHVsZXM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZygxLCAnW2NhY2hlXSBVbmFibGUgdG8gdXBkYXRlIGxvY2FsIEhpZ2hjaGFydHMgY2FjaGUuJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVZlcnNpb24gPSBhc3luYyAobmV3VmVyc2lvbikgPT5cclxuICBhcHBsaWVkQ29uZmlnXHJcbiAgICA/IGF3YWl0IGNoZWNrQ2FjaGUoXHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihhcHBsaWVkQ29uZmlnLCB7XHJcbiAgICAgICAgICB2ZXJzaW9uOiBuZXdWZXJzaW9uXHJcbiAgICAgICAgfSlcclxuICAgICAgKVxyXG4gICAgOiBmYWxzZTtcclxuXHJcbi8qKlxyXG4gKiBGZXRjaGVzIGFueSBtaXNzaW5nIEhpZ2hjaGFydHMgYW5kIGRlcGVuZGVuY2llc1xyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNhcnRzIHJlbGF0ZWQgY29uZmlndXJhdGlvbiBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY2hlY2tDYWNoZSA9IGFzeW5jIChjb25maWcpID0+IHtcclxuICBsZXQgZmV0Y2hlZE1vZHVsZXM7XHJcbiAgLy8gUHJlcGFyZSBwYXRocyB0byBtYW5pZmVzdCBhbmQgc291cmNlcyBmcm9tIHRoZSAuY2FjaGUgZm9sZGVyXHJcbiAgY29uc3QgbWFuaWZlc3RQYXRoID0gam9pbihjYWNoZVBhdGgsICdtYW5pZmVzdC5qc29uJyk7XHJcbiAgY29uc3Qgc291cmNlUGF0aCA9IGpvaW4oY2FjaGVQYXRoLCAnc291cmNlcy5qcycpO1xyXG5cclxuICAvLyBUT0RPOiBkZWFsIHdpdGggdHJ5aW5nIHRvIHN3aXRjaCB0byB0aGUgcnVubmluZyB2ZXJzaW9uXHJcbiAgLy8gY29uc3QgYWN0aXZlVmVyc2lvbiA9IGFwcGxpZWRDb25maWcgPyBhcHBsaWVkQ29uZmlnLnZlcnNpb24gOiBmYWxzZTtcclxuXHJcbiAgYXBwbGllZENvbmZpZyA9IGNvbmZpZztcclxuXHJcbiAgLy8gQ3JlYXRlIHRoZSAuY2FjaGUgZGVzdGluYXRpb24gaWYgaXQgZG9lc24ndCBleGlzdCBhbHJlYWR5XHJcbiAgIWV4aXN0c1N5bmMoY2FjaGVQYXRoKSAmJiBta2RpclN5bmMoY2FjaGVQYXRoKTtcclxuXHJcbiAgLy8gTG9hZCB0aGUgLmNhY2hlIG1hbmlmZXN0XHJcbiAgaWYgKGV4aXN0c1N5bmMobWFuaWZlc3RQYXRoKSkge1xyXG4gICAgbGV0IHJlcXVlc3RVcGRhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBSZWFkIHRoZSBtYW5pZmVzdCBKU09OXHJcbiAgICBjb25zdCBtYW5pZmVzdCA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKG1hbmlmZXN0UGF0aCkpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBtb2R1bGVzIGlzIGFuIGFycmF5LCBpZiBzbywgd2UgcmV3cml0ZSBpdCB0byBhIG1hcCB0byBtYWtlXHJcbiAgICAvLyBpdCBlYXNpZXIgdG8gcmVzb2x2ZSBtb2R1bGVzLlxyXG4gICAgaWYgKG1hbmlmZXN0Lm1vZHVsZXMgJiYgQXJyYXkuaXNBcnJheShtYW5pZmVzdC5tb2R1bGVzKSkge1xyXG4gICAgICBjb25zdCBtb2R1bGVNYXAgPSB7fTtcclxuICAgICAgbWFuaWZlc3QubW9kdWxlcy5mb3JFYWNoKChtKSA9PiAobW9kdWxlTWFwW21dID0gMSkpO1xyXG4gICAgICBtYW5pZmVzdC5tb2R1bGVzID0gbW9kdWxlTWFwO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgbW9kdWxlcywgY29yZVNjcmlwdHMsIGluZGljYXRvcnMgfSA9IGNvbmZpZztcclxuICAgIGNvbnN0IG51bWJlck9mTW9kdWxlcyA9XHJcbiAgICAgIG1vZHVsZXMubGVuZ3RoICsgY29yZVNjcmlwdHMubGVuZ3RoICsgaW5kaWNhdG9ycy5sZW5ndGg7XHJcblxyXG4gICAgLy8gQ29tcGFyZSB0aGUgbG9hZGVkIGNvbmZpZyB3aXRoIHRoZSBjb250ZW50cyBpbiAuY2FjaGUuXHJcbiAgICAvLyBJZiB0aGVyZSBhcmUgY2hhbmdlcywgZmV0Y2ggcmVxdWVzdGVkIG1vZHVsZXMgYW5kIHByb2R1Y3RzLFxyXG4gICAgLy8gYW5kIGJha2UgdGhlbSBpbnRvIGEgZ2lhbnQgYmxvYi4gU2F2ZSB0aGUgYmxvYi5cclxuICAgIGlmIChtYW5pZmVzdC52ZXJzaW9uICE9PSBjb25maWcudmVyc2lvbikge1xyXG4gICAgICBsb2coMywgJ1tjYWNoZV0gSGlnaGNoYXJ0cyB2ZXJzaW9uIG1pc21hdGNoIGluIGNhY2hlLCBuZWVkIHRvIHJlLWZldGNoLicpO1xyXG4gICAgICByZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMobWFuaWZlc3QubW9kdWxlcyB8fCB7fSkubGVuZ3RoICE9PSBudW1iZXJPZk1vZHVsZXMpIHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDMsXHJcbiAgICAgICAgJ1tjYWNoZV0gQ2FjaGUgYW5kIHJlcXVlc3RlZCBtb2R1bGVzIGRvZXMgbm90IG1hdGNoLCBuZWVkIHRvIHJlLWZldGNoLidcclxuICAgICAgKTtcclxuICAgICAgcmVxdWVzdFVwZGF0ZSA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBDaGVjayBlYWNoIG1vZHVsZSwgaWYgYW55dGhpbmcgaXMgbWlzc2luZyByZWZldGNoIGV2ZXJ5dGhpbmdcclxuICAgICAgcmVxdWVzdFVwZGF0ZSA9IChjb25maWcubW9kdWxlcyB8fCBbXSkuc29tZSgobW9kdWxlTmFtZSkgPT4ge1xyXG4gICAgICAgIGlmICghbWFuaWZlc3QubW9kdWxlc1ttb2R1bGVOYW1lXSkge1xyXG4gICAgICAgICAgbG9nKFxyXG4gICAgICAgICAgICAzLFxyXG4gICAgICAgICAgICBgW2NhY2hlXSBUaGUgJHttb2R1bGVOYW1lfSBtaXNzaW5nIGluIGNhY2hlLCBuZWVkIHRvIHJlLWZldGNoLmBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXF1ZXN0VXBkYXRlKSB7XHJcbiAgICAgIGZldGNoZWRNb2R1bGVzID0gYXdhaXQgdXBkYXRlQ2FjaGUoY29uZmlnLCBzb3VyY2VQYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxvZygzLCAnW2NhY2hlXSBEZXBlbmRlbmN5IGNhY2hlIGlzIHVwIHRvIGRhdGUsIHByb2NlZWRpbmcuJyk7XHJcblxyXG4gICAgICAvLyBMb2FkIHRoZSBzb3VyY2VzXHJcbiAgICAgIGNhY2hlLnNvdXJjZXMgPSByZWFkRmlsZVN5bmMoc291cmNlUGF0aCwgJ3V0ZjgnKTtcclxuXHJcbiAgICAgIC8vIEdldCBjdXJyZW50IG1vZHVsZXMgbWFwXHJcbiAgICAgIGZldGNoZWRNb2R1bGVzID0gbWFuaWZlc3QubW9kdWxlcztcclxuICAgICAgZXh0cmFjdFZlcnNpb24oKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gU28gd2UgZG9uJ3QgaGF2ZSBvbmUgeWV0LCB3aGljaCBtZWFucyB3ZSBuZWVkIHRvIGZldGNoIGV2ZXJ5dGhpbmdcclxuICAgIGxvZygzLCAnW2NhY2hlXSBGZXRjaGluZyBhbmQgY2FjaGluZyBIaWdoY2hhcnRzIGRlcGVuZGVuY2llcy4nKTtcclxuICAgIGZldGNoZWRNb2R1bGVzID0gYXdhaXQgdXBkYXRlQ2FjaGUoY29uZmlnLCBzb3VyY2VQYXRoKTtcclxuICB9XHJcblxyXG4gIC8vIEZpbmFsbHksIHNhdmUgdGhlIG5ldyBtYW5pZmVzdCwgd2hpY2ggaXMgYmFzaWNhbGx5IG91ciBjdXJyZW50IGNvbmZpZ1xyXG4gIC8vIGluIGEgc2xpZ2h0bHkgZGlmZmVyZW50IGZvcm1hdFxyXG4gIGF3YWl0IHNhdmVDb25maWdUb01hbmlmZXN0KGNvbmZpZywgZmV0Y2hlZE1vZHVsZXMpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNoZWNrQ2FjaGUsXHJcbiAgdXBkYXRlVmVyc2lvbixcclxuICBnZXRDYWNoZTogKCkgPT4gY2FjaGUsXHJcbiAgaGlnaGNoYXJ0czogKCkgPT4gY2FjaGUuc291cmNlcyxcclxuICB2ZXJzaW9uOiAoKSA9PiBjYWNoZS5oY1ZlcnNpb25cclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgcHVwcGV0ZWVyIGZyb20gJ3B1cHBldGVlcic7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCAqIGFzIHVybCBmcm9tICd1cmwnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ25vZGU6cGF0aCc7XHJcblxyXG4vLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xNDYzMzI4XHJcbi8vIE5vdCBpZGVhbCAtIGxlYXZlcyB0cmFzaCBpbiB0aGUgRlNcclxuaW1wb3J0IHsgcmFuZG9tQnl0ZXMgfSBmcm9tICdub2RlOmNyeXB0byc7XHJcbmNvbnN0IFJBTkRPTV9QSUQgPSByYW5kb21CeXRlcyg2NCkudG9TdHJpbmcoJ2Jhc2U2NHVybCcpO1xyXG5jb25zdCBQVVBQRVRFRVJfRElSID0gcGF0aC5qb2luKCd0bXAnLCBgcHVwcGV0ZWVyLSR7UkFORE9NX1BJRH1gKTtcclxuY29uc3QgREFUQV9ESVIgPSBwYXRoLmpvaW4oUFVQUEVURUVSX0RJUiwgJ3Byb2ZpbGUnKTtcclxuXHJcbi8vIFRoZSBtaW5pbWFsIGFyZ3MgdG8gc3BlZWQgdXAgdGhlIGJyb3dzZXJcclxuY29uc3QgbWluaW1hbEFyZ3MgPSBbXHJcbiAgYC0tdXNlci1kYXRhLWRpcj0ke0RBVEFfRElSfWAsXHJcbiAgJy0tYXV0b3BsYXktcG9saWN5PXVzZXItZ2VzdHVyZS1yZXF1aXJlZCcsXHJcbiAgJy0tZGlzYWJsZS1iYWNrZ3JvdW5kLW5ldHdvcmtpbmcnLFxyXG4gICctLWRpc2FibGUtYmFja2dyb3VuZC10aW1lci10aHJvdHRsaW5nJyxcclxuICAnLS1kaXNhYmxlLWJhY2tncm91bmRpbmctb2NjbHVkZWQtd2luZG93cycsXHJcbiAgJy0tZGlzYWJsZS1icmVha3BhZCcsXHJcbiAgJy0tZGlzYWJsZS1jbGllbnQtc2lkZS1waGlzaGluZy1kZXRlY3Rpb24nLFxyXG4gICctLWRpc2FibGUtY29tcG9uZW50LXVwZGF0ZScsXHJcbiAgJy0tZGlzYWJsZS1kZWZhdWx0LWFwcHMnLFxyXG4gICctLWRpc2FibGUtZGV2LXNobS11c2FnZScsXHJcbiAgJy0tZGlzYWJsZS1kb21haW4tcmVsaWFiaWxpdHknLFxyXG4gICctLWRpc2FibGUtZXh0ZW5zaW9ucycsXHJcbiAgJy0tZGlzYWJsZS1mZWF0dXJlcz1BdWRpb1NlcnZpY2VPdXRPZlByb2Nlc3MnLFxyXG4gICctLWRpc2FibGUtaGFuZy1tb25pdG9yJyxcclxuICAnLS1kaXNhYmxlLWlwYy1mbG9vZGluZy1wcm90ZWN0aW9uJyxcclxuICAnLS1kaXNhYmxlLW5vdGlmaWNhdGlvbnMnLFxyXG4gICctLWRpc2FibGUtb2ZmZXItc3RvcmUtdW5tYXNrZWQtd2FsbGV0LWNhcmRzJyxcclxuICAnLS1kaXNhYmxlLXBvcHVwLWJsb2NraW5nJyxcclxuICAnLS1kaXNhYmxlLXByaW50LXByZXZpZXcnLFxyXG4gICctLWRpc2FibGUtcHJvbXB0LW9uLXJlcG9zdCcsXHJcbiAgJy0tZGlzYWJsZS1yZW5kZXJlci1iYWNrZ3JvdW5kaW5nJyxcclxuICAnLS1kaXNhYmxlLXNlc3Npb24tY3Jhc2hlZC1idWJibGUnLFxyXG4gICctLWRpc2FibGUtc2V0dWlkLXNhbmRib3gnLFxyXG4gICctLWRpc2FibGUtc3BlZWNoLWFwaScsXHJcbiAgJy0tZGlzYWJsZS1zeW5jJyxcclxuICAnLS1oaWRlLWNyYXNoLXJlc3RvcmUtYnViYmxlJyxcclxuICAnLS1oaWRlLXNjcm9sbGJhcnMnLFxyXG4gICctLWlnbm9yZS1ncHUtYmxhY2tsaXN0JyxcclxuICAnLS1tZXRyaWNzLXJlY29yZGluZy1vbmx5JyxcclxuICAnLS1tdXRlLWF1ZGlvJyxcclxuICAnLS1uby1kZWZhdWx0LWJyb3dzZXItY2hlY2snLFxyXG4gICctLW5vLWZpcnN0LXJ1bicsXHJcbiAgJy0tbm8tcGluZ3MnLFxyXG4gICctLW5vLXNhbmRib3gnLFxyXG4gICctLW5vLXp5Z290ZScsXHJcbiAgJy0tcGFzc3dvcmQtc3RvcmU9YmFzaWMnLFxyXG4gICctLXVzZS1tb2NrLWtleWNoYWluJ1xyXG5dO1xyXG5cclxuY29uc3QgX19kaXJuYW1lID0gdXJsLmZpbGVVUkxUb1BhdGgobmV3IFVSTCgnLicsIGltcG9ydC5tZXRhLnVybCkpO1xyXG5cclxuY29uc3QgdGVtcGxhdGUgPSBmcy5yZWFkRmlsZVN5bmMoXHJcbiAgX19kaXJuYW1lICsgJy8uLi90ZW1wbGF0ZXMvdGVtcGxhdGUuaHRtbCcsXHJcbiAgJ3V0ZjgnXHJcbik7XHJcblxyXG5sZXQgYnJvd3NlcjtcclxuXHJcbmV4cG9ydCBjb25zdCBuZXdQYWdlID0gYXN5bmMgKCkgPT4ge1xyXG4gIGlmICghYnJvd3NlcikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICBjb25zdCBwID0gYXdhaXQgYnJvd3Nlci5uZXdQYWdlKCk7XHJcblxyXG4gIGF3YWl0IHAuc2V0Q29udGVudCh0ZW1wbGF0ZSk7XHJcbiAgYXdhaXQgcC5hZGRTY3JpcHRUYWcoeyBwYXRoOiBfX2Rpcm5hbWUgKyAnLy4uLy5jYWNoZS9zb3VyY2VzLmpzJyB9KTtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICBhd2FpdCBwLmV2YWx1YXRlKCgpID0+IHdpbmRvdy5zZXR1cEhpZ2hjaGFydHMoKSk7XHJcblxyXG4gIHAub24oJ3BhZ2VlcnJvcicsIGFzeW5jIChlcnIpID0+IHtcclxuICAgIC8vIFRPRE86IENvbnNpZGVyIGFkZGluZyBhIHN3aXRjaCBoZXJlIHRoYXQgdHVybnMgb24gbG9nKDApIGxvZ2dpbmdcclxuICAgIC8vIG9uIHBhZ2UgZXJyb3JzLlxyXG4gICAgbG9nKDEsICdbcGFnZSBlcnJvcl0nLCBlcnIpO1xyXG4gICAgYXdhaXQgcC4kZXZhbChcclxuICAgICAgJyNjb250YWluZXInLFxyXG4gICAgICAoZWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgaWYgKHdpbmRvdy5fZGlzcGxheUVycm9ycykge1xyXG4gICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBgPGgxPkNoYXJ0IGlucHV0IGRhdGEgZXJyb3I8L2gxPiR7ZXJyLnRvU3RyaW5nKCl9YFxyXG4gICAgKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHA7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlID0gYXN5bmMgKHB1cHBldGVlckFyZ3MpID0+IHtcclxuICBjb25zdCBhbGxBcmdzID0gWy4uLm1pbmltYWxBcmdzLCAuLi4ocHVwcGV0ZWVyQXJncyB8fCBbXSldO1xyXG5cclxuICAvLyBDcmVhdGUgYSBicm93c2VyXHJcbiAgaWYgKCFicm93c2VyKSB7XHJcbiAgICBsZXQgdHJ5Q291bnQgPSAwO1xyXG5cclxuICAgIGNvbnN0IG9wZW4gPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbG9nKFxyXG4gICAgICAgICAgMyxcclxuICAgICAgICAgICdbYnJvd3Nlcl0gYXR0ZW1wdGluZyB0byBnZXQgYSBicm93c2VyIGluc3RhbmNlICh0cnknLFxyXG4gICAgICAgICAgdHJ5Q291bnQgKyAnKSdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCh7XHJcbiAgICAgICAgICBoZWFkbGVzczogJ25ldycsXHJcbiAgICAgICAgICBhcmdzOiBhbGxBcmdzLFxyXG4gICAgICAgICAgdXNlckRhdGFEaXI6ICcuL3RtcC8nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBsb2coMCwgJ1ticm93c2VyXScsIGUpO1xyXG4gICAgICAgIGlmICgrK3RyeUNvdW50IDwgMjUpIHtcclxuICAgICAgICAgIGxvZygzLCAnW2Jyb3dzZXJdIGZhaWxlZDonLCBlKTtcclxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNwb25zZSkgPT4gc2V0VGltZW91dChyZXNwb25zZSwgNDAwMCkpO1xyXG4gICAgICAgICAgYXdhaXQgb3BlbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsb2coMCwgJ01heCByZXRyaWVzIHJlYWNoZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgb3BlbigpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBsb2coMCwgJ1ticm93c2VyXSBVbmFibGUgdG8gb3BlbiBicm93c2VyJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWJyb3dzZXIpIHtcclxuICAgICAgbG9nKDAsICdbYnJvd3Nlcl0gVW5hYmxlIHRvIG9wZW4gYnJvd3NlcicpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZXR1cm4gYSBicm93c2VyIHByb21pc2VcclxuICByZXR1cm4gYnJvd3NlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXQgPSBhc3luYyAoKSA9PiB7XHJcbiAgaWYgKCFicm93c2VyKSB7XHJcbiAgICB0aHJvdyAnTm8gdmFsaWQgYnJvd3NlciBoYXMgYmVlbiBjcmVhdGVkJztcclxuICB9XHJcblxyXG4gIHJldHVybiBicm93c2VyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsb3NlID0gYXN5bmMgKCkgPT4ge1xyXG4gIC8vIENsb3NlIHRoZSBicm93c2VyIHdoZW4gY29ubm5lY3RlZFxyXG4gIGlmIChicm93c2VyLmNvbm5lY3RlZCkge1xyXG4gICAgYXdhaXQgYnJvd3Nlci5jbG9zZSgpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBnZXQsXHJcbiAgY2xvc2UsXHJcbiAgbmV3UGFnZVxyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8vIFRPRE86IHJlbW92ZSB0aGlzIHRlbXAgYmVuY2htYXJrIHN0dWZmLiBJIGhhZCB0aGlzIGlkZWEgb2YgZG9pbmcgYSBnZW5lcmFsIGJlbmNobWFya2luZ1xyXG4vLyBzeXN0ZW0sIGJ1dCBpdCBhZGRzIHNvIG11Y2ggYmxvYXQgaW4gdGhlIGNvZGUgdGhhdCBpdCBzaG91bGRuJ3QgYmUgdGhlcmUuXHJcblxyXG5pbXBvcnQgYmVuY2htYXJrIGZyb20gJy4vYmVuY2htYXJrLmpzJztcclxuaW1wb3J0IGNhY2hlIGZyb20gJy4vY2FjaGUuanMnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcbmltcG9ydCBzdmdUZW1wbGF0ZSBmcm9tICcuLy4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMnO1xyXG5cclxuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0ICogYXMgdXJsIGZyb20gJ3VybCc7XHJcblxyXG5jb25zdCBfX2Jhc2VkaXIgPSB1cmwuZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuJywgaW1wb3J0Lm1ldGEudXJsKSk7XHJcblxyXG4vLyBjb25zdCBqc29uVGVtcGxhdGUgPSByZXF1aXJlKCcuLy4uL3RlbXBsYXRlcy9qc29uX2V4cG9ydC9qc29uX2V4cG9ydC5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGNsaXAgcmVnaW9uIGZvciB0aGUgY2hhcnQgRE9NIG5vZGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYWdlIC0gQSBwYWdlIG9mIGEgYnJvd3NlciBpbnN0YW5jZS5cclxuICogQHJldHVybiB7b2JqZWN0fSAtIEEgY2xpcHBlZCByZWdpb24uXHJcbiAqL1xyXG5jb25zdCBnZXRDbGlwUmVnaW9uID0gKHBhZ2UpID0+XHJcbiAgcGFnZS4kZXZhbCgnI2NoYXJ0LWNvbnRhaW5lcicsIChlbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4LFxyXG4gICAgICB5LFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgaGVpZ2h0OiBNYXRoLnRydW5jKGhlaWdodCA+IDEgPyBoZWlnaHQgOiA1MDApXHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuLyoqXHJcbiAqIFJhc3Rlcml6ZXMgdGhlIHBhZ2UgdG8gYW4gaW1hZ2UgKFBORyBvciBKUEVHKVxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgYSByZXN1bHQgaW1hZ2UuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZyAtIFRoZSB0eXBlIG9mIGVuY29kaW5nIHVzZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGlwIC0gVGhlIGNsaXAgcmVnaW9uLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgc2NyZWVuc2hvdC5cclxuICovXHJcbmNvbnN0IGNyZWF0ZUltYWdlID0gYXN5bmMgKHBhZ2UsIHR5cGUsIGVuY29kaW5nLCBjbGlwKSA9PlxyXG4gIGF3YWl0IFByb21pc2UucmFjZShbXHJcbiAgICBwYWdlLnNjcmVlbnNob3Qoe1xyXG4gICAgICB0eXBlLFxyXG4gICAgICBlbmNvZGluZyxcclxuICAgICAgY2xpcFxyXG4gICAgfSksXHJcbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoJ1Jhc3Rlcml6YXRpb24gdGltZW91dCcpKSwgMTUwMClcclxuICAgIClcclxuICBdKTtcclxuXHJcbi8qKlxyXG4gKiBUdXJucyBwYWdlIGludG8gYSBQREYuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYWdlIC0gQSBwYWdlIG9mIGEgYnJvd3NlciBpbnN0YW5jZS5cclxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgYSBjaGFydC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIGEgY2hhcnQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZyAtIFRoZSB0eXBlIG9mIGVuY29kaW5nIHVzZWQuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBBIGJ1ZmZlciB3aXRoIFBERiByZXByZXNlbnRhdGlvbi5cclxuICovXHJcbmNvbnN0IGNyZWF0ZVBERiA9IGFzeW5jIChwYWdlLCBoZWlnaHQsIHdpZHRoLCBlbmNvZGluZykgPT5cclxuICBhd2FpdCBwYWdlLnBkZih7XHJcbiAgICAvLyBUaGlzIHdpbGwgcmVtb3ZlIGFuIGV4dHJhIGVtcHR5IHBhZ2UgaW4gUERGIGV4cG9ydHNcclxuICAgIGhlaWdodDogaGVpZ2h0ICsgMSxcclxuICAgIHdpZHRoLFxyXG4gICAgZW5jb2RpbmdcclxuICB9KTtcclxuXHJcbi8qKlxyXG4gKiBFeHBvcnRzIGFzIGEgU1ZHLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBUaGUgb3V0ZXJIVE1MIGVsZW1lbnQgd2l0aCB0aGUgU1ZHIHJlcHJlc2VudGF0aW9uLlxyXG4gKi9cclxuY29uc3QgY3JlYXRlU1ZHID0gYXN5bmMgKHBhZ2UpID0+XHJcbiAgYXdhaXQgcGFnZS4kZXZhbChcclxuICAgICcjY29udGFpbmVyIHN2ZzpmaXJzdC1vZi10eXBlJyxcclxuICAgIChlbGVtZW50KSA9PiBlbGVtZW50Lm91dGVySFRNTFxyXG4gICk7XHJcblxyXG4vKiogTG9hZCBjb25maWcgaW50byBhIHBhZ2UgYW5kIHJlbmRlciBhIGNoYXJ0ICovXHJcbmNvbnN0IHNldEFzQ29uZmlnID0gYXN5bmMgKHBhZ2UsIGNoYXJ0LCBvcHRpb25zKSA9PlxyXG4gIGF3YWl0IHBhZ2UuZXZhbHVhdGUoXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgIChjaGFydCwgb3B0aW9ucykgPT4gd2luZG93LnRyaWdnZXJFeHBvcnQoY2hhcnQsIG9wdGlvbnMpLFxyXG4gICAgY2hhcnQsXHJcbiAgICBvcHRpb25zXHJcbiAgKTtcclxuXHJcbi8qKiBMb2FkIFNWRyBpbnRvIGEgcGFnZSAqL1xyXG4vLyBjb25zdCBzZXRBc1NWRyA9IGFzeW5jIChwYWdlLCBzdmdTdHIpID0+IHRydWU7XHJcblxyXG4vKipcclxuICogRG9lcyBhbiBleHBvcnQgZm9yIGEgZ2l2ZW4gYnJvd3Nlci5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGJyb3dzZXIgLSBBIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjaGFydCAtIENoYXJ0J3Mgb3B0aW9ucy5cclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBUaGUgZGF0YSByZXR1cm5lZCBmcm9tIG9uZSBvZiB0aGUgbWV0aG9kcyBmb3IgZXhwb3J0aW5nXHJcbiAqIGEgc3BlY2lmaWMgdHlwZSBvZiBhbiBpbWFnZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChwYWdlLCBjaGFydCwgb3B0aW9ucykgPT4ge1xyXG4gIC8qKlxyXG4gICAqIEtlZXBzIHRyYWNrIG9mIGFsbCByZXNvdXJjZXMgYWRkZWQgb24gdGhlIHBhZ2Ugd2l0aCBhZGRYWFhUYWcuIGV0Y1xyXG4gICAqIEl0J3MgVklUQUwgdGhhdCBhbGwgYWRkZWQgcmVzb3VyY2VzIGVuZHMgdXAgaGVyZSBzbyB3ZSBjYW4gY2xlYXIgdGhpbmdzXHJcbiAgICogb3V0IHdoZW4gZG9pbmcgYSBuZXcgZXhwb3J0IGluIHRoZSBzYW1lIHBhZ2UhXHJcbiAgICovXHJcbiAgY29uc3QgaW5qZWN0ZWRSZXNvdXJjZXMgPSBbXTtcclxuXHJcbiAgLyoqIENsZWFyIG91dCBhbGwgc3RhdGUgc2V0IG9uIHRoZSBwYWdlIHdpdGggYWRkU2NyaXB0VGFnL2FkZFN0eWxlVGFnLiAqL1xyXG4gIGNvbnN0IGNsZWFySW5qZWN0ZWQgPSBhc3luYyAocGFnZSkgPT4ge1xyXG4gICAgZm9yIChjb25zdCByZXMgb2YgaW5qZWN0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgYXdhaXQgcmVzLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldCBhbGwgQ1NTIGFuZCBzY3JpcHQgdGFnc1xyXG4gICAgYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICBjb25zdCBbLCAuLi5zY3JpcHRzVG9SZW1vdmVdID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgY29uc3QgWywgLi4uc3R5bGVzVG9SZW1vdmVdID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0eWxlJyk7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICBjb25zdCBbLi4ubGlua3NUb1JlbW92ZV0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpO1xyXG5cclxuICAgICAgLy8gUmVtb3ZlIHRhZ3NcclxuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIFtcclxuICAgICAgICAuLi5zY3JpcHRzVG9SZW1vdmUsXHJcbiAgICAgICAgLi4uc3R5bGVzVG9SZW1vdmUsXHJcbiAgICAgICAgLi4ubGlua3NUb1JlbW92ZVxyXG4gICAgICBdKSB7XHJcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGV4cG9ydEJlbmNoID0gYmVuY2htYXJrKCdQdXBwZXRlZXInKTtcclxuXHJcbiAgICBsb2coNCwgJ1tleHBvcnRdIERldGVybWluaW5nIGV4cG9ydCBwYXRoLicpO1xyXG5cclxuICAgIGNvbnN0IGV4cG9ydE9wdGlvbnMgPSBvcHRpb25zLmV4cG9ydDtcclxuXHJcbiAgICAvLyBGb3JjZSBhIHJBRlxyXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wdXBwZXRlZXIvcHVwcGV0ZWVyL2lzc3Vlcy83NTA3XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHt9KSk7XHJcblxyXG4gICAgLy8gRGVjaWRlIHdoZXRoZXIgZGlzcGxheSBlcnJvciBvciBkZWJidWdlciB3cmFwcGVyIGFyb3VuZCBpdFxyXG4gICAgY29uc3QgZGlzcGxheUVycm9ycyA9XHJcbiAgICAgIGV4cG9ydE9wdGlvbnM/Lm9wdGlvbnM/LmNoYXJ0Py5kaXNwbGF5RXJyb3JzICYmXHJcbiAgICAgIGNhY2hlLmdldENhY2hlKCkuYWN0aXZlTWFuaWZlc3QubW9kdWxlcy5kZWJ1Z2dlcjtcclxuXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKGQpID0+ICh3aW5kb3cuX2Rpc3BsYXlFcnJvcnMgPSBkKSwgZGlzcGxheUVycm9ycyk7XHJcblxyXG4gICAgY29uc3Qgc3ZnQmVuY2ggPSBiZW5jaG1hcmsoJ1NWRyBoYW5kbGluZycpO1xyXG5cclxuICAgIGxldCBpc1NWRztcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGNoYXJ0LmluZGV4T2YgJiZcclxuICAgICAgKGNoYXJ0LmluZGV4T2YoJzxzdmcnKSA+PSAwIHx8IGNoYXJ0LmluZGV4T2YoJzw/eG1sJykgPj0gMClcclxuICAgICkge1xyXG4gICAgICAvLyBTVkcgSU5QVVQgSEFORExJTkdcclxuXHJcbiAgICAgIGxvZyg0LCAnW2V4cG9ydF0gVHJlYXRpbmcgYXMgU1ZHLicpO1xyXG5cclxuICAgICAgLy8gSWYgaW5wdXQgaXMgYWxzbyBzdmcsIGp1c3QgcmV0dXJuIGl0XHJcbiAgICAgIGlmIChleHBvcnRPcHRpb25zLnR5cGUgPT09ICdzdmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIGNoYXJ0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpc1NWRyA9IHRydWU7XHJcbiAgICAgIGNvbnN0IHNldFBhZ2VCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyBjb250ZW50Jyk7XHJcbiAgICAgIGF3YWl0IHBhZ2Uuc2V0Q29udGVudChzdmdUZW1wbGF0ZShjaGFydCkpO1xyXG4gICAgICBzZXRQYWdlQmVuY2goKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEpTT04gQ29uZmlnIGhhbmRsaW5nXHJcblxyXG4gICAgICBsb2coNCwgJ1tleHBvcnRdIFRyZWF0aW5nIGFzIGNvbmZpZy4nKTtcclxuXHJcbiAgICAgIC8vIE5lZWQgdG8gcGVyZm9ybSBzdHJhaWdodCBpbmplY3RcclxuICAgICAgaWYgKGV4cG9ydE9wdGlvbnMuc3RySW5qKSB7XHJcbiAgICAgICAgLy8gSW5qZWN0aW9uIGJhc2VkIGNvbmZpZ3VyYXRpb24gZXhwb3J0XHJcbiAgICAgICAgY29uc3Qgc2V0UGFnZUJlbmNoID0gYmVuY2htYXJrKCdTZXR0aW5nIHBhZ2UgY29udGVudCAoaW5qZWN0KScpO1xyXG5cclxuICAgICAgICBhd2FpdCBzZXRBc0NvbmZpZyhcclxuICAgICAgICAgIHBhZ2UsXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGNoYXJ0OiB7XHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiBleHBvcnRPcHRpb25zLmhlaWdodCxcclxuICAgICAgICAgICAgICB3aWR0aDogZXhwb3J0T3B0aW9ucy53aWR0aFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgb3B0aW9uc1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHNldFBhZ2VCZW5jaCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEJhc2ljIGNvbmZpZ3VyYXRpb24gZXhwb3J0XHJcblxyXG4gICAgICAgIGNoYXJ0LmNoYXJ0LmhlaWdodCA9IGV4cG9ydE9wdGlvbnMuaGVpZ2h0O1xyXG4gICAgICAgIGNoYXJ0LmNoYXJ0LndpZHRoID0gZXhwb3J0T3B0aW9ucy53aWR0aDtcclxuXHJcbiAgICAgICAgY29uc3Qgc2V0Q29udGVudEJlbmNoID0gYmVuY2htYXJrKCdTZXR0aW5nIHBhZ2UgY29udGVudCAoY29uZmlnKScpO1xyXG4gICAgICAgIGF3YWl0IHNldEFzQ29uZmlnKHBhZ2UsIGNoYXJ0LCBvcHRpb25zKTtcclxuICAgICAgICBzZXRDb250ZW50QmVuY2goKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN2Z0JlbmNoKCk7XHJcbiAgICBjb25zdCByZXNCZW5jaCA9IGJlbmNobWFyaygnQXBwbHlpbmcgcmVzb3VyY2VzJyk7XHJcblxyXG4gICAgLy8gVXNlIHJlc291cmNlc1xyXG4gICAgY29uc3QgcmVzb3VyY2VzID0gb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcztcclxuICAgIGlmIChyZXNvdXJjZXMpIHtcclxuICAgICAgLy8gTG9hZCBjdXN0b20gSlMgY29kZVxyXG4gICAgICBpZiAocmVzb3VyY2VzLmpzKSB7XHJcbiAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcclxuICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU2NyaXB0VGFnKHtcclxuICAgICAgICAgICAgY29udGVudDogcmVzb3VyY2VzLmpzXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIExvYWQgc2NyaXB0cyBmcm9tIGFsbCBjdXN0b20gZmlsZXNcclxuICAgICAgaWYgKHJlc291cmNlcy5maWxlcykge1xyXG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiByZXNvdXJjZXMuZmlsZXMpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzTG9jYWwgPSAhZmlsZS5zdGFydHNXaXRoKCdodHRwJykgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgZWFjaCBjdXN0b20gc2NyaXB0IGZyb20gcmVzb3VyY2VzJyBmaWxlc1xyXG4gICAgICAgICAgICBpbmplY3RlZFJlc291cmNlcy5wdXNoKFxyXG4gICAgICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU2NyaXB0VGFnKFxyXG4gICAgICAgICAgICAgICAgaXNMb2NhbFxyXG4gICAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlYWRGaWxlU3luYyhmaWxlLCAndXRmOCcpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHVybDogZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9IGNhdGNoIChub3RpY2UpIHtcclxuICAgICAgICAgICAgbG9nKDQsICdbZXhwb3J0XSBKUyBmaWxlIG5vdCBmb3VuZC4nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNzc0JlbmNoID0gYmVuY2htYXJrKCdMb2FkaW5nIGNzcycpO1xyXG5cclxuICAgICAgLy8gTG9hZCBDU1NcclxuICAgICAgaWYgKHJlc291cmNlcy5jc3MpIHtcclxuICAgICAgICBsZXQgY3NzSW1wb3J0cyA9IHJlc291cmNlcy5jc3MubWF0Y2goL0BpbXBvcnRcXHMqKFteO10qKTsvZyk7XHJcbiAgICAgICAgaWYgKGNzc0ltcG9ydHMpIHtcclxuICAgICAgICAgIC8vIEhhbmRsZSBjc3Mgc2VjdGlvblxyXG4gICAgICAgICAgZm9yIChsZXQgY3NzSW1wb3J0UGF0aCBvZiBjc3NJbXBvcnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChjc3NJbXBvcnRQYXRoKSB7XHJcbiAgICAgICAgICAgICAgY3NzSW1wb3J0UGF0aCA9IGNzc0ltcG9ydFBhdGhcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKCd1cmwoJywgJycpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgnQGltcG9ydCcsICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgJycpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvOy8sICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcKS9nLCAnJylcclxuICAgICAgICAgICAgICAgIC50cmltKCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEFkZCBlYWNoIGN1c3RvbSBjc3MgZnJvbSByZXNvdXJjZXNcclxuICAgICAgICAgICAgICBpZiAoY3NzSW1wb3J0UGF0aC5zdGFydHNXaXRoKCdodHRwJykpIHtcclxuICAgICAgICAgICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU3R5bGVUYWcoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogY3NzSW1wb3J0UGF0aFxyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuY3VzdG9tQ29kZS5hbGxvd0ZpbGVSZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU3R5bGVUYWcoe1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGguam9pbihfX2Jhc2VkaXIsIGNzc0ltcG9ydFBhdGgpXHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIENTUyBzZWN0aW9uIHdpbGwgYmUgY29udGVudCBieSBub3dcclxuICAgICAgICBpbmplY3RlZFJlc291cmNlcy5wdXNoKFxyXG4gICAgICAgICAgYXdhaXQgcGFnZS5hZGRTdHlsZVRhZyh7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlc291cmNlcy5jc3MucmVwbGFjZSgvQGltcG9ydFxccyooW147XSopOy9nLCAnJykgfHwgJyAnXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNzc0JlbmNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzQmVuY2goKTtcclxuXHJcbiAgICAvLyBHZXQgdGhlIHJlYWwgY2hhcnQgc2l6ZVxyXG4gICAgY29uc3Qgc2l6ZSA9IGlzU1ZHXHJcbiAgICAgID8gYXdhaXQgcGFnZS4kZXZhbChcclxuICAgICAgICAgICcjY2hhcnQtY29udGFpbmVyIHN2ZzpmaXJzdC1vZi10eXBlJyxcclxuICAgICAgICAgIGFzeW5jIChlbGVtZW50LCBzY2FsZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIGNoYXJ0SGVpZ2h0OiBlbGVtZW50LmhlaWdodC5iYXNlVmFsLnZhbHVlICogc2NhbGUsXHJcbiAgICAgICAgICAgICAgY2hhcnRXaWR0aDogZWxlbWVudC53aWR0aC5iYXNlVmFsLnZhbHVlICogc2NhbGVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpXHJcbiAgICAgICAgKVxyXG4gICAgICA6IGF3YWl0IHBhZ2UuZXZhbHVhdGUoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgICBjb25zdCB7IGNoYXJ0SGVpZ2h0LCBjaGFydFdpZHRoIH0gPSB3aW5kb3cuSGlnaGNoYXJ0cy5jaGFydHNbMF07XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjaGFydEhlaWdodCxcclxuICAgICAgICAgICAgY2hhcnRXaWR0aFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjb25zdCB2cEJlbmNoID0gYmVuY2htYXJrKCdTZXR0aW5nIHZpZXdwb3J0Jyk7XHJcblxyXG4gICAgLy8gU2V0IGZpbmFsIGhlaWdodCBhbmQgd2lkdGggZm9yIHZpZXdwb3J0XHJcbiAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IE1hdGguY2VpbChzaXplPy5jaGFydEhlaWdodCB8fCBleHBvcnRPcHRpb25zLmhlaWdodCk7XHJcbiAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gTWF0aC5jZWlsKHNpemU/LmNoYXJ0V2lkdGggfHwgZXhwb3J0T3B0aW9ucy53aWR0aCk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSB2aWV3cG9ydCBmb3IgdGhlIGZpcnN0IHRpbWVcclxuICAgIC8vIE5PVEU6IHRoZSBjYWxsIHRvIHNldFZpZXdwb3J0IGlzIGV4cGVuc2l2ZSAtIGNhbiB3ZSBnZXQgYXdheSB3aXRoIG9ubHlcclxuICAgIC8vIGNhbGxpbmcgaXQgb25jZSwgZS5nLiBtb3ZpbmcgdGhpcyBvbmUgaW50byB0aGUgaXNTVkcgY29uZGl0aW9uIGJlbG93P1xyXG4gICAgYXdhaXQgcGFnZS5zZXRWaWV3cG9ydCh7XHJcbiAgICAgIGhlaWdodDogdmlld3BvcnRIZWlnaHQsXHJcbiAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICBkZXZpY2VTY2FsZUZhY3RvcjogaXNTVkcgPyAxIDogcGFyc2VGbG9hdChleHBvcnRPcHRpb25zLnNjYWxlKVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUHJlcGFyZSBhIHpvb20gY2FsbGJhY2sgZm9yIHRoZSBuZXh0IGV2YWx1YXRlIGNhbGxcclxuICAgIGNvbnN0IHpvb21DYWxsYmFjayA9IGlzU1ZHXHJcbiAgICAgID8gLy8gSW4gY2FzZSBvZiBTVkcgdGhlIHpvb20gbXVzdCBiZSBzZXQgZGlyZWN0bHkgZm9yIGJvZHlcclxuICAgICAgICAoc2NhbGUpID0+IHtcclxuICAgICAgICAgIC8vIFNldCB0aGUgem9vbSBhcyBzY2FsZVxyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSBzY2FsZTtcclxuXHJcbiAgICAgICAgICAvLyBTZXQgdGhlIG1hcmdpbiB0byAwcHhcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAnMHB4JztcclxuICAgICAgICB9XHJcbiAgICAgIDogLy8gTm8gbmVlZCBmb3Igc3VjaCBzY2FsZSBtYW5pcHVsYXRpb24gaW4gY2FzZSBvZiBvdGhlciB0eXBlcyBvZiBleHBvcnRzXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHpvb20gZm9yIG90aGVyIGV4cG9ydHMgdGhhbiB0byBTVkdzXHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9IDE7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIHpvb20gYWNjb3JkaW5nbHlcclxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoem9vbUNhbGxiYWNrLCBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpKTtcclxuXHJcbiAgICAvLyBHZXQgdGhlIGNsaXAgcmVnaW9uIGZvciB0aGUgcGFnZVxyXG4gICAgY29uc3QgeyBoZWlnaHQsIHdpZHRoLCB4LCB5IH0gPSBhd2FpdCBnZXRDbGlwUmVnaW9uKHBhZ2UpO1xyXG5cclxuICAgIGlmICghaXNTVkcpIHtcclxuICAgICAgLy8gU2V0IHRoZSBmaW5hbCB2aWV3cG9ydCBub3cgdGhhdCB3ZSBoYXZlIHRoZSByZWFsIGhlaWdodFxyXG4gICAgICBhd2FpdCBwYWdlLnNldFZpZXdwb3J0KHtcclxuICAgICAgICB3aWR0aDogTWF0aC5yb3VuZCh3aWR0aCksXHJcbiAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGhlaWdodCksXHJcbiAgICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IHBhcnNlRmxvYXQoZXhwb3J0T3B0aW9ucy5zY2FsZSlcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdnBCZW5jaCgpO1xyXG5cclxuICAgIGxldCBkYXRhO1xyXG5cclxuICAgIGNvbnN0IGV4cEJlbmNobWFyayA9IGJlbmNobWFyaygnUmFzdGVyaXppbmcgY2hhcnQnKTtcclxuXHJcbiAgICAvLyBSQVNURVJJWkFUSU9OXHJcbiAgICBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAnc3ZnJykge1xyXG4gICAgICAvLyBTVkdcclxuICAgICAgZGF0YSA9IGF3YWl0IGNyZWF0ZVNWRyhwYWdlKTtcclxuICAgIH0gZWxzZSBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAncG5nJyB8fCBleHBvcnRPcHRpb25zLnR5cGUgPT09ICdqcGVnJykge1xyXG4gICAgICAvLyBQTkcgb3IgSlBFR1xyXG4gICAgICBkYXRhID0gYXdhaXQgY3JlYXRlSW1hZ2UocGFnZSwgZXhwb3J0T3B0aW9ucy50eXBlLCAnYmFzZTY0Jywge1xyXG4gICAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICAgIGhlaWdodDogdmlld3BvcnRIZWlnaHQsXHJcbiAgICAgICAgeCxcclxuICAgICAgICB5XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmIChleHBvcnRPcHRpb25zLnR5cGUgPT09ICdwZGYnKSB7XHJcbiAgICAgIC8vIFBERlxyXG4gICAgICBkYXRhID0gYXdhaXQgY3JlYXRlUERGKHBhZ2UsIHZpZXdwb3J0SGVpZ2h0LCB2aWV3cG9ydFdpZHRoLCAnYmFzZTY0Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBgVW5zdXBwb3J0ZWQgb3V0cHV0IGZvcm1hdCAke2V4cG9ydE9wdGlvbnMudHlwZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERlc3Ryb3kgb2xkIGNoYXJ0cyBhZnRlciB0aGUgZXhwb3J0IGlzIGRvbmVcclxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgY29uc3Qgb2xkQ2hhcnRzID0gSGlnaGNoYXJ0cy5jaGFydHM7XHJcblxyXG4gICAgICAvLyBDaGVjayBpbiBhbnkgYWxyZWFkeSBleGlzdGluZyBjaGFydHNcclxuICAgICAgaWYgKG9sZENoYXJ0cy5sZW5ndGgpIHtcclxuICAgICAgICAvLyBEZXN0cm95IG9sZCBjaGFydHNcclxuICAgICAgICBmb3IgKGNvbnN0IG9sZENoYXJ0IG9mIG9sZENoYXJ0cykge1xyXG4gICAgICAgICAgb2xkQ2hhcnQgJiYgb2xkQ2hhcnQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgICBIaWdoY2hhcnRzLmNoYXJ0cy5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZXhwQmVuY2htYXJrKCk7XHJcbiAgICBleHBvcnRCZW5jaCgpO1xyXG5cclxuICAgIGF3YWl0IGNsZWFySW5qZWN0ZWQocGFnZSk7XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGF3YWl0IGNsZWFySW5qZWN0ZWQocGFnZSk7XHJcbiAgICBsb2coMSwgYFtleHBvcnRdIEVycm9yIGVuY291bnRlcmVkIGR1cmluZyBleHBvcnQ6ICR7ZXJyb3J9YCk7XHJcblxyXG4gICAgcmV0dXJuIGVycm9yO1xyXG4gIH1cclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjIsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcbmNvbnN0IHRpbWVycyA9IHt9O1xyXG5cclxuLy8gVE9ETzogUmVhZCBmcm9tIGNvbmZpZ1xyXG5sZXQgZW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKGlkKSA9PiB7XHJcbiAgaWYgKCFlbmFibGVkKSB7XHJcbiAgICByZXR1cm4gKCkgPT4ge307XHJcbiAgfVxyXG5cclxuICB0aW1lcnNbaWRdID0gbmV3IERhdGUoKTtcclxuICByZXR1cm4gKCkgPT4ge1xyXG4gICAgbG9nKFxyXG4gICAgICAzLFxyXG4gICAgICBgW2JlbmNobWFya10gLSAke2lkfTogJHtuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRpbWVyc1tpZF0uZ2V0VGltZSgpfW1zYFxyXG4gICAgKTtcclxuICB9O1xyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCBjc3NUZW1wbGF0ZSBmcm9tICcuL2Nzcy5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAoY2hhcnQpID0+IGBcclxuPCFET0NUWVBFIGh0bWw+XHJcbjxodG1sIGxhbmc9J2VuLVVTJz5cclxuICA8aGVhZD5cclxuICAgIDxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVR5cGVcIiBjb250ZW50PVwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCI+XHJcbiAgICA8dGl0bGU+SGlnaGNhcnRzIEV4cG9ydDwvdGl0bGU+XHJcbiAgPC9oZWFkPlxyXG4gIDxzdHlsZT5cclxuICAgICR7Y3NzVGVtcGxhdGUoKX1cclxuICA8L3N0eWxlPlxyXG4gIDxib2R5PlxyXG4gICAgPGRpdiBpZD1cImNoYXJ0LWNvbnRhaW5lclwiPlxyXG4gICAgICAke2NoYXJ0fVxyXG4gICAgPC9kaXY+XHJcbiAgPC9ib2R5PlxyXG48L2h0bWw+XHJcblxyXG5gO1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcclxuaW1wb3J0IHsgUG9vbCB9IGZyb20gJ3Rhcm4nO1xyXG5pbXBvcnQge1xyXG4gIGNsb3NlLFxyXG4gIG5ld1BhZ2UgYXMgYnJvd3Nlck5ld1BhZ2UsXHJcbiAgY3JlYXRlIGFzIGNyZWF0ZUJyb3dzZXJcclxufSBmcm9tICcuL2Jyb3dzZXIuanMnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcblxyXG5pbXBvcnQgcHVwcGV0ZWVyRXhwb3J0IGZyb20gJy4vZXhwb3J0LmpzJztcclxuXHJcbmxldCBwZXJmb3JtZWRFeHBvcnRzID0gMDtcclxubGV0IGV4cG9ydEF0dGVtcHRzID0gMDtcclxubGV0IHRpbWVTcGVudCA9IDA7XHJcbmxldCBkcm9wcGVkRXhwb3J0cyA9IDA7XHJcbmxldCBzcGVudEF2ZXJhZ2UgPSAwO1xyXG5sZXQgcG9vbENvbmZpZyA9IHt9O1xyXG5cclxuLy8gVGhlIHBvb2wgaW5zdGFuY2VcclxubGV0IHBvb2wgPSBmYWxzZTtcclxuXHJcbi8vIEN1c3RvbSBwdXBwZXRlZXIgYXJndW1lbnRzXHJcbmxldCBwdXBwZXRlZXJBcmdzO1xyXG5cclxuY29uc3QgZmFjdG9yeSA9IHtcclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IHdvcmtlci5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge29iamVjdH0gLSBBbiBvYmplY3Qgd2l0aCB0aGUgaWQgb2YgYSByZXNvdXJjZSwgdGhlIHdvcmsgY291bnQgYW5kXHJcbiAgICogYSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIgcGFnZS5cclxuICAgKi9cclxuICBjcmVhdGU6IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGlkID0gdXVpZCgpO1xyXG4gICAgbGV0IHBhZ2UgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdCBzID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgcGFnZSA9IGF3YWl0IGJyb3dzZXJOZXdQYWdlKCk7XHJcblxyXG4gICAgICBpZiAoIXBhZ2UgfHwgcGFnZS5pc0Nsb3NlZCgpKSB7XHJcbiAgICAgICAgdGhyb3cgJ2ludmFsaWQgcGFnZSc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxvZyhcclxuICAgICAgICAzLFxyXG4gICAgICAgIGBbcG9vbF0gU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYSB3b3JrZXIgJHtpZH0gLSB0b29rICR7XHJcbiAgICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNcclxuICAgICAgICB9IG1zLmBcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICAxLFxyXG4gICAgICAgIGBbcG9vbF0gRXJyb3IgY3JlYXRpbmcgYSBuZXcgcGFnZSBpbiBwb29sIGVudHJ5IGNyZWF0aW9uISAke2Vycm9yfWBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHRocm93ICdFcnJvciBjcmVhdGluZyBwYWdlJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZCxcclxuICAgICAgcGFnZSxcclxuICAgICAgLy8gVHJ5IHRvIGRpc3RyaWJ1dGUgdGhlIGluaXRpYWwgd29yayBjb3VudFxyXG4gICAgICB3b3JrQ291bnQ6IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChwb29sQ29uZmlnLndvcmtMaW1pdCAvIDIpKVxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZXMgYSB3b3JrZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gd29ya2VySGFuZGxlIC0gQSBicm93c2VyJ3MgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSAtIEJvb2wgdGhhdCBpbmRpY2F0ZXMgaWYgYSByZXNvdXJjZSBpcyB2YWxpZCBvciBub3QuXHJcbiAgICovXHJcbiAgdmFsaWRhdGU6ICh3b3JrZXJIYW5kbGUpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgcG9vbENvbmZpZy53b3JrTGltaXQgJiZcclxuICAgICAgKyt3b3JrZXJIYW5kbGUud29ya0NvdW50ID4gcG9vbENvbmZpZy53b3JrTGltaXRcclxuICAgICkge1xyXG4gICAgICBsb2coXHJcbiAgICAgICAgMyxcclxuICAgICAgICBgW3Bvb2xdIFdvcmtlciBmYWlsZWQgdmFsaWRhdGlvbjpgLFxyXG4gICAgICAgIGBleGNlZWRlZCB3b3JrIGxpbWl0IChsaW1pdCBpcyAke3Bvb2xDb25maWcud29ya0xpbWl0fSlgXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3lzIGEgd29ya2VyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IHdvcmtlckhhbmRsZSAtIEEgYnJvd3NlcidzIGluc3RhbmNlLlxyXG4gICAqL1xyXG4gIGRlc3Ryb3k6ICh3b3JrZXJIYW5kbGUpID0+IHtcclxuICAgIGxvZygzLCBgW3Bvb2xdIERlc3Ryb3lpbmcgcG9vbCBlbnRyeSAke3dvcmtlckhhbmRsZS5pZH0uYCk7XHJcblxyXG4gICAgaWYgKHdvcmtlckhhbmRsZS5wYWdlKSB7XHJcbiAgICAgIC8vIFdlIGRvbid0IHJlYWxseSBuZWVkIHRvIHdhaXQgYXJvdW5kIGZvciB0aGlzLlxyXG4gICAgICB3b3JrZXJIYW5kbGUucGFnZS5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIExvZ2dlciBmdW5jdGlvblxyXG4gIGxvZzogKG1lc3NhZ2UsIGxvZ0xldmVsKSA9PiBjb25zb2xlLmxvZyhgJHtsb2dMZXZlbH06ICR7bWVzc2FnZX1gKVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEluaXRzIHRoZSBwb29sIG9mIHJlc291cmNlcy5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIFBvb2wgY29uZmlndXJhdGlvbiBhbG9uZyB3aXRoIGN1c3RvbSBwdXBwZXRlZXJcclxuICogYXJndW1lbnRzIGZvciB0aGUgcHVwcGV0ZWVyLmxhdW5jaCBmdW5jdGlvbi5cclxuICovXHJcbmV4cG9ydCBjb25zdCBpbml0ID0gYXN5bmMgKGNvbmZpZykgPT4ge1xyXG4gIC8vIFRoZSBuZXdlc3QgcHVwcGV0ZWVyIGFyZ3VtZW50cyBmb3IgdGhlIGJyb3dzZXIgY3JlYXRpb25cclxuICBwdXBwZXRlZXJBcmdzID0gY29uZmlnLnB1cHBldGVlckFyZ3M7XHJcblxyXG4gIC8vIFdhaXQgdW50aWwgd2UndmUgc3VjZXNzZnVsbHkgY3JlYXRlZCBhIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGNyZWF0ZUJyb3dzZXIocHVwcGV0ZWVyQXJncyk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgbG9nKDAsICdbcG9vbHxicm93c2VyXScsIGUpO1xyXG4gIH1cclxuXHJcbiAgLy8gRm9yIHRoZSBtb2R1bGUgc2NvcGUgdXNhZ2VcclxuICBwb29sQ29uZmlnID0gY29uZmlnICYmIGNvbmZpZy5wb29sID8geyAuLi5jb25maWcucG9vbCB9IDoge307XHJcblxyXG4gIGxvZyhcclxuICAgIDMsXHJcbiAgICAnW3Bvb2xdIEluaXRpYWxpemluZyBwb29sOicsXHJcbiAgICBgbWluICR7cG9vbENvbmZpZy5pbml0aWFsV29ya2Vyc30sIG1heCAke3Bvb2xDb25maWcubWF4V29ya2Vyc30uYFxyXG4gICk7XHJcblxyXG4gIGlmIChwb29sKSB7XHJcbiAgICByZXR1cm4gbG9nKFxyXG4gICAgICA0LFxyXG4gICAgICAnW3Bvb2xdIEFscmVhZHkgaW5pdGlhbGl6ZWQsIHBsZWFzZSBraWxsIGl0IGJlZm9yZSBjcmVhdGluZyBhIG5ldyBvbmUuJ1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIEF0dGFjaCBwcm9jZXNzJyBleGl0IGxpc3RlbmVyc1xyXG4gIGlmIChwb29sQ29uZmlnLmxpc3RlblRvUHJvY2Vzc0V4aXRzKSB7XHJcbiAgICBhdHRhY2hQcm9jZXNzRXhpdExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIENyZWF0ZSBhIHBvb2wgYWxvbmcgd2l0aCBhIG1pbmltYWwgbnVtYmVyIG9mIHJlc291cmNlc1xyXG4gICAgcG9vbCA9IG5ldyBQb29sKHtcclxuICAgICAgLy8gR2V0IHRoZSBjcmVhdGUvdmFsaWRhdGUvZGVzdHJveS9sb2cgZnVuY3Rpb25zXHJcbiAgICAgIC4uLmZhY3RvcnksXHJcbiAgICAgIG1pbjogcG9vbENvbmZpZy5pbml0aWFsV29ya2VycyxcclxuICAgICAgbWF4OiBwb29sQ29uZmlnLm1heFdvcmtlcnMsXHJcbiAgICAgIGNyZWF0ZVJldHJ5SW50ZXJ2YWxNaWxsaXM6IDIwMCxcclxuICAgICAgY3JlYXRlVGltZW91dE1pbGxpczogcG9vbENvbmZpZy5hY3F1aXJlVGltZW91dCxcclxuICAgICAgYWNxdWlyZVRpbWVvdXRNaWxsaXM6IHBvb2xDb25maWcuYWNxdWlyZVRpbWVvdXQsXHJcbiAgICAgIGRlc3Ryb3lUaW1lb3V0TWlsbGlzOiBwb29sQ29uZmlnLmFjcXVpcmVUaW1lb3V0LFxyXG4gICAgICBpZGxlVGltZW91dE1pbGxpczogcG9vbENvbmZpZy50aW1lb3V0VGhyZXNob2xkLFxyXG4gICAgICByZWFwSW50ZXJ2YWxNaWxsaXM6IDEwMDAsIC8vIHBvb2xDb25maWcucmVhcGVyID8gMTIwMDAwIDogMCwgZm9yIG5vd1xyXG4gICAgICBwcm9wYWdhdGVDcmVhdGVFcnJvcjogZmFsc2VcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNldCBldmVudHNcclxuICAgIHBvb2wub24oJ2NyZWF0ZUZhaWwnLCAoZXZlbnRJZCwgZXJyKSA9PiB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICAxLFxyXG4gICAgICAgIGBbcG9vbF0gRXJyb3Igd2hlbiBjcmVhdGluZyB3b3JrZXIgb2YgYW4gZXZlbnQgaWQgJHtldmVudElkfTpgLFxyXG4gICAgICAgIGVyclxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcG9vbC5vbignYWNxdWlyZUZhaWwnLCAoZXZlbnRJZCwgZXJyKSA9PiB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICAxLFxyXG4gICAgICAgIGBbcG9vbF0gRXJyb3Igd2hlbiBhY3F1aXJpbmcgd29ya2VyIG9mIGFuIGV2ZW50IGlkICR7ZXZlbnRJZH06YCxcclxuICAgICAgICBlcnJcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHBvb2wub24oJ2Rlc3Ryb3lGYWlsJywgKGV2ZW50SWQsIHJlc291cmNlLCBlcnIpID0+IHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgYFtwb29sXSBFcnJvciB3aGVuIGRlc3Ryb3lpbmcgd29ya2VyIG9mIGFuIGlkICR7cmVzb3VyY2UuaWR9LCBldmVudCBpZCAke2V2ZW50SWR9OmAsXHJcbiAgICAgICAgZXJyXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwb29sLm9uKCdyZWxlYXNlJywgKHJlc291cmNlKSA9PiB7XHJcbiAgICAgIGxvZyg0LCBgW3Bvb2xdIFJlbGVhc2luZyBhIHdvcmtlciBvZiBhbiBpZCAke3Jlc291cmNlLmlkfWApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcG9vbC5vbignZGVzdHJveVN1Y2Nlc3MnLCAoZXZlbnRJZCwgcmVzb3VyY2UpID0+IHtcclxuICAgICAgbG9nKDQsIGBbcG9vbF0gRGVzdHJveWVkIGEgd29ya2VyIG9mIGFuIGlkICR7cmVzb3VyY2UuaWR9YCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBpbml0aWFsUmVzb3VyY2VzID0gW107XHJcbiAgICAvLyBDcmVhdGUgYW4gaW5pdGlhbCBudW1iZXIgb2YgcmVzb3VyY2VzXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvb2xDb25maWcuaW5pdGlhbFdvcmtlcnM7IGkrKykge1xyXG4gICAgICBpbml0aWFsUmVzb3VyY2VzLnB1c2goYXdhaXQgcG9vbC5hY3F1aXJlKCkucHJvbWlzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVsZWFzZSB0aGUgaW5pdGlhbCBudW1iZXIgb2YgcmVzb3VyY2VzIGJhY2sgdG8gdGhlIHBvb2xcclxuICAgIGluaXRpYWxSZXNvdXJjZXMuZm9yRWFjaCgocmVzb3VyY2UpID0+IHtcclxuICAgICAgcG9vbC5yZWxlYXNlKHJlc291cmNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxvZyhcclxuICAgICAgMyxcclxuICAgICAgYFtwb29sXSBUaGUgcG9vbCBpcyByZWFkeSB3aXRoICR7cG9vbENvbmZpZy5pbml0aWFsV29ya2Vyc30gaW5pdGlhbCByZXNvdXJjZXMgd2FpdGluZy5gXHJcbiAgICApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBsb2coMSwgYFtwb29sXSBDb3VsZG4ndCBjcmVhdGUgdGhlIHdvcmtlciBwb29sICR7ZXJyb3J9YCk7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQXR0YWNoZXMgcHJvY2VzcycgZXhpdCBsaXN0ZW5lcnMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoUHJvY2Vzc0V4aXRMaXN0ZW5lcnMoKSB7XHJcbiAgbG9nKDQsICdbcG9vbF0gQXR0YWNoaW5nIGV4aXQgbGlzdGVuZXJzIHRvIHRoZSBwcm9jZXNzLicpO1xyXG5cclxuICAvLyBLaWxsIGFsbCBwb29sIHJlc291cmNlcyBvbiBleGl0XHJcbiAgcHJvY2Vzcy5vbignZXhpdCcsIGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IGtpbGxQb29sKCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEhhbmRsZXIgZm9yIHRoZSBTSUdJTlRcclxuICBwcm9jZXNzLm9uKCdTSUdJTlQnLCAobmFtZSwgY29kZSkgPT4ge1xyXG4gICAgbG9nKDQsIGBUaGUgJHtuYW1lfSBldmVudCB3aXRoIGNvZGU6ICR7Y29kZX0uYCk7XHJcbiAgICBwcm9jZXNzLmV4aXQoMSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEhhbmRsZXIgZm9yIHRoZSBTSUdURVJNXHJcbiAgcHJvY2Vzcy5vbignU0lHVEVSTScsIChuYW1lLCBjb2RlKSA9PiB7XHJcbiAgICBsb2coNCwgYFRoZSAke25hbWV9IGV2ZW50IHdpdGggY29kZTogJHtjb2RlfS5gKTtcclxuICAgIHByb2Nlc3MuZXhpdCgxKTtcclxuICB9KTtcclxuXHJcbiAgLy8gSGFuZGxlciBmb3IgdGhlIHVuY2F1Z2h0RXhjZXB0aW9uXHJcbiAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCBhc3luYyAoZXJyb3IsIG5hbWUpID0+IHtcclxuICAgIGxvZyg0LCBgVGhlICR7bmFtZX0gZXJyb3IsIG1lc3NhZ2U6ICR7ZXJyb3IubWVzc2FnZX0uYCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBLaWxscyB0aGUgcG9vbCBhbmQgZmx1c2ggdGhlIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24ga2lsbFBvb2woKSB7XHJcbiAgbG9nKDMsICdbcG9vbF0gS2lsbGluZyBhbGwgd29ya2Vycy4nKTtcclxuXHJcbiAgLy8gUmV0dXJuIHRydWUgd2hlbiB0aGUgcG9vbCBpcyBhbHJlYWR5IGRlc3Ryb3llZFxyXG4gIGlmIChwb29sLmRlc3Ryb3llZCkge1xyXG4gICAgLy8gQ2xvc2UgdGhlIGJyb3dzZXIgaW5zdGFuY2UgaWYgc3RpbGwgY29ubmVjdGVkXHJcbiAgICBhd2FpdCBjbG9zZSgpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICAvLyBJZiBzdGlsbCBhbGl2ZSwgZGVzdHJveSB0aGUgcG9vbCBvZiBwYWdlcyBiZWZvcmUgY2xvc2luZyBhIGJyb3dzZXJcclxuICBhd2FpdCBwb29sLmRlc3Ryb3koKTtcclxuXHJcbiAgLy8gQ2xvc2UgdGhlIGJyb3dzZXIgaW5zdGFuY2VcclxuICBhd2FpdCBjbG9zZSgpO1xyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogUG9zdHMgd29yayB0byB0aGUgcG9vbC5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGNoYXJ0IC0gQ2hhcnQncyBvcHRpb25zLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBwb3N0V29yayA9IGFzeW5jIChjaGFydCwgb3B0aW9ucykgPT4ge1xyXG4gIGxldCB3b3JrZXJIYW5kbGU7XHJcblxyXG4gIC8vIEhhbmRsZSBmYWlsIGNvbmRpdGlvbnNcclxuICBjb25zdCBmYWlsID0gKG1zZykgPT4ge1xyXG4gICAgKytkcm9wcGVkRXhwb3J0cztcclxuXHJcbiAgICBpZiAod29ya2VySGFuZGxlKSB7XHJcbiAgICAgIHBvb2wucmVsZWFzZSh3b3JrZXJIYW5kbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRocm93ICdJbiBwb29sLnBvc3RXb3JrOiAnICsgbXNnO1xyXG4gIH07XHJcblxyXG4gIGxvZyg0LCAnW3Bvb2xdIFdvcmsgcmVjZWl2ZWQsIHN0YXJ0aW5nIHRvIHByb2Nlc3MuJyk7XHJcblxyXG4gIGlmIChwb29sQ29uZmlnLmJlbmNobWFya2luZykge1xyXG4gICAgZ2V0UG9vbEluZm8oKTtcclxuICB9XHJcblxyXG4gICsrZXhwb3J0QXR0ZW1wdHM7XHJcblxyXG4gIGlmICghcG9vbCkge1xyXG4gICAgbG9nKDEsICdbcG9vbF0gV29yayByZWNlaXZlZCwgYnV0IHBvb2wgaGFzIG5vdCBiZWVuIHN0YXJ0ZWQuJyk7XHJcbiAgICByZXR1cm4gZmFpbCgnUG9vbCBpcyBub3QgaW5pdGVkIGJ1dCB3b3JrIHdhcyBwb3N0ZWQgdG8gaXQhJyk7XHJcbiAgfVxyXG5cclxuICAvLyBBY3F1aXJlIHRoZSB3b3JrZXIgYWxvbmcgd2l0aCB0aGUgaWQgb2YgcmVzb3VyY2UgYW5kIHdvcmsgY291bnRcclxuICB0cnkge1xyXG4gICAgbG9nKDQsICdbcG9vbF0gQWNxdWlyaW5nIHdvcmtlcicpO1xyXG4gICAgd29ya2VySGFuZGxlID0gYXdhaXQgcG9vbC5hY3F1aXJlKCkucHJvbWlzZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIGZhaWwoYFtwb29sXSBFcnJvciB3aGVuIGFjcXVpcmluZyBhdmFpbGFibGUgZW50cnk6ICR7ZXJyb3J9YCk7XHJcbiAgfVxyXG5cclxuICBsb2coNCwgJ1twb29sXSBBY3F1aXJlZCB3b3JrZXIgaGFuZGxlJyk7XHJcblxyXG4gIGlmICghd29ya2VySGFuZGxlLnBhZ2UpIHtcclxuICAgIHJldHVybiBmYWlsKCdSZXNvbHZlZCB3b3JrZXIgcGFnZSBpcyBpbnZhbGlkOiBwb29sIHNldHVwIGlzIHdvbmt5Jyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gU2F2ZSB0aGUgc3RhcnQgdGltZVxyXG4gICAgbGV0IHdvcmtTdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgIGxvZyg0LCBgW3Bvb2xdIFN0YXJ0aW5nIHdvcmsgb24gcG9vbCBlbnRyeSAke3dvcmtlckhhbmRsZS5pZH0uYCk7XHJcblxyXG4gICAgLy8gUGVyZm9ybSBhbiBleHBvcnQgb24gYSBwdXBwZXRlZXIgbGV2ZWxcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cHBldGVlckV4cG9ydCh3b3JrZXJIYW5kbGUucGFnZSwgY2hhcnQsIG9wdGlvbnMpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGl0J3MgYW4gZXJyb3JcclxuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAvLyBUT0RPOiBJZiB0aGUgZXhwb3J0IGZhaWxlZCBiZWNhdXNlIHB1cHBldGVlciB0aW1lZCBvdXQsIHdlIG5lZWQgdG8gZm9yY2Uga2lsbCB0aGUgd29ya2VyIHNvIHdlIGdldCBhIG5ldyBwYWdlLiBUaGF0IG5lZWRzIHRvIGJlIGhhbmRsZWQgYmV0dGVyIHRoYW4gdGhpcyBoYWNrLlxyXG4gICAgICBpZiAocmVzdWx0Lm1lc3NhZ2UgPT09ICdSYXN0ZXJpemF0aW9uIHRpbWVvdXQnKSB7XHJcbiAgICAgICAgd29ya2VySGFuZGxlLnBhZ2UuY2xvc2UoKTtcclxuICAgICAgICB3b3JrZXJIYW5kbGUucGFnZSA9IGF3YWl0IGJyb3dzZXJOZXdQYWdlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmYWlsKHJlc3VsdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVsZWFzZSB0aGUgcmVzb3VyY2UgYmFjayB0byB0aGUgcG9vbFxyXG4gICAgcG9vbC5yZWxlYXNlKHdvcmtlckhhbmRsZSk7XHJcblxyXG4gICAgLy8gVXNlZCBmb3Igc3RhdGlzdGljcyBpbiBhdmVyYWdlVGltZSBhbmQgcHJvY2Vzc2VkV29ya0NvdW50LCB3aGljaFxyXG4gICAgLy8gaW4gdHVybiBpcyB1c2VkIGJ5IHRoZSAvaGVhbHRoIHJvdXRlLlxyXG4gICAgY29uc3Qgd29ya0VuZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgY29uc3QgZXhwb3J0VGltZSA9IHdvcmtFbmQgLSB3b3JrU3RhcnQ7XHJcbiAgICB0aW1lU3BlbnQgKz0gZXhwb3J0VGltZTtcclxuICAgIHNwZW50QXZlcmFnZSA9IHRpbWVTcGVudCAvICsrcGVyZm9ybWVkRXhwb3J0cztcclxuXHJcbiAgICBsb2coNCwgYFtwb29sXSBXb3JrIGNvbXBsZXRlZCBpbiAke2V4cG9ydFRpbWV9IG1zLmApO1xyXG5cclxuICAgIC8vIE90aGVyd2lzZSByZXR1cm4gdGhlIHJlc3VsdFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICBvcHRpb25zXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBmYWlsKGBFcnJvciB0cnlpbmcgdG8gcGVyZm9ybSBwdXBwZXRlZXIgZXhwb3J0OiAke2Vycm9yfS5gKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgcG9vbC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb29sKCkge1xyXG4gIHJldHVybiBwb29sO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UG9vbEluZm9KU09OID0gKCkgPT4gKHtcclxuICBtaW46IHBvb2wubWluLFxyXG4gIG1heDogcG9vbC5tYXgsXHJcbiAgc2l6ZTogcG9vbC5zaXplLFxyXG4gIGF2YWlsYWJsZTogcG9vbC5hdmFpbGFibGUsXHJcbiAgYm9ycm93ZWQ6IHBvb2wuYm9ycm93ZWQsXHJcbiAgcGVuZGluZzogcG9vbC5wZW5kaW5nLFxyXG4gIHNwYXJlUmVzb3VyY2VDYXBhY2l0eTogcG9vbC5zcGFyZVJlc291cmNlQ2FwYWNpdHlcclxufSk7XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgcG9vbCdzIGluZm9ybWF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvb2xJbmZvKCkge1xyXG4gIGNvbnN0IHtcclxuICAgIG1pbixcclxuICAgIG1heCxcclxuICAgIHNpemUsXHJcbiAgICBhdmFpbGFibGUsXHJcbiAgICBib3Jyb3dlZCxcclxuICAgIHBlbmRpbmcsXHJcbiAgICBzcGFyZVJlc291cmNlQ2FwYWNpdHlcclxuICB9ID0gcG9vbDtcclxuXHJcbiAgbG9nKDQsIGBbcG9vbF0gVGhlIG1pbmltdW0gbnVtYmVyIG9mIHJlc291cmNlcyBhbGxvd2VkIGJ5IHBvb2w6ICR7bWlufS5gKTtcclxuICBsb2coNCwgYFtwb29sXSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzb3VyY2VzIGFsbG93ZWQgYnkgcG9vbDogJHttYXh9LmApO1xyXG4gIGxvZyhcclxuICAgIDQsXHJcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgYWxsIHJlc291cmNlcyBpbiBwb29sIChmcmVlIG9yIGluIHVzZSk6ICR7c2l6ZX0uYFxyXG4gICk7XHJcbiAgbG9nKFxyXG4gICAgNCxcclxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdGhhdCBhcmUgY3VycmVudGx5IGF2YWlsYWJsZTogJHthdmFpbGFibGV9LmBcclxuICApO1xyXG4gIGxvZyhcclxuICAgIDQsXHJcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGN1cnJlbnRseSBhY3F1aXJlZDogJHtib3Jyb3dlZH0uYFxyXG4gICk7XHJcbiAgbG9nKFxyXG4gICAgNCxcclxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiBjYWxsZXJzIHdhaXRpbmcgdG8gYWNxdWlyZSBhIHJlc291cmNlOiAke3BlbmRpbmd9LmBcclxuICApO1xyXG4gIGxvZyhcclxuICAgIDQsXHJcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgaG93IG1hbnkgbW9yZSByZXNvdXJjZXMgY2FuIHRoZSBwb29sIG1hbmFnZS9jcmVhdGU6ICR7c3BhcmVSZXNvdXJjZUNhcGFjaXR5fS5gXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGluaXQsXHJcbiAga2lsbFBvb2wsXHJcbiAgcG9zdFdvcmssXHJcbiAgZ2V0UG9vbCxcclxuICBnZXRQb29sSW5mbyxcclxuICBnZXRQb29sSW5mb0pTT04sXHJcbiAgd29ya0F0dGVtcHRzOiAoKSA9PiBleHBvcnRBdHRlbXB0cyxcclxuICBkcm9wcGVkV29yazogKCkgPT4gZHJvcHBlZEV4cG9ydHMsXHJcbiAgYXZlcmFnZVRpbWU6ICgpID0+IHNwZW50QXZlcmFnZSxcclxuICBwcm9jZXNzZWRXb3JrQ291bnQ6ICgpID0+IHBlcmZvcm1lZEV4cG9ydHNcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi4vLi4vY2FjaGUuanMnO1xyXG5pbXBvcnQgcG9vbCBmcm9tICcuLi8uLi9wb29sLmpzJztcclxuXHJcbmNvbnN0IHBhY2thZ2VWZXJzaW9uID0gcHJvY2Vzcy5lbnYubnBtX3BhY2thZ2VfdmVyc2lvbjtcclxuY29uc3Qgc2VydmVyU3RhcnRUaW1lID0gbmV3IERhdGUoKTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIHRoZSAvaGVhbHRoIHJvdXRlIHdoaWNoIG91dHB1dHMgYmFzaWMgc3RhdHMgZm9yIHRoZSBzZXJ2ZXJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChhcHApID0+XHJcbiAgIWFwcFxyXG4gICAgPyBmYWxzZVxyXG4gICAgOiBhcHAuZ2V0KCcvaGVhbHRoJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgICAgICBzdGF0dXM6ICdPSycsXHJcbiAgICAgICAgICBib290VGltZTogc2VydmVyU3RhcnRUaW1lLFxyXG4gICAgICAgICAgdXB0aW1lOlxyXG4gICAgICAgICAgICBNYXRoLmZsb29yKFxyXG4gICAgICAgICAgICAgIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNlcnZlclN0YXJ0VGltZS5nZXRUaW1lKCkpIC8gMTAwMCAvIDYwXHJcbiAgICAgICAgICAgICkgKyAnIG1pbnV0ZXMnLFxyXG4gICAgICAgICAgdmVyc2lvbjogcGFja2FnZVZlcnNpb24sXHJcbiAgICAgICAgICBoaWdoY2hhcnRzVmVyc2lvbjogY2FjaGUudmVyc2lvbigpLFxyXG4gICAgICAgICAgYXZlcmFnZVByb2Nlc3NpbmdUaW1lOiBwb29sLmF2ZXJhZ2VUaW1lKCksXHJcbiAgICAgICAgICBwZXJmb3JtZWRFeHBvcnRzOiBwb29sLnByb2Nlc3NlZFdvcmtDb3VudCgpLFxyXG4gICAgICAgICAgZmFpbGVkRXhwb3J0czogcG9vbC5kcm9wcGVkV29yaygpLFxyXG4gICAgICAgICAgZXhwb3J0QXR0ZW1wdHM6IHBvb2wud29ya0F0dGVtcHRzKCksXHJcbiAgICAgICAgICBzdWNlc3NSYXRpbzogKHBvb2wucHJvY2Vzc2VkV29ya0NvdW50KCkgLyBwb29sLndvcmtBdHRlbXB0cygpKSAqIDEwMCxcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbmFtZWQtYXMtZGVmYXVsdC1tZW1iZXJcclxuICAgICAgICAgIHBvb2w6IHBvb2wuZ2V0UG9vbEluZm9KU09OKClcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgZXhpc3RzU3luYywgcmVhZEZpbGVTeW5jLCBwcm9taXNlcyBhcyBmc1Byb21pc2VzIH0gZnJvbSAnZnMnO1xyXG5cclxuaW1wb3J0IHByb21wdHMgZnJvbSAncHJvbXB0cyc7XHJcblxyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcbmltcG9ydCB7IGRlZXBDb3B5LCBpc09iamVjdCwgcHJpbnRVc2FnZSwgdG9Cb29sZWFuIH0gZnJvbSAnLi91dGlscy5qcyc7XHJcbmltcG9ydCB7XHJcbiAgYWJzb2x1dGVQcm9wcyxcclxuICBkZWZhdWx0Q29uZmlnLFxyXG4gIG5lc3RlZEFyZ3MsXHJcbiAgcHJvbXB0c0NvbmZpZ1xyXG59IGZyb20gJy4vc2NoZW1hcy9jb25maWcuanMnO1xyXG5cclxubGV0IGdlbmVyYWxPcHRpb25zID0ge307XHJcblxyXG4vKipcclxuICogR2V0dGVyIGZvciB0aGUgZ2VuZXJhbCBvcHRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gR2VuZXJhbCBvcHRpb25zIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBnZXRPcHRpb25zID0gKCkgPT4gZ2VuZXJhbE9wdGlvbnM7XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZXMgYW5kIHNldHMgdGhlIGdlbmVyYWwgb3B0aW9ucyBmb3IgdGhlIHNlcnZlciBpbnN0YWNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gdXNlck9wdGlvbnMgLSBBZGRpdGlvbmFsIHVzZXIgb3B0aW9ucyAoZS5nLiBmcm9tIHRoZSBub2RlXHJcbiAqIG1vZHVsZSB1c2FnZSkuXHJcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFyZ3MgLSBDTEkgYXJndW1lbnRzLlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gR2VuZXJhbCBvcHRpb25zIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBzZXRPcHRpb25zID0gKHVzZXJPcHRpb25zLCBhcmdzKSA9PiB7XHJcbiAgLy8gT25seSBmb3IgdGhlIENMSSB1c2FnZVxyXG4gIGlmIChhcmdzPy5sZW5ndGgpIHtcclxuICAgIC8vIEdldCB0aGUgYWRkaXRpb25hbCBvcHRpb25zIGZyb20gdGhlIGN1c3RvbSBKU09OIGZpbGVcclxuICAgIGdlbmVyYWxPcHRpb25zID0gbG9hZENvbmZpZ0ZpbGUoYXJncyk7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgdGhlIGRlZmF1bHQgY29uZmlnIHdpdGggYSBjb3JyZWN0IG9wdGlvbiB2YWx1ZXNcclxuICB1cGRhdGVEZWZhdWx0Q29uZmlnKGRlZmF1bHRDb25maWcsIGdlbmVyYWxPcHRpb25zKTtcclxuXHJcbiAgLy8gU2V0IHZhbHVlcyBmb3Igc2VydmVyJ3Mgb3B0aW9ucyBhbmQgcmV0dXJucyB0aGVtXHJcbiAgZ2VuZXJhbE9wdGlvbnMgPSBpbml0T3B0aW9ucyhkZWZhdWx0Q29uZmlnKTtcclxuXHJcbiAgLy8gQXBwbHkgdXNlciBvcHRpb25zIGlmIHRoZXJlIGFyZSBhbnlcclxuICBpZiAodXNlck9wdGlvbnMpIHtcclxuICAgIC8vIE1lcmdlIHVzZXIgb3B0aW9uc1xyXG4gICAgZ2VuZXJhbE9wdGlvbnMgPSBtZXJnZUNvbmZpZ09wdGlvbnMoXHJcbiAgICAgIGdlbmVyYWxPcHRpb25zLFxyXG4gICAgICB1c2VyT3B0aW9ucyxcclxuICAgICAgYWJzb2x1dGVQcm9wc1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIE9ubHkgZm9yIHRoZSBDTEkgdXNhZ2VcclxuICBpZiAoYXJncz8ubGVuZ3RoKSB7XHJcbiAgICAvLyBQYWlyIHByb3ZpZGVkIGFyZ3VtZW50c1xyXG4gICAgZ2VuZXJhbE9wdGlvbnMgPSBwYWlyQXJndW1lbnRWYWx1ZShnZW5lcmFsT3B0aW9ucywgYXJncywgZGVmYXVsdENvbmZpZyk7XHJcbiAgfVxyXG5cclxuICAvLyBSZXR1cm4gZmluYWwgZ2VuZXJhbCBvcHRpb25zXHJcbiAgcmV0dXJuIGdlbmVyYWxPcHRpb25zO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIERpc3BsYXlzIGEgcHJvbXB0IGZvciB0aGUgbWFudWFsIGNvbmZpZ3VyYXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWdGaWxlTmFtZSAtIFRoZSBuYW1lIG9mIGEgY29uZmlndXJhdGlvbiBmaWxlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1hbnVhbENvbmZpZyA9IGFzeW5jIChjb25maWdGaWxlTmFtZSkgPT4ge1xyXG4gIC8vIFByZXBhcmUgYSBjb25maWcgb2JqZWN0XHJcbiAgbGV0IGNvbmZpZ0ZpbGUgPSB7fTtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgcHJvdmlkZWQgY29uZmlnIGZpbGUgZXhpc3RzXHJcbiAgaWYgKGV4aXN0c1N5bmMoY29uZmlnRmlsZU5hbWUpKSB7XHJcbiAgICBjb25maWdGaWxlID0gSlNPTi5wYXJzZShyZWFkRmlsZVN5bmMoY29uZmlnRmlsZU5hbWUsICd1dGY4JykpO1xyXG4gIH1cclxuXHJcbiAgLy8gUXVlc3Rpb24gYWJvdXQgYSBjb25maWd1cmF0aW9uIGNhdGVnb3J5XHJcbiAgY29uc3Qgb25TdWJtaXQgPSBhc3luYyAocCwgY2F0ZWdvcmllcykgPT4ge1xyXG4gICAgbGV0IHF1ZXN0aW9uc0NvdW50ZXIgPSAwO1xyXG4gICAgbGV0IGFsbFF1ZXN0aW9ucyA9IFtdO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgaW4gdGhlIG1hbnVhbENvbmZpZyBvYmplY3RcclxuICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBjYXRlZ29yaWVzKSB7XHJcbiAgICAgIC8vIE1hcmsgZWFjaCBvcHRpb24gd2l0aCBhIHNlY3Rpb25cclxuICAgICAgcHJvbXB0c0NvbmZpZ1tzZWN0aW9uXSA9IHByb21wdHNDb25maWdbc2VjdGlvbl0ubWFwKChvcHRpb24pID0+ICh7XHJcbiAgICAgICAgLi4ub3B0aW9uLFxyXG4gICAgICAgIHNlY3Rpb25cclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgLy8gQ29sbGVjdCB0aGUgcXVlc3Rpb25zXHJcbiAgICAgIGFsbFF1ZXN0aW9ucyA9IFsuLi5hbGxRdWVzdGlvbnMsIC4uLnByb21wdHNDb25maWdbc2VjdGlvbl1dO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHByb21wdHMoYWxsUXVlc3Rpb25zLCB7XHJcbiAgICAgIG9uU3VibWl0OiBhc3luYyAocHJvbXB0LCBhbnN3ZXIpID0+IHtcclxuICAgICAgICAvLyBHZXQgdGhlIGRlZmF1bHQgbW9kdWxlc1xyXG4gICAgICAgIGlmIChwcm9tcHQubmFtZSA9PT0gJ21vZHVsZXMnKSB7XHJcbiAgICAgICAgICBhbnN3ZXIgPSBhbnN3ZXIubGVuZ3RoXHJcbiAgICAgICAgICAgID8gYW5zd2VyLm1hcCgobW9kdWxlKSA9PiBwcm9tcHQuY2hvaWNlc1ttb2R1bGVdKVxyXG4gICAgICAgICAgICA6IHByb21wdC5jaG9pY2VzO1xyXG5cclxuICAgICAgICAgIGNvbmZpZ0ZpbGVbcHJvbXB0LnNlY3Rpb25dW3Byb21wdC5uYW1lXSA9IGFuc3dlcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uZmlnRmlsZVtwcm9tcHQuc2VjdGlvbl0gPSByZWN1cnNpdmVQcm9wcyhcclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnRmlsZVtwcm9tcHQuc2VjdGlvbl0gfHwge30pLFxyXG4gICAgICAgICAgICBwcm9tcHQubmFtZS5zcGxpdCgnLicpLFxyXG4gICAgICAgICAgICBhbnN3ZXJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoKytxdWVzdGlvbnNDb3VudGVyID09PSBhbGxRdWVzdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBmc1Byb21pc2VzLndyaXRlRmlsZShcclxuICAgICAgICAgICAgICBjb25maWdGaWxlTmFtZSxcclxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShjb25maWdGaWxlLCBudWxsLCAyKSxcclxuICAgICAgICAgICAgICAndXRmOCdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGxvZygxLCBgW2NvbmZpZ10gRXJyb3Igd2hpbGUgY3JlYXRpbmcgY29uZmlnLmpzb246ICR7ZXJyb3J9YCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIC8vIEZpbmQgdGhlIGNhdGVnb3JpZXNcclxuICBjb25zdCBjaG9pY2VzID0gT2JqZWN0LmtleXMocHJvbXB0c0NvbmZpZykubWFwKChjaG9pY2UpID0+ICh7XHJcbiAgICB0aXRsZTogYCR7Y2hvaWNlfSBvcHRpb25zYCxcclxuICAgIHZhbHVlOiBjaG9pY2VcclxuICB9KSk7XHJcblxyXG4gIC8vIENhdGVnb3J5IHByb21wdFxyXG4gIHJldHVybiBwcm9tcHRzKFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbXVsdGlzZWxlY3QnLFxyXG4gICAgICBuYW1lOiAnY2F0ZWdvcnknLFxyXG4gICAgICBtZXNzYWdlOiAnV2hpY2ggY2F0ZWdvcnkgZG8geW91IHdhbnQgdG8gY29uZmlndXJlPycsXHJcbiAgICAgIGhpbnQ6ICdTcGFjZTogU2VsZWN0IHNwZWNpZmljLCBBOiBTZWxlY3QgYWxsLCBFbnRlcjogQ29uZmlybS4nLFxyXG4gICAgICBpbnN0cnVjdGlvbnM6ICcnLFxyXG4gICAgICBjaG9pY2VzXHJcbiAgICB9LFxyXG4gICAgeyBvblN1Ym1pdCB9XHJcbiAgKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNYXBzIHRoZSBvbGQgb3B0aW9ucyB0byB0aGUgbmV3IGNvbmZpZyBzdHJ1Y3R1cmUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvbGRPcHRpb25zIC0gT3B0aW9ucyB0byBiZSBtYXBwZWQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWFwVG9OZXdDb25maWcgPSAob2xkT3B0aW9ucykgPT4ge1xyXG4gIGNvbnN0IG5ld09wdGlvbnMgPSB7fTtcclxuICAvLyBDeWNsZSB0aHJvdWdoIG9sZC1zdHJ1Y3R1cmVkIG9wdGlvbnNcclxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvbGRPcHRpb25zKSkge1xyXG4gICAgY29uc3QgcHJvcGVydGllc0NoYWluID0gbmVzdGVkQXJnc1trZXldID8gbmVzdGVkQXJnc1trZXldLnNwbGl0KCcuJykgOiBbXTtcclxuXHJcbiAgICAvLyBQb3B1bGF0ZSBvYmplY3QgaW4gY29ycmVjdCBwcm9wZXJ0aWVzIGxldmVsc1xyXG4gICAgcHJvcGVydGllc0NoYWluLnJlZHVjZShcclxuICAgICAgKG9iaiwgcHJvcCwgaW5kZXgpID0+XHJcbiAgICAgICAgKG9ialtwcm9wXSA9XHJcbiAgICAgICAgICBwcm9wZXJ0aWVzQ2hhaW4ubGVuZ3RoIC0gMSA9PT0gaW5kZXggPyB2YWx1ZSA6IG9ialtwcm9wXSB8fCB7fSksXHJcbiAgICAgIG5ld09wdGlvbnNcclxuICAgICk7XHJcbiAgfVxyXG4gIHJldHVybiBuZXdPcHRpb25zO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1lcmdlcyB0aGUgbmV3IG9wdGlvbnMgdG8gdGhlIG9wdGlvbnMgb2JqZWN0LiBJdCBvbWl0cyB1bmRlZmluZWQgdmFsdWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIE9sZCBvcHRpb25zLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gbmV3T3B0aW9ucyAtIE5ldyBvcHRpb25zLlxyXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhYnNvbHV0ZVByb3BzIC0gQXJyYXkgb2Ygb2JqZWN0IG5hbWVzIHRoYXQgc2hvdWxkIGJlIGZvcmNlXHJcbiAqIG1lcmdlZC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBtZXJnZUNvbmZpZ09wdGlvbnMgPSAob3B0aW9ucywgbmV3T3B0aW9ucywgYWJzb2x1dGVQcm9wcyA9IFtdKSA9PiB7XHJcbiAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IGRlZXBDb3B5KG9wdGlvbnMpO1xyXG5cclxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhuZXdPcHRpb25zKSkge1xyXG4gICAgbWVyZ2VkT3B0aW9uc1trZXldID1cclxuICAgICAgaXNPYmplY3QodmFsdWUpICYmXHJcbiAgICAgICFhYnNvbHV0ZVByb3BzLmluY2x1ZGVzKGtleSkgJiZcclxuICAgICAgbWVyZ2VkT3B0aW9uc1trZXldICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IG1lcmdlQ29uZmlnT3B0aW9ucyhtZXJnZWRPcHRpb25zW2tleV0sIHZhbHVlLCBhYnNvbHV0ZVByb3BzKVxyXG4gICAgICAgIDogdmFsdWUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgID8gdmFsdWVcclxuICAgICAgICA6IG1lcmdlZE9wdGlvbnNba2V5XTtcclxuICB9XHJcblxyXG4gIHJldHVybiBtZXJnZWRPcHRpb25zO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemVzIG9wdGlvbnMgZm9yIHRoZSBgc3RhcnRFeHBvcnRgIG1ldGhvZCBieSBtZXJnaW5nIHVzZXIgb3B0aW9uc1xyXG4gKiB3aXRoIHRoZSBnZW5lcmFsIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSBleHBvcnRPcHRpb25zIC0gVXNlciBvcHRpb25zIGZvciBleHBvcnRpbmcuXHJcbiAqIEBwYXJhbSB7YW55fSBnZW5lcmFsT3B0aW9ucyAtIEdlbmVyYWwgb3B0aW9ucyBhcmUgdXNlZCBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXIuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBVc2VyIG9wdGlvbnMgbWVyZ2VkIHdpdGggZGVmYXVsdCBvcHRpb25zLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGluaXRFeHBvcnRTZXR0aW5ncyA9IChleHBvcnRPcHRpb25zLCBnZW5lcmFsT3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgbGV0IG9wdGlvbnMgPSB7fTtcclxuXHJcbiAgaWYgKGV4cG9ydE9wdGlvbnMuc3ZnKSB7XHJcbiAgICBvcHRpb25zID0gZGVlcENvcHkoZ2VuZXJhbE9wdGlvbnMpO1xyXG4gICAgb3B0aW9ucy5leHBvcnQudHlwZSA9IGV4cG9ydE9wdGlvbnMudHlwZSB8fCBleHBvcnRPcHRpb25zLmV4cG9ydC50eXBlO1xyXG4gICAgb3B0aW9ucy5leHBvcnQuc2NhbGUgPSBleHBvcnRPcHRpb25zLnNjYWxlIHx8IGV4cG9ydE9wdGlvbnMuZXhwb3J0LnNjYWxlO1xyXG4gICAgb3B0aW9ucy5leHBvcnQub3V0ZmlsZSA9XHJcbiAgICAgIGV4cG9ydE9wdGlvbnMub3V0ZmlsZSB8fCBleHBvcnRPcHRpb25zLmV4cG9ydC5vdXRmaWxlO1xyXG4gICAgb3B0aW9ucy5wYXlsb2FkID0ge1xyXG4gICAgICBzdmc6IGV4cG9ydE9wdGlvbnMuc3ZnXHJcbiAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvcHRpb25zID0gbWVyZ2VDb25maWdPcHRpb25zKFxyXG4gICAgICBnZW5lcmFsT3B0aW9ucyxcclxuICAgICAgZXhwb3J0T3B0aW9ucyxcclxuICAgICAgLy8gT21pdCBnb2luZyBkb3duIHJlY3Vyc2l2ZWx5IHdpdGggdGhlIGJlbG93c1xyXG4gICAgICBhYnNvbHV0ZVByb3BzXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3B0aW9ucy5leHBvcnQub3V0ZmlsZSA9XHJcbiAgICBvcHRpb25zLmV4cG9ydD8ub3V0ZmlsZSB8fCBgY2hhcnQuJHtvcHRpb25zLmV4cG9ydD8udHlwZSB8fCAncG5nJ31gO1xyXG4gIHJldHVybiBvcHRpb25zO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIExvYWRzIHRoZSBjb25maWd1cmF0aW9uIGZyb20gYSBjdXN0b20gSlNPTiBmaWxlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcmdzIC0gQ0xJIGFyZ3VtZW50cy5cclxuICogQHJldHVybiB7b2JqZWN0fSAtIE9wdGlvbnMgb2JqZWN0IGZyb20gdGhlIEpTT04gZmlsZS5cclxuICovXHJcbmZ1bmN0aW9uIGxvYWRDb25maWdGaWxlKGFyZ3MpIHtcclxuICAvLyBDaGVjayBpZiB0aGUgLS1sb2FkQ29uZmlnIG9wdGlvbiB3YXMgdXNlZFxyXG4gIGNvbnN0IGNvbmZpZ0luZGV4ID0gYXJncy5maW5kSW5kZXgoXHJcbiAgICAoYXJnKSA9PiBhcmcucmVwbGFjZSgvLS9nLCAnJykgPT09ICdsb2FkQ29uZmlnJ1xyXG4gICk7XHJcblxyXG4gIC8vIENoZWNrIGlmIHRoZSAtLWxvYWRDb25maWcgaGFzIGEgdmFsdWVcclxuICBpZiAoY29uZmlnSW5kZXggPiAtMSAmJiBhcmdzW2NvbmZpZ0luZGV4ICsgMV0pIHtcclxuICAgIGNvbnN0IGZpbGVOYW1lID0gYXJnc1tjb25maWdJbmRleCArIDFdO1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ2hlY2sgaWYgYW4gYWRkaXRpb25hbCBjb25maWcgZmlsZSBpcyBhIGNvcnJlY3QgSlNPTiBmaWxlXHJcbiAgICAgIGlmIChmaWxlTmFtZSAmJiBmaWxlTmFtZS5lbmRzV2l0aCgnLmpzb24nKSkge1xyXG4gICAgICAgIC8vIExvYWQgYW4gb3B0aW9uYWwgY3VzdG9tIEpTT04gY29uZmlnIGZpbGVcclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZWFkRmlsZVN5bmMoZmlsZU5hbWUpKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nKDEsIGBbY29uZmlnXSBVbmFibGUgdG8gbG9hZCBjb25maWcgZnJvbSB0aGUgJHtmaWxlTmFtZX06ICR7ZXJyb3J9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBObyBhZGRpdGlvbmFsIG9wdGlvbnMgdG8gcmV0dXJuXHJcbiAgcmV0dXJuIHt9O1xyXG59XHJcblxyXG4vKipcclxuICogU2V0dGluZyBjb3JyZWN0IHZhbHVlcyBvZiB0aGUgb3B0aW9ucyBmcm9tIHRoZSBkZWZhdWx0IGNvbmZpZy5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ09iaiAtIFRoZSBjb25maWcgb2JqZWN0IGJhc2VkIG9uIHdoaWNoIHRoZSBpbml0aWFsXHJcbiAqIGNvbmZpZ3VyYXRpb24gYmUgbWFkZS5cclxuICogQHBhcmFtIHtvYmplY3R9IGN1c3RvbU9iaiAtIFRoZSBjdXN0b20gb2JqZWN0IHdoaWNoIGNhbiBjb250YWluIGFkZGl0aW9uYWxcclxuICogb3B0aW9uIHZhbHVlcyB0byBzZXQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wQ2hhaW4gLSBSZXF1aXJlZCBmb3IgY3JlYXRpbmcgYSBzdHJpbmcgY2hhaW4gb2ZcclxuICogcHJvcGVydGllcyBmb3IgbmVzdGVkIGFyZ3VtZW50cy5cclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZURlZmF1bHRDb25maWcoY29uZmlnT2JqLCBjdXN0b21PYmogPSB7fSwgcHJvcENoYWluID0gJycpIHtcclxuICBPYmplY3Qua2V5cyhjb25maWdPYmopLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgaWYgKCFbJ3B1cHBldGVlcicsICdoaWdoY2hhcnRzJ10uaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICBjb25zdCBlbnRyeSA9IGNvbmZpZ09ialtrZXldO1xyXG4gICAgICBjb25zdCBjdXN0b21WYWx1ZSA9IGN1c3RvbU9iaiAmJiBjdXN0b21PYmpba2V5XTtcclxuICAgICAgbGV0IG51bUVudlZhbDtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZW50cnkudmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgdXBkYXRlRGVmYXVsdENvbmZpZyhlbnRyeSwgY3VzdG9tVmFsdWUsIGAke3Byb3BDaGFpbn0uJHtrZXl9YCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gSWYgYSB2YWx1ZSBmcm9tIGEgY3VzdG9tIEpTT04gZXhpc3RzLCBpdCB0YWtlIHByZWNlZGVuY2VcclxuICAgICAgICBpZiAoY3VzdG9tVmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgZW50cnkudmFsdWUgPSBjdXN0b21WYWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGEgdmFsdWUgZnJvbSBhbiBlbnYgdmFyaWFibGUgZXhpc3RzLCBpdCB0YWtlIHByZWNlZGVuY2VcclxuICAgICAgICBpZiAoZW50cnkuZW52TGluaykge1xyXG4gICAgICAgICAgLy8gTG9hZCB0aGUgZW52IHZhclxyXG4gICAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICBlbnRyeS52YWx1ZSA9IHRvQm9vbGVhbihcclxuICAgICAgICAgICAgICBbcHJvY2Vzcy5lbnZbZW50cnkuZW52TGlua10sIGVudHJ5LnZhbHVlXS5maW5kKFxyXG4gICAgICAgICAgICAgICAgKGVsKSA9PiBlbCB8fCBlbCA9PT0gJ2ZhbHNlJ1xyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoZW50cnkudHlwZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgbnVtRW52VmFsID0gK3Byb2Nlc3MuZW52W2VudHJ5LmVudkxpbmtdO1xyXG4gICAgICAgICAgICBlbnRyeS52YWx1ZSA9IG51bUVudlZhbCA+PSAwID8gbnVtRW52VmFsIDogZW50cnkudmFsdWU7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICBlbnRyeS50eXBlLmluZGV4T2YoJ10nKSA+PSAwICYmXHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52W2VudHJ5LmVudkxpbmtdXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgZW50cnkudmFsdWUgPSBwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZW50cnkudmFsdWUgPSBwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXSB8fCBlbnRyeS52YWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRzIG9wdGlvbnMgcmVjdXJzaXZlbHkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSBpdGVtcyAtIEl0ZW1zIHRvIHVwZGF0ZSBvcHRpb25zIGZyb20uXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBVcGRhdGVkIG9wdGlvbnMgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdE9wdGlvbnMoaXRlbXMpIHtcclxuICBsZXQgb3B0aW9ucyA9IHt9O1xyXG4gIGZvciAoY29uc3QgW25hbWUsIGl0ZW1dIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW1zKSkge1xyXG4gICAgb3B0aW9uc1tuYW1lXSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpdGVtLCAndmFsdWUnKVxyXG4gICAgICA/IGl0ZW0udmFsdWVcclxuICAgICAgOiBpbml0T3B0aW9ucyhpdGVtKTtcclxuICB9XHJcbiAgcmV0dXJuIG9wdGlvbnM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYWlycyBhcmd1bWVudCB3aXRoIGEgY29ycmVzcG9uZGluZyB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgc2VydmVyIG9wdGlvbnMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFyZ3MgLSBBcnJheSBvZiBhcmd1bWVudHMgZnJvbSBhIHVzZXIuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBkZWZhdWx0Q29uZmlnIC0gVGhlIGRlZmF1bHQgY29uZmlnIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHBhaXJBcmd1bWVudFZhbHVlKG9wdGlvbnMsIGFyZ3MsIGRlZmF1bHRDb25maWcpIHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBvcHRpb24gPSBhcmdzW2ldLnJlcGxhY2UoLy0vZywgJycpO1xyXG5cclxuICAgIC8vIEZpbmQgdGhlIHJpZ2h0IHBsYWNlIGZvciBwcm9wZXJ0eSdzIHZhbHVlXHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzQ2hhaW4gPSBuZXN0ZWRBcmdzW29wdGlvbl1cclxuICAgICAgPyBuZXN0ZWRBcmdzW29wdGlvbl0uc3BsaXQoJy4nKVxyXG4gICAgICA6IFtdO1xyXG5cclxuICAgIHByb3BlcnRpZXNDaGFpbi5yZWR1Y2UoKG9iaiwgcHJvcCwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKHByb3BlcnRpZXNDaGFpbi5sZW5ndGggLSAxID09PSBpbmRleCkge1xyXG4gICAgICAgIC8vIEZpbmRzIGFuIG9wdGlvbiBhbmQgc2V0IGEgY29ycmVzcG9uZGluZyB2YWx1ZVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgaWYgKGFyZ3NbKytpXSkge1xyXG4gICAgICAgICAgICBvYmpbcHJvcF0gPSBhcmdzW2ldIHx8IG9ialtwcm9wXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNaXNzaW5nIGFyZ3VtZW50IHZhbHVlIGZvciAke29wdGlvbn0hYC5yZWQsICdcXG4nKTtcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHByaW50VXNhZ2UoZGVmYXVsdENvbmZpZyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvYmpbcHJvcF07XHJcbiAgICB9LCBvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBvcHRpb25zO1xyXG59XHJcblxyXG4vKipcclxuICogUmVjdXJzaXZlbHkgc2V0cyBhIHByb3BlcnR5IGluIGEgY29ycmVjdCBpbmRlbnRhdGlvbiBsZXZlbCBiYXNlZCBvbiB0aGVcclxuICogYXJyYXkgb2YgbmVzdGVkIHByb3BlcnRpZXMgbmFtZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3RUb1VwZGF0ZSAtIE9iamVjdCB3aGVyZSBhIHByb3BlcnR5IG11c3QgYmUgc2V0IG9uIGFcclxuICogY29ycmVjdCBsZXZlbC5cclxuICogQHBhcmFtICB7c3RyaW5nW119bmVzdGVkTmFtZXMgLSBBcnJheSBvZiBuYXN0ZWQgbmFtZXMgdGhhdCBpbmRpY2F0ZXNcclxuICogaW5kZW50YXRpb24gbGV2ZWwuXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSAtIEEgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBwcm9wZXJ0eS5cclxuICogQHJldHVybiB7b2JqZWN0fSAtIFVwZGF0ZWQgb3B0aW9ucyBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWN1cnNpdmVQcm9wcyhvYmplY3RUb1VwZGF0ZSwgbmVzdGVkTmFtZXMsIHZhbHVlKSB7XHJcbiAgd2hpbGUgKG5lc3RlZE5hbWVzLmxlbmd0aCA+IDEpIHtcclxuICAgIGNvbnN0IHByb3BOYW1lID0gbmVzdGVkTmFtZXMuc2hpZnQoKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBwcm9wZXJ0eSBpbiBvYmplY3QgaWYgaXQgZG9lc24ndCBleGlzdFxyXG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0VG9VcGRhdGUsIHByb3BOYW1lKSkge1xyXG4gICAgICBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0gPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxsIGZ1bmN0aW9uIGFnYWluIGlmIHRoZXJlIHN0aWxsIG5hbWVzIHRvIGdvXHJcbiAgICBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0gPSByZWN1cnNpdmVQcm9wcyhcclxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0VG9VcGRhdGVbcHJvcE5hbWVdKSxcclxuICAgICAgbmVzdGVkTmFtZXMsXHJcbiAgICAgIHZhbHVlXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBvYmplY3RUb1VwZGF0ZTtcclxuICB9XHJcblxyXG4gIC8vIEFzc2lnbiB0aGUgZmluYWwgdmFsdWVcclxuICBvYmplY3RUb1VwZGF0ZVtuZXN0ZWROYW1lc1swXV0gPSB2YWx1ZTtcclxuICByZXR1cm4gb2JqZWN0VG9VcGRhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBnZXRPcHRpb25zLFxyXG4gIHNldE9wdGlvbnMsXHJcbiAgbWFudWFsQ29uZmlnLFxyXG4gIG1hcFRvTmV3Q29uZmlnLFxyXG4gIG1lcmdlQ29uZmlnT3B0aW9ucyxcclxuICBpbml0RXhwb3J0U2V0dGluZ3NcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyByZWFkRmlsZSwgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jIH0gZnJvbSAnZnMnO1xyXG5cclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5pbXBvcnQgeyBraWxsUG9vbCwgcG9zdFdvcmsgfSBmcm9tICcuL3Bvb2wuanMnO1xyXG5pbXBvcnQge1xyXG4gIGNsZWFyVGV4dCxcclxuICBmaXhUeXBlLFxyXG4gIGhhbmRsZVJlc291cmNlcyxcclxuICBpc0NvcnJlY3RKU09OLFxyXG4gIG9wdGlvbnNTdHJpbmdpZnksXHJcbiAgcm91bmROdW1iZXIsXHJcbiAgdG9Cb29sZWFuLFxyXG4gIHdyYXBBcm91bmRcclxufSBmcm9tICcuL3V0aWxzLmpzJztcclxuaW1wb3J0IHsgaW5pdEV4cG9ydFNldHRpbmdzLCBnZXRPcHRpb25zIH0gZnJvbSAnLi9jb25maWcuanMnO1xyXG5cclxubGV0IGFsbG93Q29kZUV4ZWN1dGlvbiA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN0YXJ0RXhwb3J0ID0gYXN5bmMgKHNldHRpbmdzLCBlbmRDYWxsYmFjaykgPT4ge1xyXG4gIC8vIFN0YXJ0aW5nIGV4cG9ydGluZyBwcm9jZXNzIG1lc3NhZ2VcclxuICBsb2coNCwgJ1tjaGFydF0gU3RhcnRpbmcgZXhwb3J0aW5nIHByb2Nlc3MuJyk7XHJcblxyXG4gIC8vIEluaXRpYWxpemUgb3B0aW9uc1xyXG4gIGNvbnN0IG9wdGlvbnMgPSBpbml0RXhwb3J0U2V0dGluZ3Moc2V0dGluZ3MsIGdldE9wdGlvbnMoKSk7XHJcblxyXG4gIC8vIEdldCB0aGUgZXhwb3J0IG9wdGlvbnNcclxuICBjb25zdCBleHBvcnRPcHRpb25zID0gb3B0aW9ucy5leHBvcnQ7XHJcblxyXG4gIC8vIElmIFNWRyBpcyBhbiBpbnB1dCAoYXJndW1lbnQgY2FuIGJlIHNlbnQgb25seSBieSB0aGUgcmVxdWVzdClcclxuICBpZiAob3B0aW9ucy5wYXlsb2FkPy5zdmcgJiYgb3B0aW9ucy5wYXlsb2FkLnN2ZyAhPT0gJycpIHtcclxuICAgIHJldHVybiBleHBvcnRBc1N0cmluZyhvcHRpb25zLnBheWxvYWQuc3ZnLnRyaW0oKSwgb3B0aW9ucywgZW5kQ2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLy8gRXhwb3J0IHVzaW5nIG9wdGlvbnMgZnJvbSB0aGUgZmlsZVxyXG4gIGlmIChleHBvcnRPcHRpb25zLmluZmlsZSAmJiBleHBvcnRPcHRpb25zLmluZmlsZS5sZW5ndGgpIHtcclxuICAgIGxvZyg0LCAnW2NoYXJ0XSBBdHRlbXB0aW5nIHRvIGV4cG9ydCBmcm9tIGFuIGlucHV0IGZpbGUuJyk7XHJcblxyXG4gICAgLy8gVHJ5IHRvIHJlYWQgdGhlIGZpbGVcclxuICAgIHJldHVybiByZWFkRmlsZShleHBvcnRPcHRpb25zLmluZmlsZSwgJ3V0ZjgnLCAoZXJyb3IsIGluZmlsZSkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gbG9nKDEsIGBbY2hhcnRdIEVycm9yIGxvYWRpbmcgaW5wdXQgZmlsZTogJHtlcnJvcn0uYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uXHJcbiAgICAgIG9wdGlvbnMuZXhwb3J0Lmluc3RyID0gaW5maWxlO1xyXG4gICAgICByZXR1cm4gZXhwb3J0QXNTdHJpbmcob3B0aW9ucy5leHBvcnQuaW5zdHIudHJpbSgpLCBvcHRpb25zLCBlbmRDYWxsYmFjayk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEV4cG9ydCB3aXRoIG9wdGlvbnMgZnJvbSB0aGUgcmF3IHJlcHJlc2VudGF0aW9uXHJcbiAgaWYgKFxyXG4gICAgKGV4cG9ydE9wdGlvbnMuaW5zdHIgJiYgZXhwb3J0T3B0aW9ucy5pbnN0ciAhPT0gJycpIHx8XHJcbiAgICAoZXhwb3J0T3B0aW9ucy5vcHRpb25zICYmIGV4cG9ydE9wdGlvbnMub3B0aW9ucyAhPT0gJycpXHJcbiAgKSB7XHJcbiAgICBsb2coNCwgJ1tjaGFydF0gQXR0ZW1wdGluZyB0byBleHBvcnQgZnJvbSBhIHJhdyBpbnB1dC4nKTtcclxuXHJcbiAgICAvLyBQZXJmb3JtIGEgZGlyZWN0IGluamVjdCB3aGVuIGZvcmNlZFxyXG4gICAgaWYgKHRvQm9vbGVhbihvcHRpb25zLmN1c3RvbUNvZGU/LmFsbG93Q29kZUV4ZWN1dGlvbikpIHtcclxuICAgICAgcmV0dXJuIGRvU3RyYWlnaHRJbmplY3Qob3B0aW9ucywgZW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVpdGhlciB0cnkgdG8gcGFyc2UgdG8gSlNPTiBmaXJzdCBvciBkbyB0aGUgZGlyZWN0IGV4cG9ydFxyXG4gICAgcmV0dXJuIHR5cGVvZiBleHBvcnRPcHRpb25zLmluc3RyID09PSAnc3RyaW5nJ1xyXG4gICAgICA/IGV4cG9ydEFzU3RyaW5nKGV4cG9ydE9wdGlvbnMuaW5zdHIudHJpbSgpLCBvcHRpb25zLCBlbmRDYWxsYmFjaylcclxuICAgICAgOiBkb0V4cG9ydChcclxuICAgICAgICAgIG9wdGlvbnMsXHJcbiAgICAgICAgICBleHBvcnRPcHRpb25zLmluc3RyIHx8IGV4cG9ydE9wdGlvbnMub3B0aW9ucyxcclxuICAgICAgICAgIGVuZENhbGxiYWNrXHJcbiAgICAgICAgKTtcclxuICB9XHJcblxyXG4gIC8vIE5vIGlucHV0IHNwZWNpZmllZCwgcGFzcyBhbiBlcnJvciBtZXNzYWdlIHRvIHRoZSBjYWxsYmFja1xyXG4gIGxvZyhcclxuICAgIDEsXHJcbiAgICBjbGVhclRleHQoXHJcbiAgICAgIGBbY2hhcnRdIE5vIGlucHV0IHNwZWNpZmllZC5cclxuICAgICAgJHtKU09OLnN0cmluZ2lmeShleHBvcnRPcHRpb25zLCB1bmRlZmluZWQsICcgICcpfS5gXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIGVuZENhbGxiYWNrICYmXHJcbiAgICBlbmRDYWxsYmFjayhmYWxzZSwge1xyXG4gICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ05vIGlucHV0IHNwZWNpZmllZC4nXHJcbiAgICB9KVxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYmF0Y2hFeHBvcnQgPSAob3B0aW9ucykgPT4ge1xyXG4gIGNvbnN0IGJhdGNoRnVuY3Rpb25zID0gW107XHJcblxyXG4gIC8vIFNwbGl0IGFuZCBwYWlyIHRoZSAtLWJhdGNoIGFyZ3VtZW50c1xyXG4gIGZvciAobGV0IHBhaXIgb2Ygb3B0aW9ucy5leHBvcnQuYmF0Y2guc3BsaXQoJzsnKSkge1xyXG4gICAgcGFpciA9IHBhaXIuc3BsaXQoJz0nKTtcclxuICAgIGlmIChwYWlyLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICBiYXRjaEZ1bmN0aW9ucy5wdXNoKFxyXG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIHN0YXJ0RXhwb3J0KFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICAgICAgICBleHBvcnQ6IHtcclxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuZXhwb3J0LFxyXG4gICAgICAgICAgICAgICAgaW5maWxlOiBwYWlyWzBdLFxyXG4gICAgICAgICAgICAgICAgb3V0ZmlsZTogcGFpclsxXVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKGluZm8sIGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgYmFzZTY0IGZyb20gYSBidWZmZXIgdG8gYSBjb3JyZWN0IGltYWdlIGZpbGVcclxuICAgICAgICAgICAgICB3cml0ZUZpbGVTeW5jKFxyXG4gICAgICAgICAgICAgICAgaW5mby5vcHRpb25zLmV4cG9ydC5vdXRmaWxlLFxyXG4gICAgICAgICAgICAgICAgQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JylcclxuICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEtpbGwgdGhlIHBvb2wgYWZ0ZXIgYWxsIGV4cG9ydHMgYXJlIGRvbmVcclxuICBQcm9taXNlLmFsbChiYXRjaEZ1bmN0aW9ucylcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAga2lsbFBvb2woKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgIGxvZygxLCBgW2NoYXJ0XSBFcnJvciBlbmNvdW50ZXJlZCBkdXJpbmcgYmF0Y2ggZXhwb3J0OiAke2Vycm9yfWApO1xyXG4gICAgICBraWxsUG9vbCgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2luZ2xlRXhwb3J0ID0gKG9wdGlvbnMpID0+IHtcclxuICAvLyBVc2UgaW5zdHIgb3IgaXRzIGFsaWFzLCBvcHRpb25zXHJcbiAgb3B0aW9ucy5leHBvcnQuaW5zdHIgPSBvcHRpb25zLmV4cG9ydC5pbnN0ciB8fCBvcHRpb25zLmV4cG9ydC5vcHRpb25zO1xyXG5cclxuICAvLyBQZXJmb3JtIGFuIGV4cG9ydFxyXG4gIHN0YXJ0RXhwb3J0KG9wdGlvbnMsIChpbmZvLCBlcnJvcikgPT4ge1xyXG4gICAgLy8gRXhpdCBwcm9jZXNzIHdoZW4gZXJyb3JcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBsb2coMSwgYFtjbGldICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgcHJvY2Vzcy5leGl0KDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgb3V0ZmlsZSwgdHlwZSB9ID0gaW5mby5vcHRpb25zLmV4cG9ydDtcclxuXHJcbiAgICAvLyBTYXZlIHRoZSBiYXNlNjQgZnJvbSBhIGJ1ZmZlciB0byBhIGNvcnJlY3QgaW1hZ2UgZmlsZVxyXG4gICAgd3JpdGVGaWxlU3luYyhcclxuICAgICAgb3V0ZmlsZSB8fCBgY2hhcnQuJHt0eXBlfWAsXHJcbiAgICAgIHR5cGUgIT09ICdzdmcnID8gQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JykgOiBpbmZvLmRhdGFcclxuICAgICk7XHJcblxyXG4gICAgLy8gS2lsbCB0aGUgcG9vbFxyXG4gICAga2lsbFBvb2woKTtcclxuICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiBmb3IgY2hvb3NpbmcgY2hhcnQgc2l6ZSBhbmQgc2NhbGUgYmFzZWQgb24gb3B0aW9ucyBwcmlvcml0aXphdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBBbiBvYmplY3Qgd2l0aCB1cGRhdGVkIHNpemUgYW5kIHNjYWxlIGZvciBhIGNoYXJ0LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGZpbmRDaGFydFNpemUgPSAob3B0aW9ucykgPT4ge1xyXG4gIGNvbnN0IHsgY2hhcnQsIGV4cG9ydGluZyB9ID1cclxuICAgIG9wdGlvbnMuZXhwb3J0Py5vcHRpb25zIHx8IGlzQ29ycmVjdEpTT04ob3B0aW9ucy5leHBvcnQ/Lmluc3RyKTtcclxuXHJcbiAgLy8gU2VlIGlmIGdsb2JhbE9wdGlvbnMgaG9sZHMgY2hhcnQgb3IgZXhwb3J0aW5nIHNpemVcclxuICBjb25zdCBnbG9iYWxPcHRpb25zID0gaXNDb3JyZWN0SlNPTihvcHRpb25zLmV4cG9ydD8uZ2xvYmFsT3B0aW9ucyk7XHJcblxyXG4gIC8vIFNlY3VyZSBzY2FsZSB2YWx1ZVxyXG4gIGxldCBzY2FsZSA9IHJvdW5kTnVtYmVyKFxyXG4gICAgb3B0aW9ucy5leHBvcnQ/LnNjYWxlIHx8XHJcbiAgICAgIGV4cG9ydGluZz8uc2NhbGUgfHxcclxuICAgICAgZ2xvYmFsT3B0aW9ucz8uZXhwb3J0aW5nPy5zY2FsZSB8fFxyXG4gICAgICBvcHRpb25zLmV4cG9ydD8uZGVmYXVsdFNjYWxlIHx8XHJcbiAgICAgIDFcclxuICApO1xyXG5cclxuICBpZiAoc2NhbGUgPiA1KSB7XHJcbiAgICBzY2FsZSA9IDU7XHJcbiAgfSBlbHNlIGlmIChzY2FsZSA8IDAuMSkge1xyXG4gICAgc2NhbGUgPSAxO1xyXG4gIH1cclxuXHJcbiAgLy8gRmluZCBjaGFydCBzaXplIGFuZCBzY2FsZVxyXG4gIHJldHVybiB7XHJcbiAgICBoZWlnaHQ6XHJcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py5oZWlnaHQgfHxcclxuICAgICAgZXhwb3J0aW5nPy5zb3VyY2VIZWlnaHQgfHxcclxuICAgICAgY2hhcnQ/LmhlaWdodCB8fFxyXG4gICAgICBnbG9iYWxPcHRpb25zPy5leHBvcnRpbmc/LnNvdXJjZUhlaWdodCB8fFxyXG4gICAgICBnbG9iYWxPcHRpb25zPy5jaGFydD8uaGVpZ2h0IHx8XHJcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py5kZWZhdWx0SGVpZ2h0IHx8XHJcbiAgICAgIDQwMCxcclxuICAgIHdpZHRoOlxyXG4gICAgICBvcHRpb25zLmV4cG9ydD8ud2lkdGggfHxcclxuICAgICAgZXhwb3J0aW5nPy5zb3VyY2VXaWR0aCB8fFxyXG4gICAgICBjaGFydD8ud2lkdGggfHxcclxuICAgICAgZ2xvYmFsT3B0aW9ucz8uZXhwb3J0aW5nPy5zb3VyY2VXaWR0aCB8fFxyXG4gICAgICBnbG9iYWxPcHRpb25zPy5jaGFydD8ud2lkdGggfHxcclxuICAgICAgb3B0aW9ucy5leHBvcnQ/LmRlZmF1bHRXaWR0aCB8fFxyXG4gICAgICA2MDAsXHJcbiAgICBzY2FsZVxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gZm9yIGZpbmFsIG9wdGlvbnMgcHJlcGFyYXRpb24gYmVmb3JlIGV4cG9ydC5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjaGFydEpzb24gLSBDaGFydCBKU09OLlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRDYWxsYmFjayAtIFRoZSBlbmQgY2FsbGJhY2suXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdmcgLSBUaGUgU1ZHIHJlcHJlc2VudGF0aW9uLlxyXG4gKi9cclxuY29uc3QgZG9FeHBvcnQgPSAob3B0aW9ucywgY2hhcnRKc29uLCBlbmRDYWxsYmFjaywgc3ZnKSA9PiB7XHJcbiAgbGV0IHsgZXhwb3J0OiBleHBvcnRPcHRpb25zLCBjdXN0b21Db2RlOiBjdXN0b21Db2RlT3B0aW9ucyB9ID0gb3B0aW9ucztcclxuXHJcbiAgY29uc3QgYWxsb3dDb2RlRXhlY3V0aW9uU2NvcGVkID1cclxuICAgIHR5cGVvZiBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb24gPT09ICdib29sZWFuJ1xyXG4gICAgICA/IGN1c3RvbUNvZGVPcHRpb25zLmFsbG93Q29kZUV4ZWN1dGlvblxyXG4gICAgICA6IGFsbG93Q29kZUV4ZWN1dGlvbjtcclxuXHJcbiAgaWYgKCFjdXN0b21Db2RlT3B0aW9ucykge1xyXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMgPSBvcHRpb25zLmN1c3RvbUNvZGUgPSB7fTtcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzID09PSAnc3RyaW5nJykge1xyXG4gICAgLy8gUHJvY2VzcyByZXNvdXJjZXNcclxuICAgIG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXMgPSBoYW5kbGVSZXNvdXJjZXMoXHJcbiAgICAgIG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXMsXHJcbiAgICAgIHRvQm9vbGVhbihvcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dGaWxlUmVzb3VyY2VzKVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKCFvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNvdXJjZXMgPSByZWFkRmlsZVN5bmMoJ3Jlc291cmNlcy5qc29uJywgJ3V0ZjgnKTtcclxuICAgICAgb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcyA9IGhhbmRsZVJlc291cmNlcyhcclxuICAgICAgICByZXNvdXJjZXMsXHJcbiAgICAgICAgdG9Cb29sZWFuKG9wdGlvbnMuY3VzdG9tQ29kZS5hbGxvd0ZpbGVSZXNvdXJjZXMpXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgbG9nKDMsIGBbY2hhcnRdIFRoZSBkZWZhdWx0IHJlc291cmNlcy5qc29uIGZpbGUgbm90IGZvdW5kLmApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSWYgdGhlIGFsbG93Q29kZUV4ZWN1dGlvbiBmbGFnIGlzbid0IHNldCwgd2Ugc2hvdWxkIHJlZnVzZSB0aGUgdXNhZ2VcclxuICAvLyBvZiBjYWxsYmFjaywgcmVzb3VyY2VzLCBhbmQgY3VzdG9tIGNvZGUuIEFkZGl0aW9uYWxseSwgdGhlIHdvcmtlciB3aWxsXHJcbiAgLy8gcmVmdXNlIHRvIHJ1biBhcmJpdHJhcnkgSmF2YVNjcmlwdC4gUHJpb3JpdGl6ZWQgc2hvdWxkIGJlIHRoZSBzY29wZWRcclxuICAvLyBvcHRpb24sIHRoZW4gd2Ugc2hvdWxkIHRha2UgYSBsb29rIGF0IHRoZSBvdmVyYWxsIHBvb2wgb3B0aW9uLlxyXG4gIGlmICghYWxsb3dDb2RlRXhlY3V0aW9uU2NvcGVkICYmIGN1c3RvbUNvZGVPcHRpb25zKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrIHx8XHJcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLnJlc291cmNlcyB8fFxyXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5jdXN0b21Db2RlXHJcbiAgICApIHtcclxuICAgICAgLy8gU2VuZCBiYWNrIGEgZnJpZW5kbHkgbWVzc2FnZSBzYXlpbmcgdGhhdCB0aGUgZXhwb3J0ZXIgZG9lcyBub3Qgc3VwcG9ydFxyXG4gICAgICAvLyB0aGVzZSBzZXR0aW5ncy5cclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICBlbmRDYWxsYmFjayAmJlxyXG4gICAgICAgIGVuZENhbGxiYWNrKGZhbHNlLCB7XHJcbiAgICAgICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgICAgIG1lc3NhZ2U6IGNsZWFyVGV4dChcclxuICAgICAgICAgICAgYFRoZSBjYWxsYmFjaywgcmVzb3VyY2VzIGFuZCBjdXN0b21Db2RlIGhhdmUgYmVlbiBkaXNhYmxlZCBmb3IgdGhpc1xyXG4gICAgICAgICAgICBzZXJ2ZXIuYFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzZXQgYWxsIGFkZGl0aW9uYWwgY3VzdG9tIGNvZGVcclxuICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrID0gZmFsc2U7XHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5yZXNvdXJjZXMgPSBmYWxzZTtcclxuICAgIGN1c3RvbUNvZGVPcHRpb25zLmN1c3RvbUNvZGUgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIENsZWFuIHByb3BlcnRpZXMgdG8ga2VlcCBpdCBsZWFuIGFuZCBtZWFuXHJcbiAgaWYgKGNoYXJ0SnNvbikge1xyXG4gICAgY2hhcnRKc29uLmNoYXJ0ID0gY2hhcnRKc29uLmNoYXJ0IHx8IHt9O1xyXG4gICAgY2hhcnRKc29uLmV4cG9ydGluZyA9IGNoYXJ0SnNvbi5leHBvcnRpbmcgfHwge307XHJcbiAgICBjaGFydEpzb24uZXhwb3J0aW5nLmVuYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGV4cG9ydE9wdGlvbnMuY29uc3RyID0gZXhwb3J0T3B0aW9ucy5jb25zdHIgfHwgJ2NoYXJ0JztcclxuICBleHBvcnRPcHRpb25zLnR5cGUgPSBmaXhUeXBlKGV4cG9ydE9wdGlvbnMudHlwZSwgZXhwb3J0T3B0aW9ucy5vdXRmaWxlKTtcclxuICBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAnc3ZnJykge1xyXG4gICAgZXhwb3J0T3B0aW9ucy53aWR0aCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJlcGFyZSBnbG9iYWwgYW5kIHRoZW1lIG9wdGlvbnNcclxuICBbJ2dsb2JhbE9wdGlvbnMnLCAndGhlbWVPcHRpb25zJ10uZm9yRWFjaCgob3B0aW9uc05hbWUpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChleHBvcnRPcHRpb25zICYmIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdHlwZW9mIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0uZW5kc1dpdGgoJy5qc29uJylcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID0gaXNDb3JyZWN0SlNPTihcclxuICAgICAgICAgICAgcmVhZEZpbGVTeW5jKGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdLCAndXRmOCcpLFxyXG4gICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSA9IGlzQ29ycmVjdEpTT04oXHJcbiAgICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdLFxyXG4gICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0gPSB7fTtcclxuICAgICAgbG9nKDEsIGBbY2hhcnRdIFRoZSAke29wdGlvbnNOYW1lfSBub3QgZm91bmQuYCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIFByZXBhcmUgY3VzdG9tQ29kZVxyXG4gIGlmIChjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb24pIHtcclxuICAgIGN1c3RvbUNvZGVPcHRpb25zLmN1c3RvbUNvZGUgPSB3cmFwQXJvdW5kKFxyXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5jdXN0b21Db2RlLFxyXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0ZpbGVSZXNvdXJjZXNcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgdGhlIGNhbGxiYWNrXHJcbiAgaWYgKFxyXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMgJiZcclxuICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrICYmXHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjaz8uaW5kZXhPZigneycpIDwgMFxyXG4gICkge1xyXG4gICAgLy8gVGhlIGFsbG93RmlsZVJlc291cmNlcyBpcyBhbHdheXMgc2V0IHRvIGZhbHNlIGZvciBIVFRQIHJlcXVlc3RzIHRvIGF2b2lkXHJcbiAgICAvLyBpbmplY3RpbmcgYXJiaXRyYXJ5IGZpbGVzIGZyb20gdGhlIGZzXHJcbiAgICBpZiAoY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dGaWxlUmVzb3VyY2VzKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2sgPSByZWFkRmlsZVN5bmMoXHJcbiAgICAgICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayxcclxuICAgICAgICAgICd1dGY4J1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgbG9nKDIsIGBbY2hhcnRdIEVycm9yIGxvYWRpbmcgY2FsbGJhY2s6ICR7ZXJyb3J9LmApO1xyXG4gICAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBTaXplIHNlYXJjaFxyXG4gIG9wdGlvbnMuZXhwb3J0ID0ge1xyXG4gICAgLi4ub3B0aW9ucy5leHBvcnQsXHJcbiAgICAuLi5maW5kQ2hhcnRTaXplKG9wdGlvbnMpXHJcbiAgfTtcclxuXHJcbiAgLy8gUG9zdCB0aGUgd29yayB0byB0aGUgcG9vbFxyXG4gIHBvc3RXb3JrKGV4cG9ydE9wdGlvbnMuc3RySW5qIHx8IGNoYXJ0SnNvbiB8fCBzdmcsIG9wdGlvbnMpXHJcbiAgICAudGhlbigocmVzdWx0KSA9PiBlbmRDYWxsYmFjayhyZXN1bHQpKVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBsb2coMCwgJ1tjaGFydF0gV2hlbiBwb3N0aW5nIHdvcms6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gZW5kQ2FsbGJhY2soZmFsc2UsIGVycm9yKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIGZvciBzdHJhaWdodCBpbmplY3RpbmcgdGhlIGNvZGUuXHJcbiAqIERhbmdlcm91cyBhbmQgbXVzdCBiZSB1c2VkIGRlbGliZXJhdGVseSBieSBzb21lb25lIHdobyBzZXRzIHVwIGEgc2VydmVyXHJcbiAqIChzZWUgIC0tYWxsb3dDb2RlRXhlY3V0aW9uKS5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGVuZENhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBleHBvcnRpbmcgaXMgZG9uZS5cclxuICovXHJcbmNvbnN0IGRvU3RyYWlnaHRJbmplY3QgPSAob3B0aW9ucywgZW5kQ2FsbGJhY2spID0+IHtcclxuICB0cnkge1xyXG4gICAgbGV0IHN0ckluajtcclxuICAgIGxldCBpbnN0ciA9IG9wdGlvbnMuZXhwb3J0Lmluc3RyIHx8IG9wdGlvbnMuZXhwb3J0Lm9wdGlvbnM7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBpbnN0ciAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgLy8gVHJ5IHRvIHN0cmluZ2lmeSBvcHRpb25zXHJcbiAgICAgIHN0ckluaiA9IGluc3RyID0gb3B0aW9uc1N0cmluZ2lmeShcclxuICAgICAgICBpbnN0cixcclxuICAgICAgICBvcHRpb25zLmN1c3RvbUNvZGU/LmFsbG93Q29kZUV4ZWN1dGlvblxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgc3RySW5qID0gaW5zdHIucmVwbGFjZUFsbCgvXFx0fFxcbnxcXHIvZywgJycpLnRyaW0oKTtcclxuXHJcbiAgICAvLyBHZXQgcmlkIG9mIHRoZSA7XHJcbiAgICBpZiAoc3RySW5qW3N0ckluai5sZW5ndGggLSAxXSA9PT0gJzsnKSB7XHJcbiAgICAgIHN0ckluaiA9IHN0ckluai5zdWJzdHJpbmcoMCwgc3RySW5qLmxlbmd0aCAtIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNhdmUgYXMgc3RyaWdodCBpbmplY3Qgc3RyaW5nXHJcbiAgICBvcHRpb25zLmV4cG9ydC5zdHJJbmogPSBzdHJJbmo7XHJcbiAgICByZXR1cm4gZG9FeHBvcnQob3B0aW9ucywgZmFsc2UsIGVuZENhbGxiYWNrKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc3QgbWVzc2FnZSA9IGNsZWFyVGV4dChcclxuICAgICAgYE1hbGZvcm1lZCBpbnB1dCBkZXRlY3RlZCBmb3IgJHtvcHRpb25zLmV4cG9ydD8ucmVxdWVzdElkIHx8ICc/J306XHJcbiAgICAgIFBsZWFzZSBtYWtlIHN1cmUgdGhhdCB5b3VyIEpTT04vSmF2YVNjcmlwdCBvcHRpb25zXHJcbiAgICAgIGFyZSBzZW50IHVzaW5nIHRoZSBcIm9wdGlvbnNcIiBhdHRyaWJ1dGUsIGFuZCB0aGF0IGlmIHlvdSdyZSB1c2luZ1xyXG4gICAgICBTVkcsIGl0IGlzIHVuZXNjYXBlZC5gXHJcbiAgICApO1xyXG5cclxuICAgIGxvZygxLCBtZXNzYWdlKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGVuZENhbGxiYWNrICYmXHJcbiAgICAgIGVuZENhbGxiYWNrKFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGVycm9yOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFByZXBhcmVzIGFuIGlucHV0IGJlZm9yZSBleHBvcnRpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdUb0V4cG9ydCAtIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBTVkcvZXhwb3J0IG9wdGlvbnMuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRDYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gZXhwb3J0aW5nIGlzIGRvbmUuXHJcbiAqL1xyXG5jb25zdCBleHBvcnRBc1N0cmluZyA9IChzdHJpbmdUb0V4cG9ydCwgb3B0aW9ucywgZW5kQ2FsbGJhY2spID0+IHtcclxuICBjb25zdCB7IGFsbG93Q29kZUV4ZWN1dGlvbiB9ID0gb3B0aW9ucy5jdXN0b21Db2RlO1xyXG5cclxuICAvLyBDaGVjayBpZiBpdCBpcyBTVkdcclxuICBpZiAoXHJcbiAgICBzdHJpbmdUb0V4cG9ydC5pbmRleE9mKCc8c3ZnJykgPj0gMCB8fFxyXG4gICAgc3RyaW5nVG9FeHBvcnQuaW5kZXhPZignPD94bWwnKSA+PSAwXHJcbiAgKSB7XHJcbiAgICBsb2coNCwgJ1tjaGFydF0gUGFyc2luZyBpbnB1dCBhcyBTVkcuJyk7XHJcbiAgICByZXR1cm4gZG9FeHBvcnQob3B0aW9ucywgZmFsc2UsIGVuZENhbGxiYWNrLCBzdHJpbmdUb0V4cG9ydCk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gVHJ5IHRvIHBhcnNlIHRvIEpTT04gYW5kIGNhbGwgdGhlIGRvRXhwb3J0IGZ1bmN0aW9uXHJcbiAgICBjb25zdCBjaGFydEpTT04gPSBKU09OLnBhcnNlKHN0cmluZ1RvRXhwb3J0LnJlcGxhY2VBbGwoL1xcdHxcXG58XFxyL2csICcgJykpO1xyXG5cclxuICAgIC8vIElmIGEgY29ycmVjdCBKU09OLCBkbyB0aGUgZXhwb3J0XHJcbiAgICByZXR1cm4gZG9FeHBvcnQob3B0aW9ucywgY2hhcnRKU09OLCBlbmRDYWxsYmFjayk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vIE5vdCBhIHZhbGlkIEpTT05cclxuICAgIGlmICh0b0Jvb2xlYW4oYWxsb3dDb2RlRXhlY3V0aW9uKSkge1xyXG4gICAgICByZXR1cm4gZG9TdHJhaWdodEluamVjdChvcHRpb25zLCBlbmRDYWxsYmFjayk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBEbyBub3QgYWxsb3cgc3RyYWlnaHQgaW5qZWN0aW9uIHdpdGhvdXQgdGhlIGFsbG93Q29kZUV4ZWN1dGlvbiBmbGFnXHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgZW5kQ2FsbGJhY2sgJiZcclxuICAgICAgICBlbmRDYWxsYmFjayhmYWxzZSwge1xyXG4gICAgICAgICAgZXJyb3I6IHRydWUsXHJcbiAgICAgICAgICBtZXNzYWdlOiBjbGVhclRleHQoXHJcbiAgICAgICAgICAgIGBPbmx5IEpTT04gY29uZmlndXJhdGlvbnMgYW5kIFNWRyBpcyBhbGxvd2VkIGZvciB0aGlzIHNlcnZlci4gSWZcclxuICAgICAgICAgICAgdGhpcyBpcyB5b3VyIHNlcnZlciwgSmF2YVNjcmlwdCBleHBvcnRpbmcgY2FuIGJlIGVuYWJsZWQgYnkgc3RhcnRpbmdcclxuICAgICAgICAgICAgdGhlIHNlcnZlciB3aXRoIHRoZSAtLWFsbG93Q29kZUV4ZWN1dGlvbiBmbGFnLmBcclxuICAgICAgICAgIClcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRBbGxvd0NvZGVFeGVjdXRpb24gPSAoKSA9PiBhbGxvd0NvZGVFeGVjdXRpb247XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0QWxsb3dDb2RlRXhlY3V0aW9uID0gKHZhbHVlKSA9PiB7XHJcbiAgYWxsb3dDb2RlRXhlY3V0aW9uID0gdG9Cb29sZWFuKHZhbHVlKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTdGFydHMgYW4gZXhwb3J0aW5nIHByb2Nlc3NcclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIC0gU2V0dGluZ3MgZm9yIGV4cG9ydC5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZW5kQ2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGV4cG9ydGluZyBpcyBkb25lLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGJhdGNoRXhwb3J0LFxyXG4gIHNpbmdsZUV4cG9ydCxcclxuICBnZXRBbGxvd0NvZGVFeGVjdXRpb24sXHJcbiAgc2V0QWxsb3dDb2RlRXhlY3V0aW9uLFxyXG4gIHN0YXJ0RXhwb3J0LFxyXG4gIGZpbmRDaGFydFNpemVcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XHJcblxyXG5pbXBvcnQgeyBnZXRBbGxvd0NvZGVFeGVjdXRpb24sIHN0YXJ0RXhwb3J0IH0gZnJvbSAnLi4vLi4vY2hhcnQuanMnO1xyXG5pbXBvcnQgeyBnZXRPcHRpb25zLCBtZXJnZUNvbmZpZ09wdGlvbnMgfSBmcm9tICcuLi8uLi9jb25maWcuanMnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi8uLi9sb2dnZXIuanMnO1xyXG5pbXBvcnQge1xyXG4gIGNsZWFyVGV4dCxcclxuICBmaXhUeXBlLFxyXG4gIGlzQ29ycmVjdEpTT04sXHJcbiAgaXNQcml2YXRlUmFuZ2VVcmxGb3VuZCxcclxuICBvcHRpb25zU3RyaW5naWZ5LFxyXG4gIG1lYXN1cmVUaW1lXHJcbn0gZnJvbSAnLi4vLi4vdXRpbHMuanMnO1xyXG5cclxuLy8gUmV2ZXJzZWQgTUlNRSB0eXBlc1xyXG5jb25zdCByZXZlcnNlZE1pbWUgPSB7XHJcbiAgcG5nOiAnaW1hZ2UvcG5nJyxcclxuICBqcGVnOiAnaW1hZ2UvanBlZycsXHJcbiAgZ2lmOiAnaW1hZ2UvZ2lmJyxcclxuICBwZGY6ICdhcHBsaWNhdGlvbi9wZGYnLFxyXG4gIHN2ZzogJ2ltYWdlL3N2Zyt4bWwnXHJcbn07XHJcblxyXG4vLyBUaGUgcmVxdWVzdHMgY291bnRlclxyXG5sZXQgcmVxdWVzdHNDb3VudGVyID0gMDtcclxuXHJcbmNvbnN0IGJlbmNobWFyayA9IGZhbHNlO1xyXG5cclxuLy8gVGhlIGFycmF5IG9mIGNhbGxiYWNrcyB0byBjYWxsIGJlZm9yZSBhIHJlcXVlc3RcclxuY29uc3QgYmVmb3JlUmVxdWVzdCA9IFtdO1xyXG5cclxuLy8gVGhlIGFycmF5IG9mIGNhbGxiYWNrcyB0byBjYWxsIGFmdGVyIGEgcmVxdWVzdFxyXG5jb25zdCBhZnRlclJlcXVlc3QgPSBbXTtcclxuXHJcbi8qKlxyXG4gKiBDYWxscyBjYWxsYmFja3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGNhbGxiYWNrcyAtIEFuIGFycmF5IG9mIGNhbGxiYWNrcy5cclxuICogQHBhcmFtIHtvYmplY3R9IHJlcXVlc3QgLSBUaGUgcmVxdWVzdC5cclxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIFRoZSBkYXRhIHRvIHNlbmQgdG8gY2FsbGJhY2tzLlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVGhlIHJlc3VsdCBmcm9tIGEgY2FsbGJhY2suXHJcbiAqL1xyXG5jb25zdCBkb0NhbGxiYWNrcyA9IChjYWxsYmFja3MsIHJlcXVlc3QsIHJlc3BvbnNlLCBkYXRhKSA9PiB7XHJcbiAgbGV0IHJlc3VsdCA9IHRydWU7XHJcbiAgY29uc3QgeyBpZCwgdW5pcXVlSWQsIHR5cGUsIGJvZHkgfSA9IGRhdGE7XHJcblxyXG4gIGNhbGxiYWNrcy5zb21lKChjYWxsYmFjaykgPT4ge1xyXG4gICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgIGxldCBjYWxsUmVzcG9uc2UgPSBjYWxsYmFjayhyZXF1ZXN0LCByZXNwb25zZSwgaWQsIHVuaXF1ZUlkLCB0eXBlLCBib2R5KTtcclxuXHJcbiAgICAgIGlmIChjYWxsUmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiBjYWxsUmVzcG9uc2UgIT09IHRydWUpIHtcclxuICAgICAgICByZXN1bHQgPSBjYWxsUmVzcG9uc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXMgYW4gZXhwb3J0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0LlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgLSBUaGUgcmVzcG9uc2UuXHJcbiAqL1xyXG5jb25zdCBleHBvcnRIYW5kbGVyID0gKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgLy8gU3RhcnQgY291bnRpbmcgdGltZVxyXG4gIGNvbnN0IHN0b3BDb3VudGVyID0gbWVhc3VyZVRpbWUoKTtcclxuXHJcbiAgLy8gR2V0IHRoZSBjdXJyZW50IHNlcnZlcidzIGdlbmVyYWwgb3B0aW9uc1xyXG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0T3B0aW9ucygpO1xyXG5cclxuICAvLyBJbml0IGRlZmF1bHQgb3B0aW9uc1xyXG4gIGlmIChiZW5jaG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKCdJbml0IGRlZmF1bHQgb3B0aW9uczonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBib2R5ID0gcmVxdWVzdC5ib2R5O1xyXG4gIGNvbnN0IGlkID0gKytyZXF1ZXN0c0NvdW50ZXI7XHJcbiAgY29uc3QgdW5pcXVlSWQgPSB1dWlkKCkucmVwbGFjZSgvLS9nLCAnJyk7XHJcbiAgbGV0IHR5cGUgPSBmaXhUeXBlKGJvZHkudHlwZSk7XHJcblxyXG4gIC8vIEZpeCB0eXBlXHJcbiAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgY29uc29sZS5sb2coJ0ZpeCB0eXBlOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICB9XHJcblxyXG4gIC8vIFRocm93ICdCYWQgUmVxdWVzdCcgaWYgdGhlcmUncyBubyBib2R5XHJcbiAgaWYgKCFib2R5KSB7XHJcbiAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuc2VuZChcclxuICAgICAgY2xlYXJUZXh0KFxyXG4gICAgICAgIGBCb2R5IGlzIHJlcXVpcmVkLiBTZW5kaW5nIGEgYm9keT8gTWFrZSBzdXJlIHlvdXIgQ29udGVudC10eXBlIGhlYWRlclxyXG4gICAgICAgIGlzIGNvcnJlY3QuIEFjY2VwdGVkIGlzIGFwcGxpY2F0aW9uL2pzb24gYW5kIG11bHRpcGFydC9mb3JtLWRhdGEuYFxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gQWxsIG9mIHRoZSBiZWxvdyBjYW4gYmUgdXNlZFxyXG4gIGxldCBpbnN0ciA9IGlzQ29ycmVjdEpTT04oYm9keS5pbmZpbGUgfHwgYm9keS5vcHRpb25zIHx8IGJvZHkuZGF0YSk7XHJcblxyXG4gIC8vIElzIGNvcnJlY3QgSlNPTlxyXG4gIGlmIChiZW5jaG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKCdJcyBjb3JyZWN0IEpTT046Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gVGhyb3cgJ0JhZCBSZXF1ZXN0JyBpZiB0aGVyZSdzIG5vIEpTT04gb3IgU1ZHIHRvIGV4cG9ydFxyXG4gIGlmICghaW5zdHIgJiYgIWJvZHkuc3ZnKSB7XHJcbiAgICBsb2coXHJcbiAgICAgIDIsXHJcbiAgICAgIGNsZWFyVGV4dChcclxuICAgICAgICBgUmVxdWVzdCAke3VuaXF1ZUlkfSBmcm9tICR7XHJcbiAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddIHx8IHJlcXVlc3QuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzXHJcbiAgICAgICAgfSB3YXMgaW5jb3JyZWN0LiBDaGVjayB5b3VyIHBheWxvYWQuYFxyXG4gICAgICApXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKFxyXG4gICAgICBjbGVhclRleHQoXHJcbiAgICAgICAgYE5vIGNvcnJlY3QgY2hhcnQgZGF0YSBmb3VuZC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgYXJlIHVzaW5nXHJcbiAgICAgICAgYXBwbGljYXRpb24vanNvbiBvciBtdWx0aXBhcnQvZm9ybS1kYXRhIGhlYWRlcnMsIGFuZCB0aGF0IHRoZSBjaGFydFxyXG4gICAgICAgIGRhdGEgaXMgaW4gdGhlICdpbmZpbGUnLCAnb3B0aW9ucycgb3IgJ2RhdGEnIGF0dHJpYnV0ZSBpZiBzZW5kaW5nXHJcbiAgICAgICAgSlNPTiBvciBpbiB0aGUgJ3N2ZycgaWYgc2VuZGluZyBTVkcuYFxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgbGV0IGNhbGxSZXNwb25zZSA9IGZhbHNlO1xyXG5cclxuICAvLyBDYWxsIHRoZSBiZWZvcmUgcmVxdWVzdCBmdW5jdGlvbnNcclxuICBjYWxsUmVzcG9uc2UgPSBkb0NhbGxiYWNrcyhiZWZvcmVSZXF1ZXN0LCByZXF1ZXN0LCByZXNwb25zZSwge1xyXG4gICAgaWQsXHJcbiAgICB1bmlxdWVJZCxcclxuICAgIHR5cGUsXHJcbiAgICBib2R5XHJcbiAgfSk7XHJcblxyXG4gIC8vIERvIGNhbGxiYWNrc1xyXG4gIGlmIChiZW5jaG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKCdEbyBjYWxsYmFja3M6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gQmxvY2sgdGhlIHJlcXVlc3QgaWYgb25lIG9mIGEgY2FsbGJhY2tzIGZhaWxlZFxyXG4gIGlmIChjYWxsUmVzcG9uc2UgIT09IHRydWUpIHtcclxuICAgIHJldHVybiByZXNwb25zZS5zZW5kKGNhbGxSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBsZXQgY29ubmVjdGlvbkFib3J0ZWQgPSBmYWxzZTtcclxuXHJcbiAgLy8gSW4gY2FzZSB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQsIGZvcmNlIHRvIGFib3J0IGZ1cnRoZXIgYWN0aW9uc1xyXG4gIHJlcXVlc3Quc29ja2V0Lm9uKCdjbG9zZScsICgpID0+IHtcclxuICAgIGNvbm5lY3Rpb25BYm9ydGVkID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgbG9nKDQsIGBbZXhwb3J0XSBHb3QgYW4gaW5jb21pbmcgSFRUUCByZXF1ZXN0ICR7dW5pcXVlSWR9LmApO1xyXG5cclxuICBib2R5LmNvbnN0ciA9ICh0eXBlb2YgYm9keS5jb25zdHIgPT09ICdzdHJpbmcnICYmIGJvZHkuY29uc3RyKSB8fCAnY2hhcnQnO1xyXG5cclxuICAvLyBHYXRoZXIgYW5kIG9yZ2FuaXplIG9wdGlvbnMgZnJvbSB0aGUgcGF5bG9hZFxyXG4gIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xyXG4gICAgZXhwb3J0OiB7XHJcbiAgICAgIGluc3RyLFxyXG4gICAgICB0eXBlLFxyXG4gICAgICBjb25zdHI6IGJvZHkuY29uc3RyWzBdLnRvTG93ZXJDYXNlKCkgKyBib2R5LmNvbnN0ci5zdWJzdHIoMSksXHJcbiAgICAgIGhlaWdodDogYm9keS5oZWlnaHQsXHJcbiAgICAgIHdpZHRoOiBib2R5LndpZHRoLFxyXG4gICAgICBzY2FsZTogYm9keS5zY2FsZSB8fCBkZWZhdWx0T3B0aW9ucy5leHBvcnQuc2NhbGUsXHJcbiAgICAgIGdsb2JhbE9wdGlvbnM6IGlzQ29ycmVjdEpTT04oYm9keS5nbG9iYWxPcHRpb25zLCB0cnVlKSxcclxuICAgICAgdGhlbWVPcHRpb25zOiBpc0NvcnJlY3RKU09OKGJvZHkudGhlbWVPcHRpb25zLCB0cnVlKVxyXG4gICAgfSxcclxuICAgIGN1c3RvbUNvZGU6IHtcclxuICAgICAgYWxsb3dDb2RlRXhlY3V0aW9uOiBnZXRBbGxvd0NvZGVFeGVjdXRpb24oKSxcclxuICAgICAgYWxsb3dGaWxlUmVzb3VyY2VzOiBmYWxzZSxcclxuICAgICAgcmVzb3VyY2VzOiBpc0NvcnJlY3RKU09OKGJvZHkucmVzb3VyY2VzLCB0cnVlKSxcclxuICAgICAgY2FsbGJhY2s6IGJvZHkuY2FsbGJhY2ssXHJcbiAgICAgIGN1c3RvbUNvZGU6IGJvZHkuY3VzdG9tQ29kZVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIE9yZ2FuaXplIG9wdGlvbnNcclxuICBpZiAoYmVuY2htYXJrKSB7XHJcbiAgICBjb25zb2xlLmxvZygnT3JnYW5pemUgb3B0aW9uczonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgfVxyXG5cclxuICBpZiAoaW5zdHIpIHtcclxuICAgIC8vIFN0cmluZ2lmeSBKU09OIHdpdGggb3B0aW9uc1xyXG4gICAgcmVxdWVzdE9wdGlvbnMuZXhwb3J0Lmluc3RyID0gb3B0aW9uc1N0cmluZ2lmeShcclxuICAgICAgaW5zdHIsXHJcbiAgICAgIHJlcXVlc3RPcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dDb2RlRXhlY3V0aW9uXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFN0cmluZ2lmeSBKU09OIHdpdGggb3B0aW9uc1xyXG4gICAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnU3RyaW5naWZ5IEpTT04gd2l0aCBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE1lcmdlIHRoZSByZXF1ZXN0IG9wdGlvbnMgaW50byBkZWZhdWx0IG9uZXNcclxuICBjb25zdCBvcHRpb25zID0gbWVyZ2VDb25maWdPcHRpb25zKGRlZmF1bHRPcHRpb25zLCByZXF1ZXN0T3B0aW9ucyk7XHJcblxyXG4gIC8vIE1lcmdlIGNvbmZpZyBvcHRpb25zXHJcbiAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgY29uc29sZS5sb2coJ01lcmdlIGNvbmZpZyBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICB9XHJcblxyXG4gIC8vIFNhdmUgdGhlIEpTT04gaWYgZXhpc3RzXHJcbiAgb3B0aW9ucy5leHBvcnQub3B0aW9ucyA9IGluc3RyO1xyXG5cclxuICAvLyBMYXN0bHksIGFkZCB0aGUgc2VydmVyIHNwZWNpZmljIGFyZ3VtZW50cyBpbnRvIG9wdGlvbnMgYXMgcGF5bG9hZFxyXG4gIG9wdGlvbnMucGF5bG9hZCA9IHtcclxuICAgIHN2ZzogYm9keS5zdmcgfHwgZmFsc2UsXHJcbiAgICBiNjQ6IGJvZHkuYjY0IHx8IGZhbHNlLFxyXG4gICAgZGF0YU9wdGlvbnM6IGlzQ29ycmVjdEpTT04oYm9keS5kYXRhT3B0aW9ucywgdHJ1ZSksXHJcbiAgICBub0Rvd25sb2FkOiBib2R5Lm5vRG93bmxvYWQgfHwgZmFsc2UsXHJcbiAgICByZXF1ZXN0SWQ6IHVuaXF1ZUlkXHJcbiAgfTtcclxuXHJcbiAgLy8gU2V0dGluZyBwYXlsb2FkXHJcbiAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgY29uc29sZS5sb2coJ1NldHRpbmcgcGF5bG9hZDonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgfVxyXG5cclxuICAvLyBUZXN0IHhsaW5rOmhyZWYgZWxlbWVudHMgZnJvbSBwYXlsb2FkJ3MgU1ZHXHJcbiAgaWYgKGJvZHkuc3ZnICYmIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQob3B0aW9ucy5wYXlsb2FkLnN2ZykpIHtcclxuICAgIHJldHVybiByZXNwb25zZVxyXG4gICAgICAuc3RhdHVzKDQwMClcclxuICAgICAgLnNlbmQoXHJcbiAgICAgICAgJ1NWRyBwb3RlbnRpYWxseSBjb250YWluIGF0IGxlYXN0IG9uZSBmb3JiaWRkZW4gVVJMIGluIHhsaW5rOmhyZWYgZWxlbWVudC4nXHJcbiAgICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBVUkwgcmFuZ2VcclxuICBpZiAoYmVuY2htYXJrKSB7XHJcbiAgICBjb25zb2xlLmxvZygnQ2hlY2sgVVJMIHJhbmdlOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICB9XHJcblxyXG4gIC8vIFN0YXJ0IHRoZSBleHBvcnQgcHJvY2Vzc1xyXG4gIHN0YXJ0RXhwb3J0KG9wdGlvbnMsIChpbmZvLCBlcnJvcikgPT4ge1xyXG4gICAgLy8gUmVtb3ZlIHRoZSBjbG9zZSBldmVudCBmcm9tIHRoZSBzb2NrZXRcclxuICAgIHJlcXVlc3Quc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygnY2xvc2UnKTtcclxuXHJcbiAgICAvLyBBZnRlciBQdXBwZXRlZXIgZXhwb3J0aW5nXHJcbiAgICBpZiAoYmVuY2htYXJrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdBZnRlciBQdXBwZXRlZXIgZXhwb3J0aW5nOicsIHN0b3BDb3VudGVyKCksICdtcy4nLCAnXFxuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCwgZG8gbm90aGluZ1xyXG4gICAgaWYgKGNvbm5lY3Rpb25BYm9ydGVkKSB7XHJcbiAgICAgIHJldHVybiBsb2coXHJcbiAgICAgICAgMyxcclxuICAgICAgICBjbGVhclRleHQoXHJcbiAgICAgICAgICBgW2V4cG9ydF0gVGhlIGNsaWVudCBjbG9zZWQgdGhlIGNvbm5lY3Rpb24gYmVmb3JlIHRoZSBjaGFydCB3YXMgZG9uZVxyXG4gICAgICAgICAgcHJvY2Vzc2luZy5gXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIGVycm9yLCByZXR1cm4gaXRcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBsb2coXHJcbiAgICAgICAgMSxcclxuICAgICAgICBjbGVhclRleHQoXHJcbiAgICAgICAgICBgW2V4cG9ydF0gV29yazogJHt1bmlxdWVJZH0gY291bGQgbm90IGJlIGNvbXBsZXRlZCwgc2VuZGluZzpcclxuICAgICAgICAgICR7ZXJyb3J9YFxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgZGF0YSBpcyBtaXNzaW5nLCByZXR1cm4gdGhlIGVycm9yXHJcbiAgICBpZiAoIWluZm8gfHwgIWluZm8uZGF0YSkge1xyXG4gICAgICBsb2coXHJcbiAgICAgICAgMSxcclxuICAgICAgICBjbGVhclRleHQoXHJcbiAgICAgICAgICBgW2V4cG9ydF0gVW5leHBlY3RlZCByZXR1cm4gZnJvbSBjaGFydCBnZW5lcmF0aW9uLCBwbGVhc2UgY2hlY2sgeW91clxyXG4gICAgICAgICAgZGF0YSBSZXF1ZXN0OiAke3VuaXF1ZUlkfSBpcyAke2luZm8uZGF0YX0uYFxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlXHJcbiAgICAgICAgLnN0YXR1cyg0MDApXHJcbiAgICAgICAgLnNlbmQoXHJcbiAgICAgICAgICAnVW5leHBlY3RlZCByZXR1cm4gZnJvbSBjaGFydCBnZW5lcmF0aW9uLCBwbGVhc2UgY2hlY2sgeW91ciBkYXRhLidcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgdHlwZSBmcm9tIG9wdGlvbnNcclxuICAgIHR5cGUgPSBpbmZvLm9wdGlvbnMuZXhwb3J0LnR5cGU7XHJcblxyXG4gICAgLy8gVGhlIGFmdGVyIHJlcXVlc3QgY2FsbGJhY2tzXHJcbiAgICBkb0NhbGxiYWNrcyhhZnRlclJlcXVlc3QsIHJlcXVlc3QsIHJlc3BvbnNlLCB7IGlkLCBib2R5OiBpbmZvLmRhdGEgfSk7XHJcblxyXG4gICAgaWYgKGluZm8uZGF0YSkge1xyXG4gICAgICAvLyBJZiBvbmx5IGJhc2U2NCBpcyByZXF1aXJlZCwgcmV0dXJuIGl0XHJcbiAgICAgIGlmIChib2R5LmI2NCkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGlzIGFscmVhZHkgYmFzZTY0IG9yIGEgcmF3IFNWR1xyXG4gICAgICAgIGlmICh0eXBlID09PSAncGRmJykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoXHJcbiAgICAgICAgICAgIEJ1ZmZlci5mcm9tKGluZm8uZGF0YSwgJ3V0ZjgnKS50b1N0cmluZygnYmFzZTY0JylcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKGluZm8uZGF0YSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNldCBjb3JyZWN0IGNvbnRlbnQgdHlwZVxyXG4gICAgICByZXNwb25zZS5oZWFkZXIoJ0NvbnRlbnQtVHlwZScsIHJldmVyc2VkTWltZVt0eXBlXSB8fCAnaW1hZ2UvcG5nJyk7XHJcblxyXG4gICAgICAvLyBEZWNpZGUgd2hldGhlciB0byBkb3dubG9hZCBvciBub3QgY2hhcnQgZmlsZVxyXG4gICAgICBpZiAoIWJvZHkubm9Eb3dubG9hZCkge1xyXG4gICAgICAgIHJlc3BvbnNlLmF0dGFjaG1lbnQoXHJcbiAgICAgICAgICBgJHtyZXF1ZXN0LnBhcmFtcy5maWxlbmFtZSB8fCAnY2hhcnQnfS4ke3R5cGUgfHwgJ3BuZyd9YFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIFNWRywgcmV0dXJuIHBsYWluIGNvbnRlbnRcclxuICAgICAgcmV0dXJuIHR5cGUgPT09ICdzdmcnXHJcbiAgICAgICAgPyByZXNwb25zZS5zZW5kKGluZm8uZGF0YSlcclxuICAgICAgICA6IHJlc3BvbnNlLnNlbmQoQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JykpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKGFwcCkgPT4ge1xyXG4gIGFwcC5wb3N0KCcvJywgZXhwb3J0SGFuZGxlcik7XHJcbiAgYXBwLnBvc3QoJy86ZmlsZW5hbWUnLCBleHBvcnRIYW5kbGVyKTtcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmc1Byb21pc2VzIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgeyBwb3NpeCB9IGZyb20gJ3BhdGgnO1xyXG5cclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcclxuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XHJcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XHJcblxyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi9sb2dnZXIuanMnO1xyXG5pbXBvcnQgcmF0ZUxpbWl0IGZyb20gJy4vcmF0ZV9saW1pdC5qcyc7XHJcbmltcG9ydCB7IF9fZGlybmFtZSB9IGZyb20gJy4uL3V0aWxzLmpzJztcclxuXHJcbmltcG9ydCBoZWFsdGhSb3V0ZSBmcm9tICcuL3JvdXRlcy9oZWFsdGguanMnO1xyXG5pbXBvcnQgZXhwb3J0Um91dGVzIGZyb20gJy4vcm91dGVzL2V4cG9ydC5qcyc7XHJcbmltcG9ydCB2c3dpdGNoUm91dGUgZnJvbSAnLi9yb3V0ZXMvY2hhbmdlX2hjX3ZlcnNpb24uanMnO1xyXG5pbXBvcnQgdWlSb3V0ZSBmcm9tICcuL3JvdXRlcy91aS5qcyc7XHJcblxyXG4vLyBDcmVhdGUgZXhwcmVzcyBhcHBcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuLy8gRGlzYWJsZSB0aGUgWC1Qb3dlcmVkLUJ5IGhlYWRlclxyXG5hcHAuZGlzYWJsZSgneC1wb3dlcmVkLWJ5Jyk7XHJcblxyXG4vLyBFbmFibGUgQ09SUyBzdXBwb3J0XHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcbi8vIEVuYWJsZSBwYXJzaW5nIG9mIGZvcm0gZGF0YSAoZmlsZXMpIHdpdGggTXVsdGVyIHBhY2thZ2VcclxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5tZW1vcnlTdG9yYWdlKCk7XHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XHJcbiAgc3RvcmFnZSxcclxuICBsaW1pdHM6IHtcclxuICAgIGZpZWxkc1NpemU6ICc1ME1CJ1xyXG4gIH1cclxufSk7XHJcblxyXG5hcHAudXNlKHVwbG9hZC5hbnkoKSk7XHJcblxyXG4vLyBFbmFibGUgYm9keSBwYXJzZXJcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oeyBsaW1pdDogJzUwbWInIH0pKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSwgbGltaXQ6ICc1MG1iJyB9KSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlLCBsaW1pdDogJzUwbWInIH0pKTtcclxuXHJcbi8qKlxyXG4gKiBFcnJvciBoYW5kbGVyIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gZXJyb3IgLSBBbiBlcnJvciBvYmplY3QuXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gLSBBbiBlcnJvciBtZXNzYWdlLlxyXG4gKi9cclxuY29uc3QgZXJyb3JIYW5kbGVyID0gKGVycm9yKSA9PiBsb2coMSwgYFtzZXJ2ZXJdIFNvY2tldCBlcnJvcjogJHtlcnJvcn1gKTtcclxuXHJcbi8qKlxyXG4gKiBBdHRhY2hlcyBlcnJvciBoYW5kbGVycyBmb3IgYSBzZXJ2ZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBzZXJ2ZXIgLSBUaGUgaHR0cC9odHRwcyBzZXJ2ZXIuXHJcbiAqL1xyXG5jb25zdCBhdHRhY2hFcnJvckhhbmRsZXJzID0gKHNlcnZlcikgPT4ge1xyXG4gIHNlcnZlci5vbignY2xpZW50RXJyb3InLCBlcnJvckhhbmRsZXIpO1xyXG4gIHNlcnZlci5vbignZXJyb3InLCBlcnJvckhhbmRsZXIpO1xyXG4gIHNlcnZlci5vbignY29ubmVjdGlvbicsIChzb2NrZXQpID0+XHJcbiAgICBzb2NrZXQub24oJ2Vycm9yJywgKGVycm9yKSA9PiBlcnJvckhhbmRsZXIoZXJyb3IsIHNvY2tldCkpXHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdGFydFNlcnZlciA9IGFzeW5jIChzZXJ2ZXJDb25maWcpID0+IHtcclxuICAvLyBTdG9wIGlmIG5vdCBlbmFibGVkXHJcbiAgaWYgKCFzZXJ2ZXJDb25maWcuZW5hYmxlKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyAvLyBHZXQgdGhlIHBvb2xcclxuICAvLyBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xyXG5cclxuICAvLyAvLyBUcnkgdG8gY3JlYXRlIGJyb3dzZXIgaW5zdGFuY2UgYmVmb3JlIHN0YXJ0aW5nIHRoZSBzZXJ2ZXJcclxuICAvLyBjb25zdCByZXNvdXJjZSA9IGF3YWl0IHBvb2wuYWNxdWlyZSgpO1xyXG5cclxuICAvLyAvLyBJZiBub3QgZm91bmQsIHRocm93IGFuIGVycm9yXHJcbiAgLy8gaWYgKCFyZXNvdXJjZS5icm93c2VyKSB7XHJcbiAgLy8gICBsb2coMSwgYFtzZXJ2ZXJdIENvdWxkIG5vdCBhY3F1aXJlIGJyb3dzZXIgaW5zdGFuY2UuYCk7XHJcbiAgLy8gICBwcm9jZXNzLmV4aXQoMSk7XHJcbiAgLy8gfVxyXG5cclxuICAvLyAvLyBSZWxlYXNlIHRoZSByZXNvdXJjZVxyXG4gIC8vIHBvb2wucmVsZWFzZShyZXNvdXJjZSk7XHJcblxyXG4gIC8vIExpc3RlbiBIVFRQIHNlcnZlclxyXG4gIGlmICghc2VydmVyQ29uZmlnLnNzbC5lbmFibGUgJiYgIXNlcnZlckNvbmZpZy5zc2wuZm9yY2UpIHtcclxuICAgIC8vIE1haW4gc2VydmVyIGluc3RhbmNlIChIVFRQKVxyXG4gICAgY29uc3QgaHR0cFNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XHJcbiAgICAvLyBBdHRhY2ggZXJyb3IgaGFuZGxlcnMgYW5kIGxpc3RlbiB0byB0aGUgc2VydmVyXHJcbiAgICBhdHRhY2hFcnJvckhhbmRsZXJzKGh0dHBTZXJ2ZXIpO1xyXG4gICAgLy8gTGlzdGVuXHJcbiAgICBodHRwU2VydmVyLmxpc3RlbihzZXJ2ZXJDb25maWcucG9ydCwgc2VydmVyQ29uZmlnLmhvc3QpO1xyXG5cclxuICAgIGxvZyhcclxuICAgICAgMyxcclxuICAgICAgYFtzZXJ2ZXJdIFN0YXJ0ZWQgSFRUUCBzZXJ2ZXIgb24gJHtzZXJ2ZXJDb25maWcuaG9zdH06JHtzZXJ2ZXJDb25maWcucG9ydH0uYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIExpc3RlbiBIVFRQUyBzZXJ2ZXJcclxuICBpZiAoc2VydmVyQ29uZmlnLnNzbC5lbmFibGUpIHtcclxuICAgIC8vIFNldCB1cCBhbiBTU0wgc2VydmVyIGFsc29cclxuICAgIGxldCBrZXksIGNlcnQ7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gR2V0IHRoZSBTU0wga2V5XHJcbiAgICAgIGtleSA9IGF3YWl0IGZzUHJvbWlzZXMucmVhZEZpbGUoXHJcbiAgICAgICAgcG9zaXguam9pbihzZXJ2ZXJDb25maWcuc3NsLmNlcnRQYXRoLCAnc2VydmVyLmtleScpLFxyXG4gICAgICAgICd1dGY4J1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gR2V0IHRoZSBTU0wgY2VydGlmaWNhdGVcclxuICAgICAgY2VydCA9IGF3YWl0IGZzUHJvbWlzZXMucmVhZEZpbGUoXHJcbiAgICAgICAgcG9zaXguam9pbihzZXJ2ZXJDb25maWcuc3NsLmNlcnRQYXRoLCAnc2VydmVyLmNydCcpLFxyXG4gICAgICAgICd1dGY4J1xyXG4gICAgICApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgYFtzZXJ2ZXJdIFVuYWJsZSB0byBsb2FkIGtleS9jZXJ0aWZpY2F0ZSBmcm9tICR7c2VydmVyQ29uZmlnLnNzbC5jZXJ0UGF0aH0uYFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChrZXkgJiYgY2VydCkge1xyXG4gICAgICAvLyBNYWluIHNlcnZlciBpbnN0YW5jZSAoSFRUUFMpXHJcbiAgICAgIGNvbnN0IGh0dHBzU2VydmVyID0gaHR0cHMuY3JlYXRlU2VydmVyKGFwcCk7XHJcbiAgICAgIC8vIEF0dGFjaCBlcnJvciBoYW5kbGVycyBhbmQgbGlzdGVuIHRvIHRoZSBzZXJ2ZXJcclxuICAgICAgYXR0YWNoRXJyb3JIYW5kbGVycyhodHRwc1NlcnZlcik7XHJcbiAgICAgIC8vIExpc3RlblxyXG4gICAgICBodHRwc1NlcnZlci5saXN0ZW4oc2VydmVyQ29uZmlnLnNzbC5wb3J0LCBzZXJ2ZXJDb25maWcuaG9zdCk7XHJcblxyXG4gICAgICBsb2coXHJcbiAgICAgICAgMyxcclxuICAgICAgICBgW3NlcnZlcl0gU3RhcnRlZCBIVFRQUyBzZXJ2ZXIgb24gJHtzZXJ2ZXJDb25maWcuaG9zdH06JHtzZXJ2ZXJDb25maWcuc3NsLnBvcnR9LmBcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEVuYWJsZSB0aGUgcmF0ZSBsaW1pdGVyIGlmIGNvbmZpZyBzYXlzIHNvXHJcbiAgaWYgKFxyXG4gICAgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZyAmJlxyXG4gICAgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZy5lbmFibGUgJiZcclxuICAgICFbMCwgTmFOXS5pbmNsdWRlcyhzZXJ2ZXJDb25maWcucmF0ZUxpbWl0aW5nLm1heFJlcXVlc3RzKVxyXG4gICkge1xyXG4gICAgcmF0ZUxpbWl0KGFwcCwgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZyk7XHJcbiAgfVxyXG5cclxuICAvLyBTZXQgdXAgc3RhdGljIGZvbGRlcidzIHJvdXRlXHJcbiAgYXBwLnVzZShleHByZXNzLnN0YXRpYyhwb3NpeC5qb2luKF9fZGlybmFtZSwgJ3B1YmxpYycpKSk7XHJcblxyXG4gIC8vIFNldCB1cCByb3V0ZXNcclxuICBoZWFsdGhSb3V0ZShhcHApO1xyXG4gIGV4cG9ydFJvdXRlcyhhcHApO1xyXG4gIHVpUm91dGUoYXBwKTtcclxuICB2c3dpdGNoUm91dGUoYXBwKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBleHByZXNzIGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldEV4cHJlc3MgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGV4cHJlc3M7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgYXBwIGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldEFwcCA9ICgpID0+IHtcclxuICByZXR1cm4gYXBwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSBtaWRkbGV3YXJlIHRvIHRoZSBzZXJ2ZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXRoIC0gQW4gZW5kcG9pbnQgcGF0aCB0byBhZGQgbWlkZGxld2FyZXMgdG8uXHJcbiAqIEBwYXJhbSB7QXJyYXl9IG1pZGRsZXdhcmVzIC0gQW4gdW5saW1pdGVkIG51bWJlciBvZiBtaWRkbGV3YXJlcyB0byB1c2VcclxuICogYWdhaW5zdCB0aGUgc3BlY2lmaWMgZW5kcG9pbnQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdXNlID0gKHBhdGgsIC4uLm1pZGRsZXdhcmVzKSA9PiB7XHJcbiAgYXBwLnVzZShwYXRoLCAuLi5taWRkbGV3YXJlcyk7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhIGdldCByb3V0ZSB0byB0aGUgc2VydmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcGF0aCAtIEFuIGVuZHBvaW50IHBhdGggdG8gYWRkIG1pZGRsZXdhcmVzIHRvLlxyXG4gKiBAcGFyYW0ge0FycmF5fSBtaWRkbGV3YXJlcyAtIEFuIHVubGltaXRlZCBudW1iZXIgb2YgbWlkZGxld2FyZXMgdG8gdXNlXHJcbiAqIGFnYWluc3QgdGhlIHNwZWNpZmljIGVuZHBvaW50IGZvciBHRVQgbWV0aG9kLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldCA9IChwYXRoLCAuLi5taWRkbGV3YXJlcykgPT4ge1xyXG4gIGFwcC5nZXQocGF0aCwgLi4ubWlkZGxld2FyZXMpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSBwb3N0IHJvdXRlIHRvIHRoZSBzZXJ2ZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXRoIC0gQW4gZW5kcG9pbnQgcGF0aCB0byBhZGQgbWlkZGxld2FyZXMgdG8uXHJcbiAqIEBwYXJhbSB7QXJyYXl9IG1pZGRsZXdhcmVzIC0gQW4gdW5saW1pdGVkIG51bWJlciBvZiBtaWRkbGV3YXJlcyB0byB1c2VcclxuICogYWdhaW5zdCB0aGUgc3BlY2lmaWMgZW5kcG9pbnQgZm9yIFBPU1QgbWV0aG9kLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHBvc3QgPSAocGF0aCwgLi4ubWlkZGxld2FyZXMpID0+IHtcclxuICBhcHAucG9zdChwYXRoLCAuLi5taWRkbGV3YXJlcyk7XHJcbn07XHJcblxyXG4vKipcclxuICogRm9yY2VmdWxseSBlbmFibGVzIHJhdGUgbGltaXRpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaW1pdENvbmZpZyAtIFRoZSBvcHRpb25zIG9iamVjdCBmb3IgdGhlIHJhdGUgbGltaXRlclxyXG4gKiBjb25maWd1cmF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGVuYWJsZVJhdGVMaW1pdGluZyA9IChsaW1pdENvbmZpZykgPT4ge1xyXG4gIHJldHVybiByYXRlTGltaXQoYXBwLCBsaW1pdENvbmZpZyk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgc3RhcnRTZXJ2ZXIsXHJcbiAgZ2V0RXhwcmVzcyxcclxuICBnZXRBcHAsXHJcbiAgdXNlLFxyXG4gIGdldCxcclxuICBwb3N0LFxyXG4gIGVuYWJsZVJhdGVMaW1pdGluZ1xyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCB7IF9fZGlybmFtZSB9IGZyb20gJy4uLy4uL3V0aWxzLmpzJztcclxuLyoqXHJcbiAqIEFkZHMgdGhlIC8gcm91dGUgZm9yIGEgVUkgd2hlbiBlbmFibGVkIGZvciB0aGUgZXhwb3J0IHNlcnZlclxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKGFwcCkgPT5cclxuICAhYXBwXHJcbiAgICA/IGZhbHNlXHJcbiAgICA6IGFwcC5nZXQoJy8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgICAgICByZXNwb25zZS5zZW5kRmlsZShqb2luKF9fZGlybmFtZSwgJ3B1YmxpYycsICdpbmRleC5odG1sJykpO1xyXG4gICAgICB9KTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi4vLi4vY2FjaGUuanMnO1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSByb3V0ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoYW5nZSB0aGUgSEMgdmVyc2lvbiBvbiB0aGUgc2VydmVyXHJcbiAqIFRPRE86IEFkZCBhdXRoIHRva2VuIGFuZCBjb25uZWN0IHRvIEFQSVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKGFwcCkgPT5cclxuICAhYXBwXHJcbiAgICA/IGZhbHNlXHJcbiAgICA6IGFwcC5wb3N0KCcvY2hhbmdlX2hjX3ZlcnNpb24vOm5ld1ZlcnNpb24nLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgICAgICBjb25zdCBjdG9rZW4gPSBwcm9jZXNzLmVudi5ISUdIQ0hBUlRTX0FETUlOX1RPS0VOO1xyXG5cclxuICAgICAgICBpZiAoIWN0b2tlbiB8fCAhY3Rva2VuLmxlbmd0aCkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoe1xyXG4gICAgICAgICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgICAgICAgbWVzc2FnZTpcclxuICAgICAgICAgICAgICAnU2VydmVyIG5vdCBjb25maWd1cmVkIHRvIGRvIHJ1bi10aW1lIHZlcnNpb24gY2hhbmdlczogSElHSENIQVJUU19BRE1JTl9UT0tFTiBub3Qgc2V0J1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcXVlc3QuZ2V0KCdoYy1hdXRoJyk7XHJcblxyXG4gICAgICAgIGlmICghdG9rZW4gfHwgdG9rZW4gIT09IGN0b2tlbikge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoe1xyXG4gICAgICAgICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgb3IgbWlzc2luZyB0b2tlbjogc2V0IHRva2VuIGluIHRoZSBoYy1hdXRoIGhlYWRlcidcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbmV3VmVyc2lvbiA9IHJlcXVlc3QucGFyYW1zLm5ld1ZlcnNpb247XHJcblxyXG4gICAgICAgIGlmIChuZXdWZXJzaW9uKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLW5hbWVkLWFzLWRlZmF1bHQtbWVtYmVyXHJcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlLnVwZGF0ZVZlcnNpb24obmV3VmVyc2lvbik7XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoe1xyXG4gICAgICAgICAgICAgIGVycm9yOiB0cnVlLFxyXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgICAgICAgIHZlcnNpb246IGNhY2hlLnZlcnNpb24oKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlc3BvbnNlLnNlbmQoe1xyXG4gICAgICAgICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ05vIG5ldyB2ZXJzaW9uIHN1cHBsaWVkJ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLyBBZGQgdGhlIG1haW4gZGlyZWN0b3J5IGluIHRoZSBnbG9iYWwgb2JqZWN0XHJcbmltcG9ydCAnY29sb3JzJztcclxuXHJcbmltcG9ydCBzZXJ2ZXIsIHsgc3RhcnRTZXJ2ZXIgfSBmcm9tICcuL3NlcnZlci9zZXJ2ZXIuanMnO1xyXG5pbXBvcnQge1xyXG4gIHNldEFsbG93Q29kZUV4ZWN1dGlvbixcclxuICBiYXRjaEV4cG9ydCxcclxuICBzaW5nbGVFeHBvcnQsXHJcbiAgc3RhcnRFeHBvcnRcclxufSBmcm9tICcuL2NoYXJ0LmpzJztcclxuaW1wb3J0IHsgbWFwVG9OZXdDb25maWcsIHNldE9wdGlvbnMgfSBmcm9tICcuL2NvbmZpZy5qcyc7XHJcbmltcG9ydCB7IGxvZywgc2V0TG9nTGV2ZWwsIGVuYWJsZUZpbGVMb2dnaW5nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5pbXBvcnQgeyBraWxsUG9vbCwgaW5pdCB9IGZyb20gJy4vcG9vbC5qcyc7XHJcbmltcG9ydCB7IGNoZWNrQ2FjaGUgfSBmcm9tICcuL2NhY2hlLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBsb2csXHJcbiAgbWFwVG9OZXdDb25maWcsXHJcbiAgc2V0T3B0aW9ucyxcclxuICBzaW5nbGVFeHBvcnQsXHJcbiAgc3RhcnRFeHBvcnQsXHJcbiAgYmF0Y2hFeHBvcnQsXHJcbiAgc2VydmVyLFxyXG4gIHN0YXJ0U2VydmVyLFxyXG4gIGtpbGxQb29sLFxyXG4gIGluaXRQb29sOiBhc3luYyAob3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgICAvLyBTZXQgdGhlIGFsbG93Q29kZUV4ZWN1dGlvbiBwZXIgZXhwb3J0IG1vZHVsZSBzY29wZVxyXG4gICAgc2V0QWxsb3dDb2RlRXhlY3V0aW9uKFxyXG4gICAgICBvcHRpb25zLmN1c3RvbUNvZGUgJiYgb3B0aW9ucy5jdXN0b21Db2RlLmFsbG93Q29kZUV4ZWN1dGlvblxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGxvZyBsZXZlbFxyXG4gICAgc2V0TG9nTGV2ZWwob3B0aW9ucy5sb2dnaW5nICYmIHBhcnNlSW50KG9wdGlvbnMubG9nZ2luZy5sZXZlbCkpO1xyXG5cclxuICAgIC8vIFNldCB0aGUgbG9nIGZpbGUgcGF0aCBhbmQgbmFtZVxyXG4gICAgaWYgKG9wdGlvbnMubG9nZ2luZyAmJiBvcHRpb25zLmxvZ2dpbmcuZGVzdCkge1xyXG4gICAgICBlbmFibGVGaWxlTG9nZ2luZyhcclxuICAgICAgICBvcHRpb25zLmxvZ2dpbmcuZGVzdCxcclxuICAgICAgICBvcHRpb25zLmxvZ2dpbmcuZmlsZSB8fCAnaGlnaGNoYXJ0cy1leHBvcnQtc2VydmVyLmxvZydcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBpZiBjYWNoZSBuZWVkcyB0byBiZSB1cGRhdGVkXHJcbiAgICBhd2FpdCBjaGVja0NhY2hlKG9wdGlvbnMuaGlnaGNoYXJ0cyB8fCB7IHZlcnNpb246ICdsYXRlc3QnIH0pO1xyXG5cclxuICAgIC8vIEluaXQgdGhlIHBvb2xcclxuICAgIGF3YWl0IGluaXQoe1xyXG4gICAgICBwb29sOiBvcHRpb25zLnBvb2wgfHwge1xyXG4gICAgICAgIGluaXRpYWxXb3JrZXJzOiAxLFxyXG4gICAgICAgIG1heFdvcmtlcnM6IDFcclxuICAgICAgfSxcclxuICAgICAgcHVwcGV0ZWVyQXJnczogb3B0aW9ucy5wdXBwZXRlZXI/LmFyZ3MgfHwgW11cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJldHVybiB1cGRhdGVkIG9wdGlvbnNcclxuICAgIHJldHVybiBvcHRpb25zO1xyXG4gIH1cclxufTtcclxuIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImRlZmF1bHRDb25maWciLCJwdXBwZXRlZXIiLCJhcmdzIiwidmFsdWUiLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJoaWdoY2hhcnRzIiwidmVyc2lvbiIsImVudkxpbmsiLCJjZG5VUkwiLCJjb3JlU2NyaXB0cyIsIm1vZHVsZXMiLCJpbmRpY2F0b3JzIiwic2NyaXB0cyIsImV4cG9ydCIsImluZmlsZSIsImluc3RyIiwib3B0aW9ucyIsIm91dGZpbGUiLCJjb25zdHIiLCJkZWZhdWx0SGVpZ2h0IiwiZGVmYXVsdFdpZHRoIiwiZGVmYXVsdFNjYWxlIiwiaGVpZ2h0Iiwid2lkdGgiLCJzY2FsZSIsImdsb2JhbE9wdGlvbnMiLCJ0aGVtZU9wdGlvbnMiLCJiYXRjaCIsImN1c3RvbUNvZGUiLCJhbGxvd0NvZGVFeGVjdXRpb24iLCJhbGxvd0ZpbGVSZXNvdXJjZXMiLCJjYWxsYmFjayIsInJlc291cmNlcyIsImxvYWRDb25maWciLCJjcmVhdGVDb25maWciLCJzZXJ2ZXIiLCJlbmFibGUiLCJjbGlOYW1lIiwiaG9zdCIsInBvcnQiLCJzc2wiLCJmb3JjZSIsImNlcnRQYXRoIiwicmF0ZUxpbWl0aW5nIiwibWF4UmVxdWVzdHMiLCJ3aW5kb3ciLCJkZWxheSIsInRydXN0UHJveHkiLCJza2lwS2V5Iiwic2tpcFRva2VuIiwicG9vbCIsImluaXRpYWxXb3JrZXJzIiwibWF4V29ya2VycyIsIndvcmtMaW1pdCIsInF1ZXVlU2l6ZSIsInRpbWVvdXRUaHJlc2hvbGQiLCJhY3F1aXJlVGltZW91dCIsInJlYXBlciIsImJlbmNobWFya2luZyIsImxpc3RlblRvUHJvY2Vzc0V4aXRzIiwibG9nZ2luZyIsImxldmVsIiwiZmlsZSIsImRlc3QiLCJ1aSIsInJvdXRlIiwib3RoZXIiLCJub0xvZ28iLCJwYXlsb2FkIiwiam9pbiIsImFic29sdXRlUHJvcHMiLCJuZXN0ZWRBcmdzIiwiY3JlYXRlTmVzdGVkQXJncyIsIm9iaiIsInByb3BDaGFpbiIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiayIsImluY2x1ZGVzIiwiZW50cnkiLCJzdWJzdHJpbmciLCJ0b0NvbnNvbGUiLCJ0b0ZpbGUiLCJwYXRoQ3JlYXRlZCIsImxldmVsc0Rlc2MiLCJ0aXRsZSIsImNvbG9yIiwibGlzdGVuZXJzIiwia2V5Iiwib3B0aW9uIiwiZW50cmllcyIsImxvZyIsIm5ld0xldmVsIiwidGV4dHMiLCJsZW5ndGgiLCJwcmVmaXgiLCJEYXRlIiwidG9TdHJpbmciLCJzcGxpdCIsInRyaW0iLCJmbiIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJhcHBlbmRGaWxlIiwiY29uY2F0IiwiZXJyb3IiLCJjb25zb2xlIiwiYXBwbHkiLCJ1bmRlZmluZWQiLCJfX2Rpcm5hbWUiLCJmaWxlVVJMVG9QYXRoIiwiVVJMIiwiZG9jdW1lbnQiLCJyZXF1aXJlIiwicGF0aFRvRmlsZVVSTCIsIl9fZmlsZW5hbWUiLCJocmVmIiwiX2RvY3VtZW50Q3VycmVudFNjcmlwdCIsInNyYyIsImJhc2VVUkkiLCJjbGVhclRleHQiLCJ0ZXh0IiwicnVsZSIsInJlcGxhY2VyIiwicmVwbGFjZUFsbCIsImZpeFR5cGUiLCJmb3JtYXRzIiwib3V0VHlwZSIsInBvcCIsImZpbmQiLCJ0IiwiaGFuZGxlUmVzb3VyY2VzIiwiYWxsb3dlZFByb3BzIiwiaGFuZGxlZFJlc291cmNlcyIsImNvcnJlY3RSZXNvdXJjZXMiLCJlbmRzV2l0aCIsImlzQ29ycmVjdEpTT04iLCJyZWFkRmlsZVN5bmMiLCJub3RpY2UiLCJmaWxlcyIsInByb3BOYW1lIiwibWFwIiwiaXRlbSIsImRhdGEiLCJwYXJzZWREYXRhIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiZGVlcENvcHkiLCJjb3B5IiwiQXJyYXkiLCJpc0FycmF5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwib3B0aW9uc1N0cmluZ2lmeSIsImFsbG93RnVuY3Rpb25zIiwibmFtZSIsInN0YXJ0c1dpdGgiLCJwcmludFVzYWdlIiwiYm9sZCIsInllbGxvdyIsImN5Y2xlQ2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJkZXNjTmFtZSIsImdyZWVuIiwiaSIsImJsdWUiLCJjYXRlZ29yeSIsInRvVXBwZXJDYXNlIiwicmVkIiwidG9Cb29sZWFuIiwid3JhcEFyb3VuZCIsInJlcGxhY2UiLCJyYXRlTGltaXQiLCJhcHAiLCJsaW1pdENvbmZpZyIsIm1zZyIsInJhdGVPcHRpb25zIiwibWF4IiwibGltaXRlciIsIndpbmRvd01zIiwiZGVsYXlNcyIsImhhbmRsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJmb3JtYXQiLCJqc29uIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJkZWZhdWx0Iiwic2tpcCIsInF1ZXJ5IiwiYWNjZXNzX3Rva2VuIiwidXNlIiwiYXN5bmMiLCJmZXRjaCIsInVybCIsInJlcXVlc3RPcHRpb25zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwcm90b2NvbCIsImh0dHBzIiwiaHR0cCIsImdldFByb3RvY29sIiwiZ2V0IiwicmVzIiwib24iLCJjaHVuayIsImNhY2hlUGF0aCIsImNhY2hlIiwiYWN0aXZlTWFuaWZlc3QiLCJzb3VyY2VzIiwiaGNWZXJzaW9uIiwiYXBwbGllZENvbmZpZyIsImV4dHJhY3RWZXJzaW9uIiwic3Vic3RyIiwiaW5kZXhPZiIsImZldGNoU2NyaXB0Iiwic2NyaXB0IiwicHJveHlBZ2VudCIsImFnZW50IiwidGltZW91dCIsInByb2Nlc3MiLCJlbnYiLCJzdGF0dXNDb2RlIiwidXBkYXRlQ2FjaGUiLCJzb3VyY2VQYXRoIiwiY3VzdG9tU2NyaXB0cyIsImFsbFNjcmlwdHMiLCJjIiwibSIsInByb3h5SG9zdCIsInByb3h5UG9ydCIsIkh0dHBzUHJveHlBZ2VudCIsImZldGNoZWRNb2R1bGVzIiwiYWxsIiwid3JpdGVGaWxlU3luYyIsImNoZWNrQ2FjaGUiLCJtYW5pZmVzdFBhdGgiLCJyZXF1ZXN0VXBkYXRlIiwibWFuaWZlc3QiLCJtb2R1bGVNYXAiLCJudW1iZXJPZk1vZHVsZXMiLCJzb21lIiwibW9kdWxlTmFtZSIsIm5ld01hbmlmZXN0Iiwic2F2ZUNvbmZpZ1RvTWFuaWZlc3QiLCJjYWNoZSQxIiwibmV3VmVyc2lvbiIsImFzc2lnbiIsIlJBTkRPTV9QSUQiLCJyYW5kb21CeXRlcyIsIlBVUFBFVEVFUl9ESVIiLCJwYXRoIiwibWluaW1hbEFyZ3MiLCJ0ZW1wbGF0ZSIsImZzIiwiYnJvd3NlciIsIm5ld1BhZ2UiLCJwIiwic2V0Q29udGVudCIsImFkZFNjcmlwdFRhZyIsImV2YWx1YXRlIiwic2V0dXBIaWdoY2hhcnRzIiwiZXJyIiwiJGV2YWwiLCJlbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiX2Rpc3BsYXlFcnJvcnMiLCJpbm5lckhUTUwiLCJjbG9zZSIsImNvbm5lY3RlZCIsIl9fYmFzZWRpciIsInNldEFzQ29uZmlnIiwicGFnZSIsImNoYXJ0IiwidHJpZ2dlckV4cG9ydCIsInB1cHBldGVlckV4cG9ydCIsImluamVjdGVkUmVzb3VyY2VzIiwiY2xlYXJJbmplY3RlZCIsImRpc3Bvc2UiLCJzY3JpcHRzVG9SZW1vdmUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInN0eWxlc1RvUmVtb3ZlIiwibGlua3NUb1JlbW92ZSIsInJlbW92ZSIsImV4cG9ydEJlbmNoIiwiZXhwb3J0T3B0aW9ucyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRpc3BsYXlFcnJvcnMiLCJkZWJ1Z2dlciIsImQiLCJzdmdCZW5jaCIsImlzU1ZHIiwic2V0UGFnZUJlbmNoIiwic3ZnVGVtcGxhdGUiLCJzdHJJbmoiLCJzZXRDb250ZW50QmVuY2giLCJyZXNCZW5jaCIsImpzIiwicHVzaCIsImNvbnRlbnQiLCJpc0xvY2FsIiwiY3NzQmVuY2giLCJjc3MiLCJjc3NJbXBvcnRzIiwibWF0Y2giLCJjc3NJbXBvcnRQYXRoIiwiYWRkU3R5bGVUYWciLCJzaXplIiwiY2hhcnRIZWlnaHQiLCJiYXNlVmFsIiwiY2hhcnRXaWR0aCIsInBhcnNlRmxvYXQiLCJIaWdoY2hhcnRzIiwiY2hhcnRzIiwidnBCZW5jaCIsInZpZXdwb3J0SGVpZ2h0IiwiTWF0aCIsImNlaWwiLCJ2aWV3cG9ydFdpZHRoIiwic2V0Vmlld3BvcnQiLCJkZXZpY2VTY2FsZUZhY3RvciIsInpvb21DYWxsYmFjayIsImJvZHkiLCJzdHlsZSIsInpvb20iLCJtYXJnaW4iLCJ4IiwieSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRydW5jIiwiZ2V0Q2xpcFJlZ2lvbiIsInJvdW5kIiwiZXhwQmVuY2htYXJrIiwib3V0ZXJIVE1MIiwiY3JlYXRlU1ZHIiwiZW5jb2RpbmciLCJjbGlwIiwicmFjZSIsInNjcmVlbnNob3QiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJjcmVhdGVJbWFnZSIsInBkZiIsImNyZWF0ZVBERiIsIm9sZENoYXJ0cyIsIm9sZENoYXJ0IiwiZGVzdHJveSIsInNoaWZ0IiwicHVwcGV0ZWVyQXJncyIsInBlcmZvcm1lZEV4cG9ydHMiLCJleHBvcnRBdHRlbXB0cyIsInRpbWVTcGVudCIsImRyb3BwZWRFeHBvcnRzIiwic3BlbnRBdmVyYWdlIiwicG9vbENvbmZpZyIsImZhY3RvcnkiLCJjcmVhdGUiLCJpZCIsInV1aWQiLCJzIiwiZ2V0VGltZSIsImJyb3dzZXJOZXdQYWdlIiwiaXNDbG9zZWQiLCJ3b3JrQ291bnQiLCJyYW5kb20iLCJ2YWxpZGF0ZSIsIndvcmtlckhhbmRsZSIsImxvZ0xldmVsIiwiaW5pdCIsImFsbEFyZ3MiLCJ0cnlDb3VudCIsIm9wZW4iLCJsYXVuY2giLCJoZWFkbGVzcyIsInVzZXJEYXRhRGlyIiwiZSIsImNyZWF0ZUJyb3dzZXIiLCJraWxsUG9vbCIsImNvZGUiLCJleGl0IiwiUG9vbCIsIm1pbiIsImNyZWF0ZVJldHJ5SW50ZXJ2YWxNaWxsaXMiLCJjcmVhdGVUaW1lb3V0TWlsbGlzIiwiYWNxdWlyZVRpbWVvdXRNaWxsaXMiLCJkZXN0cm95VGltZW91dE1pbGxpcyIsImlkbGVUaW1lb3V0TWlsbGlzIiwicmVhcEludGVydmFsTWlsbGlzIiwicHJvcGFnYXRlQ3JlYXRlRXJyb3IiLCJldmVudElkIiwicmVzb3VyY2UiLCJpbml0aWFsUmVzb3VyY2VzIiwiYWNxdWlyZSIsInByb21pc2UiLCJyZWxlYXNlIiwiZGVzdHJveWVkIiwicG9zdFdvcmsiLCJmYWlsIiwiZ2V0UG9vbEluZm8iLCJ3b3JrU3RhcnQiLCJyZXN1bHQiLCJleHBvcnRUaW1lIiwiYXZhaWxhYmxlIiwiYm9ycm93ZWQiLCJwZW5kaW5nIiwic3BhcmVSZXNvdXJjZUNhcGFjaXR5IiwicG9vbCQxIiwicGFja2FnZVZlcnNpb24iLCJucG1fcGFja2FnZV92ZXJzaW9uIiwic2VydmVyU3RhcnRUaW1lIiwiZ2VuZXJhbE9wdGlvbnMiLCJnZXRPcHRpb25zIiwibWVyZ2VDb25maWdPcHRpb25zIiwibmV3T3B0aW9ucyIsIm1lcmdlZE9wdGlvbnMiLCJ1cGRhdGVEZWZhdWx0Q29uZmlnIiwiY29uZmlnT2JqIiwiY3VzdG9tT2JqIiwiY3VzdG9tVmFsdWUiLCJudW1FbnZWYWwiLCJlbCIsImluaXRPcHRpb25zIiwiaXRlbXMiLCJzdGFydEV4cG9ydCIsInNldHRpbmdzIiwiZW5kQ2FsbGJhY2siLCJzdmciLCJpbml0RXhwb3J0U2V0dGluZ3MiLCJleHBvcnRBc1N0cmluZyIsInJlYWRGaWxlIiwiZG9TdHJhaWdodEluamVjdCIsImRvRXhwb3J0IiwiZmluZENoYXJ0U2l6ZSIsImV4cG9ydGluZyIsInByZWNpc2lvbiIsIm11bHRpcGxpZXIiLCJwb3ciLCJyb3VuZE51bWJlciIsInNvdXJjZUhlaWdodCIsInNvdXJjZVdpZHRoIiwiY2hhcnRKc29uIiwiY3VzdG9tQ29kZU9wdGlvbnMiLCJhbGxvd0NvZGVFeGVjdXRpb25TY29wZWQiLCJlbmFibGVkIiwib3B0aW9uc05hbWUiLCJ0aGVuIiwiY2F0Y2giLCJyZXF1ZXN0SWQiLCJzdHJpbmdUb0V4cG9ydCIsImNoYXJ0SlNPTiIsInJldmVyc2VkTWltZSIsInBuZyIsImpwZWciLCJnaWYiLCJyZXF1ZXN0c0NvdW50ZXIiLCJiZWZvcmVSZXF1ZXN0IiwiYWZ0ZXJSZXF1ZXN0IiwiZG9DYWxsYmFja3MiLCJjYWxsYmFja3MiLCJ1bmlxdWVJZCIsImNhbGxSZXNwb25zZSIsImV4cG9ydEhhbmRsZXIiLCJzdGFydCIsImhydGltZSIsImJpZ2ludCIsIm1lYXN1cmVUaW1lIiwiZGVmYXVsdE9wdGlvbnMiLCJoZWFkZXJzIiwiY29ubmVjdGlvbiIsInJlbW90ZUFkZHJlc3MiLCJjb25uZWN0aW9uQWJvcnRlZCIsInNvY2tldCIsInRvTG93ZXJDYXNlIiwiYjY0IiwiZGF0YU9wdGlvbnMiLCJub0Rvd25sb2FkIiwiaXBSZWdFeCIsImluZm8iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJCdWZmZXIiLCJmcm9tIiwiaGVhZGVyIiwiYXR0YWNobWVudCIsInBhcmFtcyIsImZpbGVuYW1lIiwiZXhwcmVzcyIsImRpc2FibGUiLCJjb3JzIiwic3RvcmFnZSIsIm11bHRlciIsIm1lbW9yeVN0b3JhZ2UiLCJ1cGxvYWQiLCJsaW1pdHMiLCJmaWVsZHNTaXplIiwiYW55IiwiYm9keVBhcnNlciIsImxpbWl0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZXJyb3JIYW5kbGVyIiwiYXR0YWNoRXJyb3JIYW5kbGVycyIsInN0YXJ0U2VydmVyIiwic2VydmVyQ29uZmlnIiwiaHR0cFNlcnZlciIsImNyZWF0ZVNlcnZlciIsImxpc3RlbiIsImNlcnQiLCJmc1Byb21pc2VzIiwicG9zaXgiLCJodHRwc1NlcnZlciIsIk5hTiIsInN0YXRpYyIsImJvb3RUaW1lIiwidXB0aW1lIiwiZmxvb3IiLCJoaWdoY2hhcnRzVmVyc2lvbiIsImF2ZXJhZ2VQcm9jZXNzaW5nVGltZSIsImZhaWxlZEV4cG9ydHMiLCJzdWNlc3NSYXRpbyIsImhlYWx0aFJvdXRlIiwicG9zdCIsImV4cG9ydFJvdXRlcyIsInNlbmRGaWxlIiwidWlSb3V0ZSIsImN0b2tlbiIsIkhJR0hDSEFSVFNfQURNSU5fVE9LRU4iLCJ0b2tlbiIsInZzd2l0Y2hSb3V0ZSIsImdldEV4cHJlc3MiLCJnZXRBcHAiLCJtaWRkbGV3YXJlcyIsImVuYWJsZVJhdGVMaW1pdGluZyIsImluZGV4IiwibWFwVG9OZXdDb25maWciLCJvbGRPcHRpb25zIiwicHJvcGVydGllc0NoYWluIiwicmVkdWNlIiwicHJvcCIsInNldE9wdGlvbnMiLCJ1c2VyT3B0aW9ucyIsImNvbmZpZ0luZGV4IiwiZmluZEluZGV4IiwiYXJnIiwiZmlsZU5hbWUiLCJsb2FkQ29uZmlnRmlsZSIsInBhaXJBcmd1bWVudFZhbHVlIiwic2luZ2xlRXhwb3J0IiwiYmF0Y2hFeHBvcnQiLCJiYXRjaEZ1bmN0aW9ucyIsInBhaXIiLCJpbml0UG9vbCIsInBhcnNlSW50IiwibG9nRGVzdCIsImxvZ0ZpbGUiLCJlbmFibGVGaWxlTG9nZ2luZyJdLCJtYXBwaW5ncyI6IjZ1QkFpQkFBLEVBQU9DLFNBSUEsTUFBTUMsRUFBZ0IsQ0FDM0JDLFVBQVcsQ0FDVEMsS0FBTSxDQUNKQyxNQUFPLEdBQ1BDLEtBQU0sV0FDTkMsWUFBYSw2Q0FHakJDLFdBQVksQ0FDVkMsUUFBUyxDQUNQSixNQUFPLFNBQ1BLLFFBQVMscUJBQ1RKLEtBQU0sU0FDTkMsWUFBYSw4QkFFZkksT0FBUSxDQUNOTixNQUFPLCtCQUNQSyxRQUFTLGlCQUNUSixLQUFNLFNBQ05DLFlBQWEsNkNBRWZLLFlBQWEsQ0FDWEYsUUFBUywwQkFDVEwsTUFBTyxDQUFDLGFBQWMsa0JBQW1CLGlCQUN6Q0MsS0FBTSxXQUNOQyxZQUFhLHFDQUVmTSxRQUFTLENBQ1BILFFBQVMscUJBQ1RMLE1BQU8sQ0FDTCxRQUNBLE1BQ0EsUUFDQSxZQUNBLGNBQ0EsdUJBQ0EsZ0JBQ0EsdUJBQ0EsZUFDQSxRQUNBLE9BQ0EsbUJBQ0EsZUFDQSxjQUNBLFVBQ0EsVUFDQSxXQUNBLFVBQ0EsY0FDQSxZQUNBLHNCQUNBLFNBQ0EsU0FDQSxXQUNBLFlBQ0EsZUFDQSxTQUNBLGVBQ0EsWUFDQSxrQkFDQSxTQUNBLGNBQ0EsbUJBQ0EsZUFDQSxjQUNBLGVBQ0EsY0FDQSxjQUNBLFdBQ0EsZUFDQSxXQUNBLFNBQ0EsT0FDQSxXQUNBLFlB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
>>>>>>> enhancement/puppeteer
