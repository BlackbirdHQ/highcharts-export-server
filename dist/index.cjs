"use strict";require("colors");var e=require("fs"),t=require("path"),o=require("body-parser"),r=require("cors"),i=require("express"),n=require("multer"),s=require("http"),a=require("https"),l=require("dotenv"),c=require("express-rate-limit"),p=require("url"),d=require("https-proxy-agent"),u=require("uuid"),h=require("tarn"),g=require("puppeteer"),m=require("node:path"),f=require("node:crypto");require("prompts");var v="undefined"!=typeof document?document.currentScript:null;function y(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var b=y(p);l.config();const w={puppeteer:{args:{value:[],type:"string[]",description:"Array of arguments to send to puppeteer."}},highcharts:{version:{value:"latest",envLink:"HIGHCHARTS_VERSION",type:"string",description:"Highcharts version to use."},cdnURL:{value:"https://code.highcharts.com/",envLink:"HIGHCHARTS_CDN",type:"string",description:"The CDN URL of Highcharts scripts to use."},coreScripts:{envLink:"HIGHCHARTS_CORE_SCRIPTS",value:["highcharts","highcharts-more","highcharts-3d"],type:"string[]",description:"Highcharts core scripts to fetch."},modules:{envLink:"HIGHCHARTS_MODULES",value:["stock","map","gantt","exporting","export-data","parallel-coordinates","accessibility","annotations-advanced","boost-canvas","boost","data","draggable-points","static-scale","broken-axis","heatmap","tilemap","timeline","treemap","treegraph","item-series","drilldown","histogram-bellcurve","bullet","funnel","funnel3d","pyramid3d","networkgraph","pareto","pattern-fill","pictorial","price-indicator","sankey","arc-diagram","dependency-wheel","series-label","solid-gauge","sonification","stock-tools","streamgraph","sunburst","variable-pie","variwide","vector","venn","windbarb","wordcloud","xrange","no-data-to-display","drag-panes","debugger","dumbbell","lollipop","cylinder","organization","dotplot","marker-clusters","hollowcandlestick","heikinashi"],type:"string[]",description:"Highcharts modules to fetch."},indicators:{envLink:"HIGHCHARTS_INDICATORS",value:["indicators-all"],type:"string[]",description:"Highcharts indicators to fetch."},scripts:{value:["https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js","https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.34/moment-timezone-with-data.min.js"],type:"string[]",description:"Additional direct scripts/optional dependencies (e.g. moment.js)."},forceFetch:{envLink:"HIGHCHARTS_FORCE_FETCH",value:!1,type:"boolean",description:"Should all the scripts be refetched after rerunning the server."}},export:{infile:{value:!1,type:"string",description:"The input file name along with a type (json or svg). It can be a correct JSON or SVG file."},instr:{value:!1,type:"string",description:"An input in a form of a stringified JSON or SVG file. Overrides the --infile."},options:{value:!1,type:"string",description:"An alias for the --instr option."},outfile:{value:!1,type:"string",description:"The output filename along with a type (jpeg, png, pdf or svg). Ignores the --type flag."},type:{envLink:"EXPORT_DEFAULT_TYPE",value:"png",type:"string",description:"The format of the file to export to. Can be jpeg, png, pdf or svg."},constr:{envLink:"EXPORT_DEFAULT_CONSTR",value:"chart",type:"string",description:"The constructor to use. Can be chart, stockChart, mapChart or ganttChart."},defaultHeight:{envLink:"EXPORT_DEFAULT_HEIGHT",value:400,type:"number",description:"The default height of the exported chart. Used when not found any value set."},defaultWidth:{envLink:"EXPORT_DEFAULT_WIDTH",value:600,type:"number",description:"The default width of the exported chart. Used when not found any value set."},defaultScale:{envLink:"EXPORT_DEFAULT_SCALE",value:1,type:"number",description:"The default scale of the exported chart. Ranges between 1 and 5."},height:{type:"number",value:!1,description:"The default height of the exported chart. Overrides the option in the chart settings."},width:{type:"number",value:!1,description:"The width of the exported chart. Overrides the option in the chart settings."},scale:{value:!1,type:"number",description:"The scale of the exported chart. Ranges between 1 and 5."},globalOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with options to be passed into the Highcharts.setOptions."},themeOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with theme options to be passed into the Highcharts.setOptions."},batch:{value:!1,type:"string",description:'Starts a batch job. A string that contains input/output pairs: "in=out;in=out;..".'},rasterizationTimeout:{envLink:"EXPORT_RASTERIZATION_TIMEOUT",value:1500,type:"number",description:"The number of milliseconds to wait for rendering a webpage."}},customCode:{allowCodeExecution:{envLink:"HIGHCHARTS_ALLOW_CODE_EXECUTION",value:!1,type:"boolean",description:"If set to true, allow for the execution of arbitrary code when exporting."},allowFileResources:{envLink:"HIGHCHARTS_ALLOW_FILE_RESOURCES",value:!0,type:"boolean",description:"Allow injecting resources from the filesystem. Has no effect when running as a server."},customCode:{value:!1,type:"string",description:"A function to be called before chart initialization. Can be a filename with the js extension."},callback:{value:!1,type:"string",description:"A JavaScript file with a function to run on construction."},resources:{value:!1,type:"string",description:"An additional resource in a form of stringified JSON. It can contain files, js and css sections."},loadConfig:{value:!1,type:"string",description:"A file that contains a pre-defined config to use."},createConfig:{value:!1,type:"string",description:"Allows to set options through a prompt and save in a provided config file."}},server:{enable:{envLink:"HIGHCHARTS_SERVER_ENABLE",value:!1,type:"boolean",cliName:"enableServer",description:"If set to true, starts a server on 0.0.0.0."},host:{envLink:"HIGHCHARTS_SERVER_HOST",value:"0.0.0.0",type:"string",description:"The hostname of the server. Also starts a server listening on the supplied hostname."},port:{envLink:"HIGHCHARTS_SERVER_PORT",value:7801,type:"number",description:"The port to use for the server. Defaults to 7801."},ssl:{enable:{envLink:"HIGHCHARTS_SERVER_SSL_ENABLE",value:!1,type:"boolean",cliName:"enableSsl",description:"Enables the SSL protocol."},force:{envLink:"HIGHCHARTS_SERVER_SSL_FORCE",value:!1,type:"boolean",cliName:"sslForced",description:"If set to true, forces the server to only serve over HTTPS."},port:{envLink:"HIGHCHARTS_SERVER_SSL_PORT",value:443,type:"number",cliName:"sslPort",description:"The port on which to run the SSL server."},certPath:{envLink:"HIGHCHARTS_SSL_CERT_PATH",value:"",type:"string",description:"The path to the SSL certificate/key."}},rateLimiting:{enable:{envLink:"HIGHCHARTS_RATE_LIMIT_ENABLE",value:!1,type:"boolean",cliName:"enableRateLimiting",description:"Enables rate limiting."},maxRequests:{envLink:"HIGHCHARTS_RATE_LIMIT_MAX",value:10,type:"number",description:"Max requests allowed in a one minute."},window:{envLink:"HIGHCHARTS_RATE_LIMIT_WINDOW",value:1,type:"number",description:"The time window in minutes for rate limiting."},delay:{envLink:"HIGHCHARTS_RATE_LIMIT_DELAY",value:0,type:"number",description:"The amount to delay each successive request before hitting the max."},trustProxy:{envLink:"HIGHCHARTS_RATE_LIMIT_TRUST_PROXY",value:!1,type:"boolean",description:"Set this to true if behind a load balancer."},skipKey:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_KEY",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipToken argument."},skipToken:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_TOKEN",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipKey argument."}}},pool:{minWorkers:{envLink:"HIGHCHARTS_POOL_MIN_WORKERS",value:4,type:"number",description:"The number of initial workers to spawn."},maxWorkers:{envLink:"HIGHCHARTS_POOL_MAX_WORKERS",value:8,type:"number",description:"The number of max workers to spawn."},workLimit:{envLink:"HIGHCHARTS_POOL_WORK_LIMIT",value:40,type:"number",description:"The pieces of work that can be performed before restarting process."},acquireTimeout:{envLink:"HIGHCHARTS_POOL_ACQUIRE_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds to wait for acquiring a resource."},createTimeout:{envLink:"HIGHCHARTS_POOL_CREATE_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds to wait for creating a resource."},destroyTimeout:{envLink:"HIGHCHARTS_POOL_DESTROY_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds to wait for destroying a resource."},idleTimeout:{envLink:"HIGHCHARTS_POOL_IDLE_TIMEOUT",value:3e4,type:"number",description:"The number of milliseconds after an idle resource is destroyed."},createRetryInterval:{envLink:"HIGHCHARTS_POOL_CREATE_RETRY_INTERVAL",value:200,type:"number",description:"The number of milliseconds after the create process is retried in case of fail."},reaperInterval:{envLink:"HIGHCHARTS_POOL_REAPER_INTERVAL",value:1e3,type:"number",description:"The number of milliseconds after the check for idle resources to destroy is triggered."},benchmarking:{envLink:"HIGHCHARTS_POOL_BENCHMARKING",value:!1,type:"boolean",description:"Enable benchmarking."},listenToProcessExits:{envLink:"HIGHCHARTS_POOL_LISTEN_TO_PROCESS_EXITS",value:!0,type:"boolean",description:"Set to false in order to skip attaching process.exit handlers."}},logging:{level:{envLink:"HIGHCHARTS_LOG_LEVEL",value:4,type:"number",cliName:"logLevel",description:"The log level (0: silent, 1: error, 2: warning, 3: notice, 4: verbose)."},file:{envLink:"HIGHCHARTS_LOG_FILE",value:"highcharts-export-server.log",type:"string",cliName:"logFile",description:"A name of a log file. The --logDest also needs to be set to enable file logging."},dest:{envLink:"HIGHCHARTS_LOG_DEST",value:"log/",type:"string",cliName:"logDest",description:"The path to store log files. Also enables file logging."}},ui:{enable:{envLink:"HIGHCHARTS_UI_ENABLE",value:!1,type:"boolean",cliName:"enableUi",description:"Enables the UI for the export server."},route:{envLink:"HIGHCHARTS_UI_ROUTE",value:"/",type:"string",cliName:"uiRoute",description:"The route to attach the UI to."}},other:{noLogo:{envLink:"HIGHCHARTS_NO_LOGO",value:!1,type:"boolean",description:"Skip printing the logo on a startup. Will be replaced by a simple text."}},payload:{}};w.puppeteer.args.value.join(","),w.highcharts.version.value,w.highcharts.cdnURL.value,w.highcharts.modules.value,w.highcharts.scripts.value.join(","),w.highcharts.forceFetch.value,w.export.type.value,w.export.constr.value,w.export.defaultHeight.value,w.export.defaultWidth.value,w.export.defaultScale.value,w.export.rasterizationTimeout.value,w.customCode.allowCodeExecution.value,w.customCode.allowFileResources.value,w.server.enable.value,w.server.host.value,w.server.port.value,w.server.ssl.enable.value,w.server.ssl.force.value,w.server.ssl.port.value,w.server.ssl.certPath.value,w.server.rateLimiting.enable.value,w.server.rateLimiting.maxRequests.value,w.server.rateLimiting.window.value,w.server.rateLimiting.delay.value,w.server.rateLimiting.trustProxy.value,w.server.rateLimiting.skipKey.value,w.server.rateLimiting.skipToken.value,w.pool.minWorkers.value,w.pool.maxWorkers.value,w.pool.workLimit.value,w.pool.acquireTimeout.value,w.pool.createTimeout.value,w.pool.destroyTimeout.value,w.pool.idleTimeout.value,w.pool.createRetryInterval.value,w.pool.reaperInterval.value,w.pool.benchmarking.value,w.pool.listenToProcessExits.value,w.logging.level.value,w.logging.file.value,w.logging.dest.value,w.ui.enable.value,w.ui.route.value,w.other.noLogo.value;const T=["options","globalOptions","themeOptions","resources","payload"],x={},k=(e,t="")=>{Object.keys(e).forEach((o=>{if(!["puppeteer","highcharts"].includes(o)){const r=e[o];void 0===r.value?k(r,`${t}.${o}`):x[r.cliName||o]=`${t}.${o}`.substring(1)}}))};k(w);let S={toConsole:!0,toFile:!1,pathCreated:!1,levelsDesc:[{title:"error",color:"red"},{title:"warning",color:"yellow"},{title:"notice",color:"blue"},{title:"verbose",color:"gray"}],listeners:[]};for(const[e,t]of Object.entries(w.logging))S[e]=t.value;const R=(...t)=>{const[o,...r]=t,{level:i,levelsDesc:n}=S;if(0===o||o>i||i>n.length)return;const s=`${(new Date).toString().split("(")[0].trim()} [${n[o-1].title}] -`;S.listeners.forEach((e=>{e(s,r.join(" "))})),S.toFile&&(S.pathCreated||(!e.existsSync(S.dest)&&e.mkdirSync(S.dest),S.pathCreated=!0),e.appendFile(`${S.dest}${S.file}`,[s].concat(r).join(" ")+"\n",(e=>{e&&(console.log(`[logger] Unable to write to log file: ${e}`),S.toFile=!1)}))),S.toConsole&&console.log.apply(void 0,[s.toString()[S.levelsDesc[o-1].color]].concat(r))},E=p.fileURLToPath(new URL("../.","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),H=(e,t=/\s\s+/g,o=" ")=>e.replaceAll(t,o).trim(),L=(e,t)=>{const o=["png","jpeg","pdf","svg"];if(t){const r=t.split(".").pop();o.includes(r)&&e!==r&&(e=r)}return{"image/png":"png","image/jpeg":"jpeg","application/pdf":"pdf","image/svg+xml":"svg"}[e]||o.find((t=>t===e))||"png"},O=(t=!1,o)=>{const r=["js","css","files"];let i=t,n=!1;if(o&&t.endsWith(".json"))try{t?t&&t.endsWith(".json")?i=_(e.readFileSync(t,"utf8")):(i=_(t),!0===i&&(i=_(e.readFileSync("resources.json","utf8")))):i=_(e.readFileSync("resources.json","utf8"))}catch(e){return R(3,"[cli] No resources found.")}else i=_(t),o||delete i.files;for(const e in i)r.includes(e)?n||(n=!0):delete i[e];return n?(i.files&&(i.files=i.files.map((e=>e.trim())),(!i.files||i.files.length<=0)&&delete i.files),i):R(3,"[cli] No resources found.")};function _(e,t){try{const o=JSON.parse("string"!=typeof e?JSON.stringify(e):e);return"string"!=typeof o&&t?JSON.stringify(o):o}catch(e){return!1}}const C=e=>{if(null===e||"object"!=typeof e)return e;const t=Array.isArray(e)?[]:{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=C(e[o]));return t},I=(e,t)=>JSON.stringify(e,((e,o)=>("string"==typeof o&&((o=o.trim()).startsWith("function(")||o.startsWith("function ("))&&o.endsWith("}")&&(o=t?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:void 0),"function"==typeof o?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:o))).replaceAll(/"EXP_FUN|EXP_FUN"/g,"");function A(){console.log("Usage of CLI arguments:".bold,"\n------",`\nFor more detailed information visit readme at: ${"https://github.com/highcharts/node-export-server#readme".bold.yellow}.`);const e=t=>{for(const[o,r]of Object.entries(t))if(Object.prototype.hasOwnProperty.call(r,"value")){let e=`  --${r.cliName||o} ${("<"+r.type+">").green} `;if(e.length<48)for(let t=e.length;t<48;t++)e+=".";console.log(e,r.description,`[Default: ${r.value.toString().bold}]`.blue)}else e(r)};Object.keys(w).forEach((t=>{["puppeteer","highcharts"].includes(t)||(console.log(`\n${t.toUpperCase()}`.red),e(w[t]))})),console.log("\n")}const $=e=>!["false","undefined","null","NaN","0",""].includes(e)&&!!e,j=(t,o)=>{if(t&&"string"==typeof t)return(t=t.trim()).endsWith(".js")?!!o&&j(e.readFileSync(t,"utf8")):t.startsWith("function()")||t.startsWith("function ()")||t.startsWith("()=>")||t.startsWith("() =>")?`(${t})()`:t.replace(/;$/,"")};var P=(e,t)=>{const o="Too many requests, you have been rate limited. Please try again later.",r={max:t.maxRequests||30,window:t.window||1,delay:t.delay||0,trustProxy:t.trustProxy||!1,skipKey:t.skipKey||!1,skipToken:t.skipToken||!1};r.trustProxy&&e.enable("trust proxy");const i=c({windowMs:60*r.window*1e3,max:r.max,delayMs:r.delay,handler:(e,t)=>{t.format({json:()=>{t.status(429).send({message:o})},default:()=>{t.status(429).send(o)}})},skip:e=>!1!==r.skipKey&&!1!==r.skipToken&&e.query.key===r.skipKey&&e.query.access_token===r.skipToken&&(R(4,"[rate-limiting] Skipping rate limiter."),!0)});e.use(i),R(3,H(`[rate-limiting] Enabled rate limiting: ${r.max} requests\n      per ${r.window} minute per IP, trusting proxy:\n      ${r.trustProxy}.`))};async function N(e,t={}){return new Promise(((o,r)=>{const i=(e=>e.startsWith("https")?a:s)(e);i.get(e,t,(e=>{let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{t||r("Nothing was fetched from the URL."),e.text=t,o(e)}))})).on("error",(e=>{r(e)}))}))}l.config();const F=t.join(E,".cache"),U={cdnURL:"https://code.highcharts.com/",activeManifest:{},sources:"",hcVersion:""};let q=!1;const G=()=>U.hcVersion=U.sources.substr(0,U.sources.indexOf("*/")).replace("/*","").replace("*/","").replace(/\n/g,"").trim(),M=async(e,t)=>{try{e.endsWith(".js")&&(e=e.substring(0,e.length-3)),R(4,`[cache] Fetching script - ${e}.js`);const o=t?{agent:t,timeout:+process.env.PROXY_SERVER_TIMEOUT||5e3}:{},r=await N(`${e}.js`,o);if(200===r.statusCode)return r.text;throw`${r.statusCode}`}catch(t){throw R(1,`[cache] Error fetching script ${e}.js: ${t}.`),t}},W=async(t,o)=>{const{coreScripts:r,modules:i,indicators:n,scripts:s}=t,a="latest"!==t.version&&t.version?`${t.version}/`:"";R(3,"[cache] Updating cache to Highcharts ",a);const l=[...r.map((e=>`${a}${e}`)),...i.map((e=>"map"===e?`maps/${a}modules/${e}`:`${a}modules/${e}`)),...n.map((e=>`stock/${a}indicators/${e}`))];let c;const p=process.env.PROXY_SERVER_HOST,u=process.env.PROXY_SERVER_PORT;p&&u&&(c=new d({host:p,port:+u}));const h={};try{return U.sources=(await Promise.all([...l.map((async e=>{const o=await M(`${t.cdnURL||U.cdnURL}${e}`,c);return"string"==typeof o&&(h[e.replace(/(.*)\/|(.*)modules\/|stock\/(.*)indicators\/|maps\/(.*)modules\//gi,"")]=1),o})),...s.map((e=>M(e,c)))])).join(";\n"),G(),e.writeFileSync(o,U.sources),h}catch(e){R(1,"[cache] Unable to update local Highcharts cache.")}},D=async o=>{let r;const i=t.join(F,"manifest.json"),n=t.join(F,"sources.js");if(q=o,!e.existsSync(F)&&e.mkdirSync(F),!e.existsSync(i)||o.forceFetch)R(3,"[cache] Fetching and caching Highcharts dependencies."),r=await W(o,n);else{let t=!1;const s=JSON.parse(e.readFileSync(i));if(s.modules&&Array.isArray(s.modules)){const e={};s.modules.forEach((t=>e[t]=1)),s.modules=e}const{modules:a,coreScripts:l,indicators:c}=o,p=a.length+l.length+c.length;s.version!==o.version?(R(3,"[cache] Highcharts version mismatch in cache, need to re-fetch."),t=!0):Object.keys(s.modules||{}).length!==p?(R(3,"[cache] Cache and requested modules does not match, need to re-fetch."),t=!0):t=(o.modules||[]).some((e=>{if(!s.modules[e])return R(3,`[cache] The ${e} missing in cache, need to re-fetch.`),!0})),t?r=await W(o,n):(R(3,"[cache] Dependency cache is up to date, proceeding."),U.sources=e.readFileSync(n,"utf8"),r=s.modules,G())}await(async(o,r)=>{const i={version:o.version,modules:r||{}};U.activeManifest=i,R(4,"[cache] writing new manifest");try{e.writeFileSync(t.join(F,"manifest.json"),JSON.stringify(i),"utf8")}catch(e){R(1,`[cache] Error writing cache manifest: ${e}.`)}})(o,r)};var V=async e=>!!q&&await D(Object.assign(q,{version:e})),z=()=>U,J=()=>U.hcVersion;const X=f.randomBytes(64).toString("base64url"),K=m.join("tmp",`puppeteer-${X}`),B=[`--user-data-dir=${m.join(K,"profile")}`,"--autoplay-policy=user-gesture-required","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-update","--disable-default-apps","--disable-dev-shm-usage","--disable-domain-reliability","--disable-extensions","--disable-features=AudioServiceOutOfProcess","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-notifications","--disable-offer-store-unmasked-wallet-cards","--disable-popup-blocking","--disable-print-preview","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-session-crashed-bubble","--disable-setuid-sandbox","--disable-speech-api","--disable-sync","--hide-crash-restore-bubble","--hide-scrollbars","--ignore-gpu-blacklist","--metrics-recording-only","--mute-audio","--no-default-browser-check","--no-first-run","--no-pings","--no-sandbox","--no-zygote","--password-store=basic","--use-mock-keychain"],Y=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),Q=e.readFileSync(Y+"/../templates/template.html","utf8");let Z;const ee=async e=>{await e.setContent(Q),await e.addScriptTag({path:Y+"/../.cache/sources.js"}),await e.evaluate((()=>window.setupHighcharts())),e.on("pageerror",(async t=>{R(1,"[page error]",t),await e.$eval("#container",((e,t)=>{window._displayErrors&&(e.innerHTML=t)}),`<h1>Chart input data error</h1>${t.toString()}`)}))},te=async()=>{if(!Z)return!1;const e=await Z.newPage();return await e.setCacheEnabled(!1),await ee(e),e},oe=async(e,t=!1)=>{try{t?(await e.goto("about:blank"),await ee(e)):await e.$eval("body",(e=>e.innerHTML='<div id="chart-container"><div id="container"></div></div>'))}catch(e){R(3,"[browser] Could not clear page")}},re=async()=>{Z.connected&&await Z.close()};const ie=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),ne=async(e,t,o)=>await e.evaluate(((e,t)=>window.triggerExport(e,t)),t,o);var se=async(o,r,i)=>{const n=[],s=async e=>{for(const e of n)await e.dispose();await e.evaluate((()=>{const[,...e]=document.getElementsByTagName("script"),[,...t]=document.getElementsByTagName("style"),[...o]=document.getElementsByTagName("link");for(const r of[...e,...t,...o])r.remove()}))};try{const a=()=>{};R(4,"[export] Determining export path.");const l=i.export;await o.evaluate((()=>requestAnimationFrame((()=>{}))));const c=l?.options?.chart?.displayErrors&&z().activeManifest.modules.debugger;await o.evaluate((e=>window._displayErrors=e),c);const p=()=>{};let d;if(r.indexOf&&(r.indexOf("<svg")>=0||r.indexOf("<?xml")>=0)){if(R(4,"[export] Treating as SVG."),"svg"===l.type)return r;d=!0;const e=()=>{};await o.setContent((e=>`\n<!DOCTYPE html>\n<html lang='en-US'>\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n    <title>Highcarts Export</title>\n  </head>\n  <style>\n    \n\nhtml, body {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#table-div, #sliders, #datatable, #controls, .ld-row {\n  display: none;\n  height: 0;\n}\n\n#chart-container {\n  box-sizing: border-box;\n  margin: 0;\n  overflow: auto;\n  font-size: 0;\n}\n\n#chart-container > figure, div {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n\n\n  </style>\n  <body>\n    <div id="chart-container">\n      ${e}\n    </div>\n  </body>\n</html>\n\n`)(r)),e()}else if(R(4,"[export] Treating as config."),l.strInj){const e=()=>{};await ne(o,{chart:{height:l.height,width:l.width}},i),e()}else{r.chart.height=l.height,r.chart.width=l.width;const e=()=>{};await ne(o,r,i),e()}p();const u=()=>{},h=i.customCode.resources;if(h){if(h.js&&n.push(await o.addScriptTag({content:h.js})),h.files)for(const t of h.files)try{const r=!t.startsWith("http");n.push(await o.addScriptTag(r?{content:e.readFileSync(t,"utf8")}:{url:t}))}catch(e){R(4,"[export] JS file not found.")}const r=()=>{};if(h.css){let e=h.css.match(/@import\s*([^;]*);/g);if(e)for(let r of e)r&&(r=r.replace("url(","").replace("@import","").replace(/"/g,"").replace(/'/g,"").replace(/;/,"").replace(/\)/g,"").trim(),r.startsWith("http")?n.push(await o.addStyleTag({url:r})):i.customCode.allowFileResources&&n.push(await o.addStyleTag({path:t.join(ie,r)})));n.push(await o.addStyleTag({content:h.css.replace(/@import\s*([^;]*);/g,"")||" "}))}r()}u();const g=d?await o.$eval("#chart-container svg:first-of-type",(async(e,t)=>({chartHeight:e.height.baseVal.value*t,chartWidth:e.width.baseVal.value*t})),parseFloat(l.scale)):await o.evaluate((async()=>{const{chartHeight:e,chartWidth:t}=window.Highcharts.charts[0];return{chartHeight:e,chartWidth:t}})),m=()=>{},f=Math.ceil(g?.chartHeight||l.height),v=Math.ceil(g?.chartWidth||l.width);await o.setViewport({height:f,width:v,deviceScaleFactor:d?1:parseFloat(l.scale)});const y=d?e=>{document.body.style.zoom=e,document.body.style.margin="0px"}:()=>{document.body.style.zoom=1};await o.evaluate(y,parseFloat(l.scale));const{height:b,width:w,x:T,y:x}=await(e=>e.$eval("#chart-container",(e=>{const{x:t,y:o,width:r,height:i}=e.getBoundingClientRect();return{x:t,y:o,width:r,height:Math.trunc(i>1?i:500)}})))(o);let k;d||await o.setViewport({width:Math.round(w),height:Math.round(b),deviceScaleFactor:parseFloat(l.scale)}),m();const S=()=>{};if("svg"===l.type)k=await(async e=>await e.$eval("#container svg:first-of-type",(e=>e.outerHTML)))(o);else if("png"===l.type||"jpeg"===l.type)k=await(async(e,t,o,r,i)=>await Promise.race([e.screenshot({type:t,encoding:o,clip:r,omitBackground:"png"==t}),new Promise(((e,t)=>setTimeout((()=>t(new Error("Rasterization timeout"))),i||1500)))]))(o,l.type,"base64",{width:v,height:f,x:T,y:x},l.rasterizationTimeout);else{if("pdf"!==l.type)throw`Unsupported output format ${l.type}`;k=await(async(e,t,o,r)=>await e.pdf({height:t+1,width:o,encoding:r}))(o,f,v,"base64")}return await o.evaluate((()=>{const e=Highcharts.charts;if(e.length)for(const t of e)t&&t.destroy(),Highcharts.charts.shift()})),S(),a(),await s(o),k}catch(e){return await s(o),R(1,`[export] Error encountered during export: ${e}`),e}};let ae,le=0,ce=0,pe=0,de=0,ue=0,he={},ge=!1;const me={create:async()=>{const e=u.v4();let t=!1;const o=(new Date).getTime();try{if(t=await te(),!t||t.isClosed())throw"[pool] Invalid page";R(3,`[pool] Successfully created a worker ${e} - took ${(new Date).getTime()-o} ms.`)}catch(e){throw R(1,`[pool] Error creating a new page in pool entry creation! ${e}`),"Error creating page"}return{id:e,page:t,workCount:Math.round(Math.random()*(he.workLimit/2))}},validate:async e=>he.workLimit&&++e.workCount>he.workLimit?(R(3,"[pool] Worker failed validation:",`exceeded work limit (limit is ${he.workLimit})`),!1):(await oe(e.page,!1),!0),destroy:e=>{R(3,`[pool] Destroying pool entry ${e.id}.`),e.page&&e.page.close()},log:(e,t)=>console.log(`${t}: ${e}`)},fe=async e=>{ae=e.puppeteerArgs;try{await(async e=>{const t=[...B,...e||[]];if(!Z){let e=0;const o=async()=>{try{R(3,"[browser] attempting to get a browser instance (try",e+")"),Z=await g.launch({headless:"new",args:t,userDataDir:"./tmp/"})}catch(t){R(0,"[browser]",t),++e<25?(R(3,"[browser] failed:",t),await new Promise((e=>setTimeout(e,4e3))),await o()):R(0,"Max retries reached")}};try{await o()}catch(e){return R(0,"[browser] Unable to open browser"),!1}if(!Z)return R(0,"[browser] Unable to open browser"),!1}return Z})(ae)}catch(e){R(0,"[pool|browser]",e)}if(he=e&&e.pool?{...e.pool}:{},R(3,"[pool] Initializing pool:",`min ${he.minWorkers}, max ${he.maxWorkers}.`),ge)return R(4,"[pool] Already initialized, please kill it before creating a new one.");he.listenToProcessExits&&(R(4,"[pool] Attaching exit listeners to the process."),process.on("exit",(async()=>{await ve()})),process.on("SIGINT",((e,t)=>{R(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("SIGTERM",((e,t)=>{R(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("uncaughtException",(async(e,t)=>{R(4,`The ${t} error, message: ${e.message}.`)})));try{ge=new h.Pool({...me,min:he.minWorkers,max:he.maxWorkers,acquireTimeoutMillis:he.acquireTimeout,createTimeoutMillis:he.createTimeout,destroyTimeoutMillis:he.destroyTimeout,idleTimeoutMillis:he.idleTimeout,createRetryIntervalMillis:he.createRetryInterval,reapIntervalMillis:he.reaperInterval,propagateCreateError:!1}),ge.on("createFail",((e,t)=>{R(1,`[pool] Error when creating worker of an event id ${e}:`,t)})),ge.on("acquireFail",((e,t)=>{R(1,`[pool] Error when acquiring worker of an event id ${e}:`,t)})),ge.on("destroyFail",((e,t,o)=>{R(1,`[pool] Error when destroying worker of an id ${t.id}, event id ${e}:`,o)})),ge.on("release",(async e=>{await oe(e.page,!1),R(4,`[pool] Releasing a worker of an id ${e.id}`)})),ge.on("destroySuccess",((e,t)=>{R(4,`[pool] Destroyed a worker of an id ${t.id}`)}));const e=[];for(let t=0;t<he.minWorkers;t++)try{const t=await ge.acquire().promise;e.push(t)}catch(e){R(1,`[pool] Couldn't create an initial resource ${e}`)}e.forEach((e=>{ge.release(e)})),R(3,`[pool] The pool is ready with ${he.minWorkers} initial resources waiting.`)}catch(e){throw R(1,`[pool] Couldn't create the worker pool ${e}`),e}};async function ve(){return R(3,"[pool] Killing all workers."),ge.destroyed?(await re(),!0):(await ge.destroy(),await re(),!0)}const ye=async(e,t)=>{let o;const r=e=>{throw++de,o&&ge.release(o),"In pool.postWork: "+e};if(R(4,"[pool] Work received, starting to process."),he.benchmarking&&be(),++ce,!ge)return R(1,"[pool] Work received, but pool has not been started."),r("Pool is not inited but work was posted to it!");try{R(4,"[pool] Acquiring worker"),o=await ge.acquire().promise}catch(e){return r(`[pool] Error when acquiring available entry: ${e}`)}if(R(4,"[pool] Acquired worker handle"),!o.page)return r("Resolved worker page is invalid: pool setup is wonky");try{let i=(new Date).getTime();R(4,`[pool] Starting work on pool entry ${o.id}.`);const n=await se(o.page,e,t);if(n instanceof Error)return"Rasterization timeout"===n.message&&(o.page.close(),o.page=await te()),r(n);ge.release(o);const s=(new Date).getTime()-i;return pe+=s,ue=pe/++le,R(4,`[pool] Work completed in ${s} ms.`),{data:n,options:t}}catch(e){r(`Error trying to perform puppeteer export: ${e}.`)}};function be(){const{min:e,max:t,size:o,available:r,borrowed:i,pending:n,spareResourceCapacity:s}=ge;R(4,`[pool] The minimum number of resources allowed by pool: ${e}.`),R(4,`[pool] The maximum number of resources allowed by pool: ${t}.`),R(4,`[pool] The number of all resources in pool (free or in use): ${o}.`),R(4,`[pool] The number of resources that are currently available: ${r}.`),R(4,`[pool] The number of resources that are currently acquired: ${i}.`),R(4,`[pool] The number of callers waiting to acquire a resource: ${n}.`),R(4,`[pool] The number of how many more resources can the pool manage/create: ${s}.`)}var we=()=>({min:ge.min,max:ge.max,size:ge.size,available:ge.available,borrowed:ge.borrowed,pending:ge.pending,spareResourceCapacity:ge.spareResourceCapacity}),Te=()=>ce,xe=()=>de,ke=()=>ue,Se=()=>le;const Re=process.env.npm_package_version,Ee=new Date;let He={};const Le=()=>He,Oe=(e,t,o=[])=>{const r=C(e);for(const[e,n]of Object.entries(t))r[e]="object"!=typeof(i=n)||Array.isArray(i)||null===i||o.includes(e)||void 0===r[e]?void 0!==n?n:r[e]:Oe(r[e],n,o);var i;return r};function _e(e,t={},o=""){Object.keys(e).forEach((r=>{const i=e[r],n=t&&t[r];let s;void 0===i.value?_e(i,n,`${o}.${r}`):(void 0!==n&&(i.value=n),i.envLink&&("boolean"===i.type?i.value=$([process.env[i.envLink],i.value].find((e=>e||"false"===e))):"number"===i.type?(s=+process.env[i.envLink],i.value=s>=0?s:i.value):i.type.indexOf("]")>=0&&process.env[i.envLink]?i.value=process.env[i.envLink].split(","):i.value=process.env[i.envLink]||i.value))}))}function Ce(e){let t={};for(const[o,r]of Object.entries(e))t[o]=Object.prototype.hasOwnProperty.call(r,"value")?r.value:Ce(r);return t}let Ie=!1;const Ae=async(t,o)=>{R(4,"[chart] Starting exporting process.");const r=((e,t={})=>{let o={};return e.svg?(o=C(t),o.export.type=e.type||e.export.type,o.export.scale=e.scale||e.export.scale,o.export.outfile=e.outfile||e.export.outfile,o.payload={svg:e.svg}):o=Oe(t,e,T),o.export.outfile=o.export?.outfile||`chart.${o.export?.type||"png"}`,o})(t,Le()),i=r.export;return r.payload?.svg&&""!==r.payload.svg?Ne(r.payload.svg.trim(),r,o):i.infile&&i.infile.length?(R(4,"[chart] Attempting to export from an input file."),e.readFile(i.infile,"utf8",((e,t)=>e?R(1,`[chart] Error loading input file: ${e}.`):(r.export.instr=t,Ne(r.export.instr.trim(),r,o))))):i.instr&&""!==i.instr||i.options&&""!==i.options?(R(4,"[chart] Attempting to export from a raw input."),$(r.customCode?.allowCodeExecution)?Pe(r,o):"string"==typeof i.instr?Ne(i.instr.trim(),r,o):je(r,i.instr||i.options,o)):(R(1,H(`[chart] No input specified.\n      ${JSON.stringify(i,void 0,"  ")}.`)),o&&o(!1,{error:!0,message:"No input specified."}))},$e=e=>{const{chart:t,exporting:o}=e.export?.options||_(e.export?.instr),r=_(e.export?.globalOptions);let i=e.export?.scale||o?.scale||r?.exporting?.scale||e.export?.defaultScale||1;return i=Math.max(.1,Math.min(i,5)),i=((e,t=1)=>{const o=Math.pow(10,t||0);return Math.round(+e*o)/o})(i,2),{height:e.export?.height||o?.sourceHeight||t?.height||r?.exporting?.sourceHeight||r?.chart?.height||e.export?.defaultHeight||400,width:e.export?.width||o?.sourceWidth||t?.width||r?.exporting?.sourceWidth||r?.chart?.width||e.export?.defaultWidth||600,scale:i}},je=(t,o,r,i)=>{let{export:n,customCode:s}=t;const a="boolean"==typeof s.allowCodeExecution?s.allowCodeExecution:Ie;if(s){if(a)if("string"==typeof t.customCode.resources)t.customCode.resources=O(t.customCode.resources,$(t.customCode.allowFileResources));else if(!t.customCode.resources)try{const o=e.readFileSync("resources.json","utf8");t.customCode.resources=O(o,$(t.customCode.allowFileResources))}catch(e){R(3,"[chart] The default resources.json file not found.")}}else s=t.customCode={};if(!a&&s){if(s.callback||s.resources||s.customCode)return r&&r(!1,{error:!0,message:H("The callback, resources and customCode have been disabled for this\n            server.")});s.callback=!1,s.resources=!1,s.customCode=!1}if(o&&(o.chart=o.chart||{},o.exporting=o.exporting||{},o.exporting.enabled=!1),n.constr=n.constr||"chart",n.type=L(n.type,n.outfile),"svg"===n.type&&(n.width=!1),["globalOptions","themeOptions"].forEach((t=>{try{n&&n[t]&&("string"==typeof n[t]&&n[t].endsWith(".json")?n[t]=_(e.readFileSync(n[t],"utf8"),!0):n[t]=_(n[t],!0))}catch(e){n[t]={},R(1,`[chart] The ${t} not found.`)}})),s.allowCodeExecution&&(s.customCode=j(s.customCode,s.allowFileResources)),s&&s.callback&&s.callback?.indexOf("{")<0)if(s.allowFileResources)try{s.callback=e.readFileSync(s.callback,"utf8")}catch(e){R(2,`[chart] Error loading callback: ${e}.`),s.callback=!1}else s.callback=!1;t.export={...t.export,...$e(t)},ye(n.strInj||o||i,t).then((e=>r(e))).catch((e=>(R(0,"[chart] When posting work:",e),r(!1,e))))},Pe=(e,t)=>{try{let o,r=e.export.instr||e.export.options;return"string"!=typeof r&&(o=r=I(r,e.customCode?.allowCodeExecution)),o=r.replaceAll(/\t|\n|\r/g,"").trim(),";"===o[o.length-1]&&(o=o.substring(0,o.length-1)),e.export.strInj=o,je(e,!1,t)}catch(o){const r=H(`Malformed input detected for ${e.export?.requestId||"?"}:\n      Please make sure that your JSON/JavaScript options\n      are sent using the "options" attribute, and that if you're using\n      SVG, it is unescaped.`);return R(1,r),t&&t(!1,JSON.stringify({error:!0,message:r}))}},Ne=(e,t,o)=>{const{allowCodeExecution:r}=t.customCode;if(e.indexOf("<svg")>=0||e.indexOf("<?xml")>=0)return R(4,"[chart] Parsing input as SVG."),je(t,!1,o,e);try{const r=JSON.parse(e.replaceAll(/\t|\n|\r/g," "));return je(t,r,o)}catch(e){return $(r)?Pe(t,o):o&&o(!1,{error:!0,message:H("Only JSON configurations and SVG is allowed for this server. If\n            this is your server, JavaScript exporting can be enabled by starting\n            the server with the --allowCodeExecution flag.")})}},Fe={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",pdf:"application/pdf",svg:"image/svg+xml"};let Ue=0;const qe=[],Ge=[],Me=(e,t,o,r)=>{let i=!0;const{id:n,uniqueId:s,type:a,body:l}=r;return e.some((e=>{if(e){let r=e(t,o,n,s,a,l);return void 0!==r&&!0!==r&&(i=r),!0}})),i},We=(e,t)=>{(()=>{const e=process.hrtime.bigint()})();const o=Le(),r=e.body,i=++Ue,n=u.v4().replace(/-/g,"");let s=L(r.type);if(!r)return t.status(400).send(H("Body is required. Sending a body? Make sure your Content-type header\n        is correct. Accepted is application/json and multipart/form-data."));let a=_(r.infile||r.options||r.data);if(!a&&!r.svg)return R(2,H(`Request ${n} from ${e.headers["x-forwarded-for"]||e.connection.remoteAddress} was incorrect. Check your payload.`)),t.status(400).send(H("No correct chart data found. Please make sure you are using\n        application/json or multipart/form-data headers, and that the chart\n        data is in the 'infile', 'options' or 'data' attribute if sending\n        JSON or in the 'svg' if sending SVG."));let l=!1;if(l=Me(qe,e,t,{id:i,uniqueId:n,type:s,body:r}),!0!==l)return t.send(l);let c=!1;e.socket.on("close",(()=>{c=!0})),R(4,`[export] Got an incoming HTTP request ${n}.`),r.constr="string"==typeof r.constr&&r.constr||"chart";const p={export:{instr:a,type:s,constr:r.constr[0].toLowerCase()+r.constr.substr(1),height:r.height,width:r.width,scale:r.scale||o.export.scale,globalOptions:_(r.globalOptions,!0),themeOptions:_(r.themeOptions,!0)},customCode:{allowCodeExecution:Ie,allowFileResources:!1,resources:_(r.resources,!0),callback:r.callback,customCode:r.customCode}};a&&(p.export.instr=I(a,p.customCode.allowCodeExecution));const d=Oe(o,p);if(d.export.options=a,d.payload={svg:r.svg||!1,b64:r.b64||!1,dataOptions:_(r.dataOptions,!0),noDownload:r.noDownload||!1,requestId:n},r.svg&&(h=d.payload.svg,["localhost","(10).(.*).(.*).(.*)","(127).(.*).(.*).(.*)","(172).(1[6-9]|2[0-9]|3[0-1]).(.*).(.*)","(192).(168).(.*).(.*)"].some((e=>h.match(`xlink:href="(?:(http://|https://))?${e}`)))))return t.status(400).send("SVG potentially contain at least one forbidden URL in xlink:href element.");var h;Ae(d,((o,a)=>(e.socket.removeAllListeners("close"),c?R(3,H("[export] The client closed the connection before the chart was done\n          processing.")):a?(R(1,H(`[export] Work: ${n} could not be completed, sending:\n          ${a}`)),t.status(400).send(a.message)):o&&o.data?(s=o.options.export.type,Me(Ge,e,t,{id:i,body:o.data}),o.data?r.b64?"pdf"===s||"svg"==s?t.send(Buffer.from(o.data,"utf8").toString("base64")):t.send(o.data):(t.header("Content-Type",Fe[s]||"image/png"),r.noDownload||t.attachment(`${e.params.filename||e.body.filename||"chart"}.${s||"png"}`),"svg"===s?t.send(o.data):t.send(Buffer.from(o.data,"base64"))):void 0):(R(1,H(`[export] Unexpected return from chart generation, please check your\n          data Request: ${n} is ${o.data}.`)),t.status(400).send("Unexpected return from chart generation, please check your data.")))))};const De=i();De.disable("x-powered-by"),De.use(r());const Ve=n.memoryStorage(),ze=n({storage:Ve,limits:{fieldsSize:"50MB"}});De.use(ze.any()),De.use(o.json({limit:"50mb"})),De.use(o.urlencoded({extended:!0,limit:"50mb"})),De.use(o.urlencoded({extended:!1,limit:"50mb"}));const Je=e=>R(1,`[server] Socket error: ${e}`),Xe=e=>{e.on("clientError",Je),e.on("error",Je),e.on("connection",(e=>e.on("error",(e=>Je(e)))))},Ke=async o=>{if(!o.enable)return!1;if(!o.ssl.enable&&!o.ssl.force){const e=s.createServer(De);Xe(e),e.listen(o.port,o.host),R(3,`[server] Started HTTP server on ${o.host}:${o.port}.`)}if(o.ssl.enable){let r,i;try{r=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.key"),"utf8"),i=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.crt"),"utf8")}catch(e){R(1,`[server] Unable to load key/certificate from ${o.ssl.certPath}.`)}if(r&&i){const e=a.createServer(De);Xe(e),e.listen(o.ssl.port,o.host),R(3,`[server] Started HTTPS server on ${o.host}:${o.ssl.port}.`)}}o.rateLimiting&&o.rateLimiting.enable&&![0,NaN].includes(o.rateLimiting.maxRequests)&&P(De,o.rateLimiting),De.use(i.static(t.posix.join(E,"public"))),(e=>{!!e&&e.get("/health",((e,t)=>{t.send({status:"OK",bootTime:Ee,uptime:Math.floor(((new Date).getTime()-Ee.getTime())/1e3/60)+" minutes",version:Re,highchartsVersion:J(),averageProcessingTime:ke(),performedExports:Se(),failedExports:xe(),exportAttempts:Te(),sucessRatio:Se()/Te()*100,pool:we()})}))})(De),(e=>{e.post("/",We),e.post("/:filename",We)})(De),(e=>{!!e&&e.get("/",((e,o)=>{o.sendFile(t.join(E,"public","index.html"))}))})(De),(e=>{!!e&&e.post("/change_hc_version/:newVersion",(async(e,t)=>{const o=process.env.HIGHCHARTS_ADMIN_TOKEN;if(!o||!o.length)return t.send({error:!0,message:"Server not configured to do run-time version changes: HIGHCHARTS_ADMIN_TOKEN not set"});const r=e.get("hc-auth");if(!r||r!==o)return t.send({error:!0,message:"Invalid or missing token: set token in the hc-auth header"});const i=e.params.newVersion;if(i){try{await V(i)}catch(e){t.send({error:!0,message:e})}t.send({version:J()})}else t.send({error:!0,message:"No new version supplied"})}))})(De)};var Be={startServer:Ke,getExpress:()=>i,getApp:()=>De,use:(e,...t)=>{De.use(e,...t)},get:(e,...t)=>{De.get(e,...t)},post:(e,...t)=>{De.post(e,...t)},enableRateLimiting:e=>P(De,e)},Ye={log:R,mapToNewConfig:e=>{const t={};for(const[o,r]of Object.entries(e)){const e=x[o]?x[o].split("."):[];e.reduce(((t,o,i)=>t[o]=e.length-1===i?r:t[o]||{}),t)}return t},setOptions:(t,o)=>(o?.length&&(He=function(t){const o=t.findIndex((e=>"loadConfig"===e.replace(/-/g,"")));if(o>-1&&t[o+1]){const r=t[o+1];try{if(r&&r.endsWith(".json"))return JSON.parse(e.readFileSync(r))}catch(e){R(1,`[config] Unable to load config from the ${r}: ${e}`)}}return{}}(o)),_e(w,He),He=Ce(w),t&&(He=Oe(He,t,T)),o?.length&&(He=function(e,t,o){for(let o=0;o<t.length;o++){let r=t[o].replace(/-/g,"");const i=x[r]?x[r].split("."):[];i.reduce(((n,s,a)=>(i.length-1===a&&void 0!==n[s]&&(t[++o]?n[s]=t[o]||n[s]:(console.log(`Missing argument value for ${r}!`.red,"\n"),e=A())),n[s])),e)}return e}(He,o)),He),singleExport:t=>{t.export.instr=t.export.instr||t.export.options,Ae(t,((t,o)=>{o&&(R(1,`[cli] ${o.message}`),process.exit(1));const{outfile:r,type:i}=t.options.export;e.writeFileSync(r||`chart.${i}`,"svg"!==i?Buffer.from(t.data,"base64"):t.data),ve()}))},startExport:Ae,batchExport:t=>{const o=[];for(let r of t.export.batch.split(";"))r=r.split("="),2===r.length&&o.push(new Promise(((o,i)=>{Ae({...t,export:{...t.export,infile:r[0],outfile:r[1]}},((t,r)=>{if(r)return i(r);e.writeFileSync(t.options.export.outfile,Buffer.from(t.data,"base64")),o()}))})));Promise.all(o).then((()=>{ve()})).catch((e=>{R(1,`[chart] Error encountered during batch export: ${e}`),ve()}))},server:Be,startServer:Ke,killPool:ve,initPool:async(e={})=>{var t,o;return t=e.customCode&&e.customCode.allowCodeExecution,Ie=$(t),(o=e.logging&&parseInt(e.logging.level))>=0&&o<=S.levelsDesc.length&&(S.level=o),e.logging&&e.logging.dest&&((e,t)=>{if(S={...S,dest:e||S.dest,file:t||S.file,toFile:!0},0===S.dest.length)return R(1,"[logger] File logging init: no path supplied.");S.dest.endsWith("/")||(S.dest+="/")})(e.logging.dest,e.logging.file||"highcharts-export-server.log"),await D(e.highcharts||{version:"latest"}),await fe({pool:e.pool||{minWorkers:1,maxWorkers:1},puppeteerArgs:e.puppeteer?.args||[]}),e}};module.exports=Ye;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9saWIvc2NoZW1hcy9jb25maWcuanMiLCIuLi9saWIvbG9nZ2VyLmpzIiwiLi4vbGliL3V0aWxzLmpzIiwiLi4vbGliL3NlcnZlci9yYXRlX2xpbWl0LmpzIiwiLi4vbGliL2ZldGNoLmpzIiwiLi4vbGliL2NhY2hlLmpzIiwiLi4vbGliL2Jyb3dzZXIuanMiLCIuLi9saWIvZXhwb3J0LmpzIiwiLi4vbGliL2JlbmNobWFyay5qcyIsIi4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMiLCIuLi9saWIvcG9vbC5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL2hlYWx0aC5qcyIsIi4uL2xpYi9jb25maWcuanMiLCIuLi9saWIvY2hhcnQuanMiLCIuLi9saWIvc2VydmVyL3JvdXRlcy9leHBvcnQuanMiLCIuLi9saWIvc2VydmVyL3NlcnZlci5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL3VpLmpzIiwiLi4vbGliL3NlcnZlci9yb3V0ZXMvY2hhbmdlX2hjX3ZlcnNpb24uanMiLCIuLi9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIExvYWQgLmVudiBpbnRvIGVudmlyb25tZW50IHZhcmlhYmxlc1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbi8vIFRoaXMgaXMgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggYWxsIG9wdGlvbnMgYW5kIHRoZWlyIGRlZmF1bHQgdmFsdWVzLFxuLy8gYWxzbyBmcm9tIHRoZSAuZW52IGZpbGUgaWYgb25lIGV4aXN0c1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gIHB1cHBldGVlcjoge1xuICAgIGFyZ3M6IHtcbiAgICAgIHZhbHVlOiBbXSxcbiAgICAgIHR5cGU6ICdzdHJpbmdbXScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FycmF5IG9mIGFyZ3VtZW50cyB0byBzZW5kIHRvIHB1cHBldGVlci4nXG4gICAgfVxuICB9LFxuICBoaWdoY2hhcnRzOiB7XG4gICAgdmVyc2lvbjoge1xuICAgICAgdmFsdWU6ICdsYXRlc3QnLFxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfVkVSU0lPTicsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyB2ZXJzaW9uIHRvIHVzZS4nXG4gICAgfSxcbiAgICBjZG5VUkw6IHtcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9jb2RlLmhpZ2hjaGFydHMuY29tLycsXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19DRE4nLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBDRE4gVVJMIG9mIEhpZ2hjaGFydHMgc2NyaXB0cyB0byB1c2UuJ1xuICAgIH0sXG4gICAgY29yZVNjcmlwdHM6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0NPUkVfU0NSSVBUUycsXG4gICAgICB2YWx1ZTogWydoaWdoY2hhcnRzJywgJ2hpZ2hjaGFydHMtbW9yZScsICdoaWdoY2hhcnRzLTNkJ10sXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIGNvcmUgc2NyaXB0cyB0byBmZXRjaC4nXG4gICAgfSxcbiAgICBtb2R1bGVzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19NT0RVTEVTJyxcbiAgICAgIHZhbHVlOiBbXG4gICAgICAgICdzdG9jaycsXG4gICAgICAgICdtYXAnLFxuICAgICAgICAnZ2FudHQnLFxuICAgICAgICAnZXhwb3J0aW5nJyxcbiAgICAgICAgJ2V4cG9ydC1kYXRhJyxcbiAgICAgICAgJ3BhcmFsbGVsLWNvb3JkaW5hdGVzJyxcbiAgICAgICAgJ2FjY2Vzc2liaWxpdHknLFxuICAgICAgICAnYW5ub3RhdGlvbnMtYWR2YW5jZWQnLFxuICAgICAgICAnYm9vc3QtY2FudmFzJyxcbiAgICAgICAgJ2Jvb3N0JyxcbiAgICAgICAgJ2RhdGEnLFxuICAgICAgICAnZHJhZ2dhYmxlLXBvaW50cycsXG4gICAgICAgICdzdGF0aWMtc2NhbGUnLFxuICAgICAgICAnYnJva2VuLWF4aXMnLFxuICAgICAgICAnaGVhdG1hcCcsXG4gICAgICAgICd0aWxlbWFwJyxcbiAgICAgICAgJ3RpbWVsaW5lJyxcbiAgICAgICAgJ3RyZWVtYXAnLFxuICAgICAgICAndHJlZWdyYXBoJyxcbiAgICAgICAgJ2l0ZW0tc2VyaWVzJyxcbiAgICAgICAgJ2RyaWxsZG93bicsXG4gICAgICAgICdoaXN0b2dyYW0tYmVsbGN1cnZlJyxcbiAgICAgICAgJ2J1bGxldCcsXG4gICAgICAgICdmdW5uZWwnLFxuICAgICAgICAnZnVubmVsM2QnLFxuICAgICAgICAncHlyYW1pZDNkJyxcbiAgICAgICAgJ25ldHdvcmtncmFwaCcsXG4gICAgICAgICdwYXJldG8nLFxuICAgICAgICAncGF0dGVybi1maWxsJyxcbiAgICAgICAgJ3BpY3RvcmlhbCcsXG4gICAgICAgICdwcmljZS1pbmRpY2F0b3InLFxuICAgICAgICAnc2Fua2V5JyxcbiAgICAgICAgJ2FyYy1kaWFncmFtJyxcbiAgICAgICAgJ2RlcGVuZGVuY3ktd2hlZWwnLFxuICAgICAgICAnc2VyaWVzLWxhYmVsJyxcbiAgICAgICAgJ3NvbGlkLWdhdWdlJyxcbiAgICAgICAgJ3NvbmlmaWNhdGlvbicsXG4gICAgICAgICdzdG9jay10b29scycsXG4gICAgICAgICdzdHJlYW1ncmFwaCcsXG4gICAgICAgICdzdW5idXJzdCcsXG4gICAgICAgICd2YXJpYWJsZS1waWUnLFxuICAgICAgICAndmFyaXdpZGUnLFxuICAgICAgICAndmVjdG9yJyxcbiAgICAgICAgJ3Zlbm4nLFxuICAgICAgICAnd2luZGJhcmInLFxuICAgICAgICAnd29yZGNsb3VkJyxcbiAgICAgICAgJ3hyYW5nZScsXG4gICAgICAgICduby1kYXRhLXRvLWRpc3BsYXknLFxuICAgICAgICAnZHJhZy1wYW5lcycsXG4gICAgICAgICdkZWJ1Z2dlcicsXG4gICAgICAgICdkdW1iYmVsbCcsXG4gICAgICAgICdsb2xsaXBvcCcsXG4gICAgICAgICdjeWxpbmRlcicsXG4gICAgICAgICdvcmdhbml6YXRpb24nLFxuICAgICAgICAnZG90cGxvdCcsXG4gICAgICAgICdtYXJrZXItY2x1c3RlcnMnLFxuICAgICAgICAnaG9sbG93Y2FuZGxlc3RpY2snLFxuICAgICAgICAnaGVpa2luYXNoaSdcbiAgICAgIF0sXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIG1vZHVsZXMgdG8gZmV0Y2guJ1xuICAgIH0sXG4gICAgaW5kaWNhdG9yczoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfSU5ESUNBVE9SUycsXG4gICAgICB2YWx1ZTogWydpbmRpY2F0b3JzLWFsbCddLFxuICAgICAgdHlwZTogJ3N0cmluZ1tdJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyBpbmRpY2F0b3JzIHRvIGZldGNoLidcbiAgICB9LFxuICAgIHNjcmlwdHM6IHtcbiAgICAgIHZhbHVlOiBbXG4gICAgICAgICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tb21lbnQuanMvMi4yOS40L21vbWVudC5taW4uanMnLFxuICAgICAgICAnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbW9tZW50LXRpbWV6b25lLzAuNS4zNC9tb21lbnQtdGltZXpvbmUtd2l0aC1kYXRhLm1pbi5qcydcbiAgICAgIF0sXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBZGRpdGlvbmFsIGRpcmVjdCBzY3JpcHRzL29wdGlvbmFsIGRlcGVuZGVuY2llcyAoZS5nLiBtb21lbnQuanMpLidcbiAgICB9LFxuICAgIGZvcmNlRmV0Y2g6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0ZPUkNFX0ZFVENIJyxcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnU2hvdWxkIGFsbCB0aGUgc2NyaXB0cyBiZSByZWZldGNoZWQgYWZ0ZXIgcmVydW5uaW5nIHRoZSBzZXJ2ZXIuJ1xuICAgIH1cbiAgfSxcbiAgZXhwb3J0OiB7XG4gICAgaW5maWxlOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGlucHV0IGZpbGUgbmFtZSBhbG9uZyB3aXRoIGEgdHlwZSAoanNvbiBvciBzdmcpLiBJdCBjYW4gYmUgYSBjb3JyZWN0IEpTT04gb3IgU1ZHIGZpbGUuJ1xuICAgIH0sXG4gICAgaW5zdHI6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBbiBpbnB1dCBpbiBhIGZvcm0gb2YgYSBzdHJpbmdpZmllZCBKU09OIG9yIFNWRyBmaWxlLiBPdmVycmlkZXMgdGhlIC0taW5maWxlLidcbiAgICB9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246ICdBbiBhbGlhcyBmb3IgdGhlIC0taW5zdHIgb3B0aW9uLidcbiAgICB9LFxuICAgIG91dGZpbGU6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgb3V0cHV0IGZpbGVuYW1lIGFsb25nIHdpdGggYSB0eXBlIChqcGVnLCBwbmcsIHBkZiBvciBzdmcpLiBJZ25vcmVzIHRoZSAtLXR5cGUgZmxhZy4nXG4gICAgfSxcbiAgICB0eXBlOiB7XG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfVFlQRScsXG4gICAgICB2YWx1ZTogJ3BuZycsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGZvcm1hdCBvZiB0aGUgZmlsZSB0byBleHBvcnQgdG8uIENhbiBiZSBqcGVnLCBwbmcsIHBkZiBvciBzdmcuJ1xuICAgIH0sXG4gICAgY29uc3RyOiB7XG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfQ09OU1RSJyxcbiAgICAgIHZhbHVlOiAnY2hhcnQnLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBjb25zdHJ1Y3RvciB0byB1c2UuIENhbiBiZSBjaGFydCwgc3RvY2tDaGFydCwgbWFwQ2hhcnQgb3IgZ2FudHRDaGFydC4nXG4gICAgfSxcbiAgICBkZWZhdWx0SGVpZ2h0OiB7XG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfSEVJR0hUJyxcbiAgICAgIHZhbHVlOiA0MDAsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGRlZmF1bHQgaGVpZ2h0IG9mIHRoZSBleHBvcnRlZCBjaGFydC4gVXNlZCB3aGVuIG5vdCBmb3VuZCBhbnkgdmFsdWUgc2V0LidcbiAgICB9LFxuICAgIGRlZmF1bHRXaWR0aDoge1xuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX1dJRFRIJyxcbiAgICAgIHZhbHVlOiA2MDAsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGRlZmF1bHQgd2lkdGggb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBVc2VkIHdoZW4gbm90IGZvdW5kIGFueSB2YWx1ZSBzZXQuJ1xuICAgIH0sXG4gICAgZGVmYXVsdFNjYWxlOiB7XG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfU0NBTEUnLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGRlZmF1bHQgc2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBSYW5nZXMgYmV0d2VlbiAxIGFuZCA1LidcbiAgICB9LFxuICAgIGhlaWdodDoge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBkZWZhdWx0IGhlaWdodCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIE92ZXJyaWRlcyB0aGUgb3B0aW9uIGluIHRoZSBjaGFydCBzZXR0aW5ncy4nXG4gICAgfSxcbiAgICB3aWR0aDoge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSB3aWR0aCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIE92ZXJyaWRlcyB0aGUgb3B0aW9uIGluIHRoZSBjaGFydCBzZXR0aW5ncy4nXG4gICAgfSxcbiAgICBzY2FsZToge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBzY2FsZSBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIFJhbmdlcyBiZXR3ZWVuIDEgYW5kIDUuJ1xuICAgIH0sXG4gICAgZ2xvYmFsT3B0aW9uczoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0Egc3RyaW5naWZpZWQgSlNPTiBvciBhIGZpbGVuYW1lIHdpdGggb3B0aW9ucyB0byBiZSBwYXNzZWQgaW50byB0aGUgSGlnaGNoYXJ0cy5zZXRPcHRpb25zLidcbiAgICB9LFxuICAgIHRoZW1lT3B0aW9uczoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0Egc3RyaW5naWZpZWQgSlNPTiBvciBhIGZpbGVuYW1lIHdpdGggdGhlbWUgb3B0aW9ucyB0byBiZSBwYXNzZWQgaW50byB0aGUgSGlnaGNoYXJ0cy5zZXRPcHRpb25zLidcbiAgICB9LFxuICAgIGJhdGNoOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnU3RhcnRzIGEgYmF0Y2ggam9iLiBBIHN0cmluZyB0aGF0IGNvbnRhaW5zIGlucHV0L291dHB1dCBwYWlyczogXCJpbj1vdXQ7aW49b3V0Oy4uXCIuJ1xuICAgIH0sXG4gICAgcmFzdGVyaXphdGlvblRpbWVvdXQ6IHtcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfUkFTVEVSSVpBVElPTl9USU1FT1VUJyxcbiAgICAgIHZhbHVlOiAxNTAwLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIHJlbmRlcmluZyBhIHdlYnBhZ2UuJ1xuICAgIH1cbiAgfSxcbiAgY3VzdG9tQ29kZToge1xuICAgIGFsbG93Q29kZUV4ZWN1dGlvbjoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQUxMT1dfQ09ERV9FWEVDVVRJT04nLFxuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdJZiBzZXQgdG8gdHJ1ZSwgYWxsb3cgZm9yIHRoZSBleGVjdXRpb24gb2YgYXJiaXRyYXJ5IGNvZGUgd2hlbiBleHBvcnRpbmcuJ1xuICAgIH0sXG4gICAgYWxsb3dGaWxlUmVzb3VyY2VzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19BTExPV19GSUxFX1JFU09VUkNFUycsXG4gICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnQWxsb3cgaW5qZWN0aW5nIHJlc291cmNlcyBmcm9tIHRoZSBmaWxlc3lzdGVtLiBIYXMgbm8gZWZmZWN0IHdoZW4gcnVubmluZyBhcyBhIHNlcnZlci4nXG4gICAgfSxcbiAgICBjdXN0b21Db2RlOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYmVmb3JlIGNoYXJ0IGluaXRpYWxpemF0aW9uLiBDYW4gYmUgYSBmaWxlbmFtZSB3aXRoIHRoZSBqcyBleHRlbnNpb24uJ1xuICAgIH0sXG4gICAgY2FsbGJhY2s6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246ICdBIEphdmFTY3JpcHQgZmlsZSB3aXRoIGEgZnVuY3Rpb24gdG8gcnVuIG9uIGNvbnN0cnVjdGlvbi4nXG4gICAgfSxcbiAgICByZXNvdXJjZXM6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBbiBhZGRpdGlvbmFsIHJlc291cmNlIGluIGEgZm9ybSBvZiBzdHJpbmdpZmllZCBKU09OLiBJdCBjYW4gY29udGFpbiBmaWxlcywganMgYW5kIGNzcyBzZWN0aW9ucy4nXG4gICAgfSxcbiAgICBsb2FkQ29uZmlnOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQSBmaWxlIHRoYXQgY29udGFpbnMgYSBwcmUtZGVmaW5lZCBjb25maWcgdG8gdXNlLidcbiAgICB9LFxuICAgIGNyZWF0ZUNvbmZpZzoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0FsbG93cyB0byBzZXQgb3B0aW9ucyB0aHJvdWdoIGEgcHJvbXB0IGFuZCBzYXZlIGluIGEgcHJvdmlkZWQgY29uZmlnIGZpbGUuJ1xuICAgIH1cbiAgfSxcbiAgc2VydmVyOiB7XG4gICAgZW5hYmxlOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfRU5BQkxFJyxcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGNsaU5hbWU6ICdlbmFibGVTZXJ2ZXInLFxuICAgICAgZGVzY3JpcHRpb246ICdJZiBzZXQgdG8gdHJ1ZSwgc3RhcnRzIGEgc2VydmVyIG9uIDAuMC4wLjAuJ1xuICAgIH0sXG4gICAgaG9zdDoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX0hPU1QnLFxuICAgICAgdmFsdWU6ICcwLjAuMC4wJyxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgaG9zdG5hbWUgb2YgdGhlIHNlcnZlci4gQWxzbyBzdGFydHMgYSBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHRoZSBzdXBwbGllZCBob3N0bmFtZS4nXG4gICAgfSxcbiAgICBwb3J0OiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfUE9SVCcsXG4gICAgICB2YWx1ZTogNzgwMSxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcG9ydCB0byB1c2UgZm9yIHRoZSBzZXJ2ZXIuIERlZmF1bHRzIHRvIDc4MDEuJ1xuICAgIH0sXG4gICAgc3NsOiB7XG4gICAgICBlbmFibGU6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX1NTTF9FTkFCTEUnLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgY2xpTmFtZTogJ2VuYWJsZVNzbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyB0aGUgU1NMIHByb3RvY29sLidcbiAgICAgIH0sXG4gICAgICBmb3JjZToge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfU1NMX0ZPUkNFJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgIGNsaU5hbWU6ICdzc2xGb3JjZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAnSWYgc2V0IHRvIHRydWUsIGZvcmNlcyB0aGUgc2VydmVyIHRvIG9ubHkgc2VydmUgb3ZlciBIVFRQUy4nXG4gICAgICB9LFxuICAgICAgcG9ydDoge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfU1NMX1BPUlQnLFxuICAgICAgICB2YWx1ZTogNDQzLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgY2xpTmFtZTogJ3NzbFBvcnQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3J0IG9uIHdoaWNoIHRvIHJ1biB0aGUgU1NMIHNlcnZlci4nXG4gICAgICB9LFxuICAgICAgY2VydFBhdGg6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU1NMX0NFUlRfUEFUSCcsXG4gICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhdGggdG8gdGhlIFNTTCBjZXJ0aWZpY2F0ZS9rZXkuJ1xuICAgICAgfVxuICAgIH0sXG4gICAgcmF0ZUxpbWl0aW5nOiB7XG4gICAgICBlbmFibGU6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9FTkFCTEUnLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgY2xpTmFtZTogJ2VuYWJsZVJhdGVMaW1pdGluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyByYXRlIGxpbWl0aW5nLidcbiAgICAgIH0sXG4gICAgICBtYXhSZXF1ZXN0czoge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX01BWCcsXG4gICAgICAgIHZhbHVlOiAxMCxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTWF4IHJlcXVlc3RzIGFsbG93ZWQgaW4gYSBvbmUgbWludXRlLidcbiAgICAgIH0sXG4gICAgICB3aW5kb3c6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9XSU5ET1cnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRpbWUgd2luZG93IGluIG1pbnV0ZXMgZm9yIHJhdGUgbGltaXRpbmcuJ1xuICAgICAgfSxcbiAgICAgIGRlbGF5OiB7XG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfREVMQVknLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICdUaGUgYW1vdW50IHRvIGRlbGF5IGVhY2ggc3VjY2Vzc2l2ZSByZXF1ZXN0IGJlZm9yZSBoaXR0aW5nIHRoZSBtYXguJ1xuICAgICAgfSxcbiAgICAgIHRydXN0UHJveHk6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9UUlVTVF9QUk9YWScsXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NldCB0aGlzIHRvIHRydWUgaWYgYmVoaW5kIGEgbG9hZCBiYWxhbmNlci4nXG4gICAgICB9LFxuICAgICAgc2tpcEtleToge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX1NLSVBfS0VZJyxcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyfHN0cmluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICdBbGxvd3MgYnlwYXNzaW5nIHRoZSByYXRlIGxpbWl0ZXIgYW5kIHNob3VsZCBiZSBwcm92aWRlZCB3aXRoIHNraXBUb2tlbiBhcmd1bWVudC4nXG4gICAgICB9LFxuICAgICAgc2tpcFRva2VuOiB7XG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfU0tJUF9UT0tFTicsXG4gICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgdHlwZTogJ251bWJlcnxzdHJpbmcnLFxuICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAnQWxsb3dzIGJ5cGFzc2luZyB0aGUgcmF0ZSBsaW1pdGVyIGFuZCBzaG91bGQgYmUgcHJvdmlkZWQgd2l0aCBza2lwS2V5IGFyZ3VtZW50LidcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHBvb2w6IHtcbiAgICBtaW5Xb3JrZXJzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX01JTl9XT1JLRVJTJyxcbiAgICAgIHZhbHVlOiA0LFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgaW5pdGlhbCB3b3JrZXJzIHRvIHNwYXduLidcbiAgICB9LFxuICAgIG1heFdvcmtlcnM6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfTUFYX1dPUktFUlMnLFxuICAgICAgdmFsdWU6IDgsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBtYXggd29ya2VycyB0byBzcGF3bi4nXG4gICAgfSxcbiAgICB3b3JrTGltaXQ6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfV09SS19MSU1JVCcsXG4gICAgICB2YWx1ZTogNDAsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIHBpZWNlcyBvZiB3b3JrIHRoYXQgY2FuIGJlIHBlcmZvcm1lZCBiZWZvcmUgcmVzdGFydGluZyBwcm9jZXNzLidcbiAgICB9LFxuICAgIGFjcXVpcmVUaW1lb3V0OiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX0FDUVVJUkVfVElNRU9VVCcsXG4gICAgICB2YWx1ZTogNTAwMCxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGZvciBhY3F1aXJpbmcgYSByZXNvdXJjZS4nXG4gICAgfSxcbiAgICBjcmVhdGVUaW1lb3V0OiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX0NSRUFURV9USU1FT1VUJyxcbiAgICAgIHZhbHVlOiA1MDAwLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGNyZWF0aW5nIGEgcmVzb3VyY2UuJ1xuICAgIH0sXG4gICAgZGVzdHJveVRpbWVvdXQ6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfREVTVFJPWV9USU1FT1VUJyxcbiAgICAgIHZhbHVlOiA1MDAwLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGRlc3Ryb3lpbmcgYSByZXNvdXJjZS4nXG4gICAgfSxcbiAgICBpZGxlVGltZW91dDoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9JRExFX1RJTUVPVVQnLFxuICAgICAgdmFsdWU6IDMwMDAwLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGFmdGVyIGFuIGlkbGUgcmVzb3VyY2UgaXMgZGVzdHJveWVkLidcbiAgICB9LFxuICAgIGNyZWF0ZVJldHJ5SW50ZXJ2YWw6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfQ1JFQVRFX1JFVFJZX0lOVEVSVkFMJyxcbiAgICAgIHZhbHVlOiAyMDAsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYWZ0ZXIgdGhlIGNyZWF0ZSBwcm9jZXNzIGlzIHJldHJpZWQgaW4gY2FzZSBvZiBmYWlsLidcbiAgICB9LFxuICAgIHJlYXBlckludGVydmFsOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX1JFQVBFUl9JTlRFUlZBTCcsXG4gICAgICB2YWx1ZTogMTAwMCxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhZnRlciB0aGUgY2hlY2sgZm9yIGlkbGUgcmVzb3VyY2VzIHRvIGRlc3Ryb3kgaXMgdHJpZ2dlcmVkLidcbiAgICB9LFxuICAgIGJlbmNobWFya2luZzoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9CRU5DSE1BUktJTkcnLFxuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVzY3JpcHRpb246ICdFbmFibGUgYmVuY2htYXJraW5nLidcbiAgICB9LFxuICAgIGxpc3RlblRvUHJvY2Vzc0V4aXRzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX0xJU1RFTl9UT19QUk9DRVNTX0VYSVRTJyxcbiAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdTZXQgdG8gZmFsc2UgaW4gb3JkZXIgdG8gc2tpcCBhdHRhY2hpbmcgcHJvY2Vzcy5leGl0IGhhbmRsZXJzLidcbiAgICB9XG4gIH0sXG4gIGxvZ2dpbmc6IHtcbiAgICBsZXZlbDoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfTE9HX0xFVkVMJyxcbiAgICAgIHZhbHVlOiA0LFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBjbGlOYW1lOiAnbG9nTGV2ZWwnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgbG9nIGxldmVsICgwOiBzaWxlbnQsIDE6IGVycm9yLCAyOiB3YXJuaW5nLCAzOiBub3RpY2UsIDQ6IHZlcmJvc2UpLidcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0xPR19GSUxFJyxcbiAgICAgIHZhbHVlOiAnaGlnaGNoYXJ0cy1leHBvcnQtc2VydmVyLmxvZycsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGNsaU5hbWU6ICdsb2dGaWxlJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnQSBuYW1lIG9mIGEgbG9nIGZpbGUuIFRoZSAtLWxvZ0Rlc3QgYWxzbyBuZWVkcyB0byBiZSBzZXQgdG8gZW5hYmxlIGZpbGUgbG9nZ2luZy4nXG4gICAgfSxcbiAgICBkZXN0OiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19MT0dfREVTVCcsXG4gICAgICB2YWx1ZTogJ2xvZy8nLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBjbGlOYW1lOiAnbG9nRGVzdCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYXRoIHRvIHN0b3JlIGxvZyBmaWxlcy4gQWxzbyBlbmFibGVzIGZpbGUgbG9nZ2luZy4nXG4gICAgfVxuICB9LFxuICB1aToge1xuICAgIGVuYWJsZToge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfVUlfRU5BQkxFJyxcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGNsaU5hbWU6ICdlbmFibGVVaScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0VuYWJsZXMgdGhlIFVJIGZvciB0aGUgZXhwb3J0IHNlcnZlci4nXG4gICAgfSxcbiAgICByb3V0ZToge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfVUlfUk9VVEUnLFxuICAgICAgdmFsdWU6ICcvJyxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgY2xpTmFtZTogJ3VpUm91dGUnLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcm91dGUgdG8gYXR0YWNoIHRoZSBVSSB0by4nXG4gICAgfVxuICB9LFxuICBvdGhlcjoge1xuICAgIG5vTG9nbzoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfTk9fTE9HTycsXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1NraXAgcHJpbnRpbmcgdGhlIGxvZ28gb24gYSBzdGFydHVwLiBXaWxsIGJlIHJlcGxhY2VkIGJ5IGEgc2ltcGxlIHRleHQuJ1xuICAgIH1cbiAgfSxcbiAgcGF5bG9hZDoge31cbn07XG5cbi8vIFRoZSBjb25maWcgZGVzY3JpcHRpb25zIG9iamVjdCBmb3IgdGhlIHByb21wdHMgZnVuY3Rpb25hbGl0eS4gSXQgY29udGFpbnNcbi8vIGluZm9ybWF0aW9uIGxpa2U6XG4vLyAqIFR5cGUgb2YgYSBwcm9tcHRcbi8vICogTmFtZSBvZiBhbiBvcHRpb25cbi8vICogU2hvcnQgZGVzY3JpcHRpb24gb2YgYSBjaG9zZW4gb3B0aW9uXG4vLyAqIEluaXRpYWwgdmFsdWVcbmV4cG9ydCBjb25zdCBwcm9tcHRzQ29uZmlnID0ge1xuICBwdXBwZXRlZXI6IFtcbiAgICB7XG4gICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICBuYW1lOiAnYXJncycsXG4gICAgICBtZXNzYWdlOiAnUHVwcGV0ZWVyIGFyZ3VtZW50cycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnB1cHBldGVlci5hcmdzLnZhbHVlLmpvaW4oJywnKSxcbiAgICAgIHNlcGFyYXRvcjogJywnXG4gICAgfVxuICBdLFxuICBoaWdoY2hhcnRzOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgbmFtZTogJ3ZlcnNpb24nLFxuICAgICAgbWVzc2FnZTogJ0hpZ2hjaGFydHMgdmVyc2lvbicsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMudmVyc2lvbi52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgbmFtZTogJ2NkblVSTCcsXG4gICAgICBtZXNzYWdlOiAnVGhlIHVybCBvZiBDRE4nLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLmNkblVSTC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ211bHRpc2VsZWN0JyxcbiAgICAgIG5hbWU6ICdtb2R1bGVzJyxcbiAgICAgIG1lc3NhZ2U6ICdBdmFpbGFibGUgbW9kdWxlcycsXG4gICAgICBpbnN0cnVjdGlvbnM6ICdTcGFjZTogU2VsZWN0IHNwZWNpZmljLCBBOiBTZWxlY3QgYWxsLCBFbnRlcjogQ29uZmlybS4nLFxuICAgICAgY2hvaWNlczogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLm1vZHVsZXMudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdsaXN0JyxcbiAgICAgIG5hbWU6ICdzY3JpcHRzJyxcbiAgICAgIG1lc3NhZ2U6ICdDdXN0b20gc2NyaXB0cycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMuc2NyaXB0cy52YWx1ZS5qb2luKCcsJyksXG4gICAgICBzZXBhcmF0b3I6ICcsJ1xuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnZm9yY2VGZXRjaCcsXG4gICAgICBtZXNzYWdlOiAnU2hvdWxkIHJlZmV0Y2ggYWxsIHRoZSBzY3JpcHRzIGFmdGVyIGVhY2ggc2VydmVyIHJlcnVuJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuaGlnaGNoYXJ0cy5mb3JjZUZldGNoLnZhbHVlXG4gICAgfVxuICBdLFxuICBleHBvcnQ6IFtcbiAgICB7XG4gICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgIG5hbWU6ICd0eXBlJyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgZGVmYXVsdCB0eXBlIG9mIGEgZmlsZSB0byBleHBvcnQgdG8nLFxuICAgICAgaGludDogYERlZmF1bHQ6ICR7ZGVmYXVsdENvbmZpZy5leHBvcnQudHlwZS52YWx1ZX1gLFxuICAgICAgaW5pdGlhbDogMCxcbiAgICAgIGNob2ljZXM6IFsncG5nJywgJ2pwZWcnLCAncGRmJywgJ3N2ZyddXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgIG5hbWU6ICdjb25zdHInLFxuICAgICAgbWVzc2FnZTogJ1RoZSBkZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBIaWdoY2hhcnRzIHRvIHVzZScsXG4gICAgICBoaW50OiBgRGVmYXVsdDogJHtkZWZhdWx0Q29uZmlnLmV4cG9ydC5jb25zdHIudmFsdWV9YCxcbiAgICAgIGluaXRpYWw6IDAsXG4gICAgICBjaG9pY2VzOiBbJ2NoYXJ0JywgJ3N0b2NrQ2hhcnQnLCAnbWFwQ2hhcnQnLCAnZ2FudHRDaGFydCddXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdkZWZhdWx0SGVpZ2h0JyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgZGVmYXVsdCBmYWxsYmFjayBoZWlnaHQgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuZXhwb3J0LmRlZmF1bHRIZWlnaHQudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ2RlZmF1bHRXaWR0aCcsXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgZmFsbGJhY2sgd2lkdGggb2YgdGhlIGV4cG9ydGVkIGNoYXJ0JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuZXhwb3J0LmRlZmF1bHRXaWR0aC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnZGVmYXVsdFNjYWxlJyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgZGVmYXVsdCBmYWxsYmFjayBzY2FsZSBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5leHBvcnQuZGVmYXVsdFNjYWxlLnZhbHVlLFxuICAgICAgbWluOiAwLjEsXG4gICAgICBtYXg6IDVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ3Jhc3Rlcml6YXRpb25UaW1lb3V0JyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGZvciByZW5kZXJpbmcgYSB3ZWJwYWdlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuZXhwb3J0LnJhc3Rlcml6YXRpb25UaW1lb3V0LnZhbHVlXG4gICAgfVxuICBdLFxuICBjdXN0b21Db2RlOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnYWxsb3dDb2RlRXhlY3V0aW9uJyxcbiAgICAgIG1lc3NhZ2U6ICdBbGxvdyB0byBleGVjdXRlIGN1c3RvbSBjb2RlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuY3VzdG9tQ29kZS5hbGxvd0NvZGVFeGVjdXRpb24udmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ2FsbG93RmlsZVJlc291cmNlcycsXG4gICAgICBtZXNzYWdlOiAnQWxsb3cgZmlsZSByZXNvdXJjZXMnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcy52YWx1ZVxuICAgIH1cbiAgXSxcbiAgc2VydmVyOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnZW5hYmxlJyxcbiAgICAgIG1lc3NhZ2U6ICdTdGFydHMgYSBzZXJ2ZXIgb24gMC4wLjAuMCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5lbmFibGUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIG5hbWU6ICdob3N0JyxcbiAgICAgIG1lc3NhZ2U6ICdBIGhvc3RuYW1lIG9mIGEgc2VydmVyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLmhvc3QudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ3BvcnQnLFxuICAgICAgbWVzc2FnZTogJ0EgcG9ydCBvZiBhIHNlcnZlcicsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5wb3J0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdzc2wuZW5hYmxlJyxcbiAgICAgIG1lc3NhZ2U6ICdFbmFibGUgU1NMIHByb3RvY29sJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5lbmFibGUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ3NzbC5mb3JjZScsXG4gICAgICBtZXNzYWdlOiAnRm9yY2UgdG8gb25seSBzZXJ2ZSBvdmVyIEhUVFBTJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5mb3JjZS52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnc3NsLnBvcnQnLFxuICAgICAgbWVzc2FnZTogJ1BvcnQgb24gd2hpY2ggdG8gcnVuIHRoZSBTU0wgc2VydmVyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5wb3J0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAnc3NsLmNlcnRQYXRoJyxcbiAgICAgIG1lc3NhZ2U6ICdBIHBhdGggd2hlcmUgdG8gZmluZCB0aGUgU1NMIGNlcnRpZmljYXRlL2tleScsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5zc2wuY2VydFBhdGgudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5lbmFibGUnLFxuICAgICAgbWVzc2FnZTogJ0VuYWJsZSByYXRlIGxpbWl0aW5nJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5lbmFibGUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cycsXG4gICAgICBtZXNzYWdlOiAnTWF4IHJlcXVlc3RzIGFsbG93ZWQgaW4gYSBvbmUgbWludXRlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLndpbmRvdycsXG4gICAgICBtZXNzYWdlOiAnVGhlIHRpbWUgd2luZG93IGluIG1pbnV0ZXMgZm9yIHJhdGUgbGltaXRpbmcnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLndpbmRvdy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLmRlbGF5JyxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdUaGUgYW1vdW50IHRvIGRlbGF5IGVhY2ggc3VjY2Vzc2l2ZSByZXF1ZXN0IGJlZm9yZSBoaXR0aW5nIHRoZSBtYXgnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLmRlbGF5LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcudHJ1c3RQcm94eScsXG4gICAgICBtZXNzYWdlOiAnU2V0IHRoaXMgdG8gdHJ1ZSBpZiBiZWhpbmQgYSBsb2FkIGJhbGFuY2VyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy50cnVzdFByb3h5LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLnNraXBLZXknLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ0FsbG93cyBieXBhc3NpbmcgdGhlIHJhdGUgbGltaXRlciBhbmQgc2hvdWxkIGJlIHByb3ZpZGVkIHdpdGggc2tpcFRva2VuIGFyZ3VtZW50JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5za2lwS2V5LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLnNraXBUb2tlbicsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnQWxsb3dzIGJ5cGFzc2luZyB0aGUgcmF0ZSBsaW1pdGVyIGFuZCBzaG91bGQgYmUgcHJvdmlkZWQgd2l0aCBza2lwS2V5IGFyZ3VtZW50JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5za2lwVG9rZW4udmFsdWVcbiAgICB9XG4gIF0sXG4gIHBvb2w6IFtcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdtaW5Xb3JrZXJzJyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgbnVtYmVyIG9mIGluaXRpYWwgd29ya2VycyB0byBzcGF3bicsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wubWluV29ya2Vycy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnbWF4V29ya2VycycsXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBtYXggd29ya2VycyB0byBzcGF3bicsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wubWF4V29ya2Vycy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnd29ya0xpbWl0JyxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdUaGUgcGllY2VzIG9mIHdvcmsgdGhhdCBjYW4gYmUgcGVyZm9ybWVkIGJlZm9yZSByZXN0YXJ0aW5nIGEgcHVwcGV0ZWVyIHByb2Nlc3MnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLndvcmtMaW1pdC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnYWNxdWlyZVRpbWVvdXQnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGFjcXVpcmluZyBhIHJlc291cmNlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5hY3F1aXJlVGltZW91dC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnY3JlYXRlVGltZW91dCcsXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgY3JlYXRpbmcgYSByZXNvdXJjZScsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wuY3JlYXRlVGltZW91dC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnZGVzdHJveVRpbWVvdXQnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGRlc3Ryb3lpbmcgYSByZXNvdXJjZScsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wuZGVzdHJveVRpbWVvdXQudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ2lkbGVUaW1lb3V0JyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhZnRlciBhbiBpZGxlIHJlc291cmNlIGlzIGRlc3Ryb3llZCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wuaWRsZVRpbWVvdXQudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ2NyZWF0ZVJldHJ5SW50ZXJ2YWwnLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGFmdGVyIHRoZSBjcmVhdGUgcHJvY2VzcyBpcyByZXRyaWVkIGluIGNhc2Ugb2YgZmFpbCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wuY3JlYXRlUmV0cnlJbnRlcnZhbC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAncmVhcGVySW50ZXJ2YWwnLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGFmdGVyIHRoZSBjaGVjayBmb3IgaWRsZSByZXNvdXJjZXMgdG8gZGVzdHJveSBpcyB0cmlnZ2VyZWQnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLnJlYXBlckludGVydmFsLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdiZW5jaG1hcmtpbmcnLFxuICAgICAgbWVzc2FnZTogJ1NldCBiZW5jaG1hcmtpbmcnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmJlbmNobWFya2luZy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnbGlzdGVuVG9Qcm9jZXNzRXhpdHMnLFxuICAgICAgbWVzc2FnZTogJ1NldCB0byBmYWxzZSBpbiBvcmRlciB0byBza2lwIGF0dGFjaGluZyBwcm9jZXNzLmV4aXQgaGFuZGxlcnMnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmxpc3RlblRvUHJvY2Vzc0V4aXRzLnZhbHVlXG4gICAgfVxuICBdLFxuICBsb2dnaW5nOiBbXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnbGV2ZWwnLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1RoZSBsb2cgbGV2ZWwgKDA6IHNpbGVudCwgMTogZXJyb3IsIDI6IHdhcm5pbmcsIDM6IG5vdGljZSwgNDogdmVyYm9zZSknLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmxldmVsLnZhbHVlLFxuICAgICAgcm91bmQ6IDAsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDRcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIG5hbWU6ICdmaWxlJyxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdBIG5hbWUgb2YgYSBsb2cgZmlsZS4gVGhlIC0tbG9nRGVzdCBhbHNvIG5lZWRzIHRvIGJlIHNldCB0byBlbmFibGUgZmlsZSBsb2dnaW5nJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcubG9nZ2luZy5maWxlLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAnZGVzdCcsXG4gICAgICBtZXNzYWdlOiAnQSBwYXRoIHRvIGxvZyBmaWxlcy4gSXQgZW5hYmxlcyBmaWxlIGxvZ2dpbmcnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmRlc3QudmFsdWVcbiAgICB9XG4gIF0sXG4gIHVpOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnZW5hYmxlJyxcbiAgICAgIG1lc3NhZ2U6ICdFbmFibGUgVUkgZm9yIHRoZSBleHBvcnQgc2VydmVyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcudWkuZW5hYmxlLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAncm91dGUnLFxuICAgICAgbWVzc2FnZTogJ0Egcm91dGUgdG8gYXR0YWNoIHRoZSBVSSB0bycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnVpLnJvdXRlLnZhbHVlXG4gICAgfVxuICBdLFxuICBvdGhlcjogW1xuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ25vTG9nbycsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnU2tpcCBwcmludGluZyB0aGUgbG9nbyBvbiBhIHN0YXJ0dXAuIFdpbGwgYmUgcmVwbGFjZWQgYnkgYSBzaW1wbGUgdGV4dCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLm90aGVyLm5vTG9nby52YWx1ZVxuICAgIH1cbiAgXVxufTtcblxuLy8gQWJzb2x1dGUgcHJvcHMgdGhhdCwgaW4gY2FzZSBvZiBtZXJnaW5nIHJlY3Vyc2l2ZWx5LCBuZWVkIHRvIGJlIGZvcmNlIG1lcmdlZFxuZXhwb3J0IGNvbnN0IGFic29sdXRlUHJvcHMgPSBbXG4gICdvcHRpb25zJyxcbiAgJ2dsb2JhbE9wdGlvbnMnLFxuICAndGhlbWVPcHRpb25zJyxcbiAgJ3Jlc291cmNlcycsXG4gICdwYXlsb2FkJ1xuXTtcblxuLy8gQXJndW1lbnQgbmVzdGluZyBsZXZlbCBvZiBhbGwgZXhwb3J0IHNlcnZlciBvcHRpb25zXG5leHBvcnQgY29uc3QgbmVzdGVkQXJncyA9IHt9O1xuXG4vKipcbiAqIENyZWF0ZXMgbmVzdGVkIGFyZ3VtZW50cyBjaGFpbiBmb3IgYWxsIG9wdGlvbnNcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gVGhlIG9iamVjdCBiYXNlZCBvbiB3aGljaCB0aGUgaW5pdGlhbCBjb25maWd1cmF0aW9uIGJlXG4gKiBtYWRlLlxuICogQHBhcmFtIHtzdHJpbmcgfSBwcm9wQ2hhaW4gLSBSZXF1aXJlZCBmb3IgY3JlYXRpbmcgYSBzdHJpbmcgY2hhaW4gb2ZcbiAqIHByb3BlcnRpZXMgZm9yIG5lc3RlZCBhcmd1bWVudHMuXG4gKi9cbmNvbnN0IGNyZWF0ZU5lc3RlZEFyZ3MgPSAob2JqLCBwcm9wQ2hhaW4gPSAnJykgPT4ge1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goKGspID0+IHtcbiAgICBpZiAoIVsncHVwcGV0ZWVyJywgJ2hpZ2hjaGFydHMnXS5pbmNsdWRlcyhrKSkge1xuICAgICAgY29uc3QgZW50cnkgPSBvYmpba107XG4gICAgICBpZiAodHlwZW9mIGVudHJ5LnZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBHbyBkZWVwZXIgaW4gdGhlIG5lc3RlZCBhcmd1bWVudHNcbiAgICAgICAgY3JlYXRlTmVzdGVkQXJncyhlbnRyeSwgYCR7cHJvcENoYWlufS4ke2t9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgdGhlIGNoYWluIG9mIG5lc3RlZCBhcmd1bWVudHNcbiAgICAgICAgbmVzdGVkQXJnc1tlbnRyeS5jbGlOYW1lIHx8IGtdID0gYCR7cHJvcENoYWlufS4ke2t9YC5zdWJzdHJpbmcoMSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbmNyZWF0ZU5lc3RlZEFyZ3MoZGVmYXVsdENvbmZpZyk7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgYXBwZW5kRmlsZSwgZXhpc3RzU3luYywgbWtkaXJTeW5jIH0gZnJvbSAnZnMnO1xuXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi9zY2hlbWFzL2NvbmZpZy5qcyc7XG5cbi8vIFRoZSBkZWZhdWx0IGxvZ2dpbmcgY29uZmlnXG5sZXQgbG9nZ2luZyA9IHtcbiAgLy8gRmxhZ3MgZm9yIGxvZ2dpbmcgc3RhdHVzXG4gIHRvQ29uc29sZTogdHJ1ZSxcbiAgdG9GaWxlOiBmYWxzZSxcbiAgcGF0aENyZWF0ZWQ6IGZhbHNlLFxuICAvLyBMb2cgbGV2ZWxzXG4gIGxldmVsc0Rlc2M6IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ2Vycm9yJyxcbiAgICAgIGNvbG9yOiAncmVkJ1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICd3YXJuaW5nJyxcbiAgICAgIGNvbG9yOiAneWVsbG93J1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdub3RpY2UnLFxuICAgICAgY29sb3I6ICdibHVlJ1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICd2ZXJib3NlJyxcbiAgICAgIGNvbG9yOiAnZ3JheSdcbiAgICB9XG4gIF0sXG4gIC8vIExvZyBsaXN0ZW5lcnNcbiAgbGlzdGVuZXJzOiBbXVxufTtcblxuLy8gR2F0aGVyIGluaXQgbG9nZ2luZyBvcHRpb25zXG5mb3IgKGNvbnN0IFtrZXksIG9wdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoZGVmYXVsdENvbmZpZy5sb2dnaW5nKSkge1xuICBsb2dnaW5nW2tleV0gPSBvcHRpb24udmFsdWU7XG59XG5cbi8qKlxuICogTG9ncyBhIG1lc3NhZ2UuIEFjY2VwdHMgYSB2YXJpYWJsZSBhbW91bnQgb2YgYXJndW1lbnRzLiBBcmd1bWVudHMgYWZ0ZXJcbiAqIGBsZXZlbGAgd2lsbCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gY29uc29sZS5sb2csIGFuZC9vciB3aWxsIGJlIGpvaW5lZFxuICogYW5kIGFwcGVuZGVkIHRvIHRoZSBsb2cgZmlsZS5cbiAqXG4gKiBAcGFyYW0ge2FueX0gYXJncyAtIEFuIGFycmF5IG9mIGFyZ3VtZW50cyB3aGVyZSB0aGUgZmlyc3QgaXMgdGhlIGxvZyBsZXZlbFxuICogYW5kIHRoZSByZXN0IGFyZSBzdHJpbmdzIHRvIGJ1aWxkIGEgbWVzc2FnZSB3aXRoLlxuICovXG5leHBvcnQgY29uc3QgbG9nID0gKC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgW25ld0xldmVsLCAuLi50ZXh0c10gPSBhcmdzO1xuXG4gIC8vIEN1cnJlbnQgbG9nZ2luZyBvcHRpb25zXG4gIGNvbnN0IHsgbGV2ZWwsIGxldmVsc0Rlc2MgfSA9IGxvZ2dpbmc7XG5cbiAgLy8gQ2hlY2sgaWYgbG9nIGxldmVsIGlzIHdpdGhpbiBhIGNvcnJlY3QgcmFuZ2VcbiAgaWYgKG5ld0xldmVsID09PSAwIHx8IG5ld0xldmVsID4gbGV2ZWwgfHwgbGV2ZWwgPiBsZXZlbHNEZXNjLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEdldCByaWQgb2YgdGhlIEdNVCB0ZXh0IGluZm9ybWF0aW9uXG4gIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkuc3BsaXQoJygnKVswXS50cmltKCk7XG5cbiAgLy8gQ3JlYXRlIGEgbWVzc2FnZSdzIHByZWZpeFxuICBjb25zdCBwcmVmaXggPSBgJHtuZXdEYXRlfSBbJHtsZXZlbHNEZXNjW25ld0xldmVsIC0gMV0udGl0bGV9XSAtYDtcblxuICAvLyBDYWxsIGF2YWlsYWJsZSBsb2cgbGlzdGVuZXJzXG4gIGxvZ2dpbmcubGlzdGVuZXJzLmZvckVhY2goKGZuKSA9PiB7XG4gICAgZm4ocHJlZml4LCB0ZXh0cy5qb2luKCcgJykpO1xuICB9KTtcblxuICAvLyBMb2cgdG8gZmlsZVxuICBpZiAobG9nZ2luZy50b0ZpbGUpIHtcbiAgICBpZiAoIWxvZ2dpbmcucGF0aENyZWF0ZWQpIHtcbiAgICAgIC8vIENyZWF0ZSBpZiBkb2VzIG5vdCBleGlzdFxuICAgICAgIWV4aXN0c1N5bmMobG9nZ2luZy5kZXN0KSAmJiBta2RpclN5bmMobG9nZ2luZy5kZXN0KTtcblxuICAgICAgLy8gV2Ugbm93IGFzc3VtZSB0aGUgcGF0aCBpcyBhdmFpbGFibGUsIGUuZy4gaXQncyB0aGUgcmVzcG9uc2liaWxpdHlcbiAgICAgIC8vIG9mIHRoZSB1c2VyIHRvIGNyZWF0ZSB0aGUgcGF0aCB3aXRoIHRoZSBjb3JyZWN0IGFjY2VzcyByaWdodHMuXG4gICAgICBsb2dnaW5nLnBhdGhDcmVhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGNvbnRlbnQgdG8gYSBmaWxlXG4gICAgYXBwZW5kRmlsZShcbiAgICAgIGAke2xvZ2dpbmcuZGVzdH0ke2xvZ2dpbmcuZmlsZX1gLFxuICAgICAgW3ByZWZpeF0uY29uY2F0KHRleHRzKS5qb2luKCcgJykgKyAnXFxuJyxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW2xvZ2dlcl0gVW5hYmxlIHRvIHdyaXRlIHRvIGxvZyBmaWxlOiAke2Vycm9yfWApO1xuICAgICAgICAgIGxvZ2dpbmcudG9GaWxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLy8gTG9nIHRvIGNvbnNvbGVcbiAgaWYgKGxvZ2dpbmcudG9Db25zb2xlKSB7XG4gICAgY29uc29sZS5sb2cuYXBwbHkoXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBbcHJlZml4LnRvU3RyaW5nKClbbG9nZ2luZy5sZXZlbHNEZXNjW25ld0xldmVsIC0gMV0uY29sb3JdXS5jb25jYXQodGV4dHMpXG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBmaWxlIGxvZ2dpbmcgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9nRGVzdCAtIEEgcGF0aCB0byBsb2cgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9nRmlsZSAtIFRoZSBuYW1lIG9mIHRoZSBsb2cgZmlsZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGVuYWJsZUZpbGVMb2dnaW5nID0gKGxvZ0Rlc3QsIGxvZ0ZpbGUpID0+IHtcbiAgLy8gVXBkYXRlIGxvZ2dpbmcgb3B0aW9uc1xuICBsb2dnaW5nID0ge1xuICAgIC4uLmxvZ2dpbmcsXG4gICAgZGVzdDogbG9nRGVzdCB8fCBsb2dnaW5nLmRlc3QsXG4gICAgZmlsZTogbG9nRmlsZSB8fCBsb2dnaW5nLmZpbGUsXG4gICAgdG9GaWxlOiB0cnVlXG4gIH07XG5cbiAgaWYgKGxvZ2dpbmcuZGVzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbG9nKDEsICdbbG9nZ2VyXSBGaWxlIGxvZ2dpbmcgaW5pdDogbm8gcGF0aCBzdXBwbGllZC4nKTtcbiAgfVxuXG4gIGlmICghbG9nZ2luZy5kZXN0LmVuZHNXaXRoKCcvJykpIHtcbiAgICBsb2dnaW5nLmRlc3QgKz0gJy8nO1xuICB9XG59O1xuXG4vKipcbiAqIEFkZHMgYSBsb2cgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGdldHRpbmcgYSBsb2cgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBsaXN0ZW4gPSAoZm4pID0+IHtcbiAgbG9nZ2luZy5saXN0ZW5lcnMucHVzaChmbik7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgbG9nIGxldmVsLiBMb2cgbGV2ZWxzIGFyZTpcbiAqIC0gMCA9IG5vIGxvZ2dpbmdcbiAqIC0gMSA9IGVycm9yXG4gKiAtIDIgPSB3YXJuaW5nXG4gKiAtIDMgPSBub3RpY2VcbiAqIC0gNCA9IHZlcmJvc2VcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3TGV2ZWwgLSBUaGUgbmV3IGxvZyBsZXZlbCAoMCAtIDQpLlxuICovXG5leHBvcnQgY29uc3Qgc2V0TG9nTGV2ZWwgPSAobmV3TGV2ZWwpID0+IHtcbiAgaWYgKG5ld0xldmVsID49IDAgJiYgbmV3TGV2ZWwgPD0gbG9nZ2luZy5sZXZlbHNEZXNjLmxlbmd0aCkge1xuICAgIGxvZ2dpbmcubGV2ZWwgPSBuZXdMZXZlbDtcbiAgfVxufTtcblxuLyoqXG4gKiBFbmFibGVzIG9yIGRpc2FibGVzIGxvZ2dpbmcgdG8gdGhlIHN0ZG91dC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgLSBXaGV0aGVyIGxvZyB0byBjb25zb2xlIG9yIG5vdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvZ2dsZVNURE91dCA9IChlbmFibGVkKSA9PiB7XG4gIGxvZ2dpbmcudG9Db25zb2xlID0gZW5hYmxlZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbG9nLFxuICBlbmFibGVGaWxlTG9nZ2luZyxcbiAgbGlzdGVuLFxuICBzZXRMb2dMZXZlbCxcbiAgdG9nZ2xlU1RET3V0XG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tICd1cmwnO1xuXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vbGliL3NjaGVtYXMvY29uZmlnLmpzJztcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcblxuY29uc3QgTUFYX0JBQ0tPRkZfQVRURU1QVFMgPSA2O1xuXG5leHBvcnQgY29uc3QgX19kaXJuYW1lID0gZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuLi8uJywgaW1wb3J0Lm1ldGEudXJsKSk7XG5cbi8qKlxuICogQ2xlYXJzIHRleHQgZnJvbSB3aGl0ZXNwYWNlcyB3aXRoIGEgcmVnZXggcnVsZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcnVsZSAtIFRoZSBydWxlIGZvciBjbGVhcmluZyBhIHN0cmluZywgZGVmYXVsdCB0byAvXFxzXFxzKy9nLlxuICogQHJldHVybiB7c3RyaW5nfSAtIENsZWFyZWQgdGV4dC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFyVGV4dCA9ICh0ZXh0LCBydWxlID0gL1xcc1xccysvZywgcmVwbGFjZXIgPSAnICcpID0+XG4gIHRleHQucmVwbGFjZUFsbChydWxlLCByZXBsYWNlcikudHJpbSgpO1xuXG4vKipcbiAqIERlbGF5cyBjYWxsaW5nIHRoZSBmdW5jdGlvbiBieSB0aW1lIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGJhY2tvZmZcbiAqIGFsZ29yaXRobS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEEgZnVuY3Rpb24gdG8gdHJ5IHRvIGNhbGwgd2l0aCB0aGUgYmFja29mZiBhbGdvcml0aG1cbiAqIG9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGF0dGVtcHQgLSBUaGUgbnVtYmVyIG9mIGFuIGF0dGVtcHQsIHdoZXJlIHRoZSBmaXJzdCBvbmUgaXMgMC5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4cEJhY2tvZmYgPSBhc3luYyAoZm4sIGF0dGVtcHQgPSAwLCAuLi5hcmdzKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gVHJ5IHRvIGNhbGwgdGhlIGZ1bmN0aW9uXG4gICAgcmV0dXJuIGF3YWl0IGZuKC4uLmFyZ3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIENhbGN1bGF0ZSBkZWxheSBpbiBtc1xuICAgIGNvbnN0IGRlbGF5SW5NcyA9IDIgKiogYXR0ZW1wdCAqIDEwMDA7XG5cbiAgICAvLyBJZiB0aGUgYXR0ZW1wdCBleGNlZWRzIHRoZSBtYXhpbXVtIGF0dGVtcHRzIG9mIHJlYXBlYXQsIHRocm93IGFuIGVycm9yXG4gICAgaWYgKCsrYXR0ZW1wdCA+PSBNQVhfQkFDS09GRl9BVFRFTVBUUykge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgLy8gV2FpdCBnaXZlbiBhbW91bnQgb2YgdGltZVxuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNwb25zZSkgPT4gc2V0VGltZW91dChyZXNwb25zZSwgZGVsYXlJbk1zKSk7XG4gICAgbG9nKFxuICAgICAgMyxcbiAgICAgIGBbcG9vbF0gV2FpdGVkICR7ZGVsYXlJbk1zfW1zIHVudGlsIG5leHQgY2FsbCBmb3IgdGhlIHJlc291cmNlIGlkOiAke2FyZ3NbMF19LmBcbiAgICApO1xuXG4gICAgLy8gVHJ5IGFnYWluXG4gICAgcmV0dXJuIGV4cEJhY2tvZmYoZm4sIGF0dGVtcHQsIC4uLmFyZ3MpO1xuICB9XG59O1xuXG4vKipcbiAqIEZpeGVzIHRvIHN1cHBvcnRlZCB0eXBlIGZvcm1hdCBpZiBNSU1FLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVHlwZSB0byBiZSBjb3JyZWN0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3V0ZmlsZSAtIE5hbWUgb2YgdGhlIG91dGZpbGUuXG4gKi9cbmV4cG9ydCBjb25zdCBmaXhUeXBlID0gKHR5cGUsIG91dGZpbGUpID0+IHtcbiAgLy8gTUlNRSB0eXBlc1xuICBjb25zdCBtaW1lVHlwZXMgPSB7XG4gICAgJ2ltYWdlL3BuZyc6ICdwbmcnLFxuICAgICdpbWFnZS9qcGVnJzogJ2pwZWcnLFxuICAgICdhcHBsaWNhdGlvbi9wZGYnOiAncGRmJyxcbiAgICAnaW1hZ2Uvc3ZnK3htbCc6ICdzdmcnXG4gIH07XG5cbiAgLy8gRm9ybWF0c1xuICBjb25zdCBmb3JtYXRzID0gWydwbmcnLCAnanBlZycsICdwZGYnLCAnc3ZnJ107XG5cbiAgLy8gQ2hlY2sgaWYgdHlwZSBhbmQgb3V0ZmlsZSdzIGV4dGVuc2lvbnMgYXJlIHRoZSBzYW1lXG4gIGlmIChvdXRmaWxlKSB7XG4gICAgY29uc3Qgb3V0VHlwZSA9IG91dGZpbGUuc3BsaXQoJy4nKS5wb3AoKTtcblxuICAgIC8vIENoZWNrIGlmIGV4dGVuc2lvbiBoYXMgYSBjb3JyZWN0IHR5cGVcbiAgICBpZiAoZm9ybWF0cy5pbmNsdWRlcyhvdXRUeXBlKSAmJiB0eXBlICE9PSBvdXRUeXBlKSB7XG4gICAgICB0eXBlID0gb3V0VHlwZTtcbiAgICB9XG4gIH1cblxuICAvLyBSZXR1cm4gYSBjb3JyZWN0IHR5cGVcbiAgcmV0dXJuIG1pbWVUeXBlc1t0eXBlXSB8fCBmb3JtYXRzLmZpbmQoKHQpID0+IHQgPT09IHR5cGUpIHx8ICdwbmcnO1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIHRoZSBwcm92aWRlZCByZXNvdXJjZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlcyAtIFRoZSBzdHJpbmdpZmllZCByZXNvdXJjZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gYWxsb3dGaWxlUmVzb3VyY2VzIC0gRGVjaWRlIGlmIHJlc291cmNlcyBmcm9tIGZpbGUgYXJlXG4gKiBhbGxvd2VkLlxuICovXG5leHBvcnQgY29uc3QgaGFuZGxlUmVzb3VyY2VzID0gKHJlc291cmNlcyA9IGZhbHNlLCBhbGxvd0ZpbGVSZXNvdXJjZXMpID0+IHtcbiAgY29uc3QgYWxsb3dlZFByb3BzID0gWydqcycsICdjc3MnLCAnZmlsZXMnXTtcblxuICBsZXQgaGFuZGxlZFJlc291cmNlcyA9IHJlc291cmNlcztcbiAgbGV0IGNvcnJlY3RSZXNvdXJjZXMgPSBmYWxzZTtcblxuICAvLyBUcnkgdG8gbG9hZCByZXNvdXJjZXMgZnJvbSBhIGZpbGVcbiAgaWYgKGFsbG93RmlsZVJlc291cmNlcyAmJiByZXNvdXJjZXMuZW5kc1dpdGgoJy5qc29uJykpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFyZXNvdXJjZXMpIHtcbiAgICAgICAgaGFuZGxlZFJlc291cmNlcyA9IGlzQ29ycmVjdEpTT04oXG4gICAgICAgICAgcmVhZEZpbGVTeW5jKCdyZXNvdXJjZXMuanNvbicsICd1dGY4JylcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzb3VyY2VzICYmIHJlc291cmNlcy5lbmRzV2l0aCgnLmpzb24nKSkge1xuICAgICAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNDb3JyZWN0SlNPTihyZWFkRmlsZVN5bmMocmVzb3VyY2VzLCAndXRmOCcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKHJlc291cmNlcyk7XG4gICAgICAgIGlmIChoYW5kbGVkUmVzb3VyY2VzID09PSB0cnVlKSB7XG4gICAgICAgICAgaGFuZGxlZFJlc291cmNlcyA9IGlzQ29ycmVjdEpTT04oXG4gICAgICAgICAgICByZWFkRmlsZVN5bmMoJ3Jlc291cmNlcy5qc29uJywgJ3V0ZjgnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChub3RpY2UpIHtcbiAgICAgIHJldHVybiBsb2coMywgYFtjbGldIE5vIHJlc291cmNlcyBmb3VuZC5gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVHJ5IHRvIGdldCBKU09OXG4gICAgaGFuZGxlZFJlc291cmNlcyA9IGlzQ29ycmVjdEpTT04ocmVzb3VyY2VzKTtcblxuICAgIC8vIEdldCByaWQgb2YgdGhlIGZpbGVzIHNlY3Rpb25cbiAgICBpZiAoIWFsbG93RmlsZVJlc291cmNlcykge1xuICAgICAgZGVsZXRlIGhhbmRsZWRSZXNvdXJjZXMuZmlsZXM7XG4gICAgfVxuICB9XG5cbiAgLy8gRmlsdGVyIGZyb20gdW5uZWNlc3NhcnkgcHJvcGVydGllc1xuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGhhbmRsZWRSZXNvdXJjZXMpIHtcbiAgICBpZiAoIWFsbG93ZWRQcm9wcy5pbmNsdWRlcyhwcm9wTmFtZSkpIHtcbiAgICAgIGRlbGV0ZSBoYW5kbGVkUmVzb3VyY2VzW3Byb3BOYW1lXTtcbiAgICB9IGVsc2UgaWYgKCFjb3JyZWN0UmVzb3VyY2VzKSB7XG4gICAgICBjb3JyZWN0UmVzb3VyY2VzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBDaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgYWxsb3dlZCBwcm9wZXJ0aWVzIGlzIHByZXNlbnRcbiAgaWYgKCFjb3JyZWN0UmVzb3VyY2VzKSB7XG4gICAgcmV0dXJuIGxvZygzLCBgW2NsaV0gTm8gcmVzb3VyY2VzIGZvdW5kLmApO1xuICB9XG5cbiAgLy8gSGFuZGxlIGZpbGVzIHNlY3Rpb25cbiAgaWYgKGhhbmRsZWRSZXNvdXJjZXMuZmlsZXMpIHtcbiAgICBoYW5kbGVkUmVzb3VyY2VzLmZpbGVzID0gaGFuZGxlZFJlc291cmNlcy5maWxlcy5tYXAoKGl0ZW0pID0+IGl0ZW0udHJpbSgpKTtcbiAgICBpZiAoIWhhbmRsZWRSZXNvdXJjZXMuZmlsZXMgfHwgaGFuZGxlZFJlc291cmNlcy5maWxlcy5sZW5ndGggPD0gMCkge1xuICAgICAgZGVsZXRlIGhhbmRsZWRSZXNvdXJjZXMuZmlsZXM7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJuIHJlc291cmNlc1xuICByZXR1cm4gaGFuZGxlZFJlc291cmNlcztcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIHByb3ZpZGVkIGRhdGEgaXMgb3IgY2FuIGJlIGEgY29ycmVjdCBKU09OLlxuICpcbiAqIEBwYXJhbSB7YW55fSBkYXRhIC0gRGF0YSB0byBiZSBjaGVja2VkLlxuICogQHBhcmFtIHtib29sZWFufSB0b1N0cmluZyAtIElmIHRydWUsIHJldHVybiBzdHJpbmdpZmllZCByZXByZXNlbnRhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29ycmVjdEpTT04oZGF0YSwgdG9TdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBpZiBub3QgYWxyZWFkeSBiZWZvcmUgcGFyc2luZ1xuICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKFxuICAgICAgdHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBkYXRhXG4gICAgKTtcblxuICAgIC8vIFJldHVybiBhIHN0cmluZ2lmaWVkIHJlcHJlc2VudGF0aW9uIG9mIGEgSlNPTiBpZiByZXF1aXJlZFxuICAgIGlmICh0eXBlb2YgcGFyc2VkRGF0YSAhPT0gJ3N0cmluZycgJiYgdG9TdHJpbmcpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwYXJzZWREYXRhKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYSBKU09OXG4gICAgcmV0dXJuIHBhcnNlZERhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGl0ZW0gaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7YW55fSBpdGVtIC0gSXRlbSB0byBiZSBjaGVja2VkLlxuICovXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAoaXRlbSkgPT5cbiAgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGl0ZW0pICYmIGl0ZW0gIT09IG51bGw7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHN0cmluZyBjb250YWlucyBwcml2YXRlIHJhbmdlIHVybHMuXG4gKlxuICogQGV4cG9ydCB1dGlsc1xuICogQHBhcmFtIGl0ZW0ge3N0cmluZ30gaXRlbSB0byBiZSBjaGVja2VkXG4gKi9cbmV4cG9ydCBjb25zdCBpc1ByaXZhdGVSYW5nZVVybEZvdW5kID0gKGl0ZW0pID0+IHtcbiAgcmV0dXJuIFtcbiAgICAnbG9jYWxob3N0JyxcbiAgICAnKDEwKS4oLiopLiguKikuKC4qKScsXG4gICAgJygxMjcpLiguKikuKC4qKS4oLiopJyxcbiAgICAnKDE3MikuKDFbNi05XXwyWzAtOV18M1swLTFdKS4oLiopLiguKiknLFxuICAgICcoMTkyKS4oMTY4KS4oLiopLiguKiknXG4gIF0uc29tZSgoaXBSZWdFeCkgPT5cbiAgICBpdGVtLm1hdGNoKGB4bGluazpocmVmPVwiKD86KGh0dHA6Ly98aHR0cHM6Ly8pKT8ke2lwUmVnRXh9YClcbiAgKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGRlZXAgY29weSBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgLSBPYmplY3QgdG8gY29weS5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBEZWVwIGNvcHkgb2YgdGhlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZXBDb3B5ID0gKG9iaikgPT4ge1xuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGNvbnN0IGNvcHkgPSBBcnJheS5pc0FycmF5KG9iaikgPyBbXSA6IHt9O1xuXG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59O1xuXG4vKipcbiAqIFN0cmluZ2lmaWVzIG9iamVjdCB3aXRoIG9wdGlvbnMuIFBvc3NpYmxlIHRvIHByZXNlcnZlIGZ1bmN0aW9ucyB3aXRoXG4gKiBhbGxvd0Z1bmN0aW9ucyBmbGFnLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyB0byBzdHJpbmdpZnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93RnVuY3Rpb25zIC0gRmxhZyBmb3Iga2VlcGluZyBmdW5jdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBvcHRpb25zU3RyaW5naWZ5ID0gKG9wdGlvbnMsIGFsbG93RnVuY3Rpb25zKSA9PiB7XG4gIGNvbnN0IHJlcGxhY2VyQ2FsbGJhY2sgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG5cbiAgICAgIC8vIElmIGFsbG93RnVuY3Rpb25zIGlzIHNldCB0byB0cnVlLCBwcmVzZXJ2ZSBmdW5jdGlvbnNcbiAgICAgIGlmIChcbiAgICAgICAgKHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uKCcpIHx8IHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uICgnKSkgJiZcbiAgICAgICAgdmFsdWUuZW5kc1dpdGgoJ30nKVxuICAgICAgKSB7XG4gICAgICAgIHZhbHVlID0gYWxsb3dGdW5jdGlvbnNcbiAgICAgICAgICA/IGBFWFBfRlVOJHsodmFsdWUgKyAnJykucmVwbGFjZUFsbCgvXFxufFxcdHxcXHIvZywgJyAnKX1FWFBfRlVOYFxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcbiAgICAgID8gYEVYUF9GVU4keyh2YWx1ZSArICcnKS5yZXBsYWNlQWxsKC9cXG58XFx0fFxcci9nLCAnICcpfUVYUF9GVU5gXG4gICAgICA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIFN0cmluZ2lmeSBvcHRpb25zIGFuZCBpZiByZXF1aXJlZCwgcmVwbGFjZSBzcGVjaWFsIGZ1bmN0aW9ucyBtYXJrc1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgcmVwbGFjZXJDYWxsYmFjaykucmVwbGFjZUFsbChcbiAgICAvXCJFWFBfRlVOfEVYUF9GVU5cIi9nLFxuICAgICcnXG4gICk7XG59O1xuXG4vKipcbiAqIFByaW50cyB0aGUgZXhwb3J0IHNlcnZlciBsb2dvLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbm9Mb2dvIC0gV2hldGhlciB0byBkaXNwbGF5IGxvZ28gb3IgdGV4dC5cbiAqL1xuZXhwb3J0IGNvbnN0IHByaW50TG9nbyA9IChub0xvZ28pID0+IHtcbiAgLy8gR2V0IHBhY2thZ2UgdmVyc2lvbiBlaXRoZXIgZnJvbSBlbnYgb3IgZnJvbSBwYWNrYWdlLmpzb25cbiAgY29uc3QgcGFja2FnZVZlcnNpb24gPVxuICAgIHByb2Nlc3MuZW52Lm5wbV9wYWNrYWdlX3ZlcnNpb24gfHxcbiAgICBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhuZXcgVVJMKCcuLi9wYWNrYWdlLmpzb24nLCBpbXBvcnQubWV0YS51cmwpKSlcbiAgICAgIC52ZXJzaW9uO1xuXG4gIC8vIFByaW50IHRleHQgb25seVxuICBpZiAobm9Mb2dvKSB7XG4gICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIGhpZ2hjaGFydHMgZXhwb3J0IHNlcnZlciB2JHtwYWNrYWdlVmVyc2lvbn0uLi5gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBQcmludCB0aGUgbG9nb1xuICBjb25zb2xlLmxvZyhcbiAgICByZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy9tc2cvc3RhcnR1cC5tc2cnKS50b1N0cmluZygpLmJvbGQueWVsbG93LFxuICAgIGB2JHtwYWNrYWdlVmVyc2lvbn1gXG4gICk7XG59O1xuXG4vKipcbiAqIFByaW50cyB0aGUgQ0xJIHVzYWdlLiBJZiByZXF1aXJlZCwgaXQgY2FuIGxpc3QgcHJvcGVydGllcyByZWN1cnNpdmVseVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRVc2FnZSgpIHtcbiAgY29uc3QgcGFkID0gNDg7XG4gIGNvbnN0IHJlYWRtZSA9ICdodHRwczovL2dpdGh1Yi5jb20vaGlnaGNoYXJ0cy9ub2RlLWV4cG9ydC1zZXJ2ZXIjcmVhZG1lJztcblxuICAvLyBEaXNwbGF5IHJlYWRtZSBpbmZvcm1hdGlvblxuICBjb25zb2xlLmxvZyhcbiAgICAnVXNhZ2Ugb2YgQ0xJIGFyZ3VtZW50czonLmJvbGQsXG4gICAgJ1xcbi0tLS0tLScsXG4gICAgYFxcbkZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIHZpc2l0IHJlYWRtZSBhdDogJHtyZWFkbWUuYm9sZC55ZWxsb3d9LmBcbiAgKTtcblxuICBjb25zdCBjeWNsZUNhdGVnb3JpZXMgPSAoY2F0ZWdvcmllcykgPT4ge1xuICAgIGZvciAoY29uc3QgW25hbWUsIG9wdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoY2F0ZWdvcmllcykpIHtcbiAgICAgIC8vIElmIGNhdGVnb3J5IGhhcyBtb3JlIGxldmVscywgZ28gZnVydGhlclxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9uLCAndmFsdWUnKSkge1xuICAgICAgICBjeWNsZUNhdGVnb3JpZXMob3B0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkZXNjTmFtZSA9IGAgIC0tJHtvcHRpb24uY2xpTmFtZSB8fCBuYW1lfSAke1xuICAgICAgICAgICgnPCcgKyBvcHRpb24udHlwZSArICc+JykuZ3JlZW5cbiAgICAgICAgfSBgO1xuICAgICAgICBpZiAoZGVzY05hbWUubGVuZ3RoIDwgcGFkKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IGRlc2NOYW1lLmxlbmd0aDsgaSA8IHBhZDsgaSsrKSB7XG4gICAgICAgICAgICBkZXNjTmFtZSArPSAnLic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzcGxheSBjb3JyZWN0bHkgYWxpZ25lZCBtZXNzYWdlc1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBkZXNjTmFtZSxcbiAgICAgICAgICBvcHRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgYFtEZWZhdWx0OiAke29wdGlvbi52YWx1ZS50b1N0cmluZygpLmJvbGR9XWAuYmx1ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBDeWNsZSB0aHJvdWdoIG9wdGlvbnMgb2YgZWFjaCBjYXRlZ29yaWVzIGFuZCBkaXNwbGF5IHRoZSB1c2FnZSBpbmZvXG4gIE9iamVjdC5rZXlzKGRlZmF1bHRDb25maWcpLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgLy8gT25seSBwdXBwZXRlZXIgYW5kIGhpZ2hjaGFydHMgY2F0ZWdvcmllcyBjYW5ub3QgYmUgY29uZmlndXJlZCB0aHJvdWdoIENMSVxuICAgIGlmICghWydwdXBwZXRlZXInLCAnaGlnaGNoYXJ0cyddLmluY2x1ZGVzKGNhdGVnb3J5KSkge1xuICAgICAgY29uc29sZS5sb2coYFxcbiR7Y2F0ZWdvcnkudG9VcHBlckNhc2UoKX1gLnJlZCk7XG4gICAgICBjeWNsZUNhdGVnb3JpZXMoZGVmYXVsdENvbmZpZ1tjYXRlZ29yeV0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnNvbGUubG9nKCdcXG4nKTtcbn1cblxuLyoqXG4gKiBSb3VuZHMgbnVtYmVyIHRvIHBhc3NlZCBwcmVjaXNpb24uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gTnVtYmVyIHRvIHJvdW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIEEgcHJlY2lzaW9uIG9mIHJvdW5kaW5nLlxuICovXG5leHBvcnQgY29uc3Qgcm91bmROdW1iZXIgPSAodmFsdWUsIHByZWNpc2lvbiA9IDEpID0+IHtcbiAgY29uc3QgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gfHwgMCk7XG4gIHJldHVybiBNYXRoLnJvdW5kKCt2YWx1ZSAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcbn07XG5cbi8qKlxuICogQ2FzdHMgdGhlIGl0ZW0gdG8gYm9vbGVhbi5cbiAqXG4gKiBAcGFyYW0ge2FueX0gaXRlbSAtIEl0ZW0gdG8gYmUgY2FzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvQm9vbGVhbiA9IChpdGVtKSA9PlxuICBbJ2ZhbHNlJywgJ3VuZGVmaW5lZCcsICdudWxsJywgJ05hTicsICcwJywgJyddLmluY2x1ZGVzKGl0ZW0pXG4gICAgPyBmYWxzZVxuICAgIDogISFpdGVtO1xuXG4vKipcbiAqIElmIG5lY2Vzc2FyeSwgcGxhY2VzIGEgY3VzdG9tIGNvZGUgaW5zaWRlIGEgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHthbnl9IGN1c3RvbUNvZGUgLSBUaGUgY3VzdG9tQ29kZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXBBcm91bmQgPSAoY3VzdG9tQ29kZSwgYWxsb3dGaWxlUmVzb3VyY2VzKSA9PiB7XG4gIGlmIChjdXN0b21Db2RlICYmIHR5cGVvZiBjdXN0b21Db2RlID09PSAnc3RyaW5nJykge1xuICAgIGN1c3RvbUNvZGUgPSBjdXN0b21Db2RlLnRyaW0oKTtcblxuICAgIGlmIChjdXN0b21Db2RlLmVuZHNXaXRoKCcuanMnKSkge1xuICAgICAgcmV0dXJuIGFsbG93RmlsZVJlc291cmNlc1xuICAgICAgICA/IHdyYXBBcm91bmQocmVhZEZpbGVTeW5jKGN1c3RvbUNvZGUsICd1dGY4JykpXG4gICAgICAgIDogZmFsc2U7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnZnVuY3Rpb24oKScpIHx8XG4gICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uICgpJykgfHxcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnKCk9PicpIHx8XG4gICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJygpID0+JylcbiAgICApIHtcbiAgICAgIHJldHVybiBgKCR7Y3VzdG9tQ29kZX0pKClgO1xuICAgIH1cbiAgICByZXR1cm4gY3VzdG9tQ29kZS5yZXBsYWNlKC87JC8sICcnKTtcbiAgfVxufTtcblxuLyoqXG4gKiBVdGlsaXR5IHRvIG1lYXN1cmUgdGltZS5cbiAqL1xuZXhwb3J0IGNvbnN0IG1lYXN1cmVUaW1lID0gKCkgPT4ge1xuICBjb25zdCBzdGFydCA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xuICByZXR1cm4gKCkgPT4gTnVtYmVyKHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpIC0gc3RhcnQpIC8gMTAwMDAwMDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kaXJuYW1lLFxuICBjbGVhclRleHQsXG4gIGV4cEJhY2tvZmYsXG4gIGZpeFR5cGUsXG4gIGhhbmRsZVJlc291cmNlcyxcbiAgaXNDb3JyZWN0SlNPTixcbiAgaXNPYmplY3QsXG4gIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQsXG4gIG9wdGlvbnNTdHJpbmdpZnksXG4gIHByaW50TG9nbyxcbiAgcHJpbnRVc2FnZSxcbiAgcm91bmROdW1iZXIsXG4gIHRvQm9vbGVhbixcbiAgd3JhcEFyb3VuZCxcbiAgbWVhc3VyZVRpbWVcbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHJhdGVMaW1pdCBmcm9tICdleHByZXNzLXJhdGUtbGltaXQnO1xuXG5pbXBvcnQgeyBjbGVhclRleHQgfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi9sb2dnZXIuanMnO1xuXG4vKipcbiAqIEVuYWJsZXMgcmF0ZSBsaW1pdGluZyBmb3IgYSBnaXZlbiBhcHAuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGFwcCAtIFRoZSBleHByZXNzIGFwcC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBsaW1pdENvbmZpZyAtIFRoZSBvcHRpb25zIGZvciB0aGUgcmF0ZSBsaW1pdGluZy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGFwcCwgbGltaXRDb25maWcpID0+IHtcbiAgY29uc3QgbXNnID1cbiAgICAnVG9vIG1hbnkgcmVxdWVzdHMsIHlvdSBoYXZlIGJlZW4gcmF0ZSBsaW1pdGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLic7XG5cbiAgLy8gT3B0aW9ucyBmb3IgdGhlIHJhdGUgbGltaXRlclxuICBjb25zdCByYXRlT3B0aW9ucyA9IHtcbiAgICBtYXg6IGxpbWl0Q29uZmlnLm1heFJlcXVlc3RzIHx8IDMwLFxuICAgIHdpbmRvdzogbGltaXRDb25maWcud2luZG93IHx8IDEsXG4gICAgZGVsYXk6IGxpbWl0Q29uZmlnLmRlbGF5IHx8IDAsXG4gICAgdHJ1c3RQcm94eTogbGltaXRDb25maWcudHJ1c3RQcm94eSB8fCBmYWxzZSxcbiAgICBza2lwS2V5OiBsaW1pdENvbmZpZy5za2lwS2V5IHx8IGZhbHNlLFxuICAgIHNraXBUb2tlbjogbGltaXRDb25maWcuc2tpcFRva2VuIHx8IGZhbHNlXG4gIH07XG5cbiAgLy8gU2V0IGlmIGJlaGluZCBhIHByb3h5XG4gIGlmIChyYXRlT3B0aW9ucy50cnVzdFByb3h5KSB7XG4gICAgYXBwLmVuYWJsZSgndHJ1c3QgcHJveHknKTtcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIGxpbWl0ZXJcbiAgY29uc3QgbGltaXRlciA9IHJhdGVMaW1pdCh7XG4gICAgd2luZG93TXM6IHJhdGVPcHRpb25zLndpbmRvdyAqIDYwICogMTAwMCxcbiAgICAvLyBMaW1pdCBlYWNoIElQIHRvIDEwMCByZXF1ZXN0cyBwZXIgd2luZG93TXNcbiAgICBtYXg6IHJhdGVPcHRpb25zLm1heCxcbiAgICAvLyBEaXNhYmxlIGRlbGF5aW5nLCBmdWxsIHNwZWVkIHVudGlsIHRoZSBtYXggbGltaXQgaXMgcmVhY2hlZFxuICAgIGRlbGF5TXM6IHJhdGVPcHRpb25zLmRlbGF5LFxuICAgIGhhbmRsZXI6IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgICAgcmVzcG9uc2UuZm9ybWF0KHtcbiAgICAgICAganNvbjogKCkgPT4ge1xuICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyg0MjkpLnNlbmQoeyBtZXNzYWdlOiBtc2cgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgICByZXNwb25zZS5zdGF0dXMoNDI5KS5zZW5kKG1zZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2tpcDogKHJlcXVlc3QpID0+IHtcbiAgICAgIC8vIEFsbG93IGJ5cGFzc2luZyB0aGUgbGltaXRlciBpZiBhIHZhbGlkIGtleS90b2tlbiBoYXMgYmVlbiBzZW50XG4gICAgICBpZiAoXG4gICAgICAgIHJhdGVPcHRpb25zLnNraXBLZXkgIT09IGZhbHNlICYmXG4gICAgICAgIHJhdGVPcHRpb25zLnNraXBUb2tlbiAhPT0gZmFsc2UgJiZcbiAgICAgICAgcmVxdWVzdC5xdWVyeS5rZXkgPT09IHJhdGVPcHRpb25zLnNraXBLZXkgJiZcbiAgICAgICAgcmVxdWVzdC5xdWVyeS5hY2Nlc3NfdG9rZW4gPT09IHJhdGVPcHRpb25zLnNraXBUb2tlblxuICAgICAgKSB7XG4gICAgICAgIGxvZyg0LCAnW3JhdGUtbGltaXRpbmddIFNraXBwaW5nIHJhdGUgbGltaXRlci4nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAvLyBVc2UgYSBsaW1pdGVyIGFzIGEgbWlkZGxld2FyZVxuICBhcHAudXNlKGxpbWl0ZXIpO1xuXG4gIGxvZyhcbiAgICAzLFxuICAgIGNsZWFyVGV4dChcbiAgICAgIGBbcmF0ZS1saW1pdGluZ10gRW5hYmxlZCByYXRlIGxpbWl0aW5nOiAke3JhdGVPcHRpb25zLm1heH0gcmVxdWVzdHNcbiAgICAgIHBlciAke3JhdGVPcHRpb25zLndpbmRvd30gbWludXRlIHBlciBJUCwgdHJ1c3RpbmcgcHJveHk6XG4gICAgICAke3JhdGVPcHRpb25zLnRydXN0UHJveHl9LmBcbiAgICApXG4gICk7XG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBleHBvcnRzIHR3byBmdW5jdGlvbnM6IGZldGNoIChmb3IgR0VUIHJlcXVlc3RzKSBhbmQgcG9zdCAoZm9yIFBPU1QgcmVxdWVzdHMpLlxuICovXG5cbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZ2l2ZW4gVVJMIChlaXRoZXIgYGh0dHBgIG9yIGBodHRwc2ApLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgd2hvc2UgcHJvdG9jb2wgbmVlZHMgdG8gYmUgZGV0ZXJtaW5lZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGBodHRwc2AgbW9kdWxlIGlmIHRoZSBVUkwgc3RhcnRzIHdpdGggJ2h0dHBzJyxcbiAqIG90aGVyd2lzZSByZXR1cm5zIHRoZSBgaHR0cGAgbW9kdWxlLlxuICogQHByaXZhdGVcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGNvbnN0IHByb3RvY29sID0gZ2V0UHJvdG9jb2woJ2h0dHBzOi8vZXhhbXBsZS5jb20nKTtcbiAqIGNvbnNvbGUubG9nKHByb3RvY29sKTsgLy8gT3V0cHV0cyB0aGUgJ2h0dHBzJyBtb2R1bGVcbiAqL1xuY29uc3QgZ2V0UHJvdG9jb2wgPSAodXJsKSA9PiB7XG4gIHJldHVybiB1cmwuc3RhcnRzV2l0aCgnaHR0cHMnKSA/IGh0dHBzIDogaHR0cDtcbn07XG5cbi8qKlxuICogU2VuZHMgYSBHRVQgcmVxdWVzdCB0byB0aGUgc3BlY2lmaWVkIFVSTCB3aXRoIG9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9ucy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBhc3luY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gZmV0Y2guXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RPcHRpb25zPXt9XSAtIE9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9ucyBhbmQgaGVhZGVycy5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVzcG9uc2Ugb2JqZWN0LlxuICogVGhlIHJlc3BvbnNlIG9iamVjdCBjb250YWlucyBhIGAudGV4dGAgcHJvcGVydHkgd2l0aCB0aGUgcmF3IHJlc3BvbnNlIGRhdGEuXG4gKiBAdGhyb3dzIHtFcnJvcn0gVGhyb3dzIGFuIGVycm9yIGlmIHRoZSByZXF1ZXN0IGZhaWxzIG9yIGlmIG5vIGRhdGEgaXMgZmV0Y2hlZCBmcm9tIHRoZSBVUkwuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBhc3luYyBmdW5jdGlvbiBnZXREYXRhKCkge1xuICogICB0cnkge1xuICogICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL2RhdGEnKTtcbiAqICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS50ZXh0KTtcbiAqICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkYXRhOicsIGVycm9yKTtcbiAqICAgfVxuICogfVxuICpcbiAqIGdldERhdGEoKTtcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2godXJsLCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBnZXRQcm90b2NvbCh1cmwpO1xuXG4gICAgcHJvdG9jb2xcbiAgICAgIC5nZXQodXJsLCByZXF1ZXN0T3B0aW9ucywgKHJlcykgPT4ge1xuICAgICAgICBsZXQgZGF0YSA9ICcnO1xuXG4gICAgICAgIC8vIEEgY2h1bmsgb2YgZGF0YSBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgICAgcmVzLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICAgICAgZGF0YSArPSBjaHVuaztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGhlIHdob2xlIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkLlxuICAgICAgICByZXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJlamVjdCgnTm90aGluZyB3YXMgZmV0Y2hlZCBmcm9tIHRoZSBVUkwuJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzLnRleHQgPSBkYXRhO1xuICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNlbmRzIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgVVJMIHdpdGggdGhlIGdpdmVuIGJvZHkgYW5kIHJlcXVlc3Qgb3B0aW9ucy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBhc3luY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gd2hpY2ggdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHNlbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gW2JvZHk9e31dIC0gVGhlIGRhdGEgdG8gYmUgc2VudCBhcyB0aGUgcmVxdWVzdCBib2R5LCBpbiBKU09OIGZvcm1hdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdE9wdGlvbnM9e31dIC0gT3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zIGFuZCBoZWFkZXJzLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHBhcnNlZCBKU09OIHJlc3BvbnNlLlxuICogQHRocm93cyB7RXJyb3J9IFRocm93cyBhbiBlcnJvciBpZiB0aGUgcmVxdWVzdCBmYWlscyBvciBpZiB0aGUgcmVzcG9uc2UgY2Fubm90IGJlIHBhcnNlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGFzeW5jIGZ1bmN0aW9uIHNlbmREYXRhKCkge1xuICogICBjb25zdCBkYXRhVG9TZW5kID0ge1xuICogICAgIGtleTE6ICd2YWx1ZTEnLFxuICogICAgIGtleTI6ICd2YWx1ZTInLFxuICogICB9O1xuICogICB0cnkge1xuICogICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScsIGRhdGFUb1NlbmQpO1xuICogICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAqICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGRhdGE6JywgZXJyb3IpO1xuICogICB9XG4gKiB9XG4gKlxuICogc2VuZERhdGEoKTtcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcG9zdCh1cmwsIGJvZHkgPSB7fSwgcmVxdWVzdE9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHByb3RvY29sID0gZ2V0UHJvdG9jb2wodXJsKTtcbiAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG5cbiAgICAvLyBTZXQgZGVmYXVsdCBoZWFkZXJzIGFuZCBtZXJnZSB3aXRoIHJlcXVlc3RPcHRpb25zXG4gICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBkYXRhLmxlbmd0aFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVxdWVzdE9wdGlvbnNcbiAgICApO1xuXG4gICAgY29uc3QgcmVxID0gcHJvdG9jb2xcbiAgICAgIC5yZXF1ZXN0KHVybCwgb3B0aW9ucywgKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzcG9uc2VEYXRhID0gJyc7XG5cbiAgICAgICAgLy8gQSBjaHVuayBvZiBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkLlxuICAgICAgICByZXMub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcbiAgICAgICAgICByZXNwb25zZURhdGEgKz0gY2h1bms7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRoZSB3aG9sZSByZXNwb25zZSBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcy50ZXh0ID0gcmVzcG9uc2VEYXRhO1xuICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAvLyBXcml0ZSB0aGUgcmVxdWVzdCBib2R5IGFuZCBlbmQgdGhlIHJlcXVlc3QuXG4gICAgcmVxLndyaXRlKGRhdGEpO1xuICAgIHJlcS5lbmQoKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZldGNoO1xuZXhwb3J0IHsgZmV0Y2gsIHBvc3QgfTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vLyBUaGUgY2FjaGUgbWFuYWdlciBtYW5hZ2VzIHRoZSBIaWdoY2hhcnRzIGxpYnJhcnkgYW5kIGl0cyBkZXBlbmRlbmNpZXMuXG4vLyBUaGUgY2FjaGUgaXRzZWxmIGlzIHN0b3JlZCBpbiAuY2FjaGUsIGFuZCBpcyBjaGVja2VkIGJ5IHRoZSBjb25maWcgc3lzdGVtXG4vLyBiZWZvcmUgc3RhcnRpbmcgdGhlIHNlcnZpY2VcblxuaW1wb3J0IHsgZXhpc3RzU3luYywgbWtkaXJTeW5jLCByZWFkRmlsZVN5bmMsIHdyaXRlRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XG5cbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBIdHRwc1Byb3h5QWdlbnQgZnJvbSAnaHR0cHMtcHJveHktYWdlbnQnO1xuaW1wb3J0IHsgZmV0Y2ggfSBmcm9tICcuL2ZldGNoLmpzJztcblxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vbGliL3V0aWxzLmpzJztcblxuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBjYWNoZVBhdGggPSBqb2luKF9fZGlybmFtZSwgJy5jYWNoZScpO1xuXG5jb25zdCBjYWNoZSA9IHtcbiAgY2RuVVJMOiAnaHR0cHM6Ly9jb2RlLmhpZ2hjaGFydHMuY29tLycsXG4gIGFjdGl2ZU1hbmlmZXN0OiB7fSxcbiAgc291cmNlczogJycsXG4gIGhjVmVyc2lvbjogJydcbn07XG5cbi8vIFRPRE86IFRoZSBjb25maWcgc2hvdWxkIGJlIGFjY2Vzc3NpYmxlIGdsb2JhbGx5IHNvIHdlIGRvbid0IGhhdmUgdG8gZG8gdGhpcyBzb3J0IG9mIHRoaW5nLi5cbmxldCBhcHBsaWVkQ29uZmlnID0gZmFsc2U7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIEhpZ2hjaGFydHMgdmVyc2lvbiBmcm9tIHRoZSBjYWNoZVxuICovXG5jb25zdCBleHRyYWN0VmVyc2lvbiA9ICgpID0+XG4gIChjYWNoZS5oY1ZlcnNpb24gPSBjYWNoZS5zb3VyY2VzXG4gICAgLnN1YnN0cigwLCBjYWNoZS5zb3VyY2VzLmluZGV4T2YoJyovJykpXG4gICAgLnJlcGxhY2UoJy8qJywgJycpXG4gICAgLnJlcGxhY2UoJyovJywgJycpXG4gICAgLnJlcGxhY2UoL1xcbi9nLCAnJylcbiAgICAudHJpbSgpKTtcblxuLyoqXG4gKiBTYXZlcyB0aGUgSGlnaGNoYXJ0cyBwYXJ0IG9mIGEgY29uZmlnIHRvIGEgbWFuaWZlc3QgZmlsZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNoYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtvYmplY3R9IGZldGNoZWRNb2R1bGVzIC0gQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgbWFwcGVkIG5hbWVzIG9mXG4gKiBmZXRjaGVkIEhpZ2hjaGFydHMgbW9kdWxlcyB0byB1c2UuXG4gKi9cbmNvbnN0IHNhdmVDb25maWdUb01hbmlmZXN0ID0gYXN5bmMgKGNvbmZpZywgZmV0Y2hlZE1vZHVsZXMpID0+IHtcbiAgY29uc3QgbmV3TWFuaWZlc3QgPSB7XG4gICAgdmVyc2lvbjogY29uZmlnLnZlcnNpb24sXG4gICAgbW9kdWxlczogZmV0Y2hlZE1vZHVsZXMgfHwge31cbiAgfTtcblxuICAvLyBVcGRhdGUgY2FjaGUgb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgbW9kdWxlc1xuICBjYWNoZS5hY3RpdmVNYW5pZmVzdCA9IG5ld01hbmlmZXN0O1xuXG4gIGxvZyg0LCAnW2NhY2hlXSB3cml0aW5nIG5ldyBtYW5pZmVzdCcpO1xuXG4gIHRyeSB7XG4gICAgd3JpdGVGaWxlU3luYyhcbiAgICAgIGpvaW4oY2FjaGVQYXRoLCAnbWFuaWZlc3QuanNvbicpLFxuICAgICAgSlNPTi5zdHJpbmdpZnkobmV3TWFuaWZlc3QpLFxuICAgICAgJ3V0ZjgnXG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2coMSwgYFtjYWNoZV0gRXJyb3Igd3JpdGluZyBjYWNoZSBtYW5pZmVzdDogJHtlcnJvcn0uYCk7XG4gIH1cbn07XG5cbi8qKlxuICogRmV0Y2hlcyBhIHNpbmdsZSBzY3JpcHQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNjcmlwdCAtIEEgcGF0aCB0byBzY3JpcHQgdG8gZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IHByb3h5QWdlbnQgLSBUaGUgcHJveHkgYWdlbnQgdG8gdXNlIGZvciBhIHJlcXVlc3QuXG4gKi9cbmNvbnN0IGZldGNoU2NyaXB0ID0gYXN5bmMgKHNjcmlwdCwgcHJveHlBZ2VudCkgPT4ge1xuICB0cnkge1xuICAgIC8vIEdldCByaWQgb2YgdGhlIC5qcyBmcm9tIHRoZSBjdXN0b20gc3RyaW5nc1xuICAgIGlmIChzY3JpcHQuZW5kc1dpdGgoJy5qcycpKSB7XG4gICAgICBzY3JpcHQgPSBzY3JpcHQuc3Vic3RyaW5nKDAsIHNjcmlwdC5sZW5ndGggLSAzKTtcbiAgICB9XG5cbiAgICBsb2coNCwgYFtjYWNoZV0gRmV0Y2hpbmcgc2NyaXB0IC0gJHtzY3JpcHR9LmpzYCk7XG5cbiAgICAvLyBJZiBleGlzdHMsIGFkZCBwcm94eSBhZ2VudCB0byByZXF1ZXN0IG9wdGlvbnNcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHByb3h5QWdlbnRcbiAgICAgID8ge1xuICAgICAgICAgIGFnZW50OiBwcm94eUFnZW50LFxuICAgICAgICAgIHRpbWVvdXQ6ICtwcm9jZXNzLmVudlsnUFJPWFlfU0VSVkVSX1RJTUVPVVQnXSB8fCA1MDAwXG4gICAgICAgIH1cbiAgICAgIDoge307XG5cbiAgICAvLyBGZXRjaCB0aGUgc2NyaXB0XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtzY3JpcHR9LmpzYCwgcmVxdWVzdE9wdGlvbnMpO1xuXG4gICAgLy8gSWYgT0ssIHJldHVybiBpdHMgdGV4dCByZXByZXNlbnRhdGlvblxuICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0O1xuICAgIH1cblxuICAgIHRocm93IGAke3Jlc3BvbnNlLnN0YXR1c0NvZGV9YDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2coMSwgYFtjYWNoZV0gRXJyb3IgZmV0Y2hpbmcgc2NyaXB0ICR7c2NyaXB0fS5qczogJHtlcnJvcn0uYCk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgSGlnaGNoYXJ0cyBjYWNoZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNoYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhdGggLSBBIHBhdGggdG8gdGhlIGZpbGUgd2hlcmUgc2F2ZSB1cGRhdGVkIHNvdXJjZXMuXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIG1hcHBlZCBuYW1lcyBvZiBmZXRjaGVkIEhpZ2hjaGFydHNcbiAqIG1vZHVsZXMgdG8gdXNlLlxuICovXG5jb25zdCB1cGRhdGVDYWNoZSA9IGFzeW5jIChjb25maWcsIHNvdXJjZVBhdGgpID0+IHtcbiAgY29uc3QgeyBjb3JlU2NyaXB0cywgbW9kdWxlcywgaW5kaWNhdG9ycywgc2NyaXB0czogY3VzdG9tU2NyaXB0cyB9ID0gY29uZmlnO1xuICBjb25zdCBoY1ZlcnNpb24gPVxuICAgIGNvbmZpZy52ZXJzaW9uID09PSAnbGF0ZXN0JyB8fCAhY29uZmlnLnZlcnNpb24gPyAnJyA6IGAke2NvbmZpZy52ZXJzaW9ufS9gO1xuXG4gIGxvZygzLCAnW2NhY2hlXSBVcGRhdGluZyBjYWNoZSB0byBIaWdoY2hhcnRzICcsIGhjVmVyc2lvbik7XG5cbiAgLy8gR2F0aGVyIGFsbCBzY3JpcHRzIHRvIGZldGNoXG4gIGNvbnN0IGFsbFNjcmlwdHMgPSBbXG4gICAgLi4uY29yZVNjcmlwdHMubWFwKChjKSA9PiBgJHtoY1ZlcnNpb259JHtjfWApLFxuICAgIC4uLm1vZHVsZXMubWFwKChtKSA9PlxuICAgICAgbSA9PT0gJ21hcCcgPyBgbWFwcy8ke2hjVmVyc2lvbn1tb2R1bGVzLyR7bX1gIDogYCR7aGNWZXJzaW9ufW1vZHVsZXMvJHttfWBcbiAgICApLFxuICAgIC4uLmluZGljYXRvcnMubWFwKChpKSA9PiBgc3RvY2svJHtoY1ZlcnNpb259aW5kaWNhdG9ycy8ke2l9YClcbiAgXTtcblxuICAvLyBDb25maWd1cmUgcHJveHkgaWYgZXhpc3RzXG4gIGxldCBwcm94eUFnZW50O1xuICBjb25zdCBwcm94eUhvc3QgPSBwcm9jZXNzLmVudlsnUFJPWFlfU0VSVkVSX0hPU1QnXTtcbiAgY29uc3QgcHJveHlQb3J0ID0gcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9QT1JUJ107XG5cbiAgaWYgKHByb3h5SG9zdCAmJiBwcm94eVBvcnQpIHtcbiAgICBwcm94eUFnZW50ID0gbmV3IEh0dHBzUHJveHlBZ2VudCh7XG4gICAgICBob3N0OiBwcm94eUhvc3QsXG4gICAgICBwb3J0OiArcHJveHlQb3J0XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBmZXRjaGVkTW9kdWxlcyA9IHt9O1xuICB0cnkge1xuICAgIGNhY2hlLnNvdXJjZXMgPSAvLyBUT0RPOiBjb252ZXJ0IHRvIGZvciBsb29wXG4gICAgICAoXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAuLi5hbGxTY3JpcHRzLm1hcChhc3luYyAoc2NyaXB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmV0Y2hTY3JpcHQoXG4gICAgICAgICAgICAgIGAke2NvbmZpZy5jZG5VUkwgfHwgY2FjaGUuY2RuVVJMfSR7c2NyaXB0fWAsXG4gICAgICAgICAgICAgIHByb3h5QWdlbnRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIElmIGZldGNoZWQgY29ycmVjdGx5LCBzZXQgaXRcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgZmV0Y2hlZE1vZHVsZXNbXG4gICAgICAgICAgICAgICAgc2NyaXB0LnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAvKC4qKVxcL3woLiopbW9kdWxlc1xcL3xzdG9ja1xcLyguKilpbmRpY2F0b3JzXFwvfG1hcHNcXC8oLiopbW9kdWxlc1xcLy9naSxcbiAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uY3VzdG9tU2NyaXB0cy5tYXAoKHNjcmlwdCkgPT4gZmV0Y2hTY3JpcHQoc2NyaXB0LCBwcm94eUFnZW50KSlcbiAgICAgICAgXSlcbiAgICAgICkuam9pbignO1xcbicpO1xuICAgIGV4dHJhY3RWZXJzaW9uKCk7XG5cbiAgICAvLyBTYXZlIHRoZSBmZXRjaGVkIG1vZHVsZXMgaW50byBjYWNoZXMnIHNvdXJjZSBKU09OXG4gICAgd3JpdGVGaWxlU3luYyhzb3VyY2VQYXRoLCBjYWNoZS5zb3VyY2VzKTtcbiAgICByZXR1cm4gZmV0Y2hlZE1vZHVsZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKDEsICdbY2FjaGVdIFVuYWJsZSB0byB1cGRhdGUgbG9jYWwgSGlnaGNoYXJ0cyBjYWNoZS4nKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVZlcnNpb24gPSBhc3luYyAobmV3VmVyc2lvbikgPT5cbiAgYXBwbGllZENvbmZpZ1xuICAgID8gYXdhaXQgY2hlY2tDYWNoZShcbiAgICAgICAgT2JqZWN0LmFzc2lnbihhcHBsaWVkQ29uZmlnLCB7XG4gICAgICAgICAgdmVyc2lvbjogbmV3VmVyc2lvblxuICAgICAgICB9KVxuICAgICAgKVxuICAgIDogZmFsc2U7XG5cbi8qKlxuICogRmV0Y2hlcyBhbnkgbWlzc2luZyBIaWdoY2hhcnRzIGFuZCBkZXBlbmRlbmNpZXNcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNoYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgY2hlY2tDYWNoZSA9IGFzeW5jIChjb25maWcpID0+IHtcbiAgbGV0IGZldGNoZWRNb2R1bGVzO1xuICAvLyBQcmVwYXJlIHBhdGhzIHRvIG1hbmlmZXN0IGFuZCBzb3VyY2VzIGZyb20gdGhlIC5jYWNoZSBmb2xkZXJcbiAgY29uc3QgbWFuaWZlc3RQYXRoID0gam9pbihjYWNoZVBhdGgsICdtYW5pZmVzdC5qc29uJyk7XG4gIGNvbnN0IHNvdXJjZVBhdGggPSBqb2luKGNhY2hlUGF0aCwgJ3NvdXJjZXMuanMnKTtcblxuICAvLyBUT0RPOiBkZWFsIHdpdGggdHJ5aW5nIHRvIHN3aXRjaCB0byB0aGUgcnVubmluZyB2ZXJzaW9uXG4gIC8vIGNvbnN0IGFjdGl2ZVZlcnNpb24gPSBhcHBsaWVkQ29uZmlnID8gYXBwbGllZENvbmZpZy52ZXJzaW9uIDogZmFsc2U7XG5cbiAgYXBwbGllZENvbmZpZyA9IGNvbmZpZztcblxuICAvLyBDcmVhdGUgdGhlIC5jYWNoZSBkZXN0aW5hdGlvbiBpZiBpdCBkb2Vzbid0IGV4aXN0IGFscmVhZHlcbiAgIWV4aXN0c1N5bmMoY2FjaGVQYXRoKSAmJiBta2RpclN5bmMoY2FjaGVQYXRoKTtcblxuICAvLyBGZXRjaCBhbGwgdGhlIHNjcmlwdHMgZWl0aGVyIGlmIG1hbmlmZXN0Lmpzb24gZG9lcyBub3QgZXhpc3RcbiAgLy8gb3IgaWYgdGhlIGZvcmNlRmV0Y2ggb3B0aW9uIGlzIGVuYWJsZWRcbiAgaWYgKCFleGlzdHNTeW5jKG1hbmlmZXN0UGF0aCkgfHwgY29uZmlnLmZvcmNlRmV0Y2gpIHtcbiAgICBsb2coMywgJ1tjYWNoZV0gRmV0Y2hpbmcgYW5kIGNhY2hpbmcgSGlnaGNoYXJ0cyBkZXBlbmRlbmNpZXMuJyk7XG4gICAgZmV0Y2hlZE1vZHVsZXMgPSBhd2FpdCB1cGRhdGVDYWNoZShjb25maWcsIHNvdXJjZVBhdGgpO1xuICB9IGVsc2Uge1xuICAgIGxldCByZXF1ZXN0VXBkYXRlID0gZmFsc2U7XG5cbiAgICAvLyBSZWFkIHRoZSBtYW5pZmVzdCBKU09OXG4gICAgY29uc3QgbWFuaWZlc3QgPSBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhtYW5pZmVzdFBhdGgpKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZSBtb2R1bGVzIGlzIGFuIGFycmF5LCBpZiBzbywgd2UgcmV3cml0ZSBpdCB0byBhIG1hcCB0byBtYWtlXG4gICAgLy8gaXQgZWFzaWVyIHRvIHJlc29sdmUgbW9kdWxlcy5cbiAgICBpZiAobWFuaWZlc3QubW9kdWxlcyAmJiBBcnJheS5pc0FycmF5KG1hbmlmZXN0Lm1vZHVsZXMpKSB7XG4gICAgICBjb25zdCBtb2R1bGVNYXAgPSB7fTtcbiAgICAgIG1hbmlmZXN0Lm1vZHVsZXMuZm9yRWFjaCgobSkgPT4gKG1vZHVsZU1hcFttXSA9IDEpKTtcbiAgICAgIG1hbmlmZXN0Lm1vZHVsZXMgPSBtb2R1bGVNYXA7XG4gICAgfVxuXG4gICAgY29uc3QgeyBtb2R1bGVzLCBjb3JlU2NyaXB0cywgaW5kaWNhdG9ycyB9ID0gY29uZmlnO1xuICAgIGNvbnN0IG51bWJlck9mTW9kdWxlcyA9XG4gICAgICBtb2R1bGVzLmxlbmd0aCArIGNvcmVTY3JpcHRzLmxlbmd0aCArIGluZGljYXRvcnMubGVuZ3RoO1xuXG4gICAgLy8gQ29tcGFyZSB0aGUgbG9hZGVkIGNvbmZpZyB3aXRoIHRoZSBjb250ZW50cyBpbiAuY2FjaGUuXG4gICAgLy8gSWYgdGhlcmUgYXJlIGNoYW5nZXMsIGZldGNoIHJlcXVlc3RlZCBtb2R1bGVzIGFuZCBwcm9kdWN0cyxcbiAgICAvLyBhbmQgYmFrZSB0aGVtIGludG8gYSBnaWFudCBibG9iLiBTYXZlIHRoZSBibG9iLlxuICAgIGlmIChtYW5pZmVzdC52ZXJzaW9uICE9PSBjb25maWcudmVyc2lvbikge1xuICAgICAgbG9nKDMsICdbY2FjaGVdIEhpZ2hjaGFydHMgdmVyc2lvbiBtaXNtYXRjaCBpbiBjYWNoZSwgbmVlZCB0byByZS1mZXRjaC4nKTtcbiAgICAgIHJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMobWFuaWZlc3QubW9kdWxlcyB8fCB7fSkubGVuZ3RoICE9PSBudW1iZXJPZk1vZHVsZXMpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgMyxcbiAgICAgICAgJ1tjYWNoZV0gQ2FjaGUgYW5kIHJlcXVlc3RlZCBtb2R1bGVzIGRvZXMgbm90IG1hdGNoLCBuZWVkIHRvIHJlLWZldGNoLidcbiAgICAgICk7XG4gICAgICByZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2hlY2sgZWFjaCBtb2R1bGUsIGlmIGFueXRoaW5nIGlzIG1pc3NpbmcgcmVmZXRjaCBldmVyeXRoaW5nXG4gICAgICByZXF1ZXN0VXBkYXRlID0gKGNvbmZpZy5tb2R1bGVzIHx8IFtdKS5zb21lKChtb2R1bGVOYW1lKSA9PiB7XG4gICAgICAgIGlmICghbWFuaWZlc3QubW9kdWxlc1ttb2R1bGVOYW1lXSkge1xuICAgICAgICAgIGxvZyhcbiAgICAgICAgICAgIDMsXG4gICAgICAgICAgICBgW2NhY2hlXSBUaGUgJHttb2R1bGVOYW1lfSBtaXNzaW5nIGluIGNhY2hlLCBuZWVkIHRvIHJlLWZldGNoLmBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdFVwZGF0ZSkge1xuICAgICAgZmV0Y2hlZE1vZHVsZXMgPSBhd2FpdCB1cGRhdGVDYWNoZShjb25maWcsIHNvdXJjZVBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2coMywgJ1tjYWNoZV0gRGVwZW5kZW5jeSBjYWNoZSBpcyB1cCB0byBkYXRlLCBwcm9jZWVkaW5nLicpO1xuXG4gICAgICAvLyBMb2FkIHRoZSBzb3VyY2VzXG4gICAgICBjYWNoZS5zb3VyY2VzID0gcmVhZEZpbGVTeW5jKHNvdXJjZVBhdGgsICd1dGY4Jyk7XG5cbiAgICAgIC8vIEdldCBjdXJyZW50IG1vZHVsZXMgbWFwXG4gICAgICBmZXRjaGVkTW9kdWxlcyA9IG1hbmlmZXN0Lm1vZHVsZXM7XG4gICAgICBleHRyYWN0VmVyc2lvbigpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNhdmUgdGhlIG5ldyBtYW5pZmVzdCwgd2hpY2ggaXMgYmFzaWNhbGx5IG91ciBjdXJyZW50IGNvbmZpZ1xuICAvLyBpbiBhIHNsaWdodGx5IGRpZmZlcmVudCBmb3JtYXRcbiAgYXdhaXQgc2F2ZUNvbmZpZ1RvTWFuaWZlc3QoY29uZmlnLCBmZXRjaGVkTW9kdWxlcyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNoZWNrQ2FjaGUsXG4gIHVwZGF0ZVZlcnNpb24sXG4gIGdldENhY2hlOiAoKSA9PiBjYWNoZSxcbiAgaGlnaGNoYXJ0czogKCkgPT4gY2FjaGUuc291cmNlcyxcbiAgdmVyc2lvbjogKCkgPT4gY2FjaGUuaGNWZXJzaW9uXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBwdXBwZXRlZXIgZnJvbSAncHVwcGV0ZWVyJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgKiBhcyB1cmwgZnJvbSAndXJsJztcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcbmltcG9ydCBwYXRoIGZyb20gJ25vZGU6cGF0aCc7XG5cbi8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTE0NjMzMjhcbi8vIE5vdCBpZGVhbCAtIGxlYXZlcyB0cmFzaCBpbiB0aGUgRlNcbmltcG9ydCB7IHJhbmRvbUJ5dGVzIH0gZnJvbSAnbm9kZTpjcnlwdG8nO1xuXG5jb25zdCBSQU5ET01fUElEID0gcmFuZG9tQnl0ZXMoNjQpLnRvU3RyaW5nKCdiYXNlNjR1cmwnKTtcbmNvbnN0IFBVUFBFVEVFUl9ESVIgPSBwYXRoLmpvaW4oJ3RtcCcsIGBwdXBwZXRlZXItJHtSQU5ET01fUElEfWApO1xuY29uc3QgREFUQV9ESVIgPSBwYXRoLmpvaW4oUFVQUEVURUVSX0RJUiwgJ3Byb2ZpbGUnKTtcblxuLy8gVGhlIG1pbmltYWwgYXJncyB0byBzcGVlZCB1cCB0aGUgYnJvd3NlclxuY29uc3QgbWluaW1hbEFyZ3MgPSBbXG4gIGAtLXVzZXItZGF0YS1kaXI9JHtEQVRBX0RJUn1gLFxuICAnLS1hdXRvcGxheS1wb2xpY3k9dXNlci1nZXN0dXJlLXJlcXVpcmVkJyxcbiAgJy0tZGlzYWJsZS1iYWNrZ3JvdW5kLW5ldHdvcmtpbmcnLFxuICAnLS1kaXNhYmxlLWJhY2tncm91bmQtdGltZXItdGhyb3R0bGluZycsXG4gICctLWRpc2FibGUtYmFja2dyb3VuZGluZy1vY2NsdWRlZC13aW5kb3dzJyxcbiAgJy0tZGlzYWJsZS1icmVha3BhZCcsXG4gICctLWRpc2FibGUtY2xpZW50LXNpZGUtcGhpc2hpbmctZGV0ZWN0aW9uJyxcbiAgJy0tZGlzYWJsZS1jb21wb25lbnQtdXBkYXRlJyxcbiAgJy0tZGlzYWJsZS1kZWZhdWx0LWFwcHMnLFxuICAnLS1kaXNhYmxlLWRldi1zaG0tdXNhZ2UnLFxuICAnLS1kaXNhYmxlLWRvbWFpbi1yZWxpYWJpbGl0eScsXG4gICctLWRpc2FibGUtZXh0ZW5zaW9ucycsXG4gICctLWRpc2FibGUtZmVhdHVyZXM9QXVkaW9TZXJ2aWNlT3V0T2ZQcm9jZXNzJyxcbiAgJy0tZGlzYWJsZS1oYW5nLW1vbml0b3InLFxuICAnLS1kaXNhYmxlLWlwYy1mbG9vZGluZy1wcm90ZWN0aW9uJyxcbiAgJy0tZGlzYWJsZS1ub3RpZmljYXRpb25zJyxcbiAgJy0tZGlzYWJsZS1vZmZlci1zdG9yZS11bm1hc2tlZC13YWxsZXQtY2FyZHMnLFxuICAnLS1kaXNhYmxlLXBvcHVwLWJsb2NraW5nJyxcbiAgJy0tZGlzYWJsZS1wcmludC1wcmV2aWV3JyxcbiAgJy0tZGlzYWJsZS1wcm9tcHQtb24tcmVwb3N0JyxcbiAgJy0tZGlzYWJsZS1yZW5kZXJlci1iYWNrZ3JvdW5kaW5nJyxcbiAgJy0tZGlzYWJsZS1zZXNzaW9uLWNyYXNoZWQtYnViYmxlJyxcbiAgJy0tZGlzYWJsZS1zZXR1aWQtc2FuZGJveCcsXG4gICctLWRpc2FibGUtc3BlZWNoLWFwaScsXG4gICctLWRpc2FibGUtc3luYycsXG4gICctLWhpZGUtY3Jhc2gtcmVzdG9yZS1idWJibGUnLFxuICAnLS1oaWRlLXNjcm9sbGJhcnMnLFxuICAnLS1pZ25vcmUtZ3B1LWJsYWNrbGlzdCcsXG4gICctLW1ldHJpY3MtcmVjb3JkaW5nLW9ubHknLFxuICAnLS1tdXRlLWF1ZGlvJyxcbiAgJy0tbm8tZGVmYXVsdC1icm93c2VyLWNoZWNrJyxcbiAgJy0tbm8tZmlyc3QtcnVuJyxcbiAgJy0tbm8tcGluZ3MnLFxuICAnLS1uby1zYW5kYm94JyxcbiAgJy0tbm8tenlnb3RlJyxcbiAgJy0tcGFzc3dvcmQtc3RvcmU9YmFzaWMnLFxuICAnLS11c2UtbW9jay1rZXljaGFpbidcbl07XG5cbmNvbnN0IF9fZGlybmFtZSA9IHVybC5maWxlVVJMVG9QYXRoKG5ldyBVUkwoJy4nLCBpbXBvcnQubWV0YS51cmwpKTtcblxuY29uc3QgdGVtcGxhdGUgPSBmcy5yZWFkRmlsZVN5bmMoXG4gIF9fZGlybmFtZSArICcvLi4vdGVtcGxhdGVzL3RlbXBsYXRlLmh0bWwnLFxuICAndXRmOCdcbik7XG5cbmxldCBicm93c2VyO1xuXG5jb25zdCBzZXRQYWdlQ29udGVudCA9IGFzeW5jIChwYWdlKSA9PiB7XG4gIGF3YWl0IHBhZ2Uuc2V0Q29udGVudCh0ZW1wbGF0ZSk7XG4gIGF3YWl0IHBhZ2UuYWRkU2NyaXB0VGFnKHsgcGF0aDogX19kaXJuYW1lICsgJy8uLi8uY2FjaGUvc291cmNlcy5qcycgfSk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHdpbmRvdy5zZXR1cEhpZ2hjaGFydHMoKSk7XG5cbiAgcGFnZS5vbigncGFnZWVycm9yJywgYXN5bmMgKGVycikgPT4ge1xuICAgIC8vIFRPRE86IENvbnNpZGVyIGFkZGluZyBhIHN3aXRjaCBoZXJlIHRoYXQgdHVybnMgb24gbG9nKDApIGxvZ2dpbmdcbiAgICAvLyBvbiBwYWdlIGVycm9ycy5cbiAgICBsb2coMSwgJ1twYWdlIGVycm9yXScsIGVycik7XG4gICAgYXdhaXQgcGFnZS4kZXZhbChcbiAgICAgICcjY29udGFpbmVyJyxcbiAgICAgIChlbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgIGlmICh3aW5kb3cuX2Rpc3BsYXlFcnJvcnMpIHtcbiAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGVycm9yTWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGA8aDE+Q2hhcnQgaW5wdXQgZGF0YSBlcnJvcjwvaDE+JHtlcnIudG9TdHJpbmcoKX1gXG4gICAgKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgbmV3UGFnZSA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCFicm93c2VyKSByZXR1cm4gZmFsc2U7XG5cbiAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpO1xuXG4gIC8vIERpc2FibGUgY2FjaGVcbiAgYXdhaXQgcGFnZS5zZXRDYWNoZUVuYWJsZWQoZmFsc2UpO1xuXG4gIC8vIFNldCB0aGUgY29udGVudFxuICBhd2FpdCBzZXRQYWdlQ29udGVudChwYWdlKTtcbiAgcmV0dXJuIHBhZ2U7XG59O1xuXG5leHBvcnQgY29uc3QgY2xlYXJQYWdlID0gYXN5bmMgKHBhZ2UsIGhhcmRSZXNldCA9IGZhbHNlKSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKGhhcmRSZXNldCkge1xuICAgICAgLy8gTmF2aWdhdGUgdG8gYWJvdXQ6YmxhbmtcbiAgICAgIGF3YWl0IHBhZ2UuZ290bygnYWJvdXQ6YmxhbmsnKTtcblxuICAgICAgLy8gU2V0IHRoZSBjb250ZW50IGFuZCBhbmQgc2NyaXB0cyBhZ2FpblxuICAgICAgYXdhaXQgc2V0UGFnZUNvbnRlbnQocGFnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENsZWFyIGJvZHkgY29udGVudFxuICAgICAgYXdhaXQgcGFnZS4kZXZhbChcbiAgICAgICAgJ2JvZHknLFxuICAgICAgICAoYm9keSkgPT5cbiAgICAgICAgICAoYm9keS5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgaWQ9XCJjaGFydC1jb250YWluZXJcIj48ZGl2IGlkPVwiY29udGFpbmVyXCI+PC9kaXY+PC9kaXY+JylcbiAgICAgICk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZygzLCAnW2Jyb3dzZXJdIENvdWxkIG5vdCBjbGVhciBwYWdlJyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGUgPSBhc3luYyAocHVwcGV0ZWVyQXJncykgPT4ge1xuICBjb25zdCBhbGxBcmdzID0gWy4uLm1pbmltYWxBcmdzLCAuLi4ocHVwcGV0ZWVyQXJncyB8fCBbXSldO1xuXG4gIC8vIENyZWF0ZSBhIGJyb3dzZXJcbiAgaWYgKCFicm93c2VyKSB7XG4gICAgbGV0IHRyeUNvdW50ID0gMDtcblxuICAgIGNvbnN0IG9wZW4gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsb2coXG4gICAgICAgICAgMyxcbiAgICAgICAgICAnW2Jyb3dzZXJdIGF0dGVtcHRpbmcgdG8gZ2V0IGEgYnJvd3NlciBpbnN0YW5jZSAodHJ5JyxcbiAgICAgICAgICB0cnlDb3VudCArICcpJ1xuICAgICAgICApO1xuXG4gICAgICAgIGJyb3dzZXIgPSBhd2FpdCBwdXBwZXRlZXIubGF1bmNoKHtcbiAgICAgICAgICBoZWFkbGVzczogJ25ldycsXG4gICAgICAgICAgYXJnczogYWxsQXJncyxcbiAgICAgICAgICB1c2VyRGF0YURpcjogJy4vdG1wLydcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZygwLCAnW2Jyb3dzZXJdJywgZSk7XG4gICAgICAgIGlmICgrK3RyeUNvdW50IDwgMjUpIHtcbiAgICAgICAgICBsb2coMywgJ1ticm93c2VyXSBmYWlsZWQ6JywgZSk7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc3BvbnNlKSA9PiBzZXRUaW1lb3V0KHJlc3BvbnNlLCA0MDAwKSk7XG4gICAgICAgICAgYXdhaXQgb3BlbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZygwLCAnTWF4IHJldHJpZXMgcmVhY2hlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBvcGVuKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nKDAsICdbYnJvd3Nlcl0gVW5hYmxlIHRvIG9wZW4gYnJvd3NlcicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghYnJvd3Nlcikge1xuICAgICAgbG9nKDAsICdbYnJvd3Nlcl0gVW5hYmxlIHRvIG9wZW4gYnJvd3NlcicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybiBhIGJyb3dzZXIgcHJvbWlzZVxuICByZXR1cm4gYnJvd3Nlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXQgPSBhc3luYyAoKSA9PiB7XG4gIGlmICghYnJvd3Nlcikge1xuICAgIHRocm93ICdObyB2YWxpZCBicm93c2VyIGhhcyBiZWVuIGNyZWF0ZWQnO1xuICB9XG5cbiAgcmV0dXJuIGJyb3dzZXI7XG59O1xuXG5leHBvcnQgY29uc3QgY2xvc2UgPSBhc3luYyAoKSA9PiB7XG4gIC8vIENsb3NlIHRoZSBicm93c2VyIHdoZW4gY29ubm5lY3RlZFxuICBpZiAoYnJvd3Nlci5jb25uZWN0ZWQpIHtcbiAgICBhd2FpdCBicm93c2VyLmNsb3NlKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmV3UGFnZSxcbiAgY2xlYXJQYWdlLFxuICBnZXQsXG4gIGNsb3NlXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIFRPRE86IHJlbW92ZSB0aGlzIHRlbXAgYmVuY2htYXJrIHN0dWZmLiBJIGhhZCB0aGlzIGlkZWEgb2YgZG9pbmcgYSBnZW5lcmFsIGJlbmNobWFya2luZ1xuLy8gc3lzdGVtLCBidXQgaXQgYWRkcyBzbyBtdWNoIGJsb2F0IGluIHRoZSBjb2RlIHRoYXQgaXQgc2hvdWxkbid0IGJlIHRoZXJlLlxuXG5pbXBvcnQgYmVuY2htYXJrIGZyb20gJy4vYmVuY2htYXJrLmpzJztcbmltcG9ydCBjYWNoZSBmcm9tICcuL2NhY2hlLmpzJztcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcbmltcG9ydCBzdmdUZW1wbGF0ZSBmcm9tICcuLy4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMnO1xuXG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIHVybCBmcm9tICd1cmwnO1xuXG5jb25zdCBfX2Jhc2VkaXIgPSB1cmwuZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuJywgaW1wb3J0Lm1ldGEudXJsKSk7XG5cbi8vIGNvbnN0IGpzb25UZW1wbGF0ZSA9IHJlcXVpcmUoJy4vLi4vdGVtcGxhdGVzL2pzb25fZXhwb3J0L2pzb25fZXhwb3J0LmpzJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgY2xpcCByZWdpb24gZm9yIHRoZSBjaGFydCBET00gbm9kZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gQSBjbGlwcGVkIHJlZ2lvbi5cbiAqL1xuY29uc3QgZ2V0Q2xpcFJlZ2lvbiA9IChwYWdlKSA9PlxuICBwYWdlLiRldmFsKCcjY2hhcnQtY29udGFpbmVyJywgKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQ6IE1hdGgudHJ1bmMoaGVpZ2h0ID4gMSA/IGhlaWdodCA6IDUwMClcbiAgICB9O1xuICB9KTtcblxuLyoqXG4gKiBSYXN0ZXJpemVzIHRoZSBwYWdlIHRvIGFuIGltYWdlIChQTkcgb3IgSlBFRylcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGEgcmVzdWx0IGltYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IGVuY29kaW5nIC0gVGhlIHR5cGUgb2YgZW5jb2RpbmcgdXNlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGlwIC0gVGhlIGNsaXAgcmVnaW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhc3Rlcml6YXRpb25UaW1lb3V0IC0gVGhlIHJhc3Rlcml6YXRpb24gdGltZW91dFxuICogaW4gbWlsbGlzZWNvbmRzLlxuICogQHJldHVybnMge3N0cmluZ30gLSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHNjcmVlbnNob3QuXG4gKi9cbmNvbnN0IGNyZWF0ZUltYWdlID0gYXN5bmMgKHBhZ2UsIHR5cGUsIGVuY29kaW5nLCBjbGlwLCByYXN0ZXJpemF0aW9uVGltZW91dCkgPT5cbiAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICBwYWdlLnNjcmVlbnNob3Qoe1xuICAgICAgdHlwZSxcbiAgICAgIGVuY29kaW5nLFxuICAgICAgY2xpcCxcblxuICAgICAgLy8gIzQ0NywgIzQ2MyAtIGFsd2F5cyByZW5kZXIgb24gYSB0cmFuc3BhcmVudCBwYWdlIGlmXG4gICAgICAvLyB0aGUgZXhwZWN0ZWQgdHlwZSBmb3JtYXQgaXMgUE5HXG4gICAgICBvbWl0QmFja2dyb3VuZDogdHlwZSA9PSAncG5nJ1xuICAgIH0pLFxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAoKSA9PiByZWplY3QobmV3IEVycm9yKCdSYXN0ZXJpemF0aW9uIHRpbWVvdXQnKSksXG4gICAgICAgIHJhc3Rlcml6YXRpb25UaW1lb3V0IHx8IDE1MDBcbiAgICAgIClcbiAgICApXG4gIF0pO1xuXG4vKipcbiAqIFR1cm5zIHBhZ2UgaW50byBhIFBERi5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiBhIGNoYXJ0LlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIGEgY2hhcnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZW5jb2RpbmcgLSBUaGUgdHlwZSBvZiBlbmNvZGluZyB1c2VkLlxuICogQHJldHVybiB7b2JqZWN0fSAtIEEgYnVmZmVyIHdpdGggUERGIHJlcHJlc2VudGF0aW9uLlxuICovXG5jb25zdCBjcmVhdGVQREYgPSBhc3luYyAocGFnZSwgaGVpZ2h0LCB3aWR0aCwgZW5jb2RpbmcpID0+XG4gIGF3YWl0IHBhZ2UucGRmKHtcbiAgICAvLyBUaGlzIHdpbGwgcmVtb3ZlIGFuIGV4dHJhIGVtcHR5IHBhZ2UgaW4gUERGIGV4cG9ydHNcbiAgICBoZWlnaHQ6IGhlaWdodCArIDEsXG4gICAgd2lkdGgsXG4gICAgZW5jb2RpbmdcbiAgfSk7XG5cbi8qKlxuICogRXhwb3J0cyBhcyBhIFNWRy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVGhlIG91dGVySFRNTCBlbGVtZW50IHdpdGggdGhlIFNWRyByZXByZXNlbnRhdGlvbi5cbiAqL1xuY29uc3QgY3JlYXRlU1ZHID0gYXN5bmMgKHBhZ2UpID0+XG4gIGF3YWl0IHBhZ2UuJGV2YWwoXG4gICAgJyNjb250YWluZXIgc3ZnOmZpcnN0LW9mLXR5cGUnLFxuICAgIChlbGVtZW50KSA9PiBlbGVtZW50Lm91dGVySFRNTFxuICApO1xuXG4vKiogTG9hZCBjb25maWcgaW50byBhIHBhZ2UgYW5kIHJlbmRlciBhIGNoYXJ0ICovXG5jb25zdCBzZXRBc0NvbmZpZyA9IGFzeW5jIChwYWdlLCBjaGFydCwgb3B0aW9ucykgPT5cbiAgYXdhaXQgcGFnZS5ldmFsdWF0ZShcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAoY2hhcnQsIG9wdGlvbnMpID0+IHdpbmRvdy50cmlnZ2VyRXhwb3J0KGNoYXJ0LCBvcHRpb25zKSxcbiAgICBjaGFydCxcbiAgICBvcHRpb25zXG4gICk7XG5cbi8qKiBMb2FkIFNWRyBpbnRvIGEgcGFnZSAqL1xuLy8gY29uc3Qgc2V0QXNTVkcgPSBhc3luYyAocGFnZSwgc3ZnU3RyKSA9PiB0cnVlO1xuXG4vKipcbiAqIERvZXMgYW4gZXhwb3J0IGZvciBhIGdpdmVuIGJyb3dzZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGJyb3dzZXIgLSBBIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gY2hhcnQgLSBDaGFydCdzIG9wdGlvbnMuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBUaGUgZGF0YSByZXR1cm5lZCBmcm9tIG9uZSBvZiB0aGUgbWV0aG9kcyBmb3IgZXhwb3J0aW5nXG4gKiBhIHNwZWNpZmljIHR5cGUgb2YgYW4gaW1hZ2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChwYWdlLCBjaGFydCwgb3B0aW9ucykgPT4ge1xuICAvKipcbiAgICogS2VlcHMgdHJhY2sgb2YgYWxsIHJlc291cmNlcyBhZGRlZCBvbiB0aGUgcGFnZSB3aXRoIGFkZFhYWFRhZy4gZXRjXG4gICAqIEl0J3MgVklUQUwgdGhhdCBhbGwgYWRkZWQgcmVzb3VyY2VzIGVuZHMgdXAgaGVyZSBzbyB3ZSBjYW4gY2xlYXIgdGhpbmdzXG4gICAqIG91dCB3aGVuIGRvaW5nIGEgbmV3IGV4cG9ydCBpbiB0aGUgc2FtZSBwYWdlIVxuICAgKi9cbiAgY29uc3QgaW5qZWN0ZWRSZXNvdXJjZXMgPSBbXTtcblxuICAvKiogQ2xlYXIgb3V0IGFsbCBzdGF0ZSBzZXQgb24gdGhlIHBhZ2Ugd2l0aCBhZGRTY3JpcHRUYWcvYWRkU3R5bGVUYWcuICovXG4gIGNvbnN0IGNsZWFySW5qZWN0ZWQgPSBhc3luYyAocGFnZSkgPT4ge1xuICAgIGZvciAoY29uc3QgcmVzIG9mIGluamVjdGVkUmVzb3VyY2VzKSB7XG4gICAgICBhd2FpdCByZXMuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IGFsbCBDU1MgYW5kIHNjcmlwdCB0YWdzXG4gICAgYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIGNvbnN0IFssIC4uLnNjcmlwdHNUb1JlbW92ZV0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIGNvbnN0IFssIC4uLnN0eWxlc1RvUmVtb3ZlXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdHlsZScpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBjb25zdCBbLi4ubGlua3NUb1JlbW92ZV0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpO1xuXG4gICAgICAvLyBSZW1vdmUgdGFnc1xuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIFtcbiAgICAgICAgLi4uc2NyaXB0c1RvUmVtb3ZlLFxuICAgICAgICAuLi5zdHlsZXNUb1JlbW92ZSxcbiAgICAgICAgLi4ubGlua3NUb1JlbW92ZVxuICAgICAgXSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgZXhwb3J0QmVuY2ggPSBiZW5jaG1hcmsoJ1B1cHBldGVlcicpO1xuXG4gICAgbG9nKDQsICdbZXhwb3J0XSBEZXRlcm1pbmluZyBleHBvcnQgcGF0aC4nKTtcblxuICAgIGNvbnN0IGV4cG9ydE9wdGlvbnMgPSBvcHRpb25zLmV4cG9ydDtcblxuICAgIC8vIEZvcmNlIGEgckFGXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wdXBwZXRlZXIvcHVwcGV0ZWVyL2lzc3Vlcy83NTA3XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge30pKTtcblxuICAgIC8vIERlY2lkZSB3aGV0aGVyIGRpc3BsYXkgZXJyb3Igb3IgZGViYnVnZXIgd3JhcHBlciBhcm91bmQgaXRcbiAgICBjb25zdCBkaXNwbGF5RXJyb3JzID1cbiAgICAgIGV4cG9ydE9wdGlvbnM/Lm9wdGlvbnM/LmNoYXJ0Py5kaXNwbGF5RXJyb3JzICYmXG4gICAgICBjYWNoZS5nZXRDYWNoZSgpLmFjdGl2ZU1hbmlmZXN0Lm1vZHVsZXMuZGVidWdnZXI7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKChkKSA9PiAod2luZG93Ll9kaXNwbGF5RXJyb3JzID0gZCksIGRpc3BsYXlFcnJvcnMpO1xuXG4gICAgY29uc3Qgc3ZnQmVuY2ggPSBiZW5jaG1hcmsoJ1NWRyBoYW5kbGluZycpO1xuXG4gICAgbGV0IGlzU1ZHO1xuXG4gICAgaWYgKFxuICAgICAgY2hhcnQuaW5kZXhPZiAmJlxuICAgICAgKGNoYXJ0LmluZGV4T2YoJzxzdmcnKSA+PSAwIHx8IGNoYXJ0LmluZGV4T2YoJzw/eG1sJykgPj0gMClcbiAgICApIHtcbiAgICAgIC8vIFNWRyBJTlBVVCBIQU5ETElOR1xuXG4gICAgICBsb2coNCwgJ1tleHBvcnRdIFRyZWF0aW5nIGFzIFNWRy4nKTtcblxuICAgICAgLy8gSWYgaW5wdXQgaXMgYWxzbyBzdmcsIGp1c3QgcmV0dXJuIGl0XG4gICAgICBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAnc3ZnJykge1xuICAgICAgICByZXR1cm4gY2hhcnQ7XG4gICAgICB9XG5cbiAgICAgIGlzU1ZHID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHNldFBhZ2VCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyBjb250ZW50Jyk7XG4gICAgICBhd2FpdCBwYWdlLnNldENvbnRlbnQoc3ZnVGVtcGxhdGUoY2hhcnQpKTtcbiAgICAgIHNldFBhZ2VCZW5jaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBKU09OIENvbmZpZyBoYW5kbGluZ1xuXG4gICAgICBsb2coNCwgJ1tleHBvcnRdIFRyZWF0aW5nIGFzIGNvbmZpZy4nKTtcblxuICAgICAgLy8gTmVlZCB0byBwZXJmb3JtIHN0cmFpZ2h0IGluamVjdFxuICAgICAgaWYgKGV4cG9ydE9wdGlvbnMuc3RySW5qKSB7XG4gICAgICAgIC8vIEluamVjdGlvbiBiYXNlZCBjb25maWd1cmF0aW9uIGV4cG9ydFxuICAgICAgICBjb25zdCBzZXRQYWdlQmVuY2ggPSBiZW5jaG1hcmsoJ1NldHRpbmcgcGFnZSBjb250ZW50IChpbmplY3QpJyk7XG5cbiAgICAgICAgYXdhaXQgc2V0QXNDb25maWcoXG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjaGFydDoge1xuICAgICAgICAgICAgICBoZWlnaHQ6IGV4cG9ydE9wdGlvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgICB3aWR0aDogZXhwb3J0T3B0aW9ucy53aWR0aFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuXG4gICAgICAgIHNldFBhZ2VCZW5jaCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQmFzaWMgY29uZmlndXJhdGlvbiBleHBvcnRcblxuICAgICAgICBjaGFydC5jaGFydC5oZWlnaHQgPSBleHBvcnRPcHRpb25zLmhlaWdodDtcbiAgICAgICAgY2hhcnQuY2hhcnQud2lkdGggPSBleHBvcnRPcHRpb25zLndpZHRoO1xuXG4gICAgICAgIGNvbnN0IHNldENvbnRlbnRCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyBwYWdlIGNvbnRlbnQgKGNvbmZpZyknKTtcbiAgICAgICAgYXdhaXQgc2V0QXNDb25maWcocGFnZSwgY2hhcnQsIG9wdGlvbnMpO1xuICAgICAgICBzZXRDb250ZW50QmVuY2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdmdCZW5jaCgpO1xuICAgIGNvbnN0IHJlc0JlbmNoID0gYmVuY2htYXJrKCdBcHBseWluZyByZXNvdXJjZXMnKTtcblxuICAgIC8vIFVzZSByZXNvdXJjZXNcbiAgICBjb25zdCByZXNvdXJjZXMgPSBvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzO1xuICAgIGlmIChyZXNvdXJjZXMpIHtcbiAgICAgIC8vIExvYWQgY3VzdG9tIEpTIGNvZGVcbiAgICAgIGlmIChyZXNvdXJjZXMuanMpIHtcbiAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcbiAgICAgICAgICBhd2FpdCBwYWdlLmFkZFNjcmlwdFRhZyh7XG4gICAgICAgICAgICBjb250ZW50OiByZXNvdXJjZXMuanNcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBMb2FkIHNjcmlwdHMgZnJvbSBhbGwgY3VzdG9tIGZpbGVzXG4gICAgICBpZiAocmVzb3VyY2VzLmZpbGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiByZXNvdXJjZXMuZmlsZXMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXNMb2NhbCA9ICFmaWxlLnN0YXJ0c1dpdGgoJ2h0dHAnKSA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICAgICAgLy8gQWRkIGVhY2ggY3VzdG9tIHNjcmlwdCBmcm9tIHJlc291cmNlcycgZmlsZXNcbiAgICAgICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goXG4gICAgICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU2NyaXB0VGFnKFxuICAgICAgICAgICAgICAgIGlzTG9jYWxcbiAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlYWRGaWxlU3luYyhmaWxlLCAndXRmOCcpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIHVybDogZmlsZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBjYXRjaCAobm90aWNlKSB7XG4gICAgICAgICAgICBsb2coNCwgJ1tleHBvcnRdIEpTIGZpbGUgbm90IGZvdW5kLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBjc3NCZW5jaCA9IGJlbmNobWFyaygnTG9hZGluZyBjc3MnKTtcblxuICAgICAgLy8gTG9hZCBDU1NcbiAgICAgIGlmIChyZXNvdXJjZXMuY3NzKSB7XG4gICAgICAgIGxldCBjc3NJbXBvcnRzID0gcmVzb3VyY2VzLmNzcy5tYXRjaCgvQGltcG9ydFxccyooW147XSopOy9nKTtcbiAgICAgICAgaWYgKGNzc0ltcG9ydHMpIHtcbiAgICAgICAgICAvLyBIYW5kbGUgY3NzIHNlY3Rpb25cbiAgICAgICAgICBmb3IgKGxldCBjc3NJbXBvcnRQYXRoIG9mIGNzc0ltcG9ydHMpIHtcbiAgICAgICAgICAgIGlmIChjc3NJbXBvcnRQYXRoKSB7XG4gICAgICAgICAgICAgIGNzc0ltcG9ydFBhdGggPSBjc3NJbXBvcnRQYXRoXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ3VybCgnLCAnJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgnQGltcG9ydCcsICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvOy8sICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCkvZywgJycpXG4gICAgICAgICAgICAgICAgLnRyaW0oKTtcblxuICAgICAgICAgICAgICAvLyBBZGQgZWFjaCBjdXN0b20gY3NzIGZyb20gcmVzb3VyY2VzXG4gICAgICAgICAgICAgIGlmIChjc3NJbXBvcnRQYXRoLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICBhd2FpdCBwYWdlLmFkZFN0eWxlVGFnKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBjc3NJbXBvcnRQYXRoXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcykge1xuICAgICAgICAgICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICBhd2FpdCBwYWdlLmFkZFN0eWxlVGFnKHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aC5qb2luKF9fYmFzZWRpciwgY3NzSW1wb3J0UGF0aClcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSBDU1Mgc2VjdGlvbiB3aWxsIGJlIGNvbnRlbnQgYnkgbm93XG4gICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goXG4gICAgICAgICAgYXdhaXQgcGFnZS5hZGRTdHlsZVRhZyh7XG4gICAgICAgICAgICBjb250ZW50OiByZXNvdXJjZXMuY3NzLnJlcGxhY2UoL0BpbXBvcnRcXHMqKFteO10qKTsvZywgJycpIHx8ICcgJ1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNzc0JlbmNoKCk7XG4gICAgfVxuXG4gICAgcmVzQmVuY2goKTtcblxuICAgIC8vIEdldCB0aGUgcmVhbCBjaGFydCBzaXplXG4gICAgY29uc3Qgc2l6ZSA9IGlzU1ZHXG4gICAgICA/IGF3YWl0IHBhZ2UuJGV2YWwoXG4gICAgICAgICAgJyNjaGFydC1jb250YWluZXIgc3ZnOmZpcnN0LW9mLXR5cGUnLFxuICAgICAgICAgIGFzeW5jIChlbGVtZW50LCBzY2FsZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgY2hhcnRIZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0LmJhc2VWYWwudmFsdWUgKiBzY2FsZSxcbiAgICAgICAgICAgICAgY2hhcnRXaWR0aDogZWxlbWVudC53aWR0aC5iYXNlVmFsLnZhbHVlICogc2NhbGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpXG4gICAgICAgIClcbiAgICAgIDogYXdhaXQgcGFnZS5ldmFsdWF0ZShhc3luYyAoKSA9PiB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgY29uc3QgeyBjaGFydEhlaWdodCwgY2hhcnRXaWR0aCB9ID0gd2luZG93LkhpZ2hjaGFydHMuY2hhcnRzWzBdO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFydEhlaWdodCxcbiAgICAgICAgICAgIGNoYXJ0V2lkdGhcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgIGNvbnN0IHZwQmVuY2ggPSBiZW5jaG1hcmsoJ1NldHRpbmcgdmlld3BvcnQnKTtcblxuICAgIC8vIFNldCBmaW5hbCBoZWlnaHQgYW5kIHdpZHRoIGZvciB2aWV3cG9ydFxuICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gTWF0aC5jZWlsKHNpemU/LmNoYXJ0SGVpZ2h0IHx8IGV4cG9ydE9wdGlvbnMuaGVpZ2h0KTtcbiAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gTWF0aC5jZWlsKHNpemU/LmNoYXJ0V2lkdGggfHwgZXhwb3J0T3B0aW9ucy53aWR0aCk7XG5cbiAgICAvLyBTZXQgdGhlIHZpZXdwb3J0IGZvciB0aGUgZmlyc3QgdGltZVxuICAgIC8vIE5PVEU6IHRoZSBjYWxsIHRvIHNldFZpZXdwb3J0IGlzIGV4cGVuc2l2ZSAtIGNhbiB3ZSBnZXQgYXdheSB3aXRoIG9ubHlcbiAgICAvLyBjYWxsaW5nIGl0IG9uY2UsIGUuZy4gbW92aW5nIHRoaXMgb25lIGludG8gdGhlIGlzU1ZHIGNvbmRpdGlvbiBiZWxvdz9cbiAgICBhd2FpdCBwYWdlLnNldFZpZXdwb3J0KHtcbiAgICAgIGhlaWdodDogdmlld3BvcnRIZWlnaHQsXG4gICAgICB3aWR0aDogdmlld3BvcnRXaWR0aCxcbiAgICAgIGRldmljZVNjYWxlRmFjdG9yOiBpc1NWRyA/IDEgOiBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpXG4gICAgfSk7XG5cbiAgICAvLyBQcmVwYXJlIGEgem9vbSBjYWxsYmFjayBmb3IgdGhlIG5leHQgZXZhbHVhdGUgY2FsbFxuICAgIGNvbnN0IHpvb21DYWxsYmFjayA9IGlzU1ZHXG4gICAgICA/IC8vIEluIGNhc2Ugb2YgU1ZHIHRoZSB6b29tIG11c3QgYmUgc2V0IGRpcmVjdGx5IGZvciBib2R5XG4gICAgICAgIChzY2FsZSkgPT4ge1xuICAgICAgICAgIC8vIFNldCB0aGUgem9vbSBhcyBzY2FsZVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9IHNjYWxlO1xuXG4gICAgICAgICAgLy8gU2V0IHRoZSBtYXJnaW4gdG8gMHB4XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAnMHB4JztcbiAgICAgICAgfVxuICAgICAgOiAvLyBObyBuZWVkIGZvciBzdWNoIHNjYWxlIG1hbmlwdWxhdGlvbiBpbiBjYXNlIG9mIG90aGVyIHR5cGVzIG9mIGV4cG9ydHNcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIFJlc2V0IHRoZSB6b29tIGZvciBvdGhlciBleHBvcnRzIHRoYW4gdG8gU1ZHc1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9IDE7XG4gICAgICAgIH07XG5cbiAgICAvLyBTZXQgdGhlIHpvb20gYWNjb3JkaW5nbHlcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKHpvb21DYWxsYmFjaywgcGFyc2VGbG9hdChleHBvcnRPcHRpb25zLnNjYWxlKSk7XG5cbiAgICAvLyBHZXQgdGhlIGNsaXAgcmVnaW9uIGZvciB0aGUgcGFnZVxuICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCwgeCwgeSB9ID0gYXdhaXQgZ2V0Q2xpcFJlZ2lvbihwYWdlKTtcblxuICAgIGlmICghaXNTVkcpIHtcbiAgICAgIC8vIFNldCB0aGUgZmluYWwgdmlld3BvcnQgbm93IHRoYXQgd2UgaGF2ZSB0aGUgcmVhbCBoZWlnaHRcbiAgICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQoe1xuICAgICAgICB3aWR0aDogTWF0aC5yb3VuZCh3aWR0aCksXG4gICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQpLFxuICAgICAgICBkZXZpY2VTY2FsZUZhY3RvcjogcGFyc2VGbG9hdChleHBvcnRPcHRpb25zLnNjYWxlKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdnBCZW5jaCgpO1xuXG4gICAgbGV0IGRhdGE7XG5cbiAgICBjb25zdCBleHBCZW5jaG1hcmsgPSBiZW5jaG1hcmsoJ1Jhc3Rlcml6aW5nIGNoYXJ0Jyk7XG5cbiAgICAvLyBSQVNURVJJWkFUSU9OXG4gICAgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgIC8vIFNWR1xuICAgICAgZGF0YSA9IGF3YWl0IGNyZWF0ZVNWRyhwYWdlKTtcbiAgICB9IGVsc2UgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3BuZycgfHwgZXhwb3J0T3B0aW9ucy50eXBlID09PSAnanBlZycpIHtcbiAgICAgIC8vIFBORyBvciBKUEVHXG4gICAgICBkYXRhID0gYXdhaXQgY3JlYXRlSW1hZ2UoXG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGV4cG9ydE9wdGlvbnMudHlwZSxcbiAgICAgICAgJ2Jhc2U2NCcsXG4gICAgICAgIHtcbiAgICAgICAgICB3aWR0aDogdmlld3BvcnRXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0LFxuICAgICAgICAgIHgsXG4gICAgICAgICAgeVxuICAgICAgICB9LFxuICAgICAgICBleHBvcnRPcHRpb25zLnJhc3Rlcml6YXRpb25UaW1lb3V0XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAncGRmJykge1xuICAgICAgLy8gUERGXG4gICAgICBkYXRhID0gYXdhaXQgY3JlYXRlUERGKHBhZ2UsIHZpZXdwb3J0SGVpZ2h0LCB2aWV3cG9ydFdpZHRoLCAnYmFzZTY0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGBVbnN1cHBvcnRlZCBvdXRwdXQgZm9ybWF0ICR7ZXhwb3J0T3B0aW9ucy50eXBlfWA7XG4gICAgfVxuXG4gICAgLy8gRGVzdHJveSBvbGQgY2hhcnRzIGFmdGVyIHRoZSBleHBvcnQgaXMgZG9uZVxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBjb25zdCBvbGRDaGFydHMgPSBIaWdoY2hhcnRzLmNoYXJ0cztcblxuICAgICAgLy8gQ2hlY2sgaW4gYW55IGFscmVhZHkgZXhpc3RpbmcgY2hhcnRzXG4gICAgICBpZiAob2xkQ2hhcnRzLmxlbmd0aCkge1xuICAgICAgICAvLyBEZXN0cm95IG9sZCBjaGFydHNcbiAgICAgICAgZm9yIChjb25zdCBvbGRDaGFydCBvZiBvbGRDaGFydHMpIHtcbiAgICAgICAgICBvbGRDaGFydCAmJiBvbGRDaGFydC5kZXN0cm95KCk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgSGlnaGNoYXJ0cy5jaGFydHMuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZXhwQmVuY2htYXJrKCk7XG4gICAgZXhwb3J0QmVuY2goKTtcblxuICAgIGF3YWl0IGNsZWFySW5qZWN0ZWQocGFnZSk7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBhd2FpdCBjbGVhckluamVjdGVkKHBhZ2UpO1xuICAgIGxvZygxLCBgW2V4cG9ydF0gRXJyb3IgZW5jb3VudGVyZWQgZHVyaW5nIGV4cG9ydDogJHtlcnJvcn1gKTtcblxuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMiwgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XG5jb25zdCB0aW1lcnMgPSB7fTtcblxuLy8gVE9ETzogUmVhZCBmcm9tIGNvbmZpZ1xubGV0IGVuYWJsZWQgPSBmYWxzZTtcblxuZXhwb3J0IGRlZmF1bHQgKGlkKSA9PiB7XG4gIGlmICghZW5hYmxlZCkge1xuICAgIHJldHVybiAoKSA9PiB7fTtcbiAgfVxuXG4gIHRpbWVyc1tpZF0gPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxvZyhcbiAgICAgIDMsXG4gICAgICBgW2JlbmNobWFya10gLSAke2lkfTogJHtuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRpbWVyc1tpZF0uZ2V0VGltZSgpfW1zYFxuICAgICk7XG4gIH07XG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBjc3NUZW1wbGF0ZSBmcm9tICcuL2Nzcy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IChjaGFydCkgPT4gYFxuPCFET0NUWVBFIGh0bWw+XG48aHRtbCBsYW5nPSdlbi1VUyc+XG4gIDxoZWFkPlxuICAgIDxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVR5cGVcIiBjb250ZW50PVwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCI+XG4gICAgPHRpdGxlPkhpZ2hjYXJ0cyBFeHBvcnQ8L3RpdGxlPlxuICA8L2hlYWQ+XG4gIDxzdHlsZT5cbiAgICAke2Nzc1RlbXBsYXRlKCl9XG4gIDwvc3R5bGU+XG4gIDxib2R5PlxuICAgIDxkaXYgaWQ9XCJjaGFydC1jb250YWluZXJcIj5cbiAgICAgICR7Y2hhcnR9XG4gICAgPC9kaXY+XG4gIDwvYm9keT5cbjwvaHRtbD5cblxuYDtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBQb29sIH0gZnJvbSAndGFybic7XG5pbXBvcnQge1xuICBjbG9zZSxcbiAgY3JlYXRlIGFzIGNyZWF0ZUJyb3dzZXIsXG4gIG5ld1BhZ2UgYXMgYnJvd3Nlck5ld1BhZ2UsXG4gIGNsZWFyUGFnZVxufSBmcm9tICcuL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuXG5pbXBvcnQgcHVwcGV0ZWVyRXhwb3J0IGZyb20gJy4vZXhwb3J0LmpzJztcblxubGV0IHBlcmZvcm1lZEV4cG9ydHMgPSAwO1xubGV0IGV4cG9ydEF0dGVtcHRzID0gMDtcbmxldCB0aW1lU3BlbnQgPSAwO1xubGV0IGRyb3BwZWRFeHBvcnRzID0gMDtcbmxldCBzcGVudEF2ZXJhZ2UgPSAwO1xubGV0IHBvb2xDb25maWcgPSB7fTtcblxuLy8gVGhlIHBvb2wgaW5zdGFuY2VcbmxldCBwb29sID0gZmFsc2U7XG5cbi8vIEN1c3RvbSBwdXBwZXRlZXIgYXJndW1lbnRzXG5sZXQgcHVwcGV0ZWVyQXJncztcblxuY29uc3QgZmFjdG9yeSA9IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgd29ya2VyLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IC0gQW4gb2JqZWN0IHdpdGggdGhlIGlkIG9mIGEgcmVzb3VyY2UsIHRoZSB3b3JrIGNvdW50IGFuZFxuICAgKiBhIHJlZmVyZW5jZSB0byB0aGUgYnJvd3NlciBwYWdlLlxuICAgKi9cbiAgY3JlYXRlOiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaWQgPSB1dWlkKCk7XG4gICAgbGV0IHBhZ2UgPSBmYWxzZTtcblxuICAgIGNvbnN0IHMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIHRyeSB7XG4gICAgICBwYWdlID0gYXdhaXQgYnJvd3Nlck5ld1BhZ2UoKTtcblxuICAgICAgaWYgKCFwYWdlIHx8IHBhZ2UuaXNDbG9zZWQoKSkge1xuICAgICAgICB0aHJvdyAnW3Bvb2xdIEludmFsaWQgcGFnZSc7XG4gICAgICB9XG5cbiAgICAgIGxvZyhcbiAgICAgICAgMyxcbiAgICAgICAgYFtwb29sXSBTdWNjZXNzZnVsbHkgY3JlYXRlZCBhIHdvcmtlciAke2lkfSAtIHRvb2sgJHtcbiAgICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNcbiAgICAgICAgfSBtcy5gXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2coXG4gICAgICAgIDEsXG4gICAgICAgIGBbcG9vbF0gRXJyb3IgY3JlYXRpbmcgYSBuZXcgcGFnZSBpbiBwb29sIGVudHJ5IGNyZWF0aW9uISAke2Vycm9yfWBcbiAgICAgICk7XG5cbiAgICAgIHRocm93ICdFcnJvciBjcmVhdGluZyBwYWdlJztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICBwYWdlLFxuICAgICAgLy8gVHJ5IHRvIGRpc3RyaWJ1dGUgdGhlIGluaXRpYWwgd29yayBjb3VudFxuICAgICAgd29ya0NvdW50OiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAocG9vbENvbmZpZy53b3JrTGltaXQgLyAyKSlcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgYSB3b3JrZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB3b3JrZXJIYW5kbGUgLSBBIGJyb3dzZXIncyBpbnN0YW5jZS5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gLSBCb29sIHRoYXQgaW5kaWNhdGVzIGlmIGEgcmVzb3VyY2UgaXMgdmFsaWQgb3Igbm90LlxuICAgKi9cbiAgdmFsaWRhdGU6IGFzeW5jICh3b3JrZXJIYW5kbGUpID0+IHtcbiAgICBpZiAoXG4gICAgICBwb29sQ29uZmlnLndvcmtMaW1pdCAmJlxuICAgICAgKyt3b3JrZXJIYW5kbGUud29ya0NvdW50ID4gcG9vbENvbmZpZy53b3JrTGltaXRcbiAgICApIHtcbiAgICAgIGxvZyhcbiAgICAgICAgMyxcbiAgICAgICAgYFtwb29sXSBXb3JrZXIgZmFpbGVkIHZhbGlkYXRpb246YCxcbiAgICAgICAgYGV4Y2VlZGVkIHdvcmsgbGltaXQgKGxpbWl0IGlzICR7cG9vbENvbmZpZy53b3JrTGltaXR9KWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgcGFnZVxuICAgIGF3YWl0IGNsZWFyUGFnZSh3b3JrZXJIYW5kbGUucGFnZSwgZmFsc2UpO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyBhIHdvcmtlci5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHdvcmtlckhhbmRsZSAtIEEgYnJvd3NlcidzIGluc3RhbmNlLlxuICAgKi9cbiAgZGVzdHJveTogKHdvcmtlckhhbmRsZSkgPT4ge1xuICAgIGxvZygzLCBgW3Bvb2xdIERlc3Ryb3lpbmcgcG9vbCBlbnRyeSAke3dvcmtlckhhbmRsZS5pZH0uYCk7XG5cbiAgICBpZiAod29ya2VySGFuZGxlLnBhZ2UpIHtcbiAgICAgIC8vIFdlIGRvbid0IHJlYWxseSBuZWVkIHRvIHdhaXQgYXJvdW5kIGZvciB0aGlzLlxuICAgICAgd29ya2VySGFuZGxlLnBhZ2UuY2xvc2UoKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gTG9nZ2VyIGZ1bmN0aW9uXG4gIGxvZzogKG1lc3NhZ2UsIGxvZ0xldmVsKSA9PiBjb25zb2xlLmxvZyhgJHtsb2dMZXZlbH06ICR7bWVzc2FnZX1gKVxufTtcblxuLyoqXG4gKiBJbml0cyB0aGUgcG9vbCBvZiByZXNvdXJjZXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIFBvb2wgY29uZmlndXJhdGlvbiBhbG9uZyB3aXRoIGN1c3RvbSBwdXBwZXRlZXJcbiAqIGFyZ3VtZW50cyBmb3IgdGhlIHB1cHBldGVlci5sYXVuY2ggZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBpbml0ID0gYXN5bmMgKGNvbmZpZykgPT4ge1xuICAvLyBUaGUgbmV3ZXN0IHB1cHBldGVlciBhcmd1bWVudHMgZm9yIHRoZSBicm93c2VyIGNyZWF0aW9uXG4gIHB1cHBldGVlckFyZ3MgPSBjb25maWcucHVwcGV0ZWVyQXJncztcblxuICAvLyBXYWl0IHVudGlsIHdlJ3ZlIHN1Y2Vzc2Z1bGx5IGNyZWF0ZWQgYSBicm93c2VyIGluc3RhbmNlLlxuICB0cnkge1xuICAgIGF3YWl0IGNyZWF0ZUJyb3dzZXIocHVwcGV0ZWVyQXJncyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2coMCwgJ1twb29sfGJyb3dzZXJdJywgZSk7XG4gIH1cblxuICAvLyBGb3IgdGhlIG1vZHVsZSBzY29wZSB1c2FnZVxuICBwb29sQ29uZmlnID0gY29uZmlnICYmIGNvbmZpZy5wb29sID8geyAuLi5jb25maWcucG9vbCB9IDoge307XG5cbiAgbG9nKFxuICAgIDMsXG4gICAgJ1twb29sXSBJbml0aWFsaXppbmcgcG9vbDonLFxuICAgIGBtaW4gJHtwb29sQ29uZmlnLm1pbldvcmtlcnN9LCBtYXggJHtwb29sQ29uZmlnLm1heFdvcmtlcnN9LmBcbiAgKTtcblxuICBpZiAocG9vbCkge1xuICAgIHJldHVybiBsb2coXG4gICAgICA0LFxuICAgICAgJ1twb29sXSBBbHJlYWR5IGluaXRpYWxpemVkLCBwbGVhc2Uga2lsbCBpdCBiZWZvcmUgY3JlYXRpbmcgYSBuZXcgb25lLidcbiAgICApO1xuICB9XG5cbiAgLy8gQXR0YWNoIHByb2Nlc3MnIGV4aXQgbGlzdGVuZXJzXG4gIGlmIChwb29sQ29uZmlnLmxpc3RlblRvUHJvY2Vzc0V4aXRzKSB7XG4gICAgYXR0YWNoUHJvY2Vzc0V4aXRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIGEgcG9vbCBhbG9uZyB3aXRoIGEgbWluaW1hbCBudW1iZXIgb2YgcmVzb3VyY2VzXG4gICAgcG9vbCA9IG5ldyBQb29sKHtcbiAgICAgIC8vIEdldCB0aGUgY3JlYXRlL3ZhbGlkYXRlL2Rlc3Ryb3kvbG9nIGZ1bmN0aW9uc1xuICAgICAgLi4uZmFjdG9yeSxcbiAgICAgIG1pbjogcG9vbENvbmZpZy5taW5Xb3JrZXJzLFxuICAgICAgbWF4OiBwb29sQ29uZmlnLm1heFdvcmtlcnMsXG4gICAgICBhY3F1aXJlVGltZW91dE1pbGxpczogcG9vbENvbmZpZy5hY3F1aXJlVGltZW91dCxcbiAgICAgIGNyZWF0ZVRpbWVvdXRNaWxsaXM6IHBvb2xDb25maWcuY3JlYXRlVGltZW91dCxcbiAgICAgIGRlc3Ryb3lUaW1lb3V0TWlsbGlzOiBwb29sQ29uZmlnLmRlc3Ryb3lUaW1lb3V0LFxuICAgICAgaWRsZVRpbWVvdXRNaWxsaXM6IHBvb2xDb25maWcuaWRsZVRpbWVvdXQsXG4gICAgICBjcmVhdGVSZXRyeUludGVydmFsTWlsbGlzOiBwb29sQ29uZmlnLmNyZWF0ZVJldHJ5SW50ZXJ2YWwsXG4gICAgICByZWFwSW50ZXJ2YWxNaWxsaXM6IHBvb2xDb25maWcucmVhcGVySW50ZXJ2YWwsXG4gICAgICBwcm9wYWdhdGVDcmVhdGVFcnJvcjogZmFsc2VcbiAgICB9KTtcblxuICAgIC8vIFNldCBldmVudHNcbiAgICBwb29sLm9uKCdjcmVhdGVGYWlsJywgKGV2ZW50SWQsIGVycikgPT4ge1xuICAgICAgbG9nKFxuICAgICAgICAxLFxuICAgICAgICBgW3Bvb2xdIEVycm9yIHdoZW4gY3JlYXRpbmcgd29ya2VyIG9mIGFuIGV2ZW50IGlkICR7ZXZlbnRJZH06YCxcbiAgICAgICAgZXJyXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcG9vbC5vbignYWNxdWlyZUZhaWwnLCAoZXZlbnRJZCwgZXJyKSA9PiB7XG4gICAgICBsb2coXG4gICAgICAgIDEsXG4gICAgICAgIGBbcG9vbF0gRXJyb3Igd2hlbiBhY3F1aXJpbmcgd29ya2VyIG9mIGFuIGV2ZW50IGlkICR7ZXZlbnRJZH06YCxcbiAgICAgICAgZXJyXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcG9vbC5vbignZGVzdHJveUZhaWwnLCAoZXZlbnRJZCwgcmVzb3VyY2UsIGVycikgPT4ge1xuICAgICAgbG9nKFxuICAgICAgICAxLFxuICAgICAgICBgW3Bvb2xdIEVycm9yIHdoZW4gZGVzdHJveWluZyB3b3JrZXIgb2YgYW4gaWQgJHtyZXNvdXJjZS5pZH0sIGV2ZW50IGlkICR7ZXZlbnRJZH06YCxcbiAgICAgICAgZXJyXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcG9vbC5vbigncmVsZWFzZScsIGFzeW5jIChyZXNvdXJjZSkgPT4ge1xuICAgICAgLy8gQ2xlYXIgcGFnZVxuICAgICAgYXdhaXQgY2xlYXJQYWdlKHJlc291cmNlLnBhZ2UsIGZhbHNlKTtcbiAgICAgIGxvZyg0LCBgW3Bvb2xdIFJlbGVhc2luZyBhIHdvcmtlciBvZiBhbiBpZCAke3Jlc291cmNlLmlkfWApO1xuICAgIH0pO1xuXG4gICAgcG9vbC5vbignZGVzdHJveVN1Y2Nlc3MnLCAoZXZlbnRJZCwgcmVzb3VyY2UpID0+IHtcbiAgICAgIGxvZyg0LCBgW3Bvb2xdIERlc3Ryb3llZCBhIHdvcmtlciBvZiBhbiBpZCAke3Jlc291cmNlLmlkfWApO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaW5pdGlhbFJlc291cmNlcyA9IFtdO1xuICAgIC8vIENyZWF0ZSBhbiBpbml0aWFsIG51bWJlciBvZiByZXNvdXJjZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvb2xDb25maWcubWluV29ya2VyczsgaSsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNvdXJjZSA9IGF3YWl0IHBvb2wuYWNxdWlyZSgpLnByb21pc2U7XG4gICAgICAgIGluaXRpYWxSZXNvdXJjZXMucHVzaChyZXNvdXJjZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2coMSwgYFtwb29sXSBDb3VsZG4ndCBjcmVhdGUgYW4gaW5pdGlhbCByZXNvdXJjZSAke2Vycm9yfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbGVhc2UgdGhlIGluaXRpYWwgbnVtYmVyIG9mIHJlc291cmNlcyBiYWNrIHRvIHRoZSBwb29sXG4gICAgaW5pdGlhbFJlc291cmNlcy5mb3JFYWNoKChyZXNvdXJjZSkgPT4ge1xuICAgICAgcG9vbC5yZWxlYXNlKHJlc291cmNlKTtcbiAgICB9KTtcblxuICAgIGxvZyhcbiAgICAgIDMsXG4gICAgICBgW3Bvb2xdIFRoZSBwb29sIGlzIHJlYWR5IHdpdGggJHtwb29sQ29uZmlnLm1pbldvcmtlcnN9IGluaXRpYWwgcmVzb3VyY2VzIHdhaXRpbmcuYFxuICAgICk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKDEsIGBbcG9vbF0gQ291bGRuJ3QgY3JlYXRlIHRoZSB3b3JrZXIgcG9vbCAke2Vycm9yfWApO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vKipcbiAqIEF0dGFjaGVzIHByb2Nlc3MnIGV4aXQgbGlzdGVuZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoUHJvY2Vzc0V4aXRMaXN0ZW5lcnMoKSB7XG4gIGxvZyg0LCAnW3Bvb2xdIEF0dGFjaGluZyBleGl0IGxpc3RlbmVycyB0byB0aGUgcHJvY2Vzcy4nKTtcblxuICAvLyBLaWxsIGFsbCBwb29sIHJlc291cmNlcyBvbiBleGl0XG4gIHByb2Nlc3Mub24oJ2V4aXQnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQga2lsbFBvb2woKTtcbiAgfSk7XG5cbiAgLy8gSGFuZGxlciBmb3IgdGhlIFNJR0lOVFxuICBwcm9jZXNzLm9uKCdTSUdJTlQnLCAobmFtZSwgY29kZSkgPT4ge1xuICAgIGxvZyg0LCBgVGhlICR7bmFtZX0gZXZlbnQgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgfSk7XG5cbiAgLy8gSGFuZGxlciBmb3IgdGhlIFNJR1RFUk1cbiAgcHJvY2Vzcy5vbignU0lHVEVSTScsIChuYW1lLCBjb2RlKSA9PiB7XG4gICAgbG9nKDQsIGBUaGUgJHtuYW1lfSBldmVudCB3aXRoIGNvZGU6ICR7Y29kZX0uYCk7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xuICB9KTtcblxuICAvLyBIYW5kbGVyIGZvciB0aGUgdW5jYXVnaHRFeGNlcHRpb25cbiAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCBhc3luYyAoZXJyb3IsIG5hbWUpID0+IHtcbiAgICBsb2coNCwgYFRoZSAke25hbWV9IGVycm9yLCBtZXNzYWdlOiAke2Vycm9yLm1lc3NhZ2V9LmApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBLaWxscyB0aGUgcG9vbCBhbmQgZmx1c2ggdGhlIGJyb3dzZXIgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBraWxsUG9vbCgpIHtcbiAgbG9nKDMsICdbcG9vbF0gS2lsbGluZyBhbGwgd29ya2Vycy4nKTtcblxuICAvLyBSZXR1cm4gdHJ1ZSB3aGVuIHRoZSBwb29sIGlzIGFscmVhZHkgZGVzdHJveWVkXG4gIGlmIChwb29sLmRlc3Ryb3llZCkge1xuICAgIC8vIENsb3NlIHRoZSBicm93c2VyIGluc3RhbmNlIGlmIHN0aWxsIGNvbm5lY3RlZFxuICAgIGF3YWl0IGNsb3NlKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBJZiBzdGlsbCBhbGl2ZSwgZGVzdHJveSB0aGUgcG9vbCBvZiBwYWdlcyBiZWZvcmUgY2xvc2luZyBhIGJyb3dzZXJcbiAgYXdhaXQgcG9vbC5kZXN0cm95KCk7XG5cbiAgLy8gQ2xvc2UgdGhlIGJyb3dzZXIgaW5zdGFuY2VcbiAgYXdhaXQgY2xvc2UoKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogUG9zdHMgd29yayB0byB0aGUgcG9vbC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY2hhcnQgLSBDaGFydCdzIG9wdGlvbnMuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBvc3RXb3JrID0gYXN5bmMgKGNoYXJ0LCBvcHRpb25zKSA9PiB7XG4gIGxldCB3b3JrZXJIYW5kbGU7XG5cbiAgLy8gSGFuZGxlIGZhaWwgY29uZGl0aW9uc1xuICBjb25zdCBmYWlsID0gKG1zZykgPT4ge1xuICAgICsrZHJvcHBlZEV4cG9ydHM7XG5cbiAgICBpZiAod29ya2VySGFuZGxlKSB7XG4gICAgICBwb29sLnJlbGVhc2Uod29ya2VySGFuZGxlKTtcbiAgICB9XG5cbiAgICB0aHJvdyAnSW4gcG9vbC5wb3N0V29yazogJyArIG1zZztcbiAgfTtcblxuICBsb2coNCwgJ1twb29sXSBXb3JrIHJlY2VpdmVkLCBzdGFydGluZyB0byBwcm9jZXNzLicpO1xuXG4gIGlmIChwb29sQ29uZmlnLmJlbmNobWFya2luZykge1xuICAgIGdldFBvb2xJbmZvKCk7XG4gIH1cblxuICArK2V4cG9ydEF0dGVtcHRzO1xuXG4gIGlmICghcG9vbCkge1xuICAgIGxvZygxLCAnW3Bvb2xdIFdvcmsgcmVjZWl2ZWQsIGJ1dCBwb29sIGhhcyBub3QgYmVlbiBzdGFydGVkLicpO1xuICAgIHJldHVybiBmYWlsKCdQb29sIGlzIG5vdCBpbml0ZWQgYnV0IHdvcmsgd2FzIHBvc3RlZCB0byBpdCEnKTtcbiAgfVxuXG4gIC8vIEFjcXVpcmUgdGhlIHdvcmtlciBhbG9uZyB3aXRoIHRoZSBpZCBvZiByZXNvdXJjZSBhbmQgd29yayBjb3VudFxuICB0cnkge1xuICAgIGxvZyg0LCAnW3Bvb2xdIEFjcXVpcmluZyB3b3JrZXInKTtcbiAgICB3b3JrZXJIYW5kbGUgPSBhd2FpdCBwb29sLmFjcXVpcmUoKS5wcm9taXNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWlsKGBbcG9vbF0gRXJyb3Igd2hlbiBhY3F1aXJpbmcgYXZhaWxhYmxlIGVudHJ5OiAke2Vycm9yfWApO1xuICB9XG5cbiAgbG9nKDQsICdbcG9vbF0gQWNxdWlyZWQgd29ya2VyIGhhbmRsZScpO1xuXG4gIGlmICghd29ya2VySGFuZGxlLnBhZ2UpIHtcbiAgICByZXR1cm4gZmFpbCgnUmVzb2x2ZWQgd29ya2VyIHBhZ2UgaXMgaW52YWxpZDogcG9vbCBzZXR1cCBpcyB3b25reScpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBTYXZlIHRoZSBzdGFydCB0aW1lXG4gICAgbGV0IHdvcmtTdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgbG9nKDQsIGBbcG9vbF0gU3RhcnRpbmcgd29yayBvbiBwb29sIGVudHJ5ICR7d29ya2VySGFuZGxlLmlkfS5gKTtcblxuICAgIC8vIFBlcmZvcm0gYW4gZXhwb3J0IG9uIGEgcHVwcGV0ZWVyIGxldmVsXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVwcGV0ZWVyRXhwb3J0KHdvcmtlckhhbmRsZS5wYWdlLCBjaGFydCwgb3B0aW9ucyk7XG5cbiAgICAvLyBDaGVjayBpZiBpdCdzIGFuIGVycm9yXG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBUT0RPOiBJZiB0aGUgZXhwb3J0IGZhaWxlZCBiZWNhdXNlIHB1cHBldGVlciB0aW1lZCBvdXQsIHdlIG5lZWQgdG8gZm9yY2Uga2lsbCB0aGUgd29ya2VyIHNvIHdlIGdldCBhIG5ldyBwYWdlLiBUaGF0IG5lZWRzIHRvIGJlIGhhbmRsZWQgYmV0dGVyIHRoYW4gdGhpcyBoYWNrLlxuICAgICAgaWYgKHJlc3VsdC5tZXNzYWdlID09PSAnUmFzdGVyaXphdGlvbiB0aW1lb3V0Jykge1xuICAgICAgICB3b3JrZXJIYW5kbGUucGFnZS5jbG9zZSgpO1xuICAgICAgICB3b3JrZXJIYW5kbGUucGFnZSA9IGF3YWl0IGJyb3dzZXJOZXdQYWdlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWlsKHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLy8gUmVsZWFzZSB0aGUgcmVzb3VyY2UgYmFjayB0byB0aGUgcG9vbFxuICAgIHBvb2wucmVsZWFzZSh3b3JrZXJIYW5kbGUpO1xuXG4gICAgLy8gVXNlZCBmb3Igc3RhdGlzdGljcyBpbiBhdmVyYWdlVGltZSBhbmQgcHJvY2Vzc2VkV29ya0NvdW50LCB3aGljaFxuICAgIC8vIGluIHR1cm4gaXMgdXNlZCBieSB0aGUgL2hlYWx0aCByb3V0ZS5cbiAgICBjb25zdCB3b3JrRW5kID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgY29uc3QgZXhwb3J0VGltZSA9IHdvcmtFbmQgLSB3b3JrU3RhcnQ7XG4gICAgdGltZVNwZW50ICs9IGV4cG9ydFRpbWU7XG4gICAgc3BlbnRBdmVyYWdlID0gdGltZVNwZW50IC8gKytwZXJmb3JtZWRFeHBvcnRzO1xuXG4gICAgbG9nKDQsIGBbcG9vbF0gV29yayBjb21wbGV0ZWQgaW4gJHtleHBvcnRUaW1lfSBtcy5gKTtcblxuICAgIC8vIE90aGVyd2lzZSByZXR1cm4gdGhlIHJlc3VsdFxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiByZXN1bHQsXG4gICAgICBvcHRpb25zXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBmYWlsKGBFcnJvciB0cnlpbmcgdG8gcGVyZm9ybSBwdXBwZXRlZXIgZXhwb3J0OiAke2Vycm9yfS5gKTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBwb29sLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9vbCgpIHtcbiAgcmV0dXJuIHBvb2w7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRQb29sSW5mb0pTT04gPSAoKSA9PiAoe1xuICBtaW46IHBvb2wubWluLFxuICBtYXg6IHBvb2wubWF4LFxuICBzaXplOiBwb29sLnNpemUsXG4gIGF2YWlsYWJsZTogcG9vbC5hdmFpbGFibGUsXG4gIGJvcnJvd2VkOiBwb29sLmJvcnJvd2VkLFxuICBwZW5kaW5nOiBwb29sLnBlbmRpbmcsXG4gIHNwYXJlUmVzb3VyY2VDYXBhY2l0eTogcG9vbC5zcGFyZVJlc291cmNlQ2FwYWNpdHlcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIHBvb2wncyBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBvb2xJbmZvKCkge1xuICBjb25zdCB7XG4gICAgbWluLFxuICAgIG1heCxcbiAgICBzaXplLFxuICAgIGF2YWlsYWJsZSxcbiAgICBib3Jyb3dlZCxcbiAgICBwZW5kaW5nLFxuICAgIHNwYXJlUmVzb3VyY2VDYXBhY2l0eVxuICB9ID0gcG9vbDtcblxuICBsb2coNCwgYFtwb29sXSBUaGUgbWluaW11bSBudW1iZXIgb2YgcmVzb3VyY2VzIGFsbG93ZWQgYnkgcG9vbDogJHttaW59LmApO1xuICBsb2coNCwgYFtwb29sXSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzb3VyY2VzIGFsbG93ZWQgYnkgcG9vbDogJHttYXh9LmApO1xuICBsb2coXG4gICAgNCxcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgYWxsIHJlc291cmNlcyBpbiBwb29sIChmcmVlIG9yIGluIHVzZSk6ICR7c2l6ZX0uYFxuICApO1xuICBsb2coXG4gICAgNCxcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGN1cnJlbnRseSBhdmFpbGFibGU6ICR7YXZhaWxhYmxlfS5gXG4gICk7XG4gIGxvZyhcbiAgICA0LFxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdGhhdCBhcmUgY3VycmVudGx5IGFjcXVpcmVkOiAke2JvcnJvd2VkfS5gXG4gICk7XG4gIGxvZyhcbiAgICA0LFxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiBjYWxsZXJzIHdhaXRpbmcgdG8gYWNxdWlyZSBhIHJlc291cmNlOiAke3BlbmRpbmd9LmBcbiAgKTtcbiAgbG9nKFxuICAgIDQsXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIGhvdyBtYW55IG1vcmUgcmVzb3VyY2VzIGNhbiB0aGUgcG9vbCBtYW5hZ2UvY3JlYXRlOiAke3NwYXJlUmVzb3VyY2VDYXBhY2l0eX0uYFxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQsXG4gIGtpbGxQb29sLFxuICBwb3N0V29yayxcbiAgZ2V0UG9vbCxcbiAgZ2V0UG9vbEluZm8sXG4gIGdldFBvb2xJbmZvSlNPTixcbiAgd29ya0F0dGVtcHRzOiAoKSA9PiBleHBvcnRBdHRlbXB0cyxcbiAgZHJvcHBlZFdvcms6ICgpID0+IGRyb3BwZWRFeHBvcnRzLFxuICBhdmVyYWdlVGltZTogKCkgPT4gc3BlbnRBdmVyYWdlLFxuICBwcm9jZXNzZWRXb3JrQ291bnQ6ICgpID0+IHBlcmZvcm1lZEV4cG9ydHNcbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IGNhY2hlIGZyb20gJy4uLy4uL2NhY2hlLmpzJztcbmltcG9ydCBwb29sIGZyb20gJy4uLy4uL3Bvb2wuanMnO1xuXG5jb25zdCBwYWNrYWdlVmVyc2lvbiA9IHByb2Nlc3MuZW52Lm5wbV9wYWNrYWdlX3ZlcnNpb247XG5jb25zdCBzZXJ2ZXJTdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4vKipcbiAqIEFkZHMgdGhlIC9oZWFsdGggcm91dGUgd2hpY2ggb3V0cHV0cyBiYXNpYyBzdGF0cyBmb3IgdGhlIHNlcnZlclxuICovXG5leHBvcnQgZGVmYXVsdCAoYXBwKSA9PlxuICAhYXBwXG4gICAgPyBmYWxzZVxuICAgIDogYXBwLmdldCgnL2hlYWx0aCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICBzdGF0dXM6ICdPSycsXG4gICAgICAgICAgYm9vdFRpbWU6IHNlcnZlclN0YXJ0VGltZSxcbiAgICAgICAgICB1cHRpbWU6XG4gICAgICAgICAgICBNYXRoLmZsb29yKFxuICAgICAgICAgICAgICAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzZXJ2ZXJTdGFydFRpbWUuZ2V0VGltZSgpKSAvIDEwMDAgLyA2MFxuICAgICAgICAgICAgKSArICcgbWludXRlcycsXG4gICAgICAgICAgdmVyc2lvbjogcGFja2FnZVZlcnNpb24sXG4gICAgICAgICAgaGlnaGNoYXJ0c1ZlcnNpb246IGNhY2hlLnZlcnNpb24oKSxcbiAgICAgICAgICBhdmVyYWdlUHJvY2Vzc2luZ1RpbWU6IHBvb2wuYXZlcmFnZVRpbWUoKSxcbiAgICAgICAgICBwZXJmb3JtZWRFeHBvcnRzOiBwb29sLnByb2Nlc3NlZFdvcmtDb3VudCgpLFxuICAgICAgICAgIGZhaWxlZEV4cG9ydHM6IHBvb2wuZHJvcHBlZFdvcmsoKSxcbiAgICAgICAgICBleHBvcnRBdHRlbXB0czogcG9vbC53b3JrQXR0ZW1wdHMoKSxcbiAgICAgICAgICBzdWNlc3NSYXRpbzogKHBvb2wucHJvY2Vzc2VkV29ya0NvdW50KCkgLyBwb29sLndvcmtBdHRlbXB0cygpKSAqIDEwMCxcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLW5hbWVkLWFzLWRlZmF1bHQtbWVtYmVyXG4gICAgICAgICAgcG9vbDogcG9vbC5nZXRQb29sSW5mb0pTT04oKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IGV4aXN0c1N5bmMsIHJlYWRGaWxlU3luYywgcHJvbWlzZXMgYXMgZnNQcm9taXNlcyB9IGZyb20gJ2ZzJztcblxuaW1wb3J0IHByb21wdHMgZnJvbSAncHJvbXB0cyc7XG5cbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcbmltcG9ydCB7IGRlZXBDb3B5LCBpc09iamVjdCwgcHJpbnRVc2FnZSwgdG9Cb29sZWFuIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQge1xuICBhYnNvbHV0ZVByb3BzLFxuICBkZWZhdWx0Q29uZmlnLFxuICBuZXN0ZWRBcmdzLFxuICBwcm9tcHRzQ29uZmlnXG59IGZyb20gJy4vc2NoZW1hcy9jb25maWcuanMnO1xuXG5sZXQgZ2VuZXJhbE9wdGlvbnMgPSB7fTtcblxuLyoqXG4gKiBHZXR0ZXIgZm9yIHRoZSBnZW5lcmFsIG9wdGlvbnMuXG4gKlxuICogQHJldHVybiB7b2JqZWN0fSAtIEdlbmVyYWwgb3B0aW9ucyBvYmplY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRPcHRpb25zID0gKCkgPT4gZ2VuZXJhbE9wdGlvbnM7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW5kIHNldHMgdGhlIGdlbmVyYWwgb3B0aW9ucyBmb3IgdGhlIHNlcnZlciBpbnN0YWNlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB1c2VyT3B0aW9ucyAtIEFkZGl0aW9uYWwgdXNlciBvcHRpb25zIChlLmcuIGZyb20gdGhlIG5vZGVcbiAqIG1vZHVsZSB1c2FnZSkuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcmdzIC0gQ0xJIGFyZ3VtZW50cy5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBHZW5lcmFsIG9wdGlvbnMgb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3Qgc2V0T3B0aW9ucyA9ICh1c2VyT3B0aW9ucywgYXJncykgPT4ge1xuICAvLyBPbmx5IGZvciB0aGUgQ0xJIHVzYWdlXG4gIGlmIChhcmdzPy5sZW5ndGgpIHtcbiAgICAvLyBHZXQgdGhlIGFkZGl0aW9uYWwgb3B0aW9ucyBmcm9tIHRoZSBjdXN0b20gSlNPTiBmaWxlXG4gICAgZ2VuZXJhbE9wdGlvbnMgPSBsb2FkQ29uZmlnRmlsZShhcmdzKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSB0aGUgZGVmYXVsdCBjb25maWcgd2l0aCBhIGNvcnJlY3Qgb3B0aW9uIHZhbHVlc1xuICB1cGRhdGVEZWZhdWx0Q29uZmlnKGRlZmF1bHRDb25maWcsIGdlbmVyYWxPcHRpb25zKTtcblxuICAvLyBTZXQgdmFsdWVzIGZvciBzZXJ2ZXIncyBvcHRpb25zIGFuZCByZXR1cm5zIHRoZW1cbiAgZ2VuZXJhbE9wdGlvbnMgPSBpbml0T3B0aW9ucyhkZWZhdWx0Q29uZmlnKTtcblxuICAvLyBBcHBseSB1c2VyIG9wdGlvbnMgaWYgdGhlcmUgYXJlIGFueVxuICBpZiAodXNlck9wdGlvbnMpIHtcbiAgICAvLyBNZXJnZSB1c2VyIG9wdGlvbnNcbiAgICBnZW5lcmFsT3B0aW9ucyA9IG1lcmdlQ29uZmlnT3B0aW9ucyhcbiAgICAgIGdlbmVyYWxPcHRpb25zLFxuICAgICAgdXNlck9wdGlvbnMsXG4gICAgICBhYnNvbHV0ZVByb3BzXG4gICAgKTtcbiAgfVxuXG4gIC8vIE9ubHkgZm9yIHRoZSBDTEkgdXNhZ2VcbiAgaWYgKGFyZ3M/Lmxlbmd0aCkge1xuICAgIC8vIFBhaXIgcHJvdmlkZWQgYXJndW1lbnRzXG4gICAgZ2VuZXJhbE9wdGlvbnMgPSBwYWlyQXJndW1lbnRWYWx1ZShnZW5lcmFsT3B0aW9ucywgYXJncywgZGVmYXVsdENvbmZpZyk7XG4gIH1cblxuICAvLyBSZXR1cm4gZmluYWwgZ2VuZXJhbCBvcHRpb25zXG4gIHJldHVybiBnZW5lcmFsT3B0aW9ucztcbn07XG5cbi8qKlxuICogRGlzcGxheXMgYSBwcm9tcHQgZm9yIHRoZSBtYW51YWwgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnRmlsZU5hbWUgLSBUaGUgbmFtZSBvZiBhIGNvbmZpZ3VyYXRpb24gZmlsZS5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hbnVhbENvbmZpZyA9IGFzeW5jIChjb25maWdGaWxlTmFtZSkgPT4ge1xuICAvLyBQcmVwYXJlIGEgY29uZmlnIG9iamVjdFxuICBsZXQgY29uZmlnRmlsZSA9IHt9O1xuXG4gIC8vIENoZWNrIGlmIHByb3ZpZGVkIGNvbmZpZyBmaWxlIGV4aXN0c1xuICBpZiAoZXhpc3RzU3luYyhjb25maWdGaWxlTmFtZSkpIHtcbiAgICBjb25maWdGaWxlID0gSlNPTi5wYXJzZShyZWFkRmlsZVN5bmMoY29uZmlnRmlsZU5hbWUsICd1dGY4JykpO1xuICB9XG5cbiAgLy8gUXVlc3Rpb24gYWJvdXQgYSBjb25maWd1cmF0aW9uIGNhdGVnb3J5XG4gIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKHAsIGNhdGVnb3JpZXMpID0+IHtcbiAgICBsZXQgcXVlc3Rpb25zQ291bnRlciA9IDA7XG4gICAgbGV0IGFsbFF1ZXN0aW9ucyA9IFtdO1xuXG4gICAgLy8gQ3JlYXRlIGEgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpbiB0aGUgbWFudWFsQ29uZmlnIG9iamVjdFxuICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBjYXRlZ29yaWVzKSB7XG4gICAgICAvLyBNYXJrIGVhY2ggb3B0aW9uIHdpdGggYSBzZWN0aW9uXG4gICAgICBwcm9tcHRzQ29uZmlnW3NlY3Rpb25dID0gcHJvbXB0c0NvbmZpZ1tzZWN0aW9uXS5tYXAoKG9wdGlvbikgPT4gKHtcbiAgICAgICAgLi4ub3B0aW9uLFxuICAgICAgICBzZWN0aW9uXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIENvbGxlY3QgdGhlIHF1ZXN0aW9uc1xuICAgICAgYWxsUXVlc3Rpb25zID0gWy4uLmFsbFF1ZXN0aW9ucywgLi4ucHJvbXB0c0NvbmZpZ1tzZWN0aW9uXV07XG4gICAgfVxuXG4gICAgYXdhaXQgcHJvbXB0cyhhbGxRdWVzdGlvbnMsIHtcbiAgICAgIG9uU3VibWl0OiBhc3luYyAocHJvbXB0LCBhbnN3ZXIpID0+IHtcbiAgICAgICAgLy8gR2V0IHRoZSBkZWZhdWx0IG1vZHVsZXNcbiAgICAgICAgaWYgKHByb21wdC5uYW1lID09PSAnbW9kdWxlcycpIHtcbiAgICAgICAgICBhbnN3ZXIgPSBhbnN3ZXIubGVuZ3RoXG4gICAgICAgICAgICA/IGFuc3dlci5tYXAoKG1vZHVsZSkgPT4gcHJvbXB0LmNob2ljZXNbbW9kdWxlXSlcbiAgICAgICAgICAgIDogcHJvbXB0LmNob2ljZXM7XG5cbiAgICAgICAgICBjb25maWdGaWxlW3Byb21wdC5zZWN0aW9uXVtwcm9tcHQubmFtZV0gPSBhbnN3ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uZmlnRmlsZVtwcm9tcHQuc2VjdGlvbl0gPSByZWN1cnNpdmVQcm9wcyhcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZ0ZpbGVbcHJvbXB0LnNlY3Rpb25dIHx8IHt9KSxcbiAgICAgICAgICAgIHByb21wdC5uYW1lLnNwbGl0KCcuJyksXG4gICAgICAgICAgICBhbnN3ZXJcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCsrcXVlc3Rpb25zQ291bnRlciA9PT0gYWxsUXVlc3Rpb25zLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBmc1Byb21pc2VzLndyaXRlRmlsZShcbiAgICAgICAgICAgICAgY29uZmlnRmlsZU5hbWUsXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGNvbmZpZ0ZpbGUsIG51bGwsIDIpLFxuICAgICAgICAgICAgICAndXRmOCdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZygxLCBgW2NvbmZpZ10gRXJyb3Igd2hpbGUgY3JlYXRpbmcgY29uZmlnLmpzb246ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBGaW5kIHRoZSBjYXRlZ29yaWVzXG4gIGNvbnN0IGNob2ljZXMgPSBPYmplY3Qua2V5cyhwcm9tcHRzQ29uZmlnKS5tYXAoKGNob2ljZSkgPT4gKHtcbiAgICB0aXRsZTogYCR7Y2hvaWNlfSBvcHRpb25zYCxcbiAgICB2YWx1ZTogY2hvaWNlXG4gIH0pKTtcblxuICAvLyBDYXRlZ29yeSBwcm9tcHRcbiAgcmV0dXJuIHByb21wdHMoXG4gICAge1xuICAgICAgdHlwZTogJ211bHRpc2VsZWN0JyxcbiAgICAgIG5hbWU6ICdjYXRlZ29yeScsXG4gICAgICBtZXNzYWdlOiAnV2hpY2ggY2F0ZWdvcnkgZG8geW91IHdhbnQgdG8gY29uZmlndXJlPycsXG4gICAgICBoaW50OiAnU3BhY2U6IFNlbGVjdCBzcGVjaWZpYywgQTogU2VsZWN0IGFsbCwgRW50ZXI6IENvbmZpcm0uJyxcbiAgICAgIGluc3RydWN0aW9uczogJycsXG4gICAgICBjaG9pY2VzXG4gICAgfSxcbiAgICB7IG9uU3VibWl0IH1cbiAgKTtcbn07XG5cbi8qKlxuICogTWFwcyB0aGUgb2xkIG9wdGlvbnMgdG8gdGhlIG5ldyBjb25maWcgc3RydWN0dXJlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvbGRPcHRpb25zIC0gT3B0aW9ucyB0byBiZSBtYXBwZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXBUb05ld0NvbmZpZyA9IChvbGRPcHRpb25zKSA9PiB7XG4gIGNvbnN0IG5ld09wdGlvbnMgPSB7fTtcbiAgLy8gQ3ljbGUgdGhyb3VnaCBvbGQtc3RydWN0dXJlZCBvcHRpb25zXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9sZE9wdGlvbnMpKSB7XG4gICAgY29uc3QgcHJvcGVydGllc0NoYWluID0gbmVzdGVkQXJnc1trZXldID8gbmVzdGVkQXJnc1trZXldLnNwbGl0KCcuJykgOiBbXTtcblxuICAgIC8vIFBvcHVsYXRlIG9iamVjdCBpbiBjb3JyZWN0IHByb3BlcnRpZXMgbGV2ZWxzXG4gICAgcHJvcGVydGllc0NoYWluLnJlZHVjZShcbiAgICAgIChvYmosIHByb3AsIGluZGV4KSA9PlxuICAgICAgICAob2JqW3Byb3BdID1cbiAgICAgICAgICBwcm9wZXJ0aWVzQ2hhaW4ubGVuZ3RoIC0gMSA9PT0gaW5kZXggPyB2YWx1ZSA6IG9ialtwcm9wXSB8fCB7fSksXG4gICAgICBuZXdPcHRpb25zXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbmV3T3B0aW9ucztcbn07XG5cbi8qKlxuICogTWVyZ2VzIHRoZSBuZXcgb3B0aW9ucyB0byB0aGUgb3B0aW9ucyBvYmplY3QuIEl0IG9taXRzIHVuZGVmaW5lZCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBPbGQgb3B0aW9ucy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuZXdPcHRpb25zIC0gTmV3IG9wdGlvbnMuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhYnNvbHV0ZVByb3BzIC0gQXJyYXkgb2Ygb2JqZWN0IG5hbWVzIHRoYXQgc2hvdWxkIGJlIGZvcmNlXG4gKiBtZXJnZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBtZXJnZUNvbmZpZ09wdGlvbnMgPSAob3B0aW9ucywgbmV3T3B0aW9ucywgYWJzb2x1dGVQcm9wcyA9IFtdKSA9PiB7XG4gIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBkZWVwQ29weShvcHRpb25zKTtcblxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhuZXdPcHRpb25zKSkge1xuICAgIG1lcmdlZE9wdGlvbnNba2V5XSA9XG4gICAgICBpc09iamVjdCh2YWx1ZSkgJiZcbiAgICAgICFhYnNvbHV0ZVByb3BzLmluY2x1ZGVzKGtleSkgJiZcbiAgICAgIG1lcmdlZE9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbWVyZ2VDb25maWdPcHRpb25zKG1lcmdlZE9wdGlvbnNba2V5XSwgdmFsdWUsIGFic29sdXRlUHJvcHMpXG4gICAgICAgIDogdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHZhbHVlXG4gICAgICAgIDogbWVyZ2VkT3B0aW9uc1trZXldO1xuICB9XG5cbiAgcmV0dXJuIG1lcmdlZE9wdGlvbnM7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemVzIG9wdGlvbnMgZm9yIHRoZSBgc3RhcnRFeHBvcnRgIG1ldGhvZCBieSBtZXJnaW5nIHVzZXIgb3B0aW9uc1xuICogd2l0aCB0aGUgZ2VuZXJhbCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSB7YW55fSBleHBvcnRPcHRpb25zIC0gVXNlciBvcHRpb25zIGZvciBleHBvcnRpbmcuXG4gKiBAcGFyYW0ge2FueX0gZ2VuZXJhbE9wdGlvbnMgLSBHZW5lcmFsIG9wdGlvbnMgYXJlIHVzZWQgZm9yIHRoZSBleHBvcnQgc2VydmVyLlxuICogQHJldHVybiB7b2JqZWN0fSAtIFVzZXIgb3B0aW9ucyBtZXJnZWQgd2l0aCBkZWZhdWx0IG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBpbml0RXhwb3J0U2V0dGluZ3MgPSAoZXhwb3J0T3B0aW9ucywgZ2VuZXJhbE9wdGlvbnMgPSB7fSkgPT4ge1xuICBsZXQgb3B0aW9ucyA9IHt9O1xuXG4gIGlmIChleHBvcnRPcHRpb25zLnN2Zykge1xuICAgIG9wdGlvbnMgPSBkZWVwQ29weShnZW5lcmFsT3B0aW9ucyk7XG4gICAgb3B0aW9ucy5leHBvcnQudHlwZSA9IGV4cG9ydE9wdGlvbnMudHlwZSB8fCBleHBvcnRPcHRpb25zLmV4cG9ydC50eXBlO1xuICAgIG9wdGlvbnMuZXhwb3J0LnNjYWxlID0gZXhwb3J0T3B0aW9ucy5zY2FsZSB8fCBleHBvcnRPcHRpb25zLmV4cG9ydC5zY2FsZTtcbiAgICBvcHRpb25zLmV4cG9ydC5vdXRmaWxlID1cbiAgICAgIGV4cG9ydE9wdGlvbnMub3V0ZmlsZSB8fCBleHBvcnRPcHRpb25zLmV4cG9ydC5vdXRmaWxlO1xuICAgIG9wdGlvbnMucGF5bG9hZCA9IHtcbiAgICAgIHN2ZzogZXhwb3J0T3B0aW9ucy5zdmdcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBtZXJnZUNvbmZpZ09wdGlvbnMoXG4gICAgICBnZW5lcmFsT3B0aW9ucyxcbiAgICAgIGV4cG9ydE9wdGlvbnMsXG4gICAgICAvLyBPbWl0IGdvaW5nIGRvd24gcmVjdXJzaXZlbHkgd2l0aCB0aGUgYmVsb3dzXG4gICAgICBhYnNvbHV0ZVByb3BzXG4gICAgKTtcbiAgfVxuXG4gIG9wdGlvbnMuZXhwb3J0Lm91dGZpbGUgPVxuICAgIG9wdGlvbnMuZXhwb3J0Py5vdXRmaWxlIHx8IGBjaGFydC4ke29wdGlvbnMuZXhwb3J0Py50eXBlIHx8ICdwbmcnfWA7XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuLyoqXG4gKiBMb2FkcyB0aGUgY29uZmlndXJhdGlvbiBmcm9tIGEgY3VzdG9tIEpTT04gZmlsZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcmdzIC0gQ0xJIGFyZ3VtZW50cy5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBPcHRpb25zIG9iamVjdCBmcm9tIHRoZSBKU09OIGZpbGUuXG4gKi9cbmZ1bmN0aW9uIGxvYWRDb25maWdGaWxlKGFyZ3MpIHtcbiAgLy8gQ2hlY2sgaWYgdGhlIC0tbG9hZENvbmZpZyBvcHRpb24gd2FzIHVzZWRcbiAgY29uc3QgY29uZmlnSW5kZXggPSBhcmdzLmZpbmRJbmRleChcbiAgICAoYXJnKSA9PiBhcmcucmVwbGFjZSgvLS9nLCAnJykgPT09ICdsb2FkQ29uZmlnJ1xuICApO1xuXG4gIC8vIENoZWNrIGlmIHRoZSAtLWxvYWRDb25maWcgaGFzIGEgdmFsdWVcbiAgaWYgKGNvbmZpZ0luZGV4ID4gLTEgJiYgYXJnc1tjb25maWdJbmRleCArIDFdKSB7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBhcmdzW2NvbmZpZ0luZGV4ICsgMV07XG4gICAgdHJ5IHtcbiAgICAgIC8vIENoZWNrIGlmIGFuIGFkZGl0aW9uYWwgY29uZmlnIGZpbGUgaXMgYSBjb3JyZWN0IEpTT04gZmlsZVxuICAgICAgaWYgKGZpbGVOYW1lICYmIGZpbGVOYW1lLmVuZHNXaXRoKCcuanNvbicpKSB7XG4gICAgICAgIC8vIExvYWQgYW4gb3B0aW9uYWwgY3VzdG9tIEpTT04gY29uZmlnIGZpbGVcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGZpbGVOYW1lKSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZygxLCBgW2NvbmZpZ10gVW5hYmxlIHRvIGxvYWQgY29uZmlnIGZyb20gdGhlICR7ZmlsZU5hbWV9OiAke2Vycm9yfWApO1xuICAgIH1cbiAgfVxuXG4gIC8vIE5vIGFkZGl0aW9uYWwgb3B0aW9ucyB0byByZXR1cm5cbiAgcmV0dXJuIHt9O1xufVxuXG4vKipcbiAqIFNldHRpbmcgY29ycmVjdCB2YWx1ZXMgb2YgdGhlIG9wdGlvbnMgZnJvbSB0aGUgZGVmYXVsdCBjb25maWcuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ09iaiAtIFRoZSBjb25maWcgb2JqZWN0IGJhc2VkIG9uIHdoaWNoIHRoZSBpbml0aWFsXG4gKiBjb25maWd1cmF0aW9uIGJlIG1hZGUuXG4gKiBAcGFyYW0ge29iamVjdH0gY3VzdG9tT2JqIC0gVGhlIGN1c3RvbSBvYmplY3Qgd2hpY2ggY2FuIGNvbnRhaW4gYWRkaXRpb25hbFxuICogb3B0aW9uIHZhbHVlcyB0byBzZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcENoYWluIC0gUmVxdWlyZWQgZm9yIGNyZWF0aW5nIGEgc3RyaW5nIGNoYWluIG9mXG4gKiBwcm9wZXJ0aWVzIGZvciBuZXN0ZWQgYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiB1cGRhdGVEZWZhdWx0Q29uZmlnKGNvbmZpZ09iaiwgY3VzdG9tT2JqID0ge30sIHByb3BDaGFpbiA9ICcnKSB7XG4gIE9iamVjdC5rZXlzKGNvbmZpZ09iaikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgZW50cnkgPSBjb25maWdPYmpba2V5XTtcbiAgICBjb25zdCBjdXN0b21WYWx1ZSA9IGN1c3RvbU9iaiAmJiBjdXN0b21PYmpba2V5XTtcbiAgICBsZXQgbnVtRW52VmFsO1xuXG4gICAgaWYgKHR5cGVvZiBlbnRyeS52YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHVwZGF0ZURlZmF1bHRDb25maWcoZW50cnksIGN1c3RvbVZhbHVlLCBgJHtwcm9wQ2hhaW59LiR7a2V5fWApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBhIHZhbHVlIGZyb20gYSBjdXN0b20gSlNPTiBleGlzdHMsIGl0IHRha2UgcHJlY2VkZW5jZVxuICAgICAgaWYgKGN1c3RvbVZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW50cnkudmFsdWUgPSBjdXN0b21WYWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYSB2YWx1ZSBmcm9tIGFuIGVudiB2YXJpYWJsZSBleGlzdHMsIGl0IHRha2UgcHJlY2VkZW5jZVxuICAgICAgaWYgKGVudHJ5LmVudkxpbmspIHtcbiAgICAgICAgLy8gTG9hZCB0aGUgZW52IHZhclxuICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZW50cnkudmFsdWUgPSB0b0Jvb2xlYW4oXG4gICAgICAgICAgICBbcHJvY2Vzcy5lbnZbZW50cnkuZW52TGlua10sIGVudHJ5LnZhbHVlXS5maW5kKFxuICAgICAgICAgICAgICAoZWwpID0+IGVsIHx8IGVsID09PSAnZmFsc2UnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbnRyeS50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIG51bUVudlZhbCA9ICtwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXTtcbiAgICAgICAgICBlbnRyeS52YWx1ZSA9IG51bUVudlZhbCA+PSAwID8gbnVtRW52VmFsIDogZW50cnkudmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZW50cnkudHlwZS5pbmRleE9mKCddJykgPj0gMCAmJiBwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXSkge1xuICAgICAgICAgIGVudHJ5LnZhbHVlID0gcHJvY2Vzcy5lbnZbZW50cnkuZW52TGlua10uc3BsaXQoJywnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnRyeS52YWx1ZSA9IHByb2Nlc3MuZW52W2VudHJ5LmVudkxpbmtdIHx8IGVudHJ5LnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBJbml0cyBvcHRpb25zIHJlY3Vyc2l2ZWx5LlxuICpcbiAqIEBwYXJhbSB7YW55fSBpdGVtcyAtIEl0ZW1zIHRvIHVwZGF0ZSBvcHRpb25zIGZyb20uXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVXBkYXRlZCBvcHRpb25zIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gaW5pdE9wdGlvbnMoaXRlbXMpIHtcbiAgbGV0IG9wdGlvbnMgPSB7fTtcbiAgZm9yIChjb25zdCBbbmFtZSwgaXRlbV0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbXMpKSB7XG4gICAgb3B0aW9uc1tuYW1lXSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpdGVtLCAndmFsdWUnKVxuICAgICAgPyBpdGVtLnZhbHVlXG4gICAgICA6IGluaXRPcHRpb25zKGl0ZW0pO1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIFBhaXJzIGFyZ3VtZW50IHdpdGggYSBjb3JyZXNwb25kaW5nIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIHNlcnZlciBvcHRpb25zLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gYXJncyAtIEFycmF5IG9mIGFyZ3VtZW50cyBmcm9tIGEgdXNlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBkZWZhdWx0Q29uZmlnIC0gVGhlIGRlZmF1bHQgY29uZmlnIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gcGFpckFyZ3VtZW50VmFsdWUob3B0aW9ucywgYXJncywgZGVmYXVsdENvbmZpZykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgb3B0aW9uID0gYXJnc1tpXS5yZXBsYWNlKC8tL2csICcnKTtcblxuICAgIC8vIEZpbmQgdGhlIHJpZ2h0IHBsYWNlIGZvciBwcm9wZXJ0eSdzIHZhbHVlXG4gICAgY29uc3QgcHJvcGVydGllc0NoYWluID0gbmVzdGVkQXJnc1tvcHRpb25dXG4gICAgICA/IG5lc3RlZEFyZ3Nbb3B0aW9uXS5zcGxpdCgnLicpXG4gICAgICA6IFtdO1xuXG4gICAgcHJvcGVydGllc0NoYWluLnJlZHVjZSgob2JqLCBwcm9wLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKHByb3BlcnRpZXNDaGFpbi5sZW5ndGggLSAxID09PSBpbmRleCkge1xuICAgICAgICAvLyBGaW5kcyBhbiBvcHRpb24gYW5kIHNldCBhIGNvcnJlc3BvbmRpbmcgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKGFyZ3NbKytpXSkge1xuICAgICAgICAgICAgb2JqW3Byb3BdID0gYXJnc1tpXSB8fCBvYmpbcHJvcF07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNaXNzaW5nIGFyZ3VtZW50IHZhbHVlIGZvciAke29wdGlvbn0hYC5yZWQsICdcXG4nKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBwcmludFVzYWdlKGRlZmF1bHRDb25maWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgICB9LCBvcHRpb25zKTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHNldHMgYSBwcm9wZXJ0eSBpbiBhIGNvcnJlY3QgaW5kZW50YXRpb24gbGV2ZWwgYmFzZWQgb24gdGhlXG4gKiBhcnJheSBvZiBuZXN0ZWQgcHJvcGVydGllcyBuYW1lcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0VG9VcGRhdGUgLSBPYmplY3Qgd2hlcmUgYSBwcm9wZXJ0eSBtdXN0IGJlIHNldCBvbiBhXG4gKiBjb3JyZWN0IGxldmVsLlxuICogQHBhcmFtICB7c3RyaW5nW119bmVzdGVkTmFtZXMgLSBBcnJheSBvZiBuYXN0ZWQgbmFtZXMgdGhhdCBpbmRpY2F0ZXNcbiAqIGluZGVudGF0aW9uIGxldmVsLlxuICogQHBhcmFtIHthbnl9IHZhbHVlIC0gQSB2YWx1ZSB0byBhc3NpZ24gdG8gdGhlIHByb3BlcnR5LlxuICogQHJldHVybiB7b2JqZWN0fSAtIFVwZGF0ZWQgb3B0aW9ucyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHJlY3Vyc2l2ZVByb3BzKG9iamVjdFRvVXBkYXRlLCBuZXN0ZWROYW1lcywgdmFsdWUpIHtcbiAgd2hpbGUgKG5lc3RlZE5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICBjb25zdCBwcm9wTmFtZSA9IG5lc3RlZE5hbWVzLnNoaWZ0KCk7XG5cbiAgICAvLyBDcmVhdGUgYSBwcm9wZXJ0eSBpbiBvYmplY3QgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdFRvVXBkYXRlLCBwcm9wTmFtZSkpIHtcbiAgICAgIG9iamVjdFRvVXBkYXRlW3Byb3BOYW1lXSA9IHt9O1xuICAgIH1cblxuICAgIC8vIENhbGwgZnVuY3Rpb24gYWdhaW4gaWYgdGhlcmUgc3RpbGwgbmFtZXMgdG8gZ29cbiAgICBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0gPSByZWN1cnNpdmVQcm9wcyhcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIG9iamVjdFRvVXBkYXRlW3Byb3BOYW1lXSksXG4gICAgICBuZXN0ZWROYW1lcyxcbiAgICAgIHZhbHVlXG4gICAgKTtcblxuICAgIHJldHVybiBvYmplY3RUb1VwZGF0ZTtcbiAgfVxuXG4gIC8vIEFzc2lnbiB0aGUgZmluYWwgdmFsdWVcbiAgb2JqZWN0VG9VcGRhdGVbbmVzdGVkTmFtZXNbMF1dID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3RUb1VwZGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRPcHRpb25zLFxuICBzZXRPcHRpb25zLFxuICBtYW51YWxDb25maWcsXG4gIG1hcFRvTmV3Q29uZmlnLFxuICBtZXJnZUNvbmZpZ09wdGlvbnMsXG4gIGluaXRFeHBvcnRTZXR0aW5nc1xufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgeyByZWFkRmlsZSwgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jIH0gZnJvbSAnZnMnO1xuXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XG5pbXBvcnQgeyBraWxsUG9vbCwgcG9zdFdvcmsgfSBmcm9tICcuL3Bvb2wuanMnO1xuaW1wb3J0IHtcbiAgY2xlYXJUZXh0LFxuICBmaXhUeXBlLFxuICBoYW5kbGVSZXNvdXJjZXMsXG4gIGlzQ29ycmVjdEpTT04sXG4gIG9wdGlvbnNTdHJpbmdpZnksXG4gIHJvdW5kTnVtYmVyLFxuICB0b0Jvb2xlYW4sXG4gIHdyYXBBcm91bmRcbn0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBpbml0RXhwb3J0U2V0dGluZ3MsIGdldE9wdGlvbnMgfSBmcm9tICcuL2NvbmZpZy5qcyc7XG5cbmxldCBhbGxvd0NvZGVFeGVjdXRpb24gPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IHN0YXJ0RXhwb3J0ID0gYXN5bmMgKHNldHRpbmdzLCBlbmRDYWxsYmFjaykgPT4ge1xuICAvLyBTdGFydGluZyBleHBvcnRpbmcgcHJvY2VzcyBtZXNzYWdlXG4gIGxvZyg0LCAnW2NoYXJ0XSBTdGFydGluZyBleHBvcnRpbmcgcHJvY2Vzcy4nKTtcblxuICAvLyBJbml0aWFsaXplIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGluaXRFeHBvcnRTZXR0aW5ncyhzZXR0aW5ncywgZ2V0T3B0aW9ucygpKTtcblxuICAvLyBHZXQgdGhlIGV4cG9ydCBvcHRpb25zXG4gIGNvbnN0IGV4cG9ydE9wdGlvbnMgPSBvcHRpb25zLmV4cG9ydDtcblxuICAvLyBJZiBTVkcgaXMgYW4gaW5wdXQgKGFyZ3VtZW50IGNhbiBiZSBzZW50IG9ubHkgYnkgdGhlIHJlcXVlc3QpXG4gIGlmIChvcHRpb25zLnBheWxvYWQ/LnN2ZyAmJiBvcHRpb25zLnBheWxvYWQuc3ZnICE9PSAnJykge1xuICAgIHJldHVybiBleHBvcnRBc1N0cmluZyhvcHRpb25zLnBheWxvYWQuc3ZnLnRyaW0oKSwgb3B0aW9ucywgZW5kQ2FsbGJhY2spO1xuICB9XG5cbiAgLy8gRXhwb3J0IHVzaW5nIG9wdGlvbnMgZnJvbSB0aGUgZmlsZVxuICBpZiAoZXhwb3J0T3B0aW9ucy5pbmZpbGUgJiYgZXhwb3J0T3B0aW9ucy5pbmZpbGUubGVuZ3RoKSB7XG4gICAgbG9nKDQsICdbY2hhcnRdIEF0dGVtcHRpbmcgdG8gZXhwb3J0IGZyb20gYW4gaW5wdXQgZmlsZS4nKTtcblxuICAgIC8vIFRyeSB0byByZWFkIHRoZSBmaWxlXG4gICAgcmV0dXJuIHJlYWRGaWxlKGV4cG9ydE9wdGlvbnMuaW5maWxlLCAndXRmOCcsIChlcnJvciwgaW5maWxlKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGxvZygxLCBgW2NoYXJ0XSBFcnJvciBsb2FkaW5nIGlucHV0IGZpbGU6ICR7ZXJyb3J9LmApO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgb3B0aW9ucy5leHBvcnQuaW5zdHIgPSBpbmZpbGU7XG4gICAgICByZXR1cm4gZXhwb3J0QXNTdHJpbmcob3B0aW9ucy5leHBvcnQuaW5zdHIudHJpbSgpLCBvcHRpb25zLCBlbmRDYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBFeHBvcnQgd2l0aCBvcHRpb25zIGZyb20gdGhlIHJhdyByZXByZXNlbnRhdGlvblxuICBpZiAoXG4gICAgKGV4cG9ydE9wdGlvbnMuaW5zdHIgJiYgZXhwb3J0T3B0aW9ucy5pbnN0ciAhPT0gJycpIHx8XG4gICAgKGV4cG9ydE9wdGlvbnMub3B0aW9ucyAmJiBleHBvcnRPcHRpb25zLm9wdGlvbnMgIT09ICcnKVxuICApIHtcbiAgICBsb2coNCwgJ1tjaGFydF0gQXR0ZW1wdGluZyB0byBleHBvcnQgZnJvbSBhIHJhdyBpbnB1dC4nKTtcblxuICAgIC8vIFBlcmZvcm0gYSBkaXJlY3QgaW5qZWN0IHdoZW4gZm9yY2VkXG4gICAgaWYgKHRvQm9vbGVhbihvcHRpb25zLmN1c3RvbUNvZGU/LmFsbG93Q29kZUV4ZWN1dGlvbikpIHtcbiAgICAgIHJldHVybiBkb1N0cmFpZ2h0SW5qZWN0KG9wdGlvbnMsIGVuZENhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvLyBFaXRoZXIgdHJ5IHRvIHBhcnNlIHRvIEpTT04gZmlyc3Qgb3IgZG8gdGhlIGRpcmVjdCBleHBvcnRcbiAgICByZXR1cm4gdHlwZW9mIGV4cG9ydE9wdGlvbnMuaW5zdHIgPT09ICdzdHJpbmcnXG4gICAgICA/IGV4cG9ydEFzU3RyaW5nKGV4cG9ydE9wdGlvbnMuaW5zdHIudHJpbSgpLCBvcHRpb25zLCBlbmRDYWxsYmFjaylcbiAgICAgIDogZG9FeHBvcnQoXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBleHBvcnRPcHRpb25zLmluc3RyIHx8IGV4cG9ydE9wdGlvbnMub3B0aW9ucyxcbiAgICAgICAgICBlbmRDYWxsYmFja1xuICAgICAgICApO1xuICB9XG5cbiAgLy8gTm8gaW5wdXQgc3BlY2lmaWVkLCBwYXNzIGFuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIGNhbGxiYWNrXG4gIGxvZyhcbiAgICAxLFxuICAgIGNsZWFyVGV4dChcbiAgICAgIGBbY2hhcnRdIE5vIGlucHV0IHNwZWNpZmllZC5cbiAgICAgICR7SlNPTi5zdHJpbmdpZnkoZXhwb3J0T3B0aW9ucywgdW5kZWZpbmVkLCAnICAnKX0uYFxuICAgIClcbiAgKTtcblxuICByZXR1cm4gKFxuICAgIGVuZENhbGxiYWNrICYmXG4gICAgZW5kQ2FsbGJhY2soZmFsc2UsIHtcbiAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ05vIGlucHV0IHNwZWNpZmllZC4nXG4gICAgfSlcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBiYXRjaEV4cG9ydCA9IChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGJhdGNoRnVuY3Rpb25zID0gW107XG5cbiAgLy8gU3BsaXQgYW5kIHBhaXIgdGhlIC0tYmF0Y2ggYXJndW1lbnRzXG4gIGZvciAobGV0IHBhaXIgb2Ygb3B0aW9ucy5leHBvcnQuYmF0Y2guc3BsaXQoJzsnKSkge1xuICAgIHBhaXIgPSBwYWlyLnNwbGl0KCc9Jyk7XG4gICAgaWYgKHBhaXIubGVuZ3RoID09PSAyKSB7XG4gICAgICBiYXRjaEZ1bmN0aW9ucy5wdXNoKFxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgc3RhcnRFeHBvcnQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgIGV4cG9ydDoge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuZXhwb3J0LFxuICAgICAgICAgICAgICAgIGluZmlsZTogcGFpclswXSxcbiAgICAgICAgICAgICAgICBvdXRmaWxlOiBwYWlyWzFdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoaW5mbywgZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcbiAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBiYXNlNjQgZnJvbSBhIGJ1ZmZlciB0byBhIGNvcnJlY3QgaW1hZ2UgZmlsZVxuICAgICAgICAgICAgICB3cml0ZUZpbGVTeW5jKFxuICAgICAgICAgICAgICAgIGluZm8ub3B0aW9ucy5leHBvcnQub3V0ZmlsZSxcbiAgICAgICAgICAgICAgICBCdWZmZXIuZnJvbShpbmZvLmRhdGEsICdiYXNlNjQnKVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBLaWxsIHRoZSBwb29sIGFmdGVyIGFsbCBleHBvcnRzIGFyZSBkb25lXG4gIFByb21pc2UuYWxsKGJhdGNoRnVuY3Rpb25zKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGtpbGxQb29sKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBsb2coMSwgYFtjaGFydF0gRXJyb3IgZW5jb3VudGVyZWQgZHVyaW5nIGJhdGNoIGV4cG9ydDogJHtlcnJvcn1gKTtcbiAgICAgIGtpbGxQb29sKCk7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2luZ2xlRXhwb3J0ID0gKG9wdGlvbnMpID0+IHtcbiAgLy8gVXNlIGluc3RyIG9yIGl0cyBhbGlhcywgb3B0aW9uc1xuICBvcHRpb25zLmV4cG9ydC5pbnN0ciA9IG9wdGlvbnMuZXhwb3J0Lmluc3RyIHx8IG9wdGlvbnMuZXhwb3J0Lm9wdGlvbnM7XG5cbiAgLy8gUGVyZm9ybSBhbiBleHBvcnRcbiAgc3RhcnRFeHBvcnQob3B0aW9ucywgKGluZm8sIGVycm9yKSA9PiB7XG4gICAgLy8gRXhpdCBwcm9jZXNzIHdoZW4gZXJyb3JcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGxvZygxLCBgW2NsaV0gJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgb3V0ZmlsZSwgdHlwZSB9ID0gaW5mby5vcHRpb25zLmV4cG9ydDtcblxuICAgIC8vIFNhdmUgdGhlIGJhc2U2NCBmcm9tIGEgYnVmZmVyIHRvIGEgY29ycmVjdCBpbWFnZSBmaWxlXG4gICAgd3JpdGVGaWxlU3luYyhcbiAgICAgIG91dGZpbGUgfHwgYGNoYXJ0LiR7dHlwZX1gLFxuICAgICAgdHlwZSAhPT0gJ3N2ZycgPyBCdWZmZXIuZnJvbShpbmZvLmRhdGEsICdiYXNlNjQnKSA6IGluZm8uZGF0YVxuICAgICk7XG5cbiAgICAvLyBLaWxsIHRoZSBwb29sXG4gICAga2lsbFBvb2woKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEZ1bmN0aW9uIGZvciBjaG9vc2luZyBjaGFydCBzaXplIGFuZCBzY2FsZSBiYXNlZCBvbiBvcHRpb25zIHByaW9yaXRpemF0aW9uLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxuICogQHJldHVybiB7b2JqZWN0fSAtIEFuIG9iamVjdCB3aXRoIHVwZGF0ZWQgc2l6ZSBhbmQgc2NhbGUgZm9yIGEgY2hhcnQuXG4gKi9cbmV4cG9ydCBjb25zdCBmaW5kQ2hhcnRTaXplID0gKG9wdGlvbnMpID0+IHtcbiAgY29uc3QgeyBjaGFydCwgZXhwb3J0aW5nIH0gPVxuICAgIG9wdGlvbnMuZXhwb3J0Py5vcHRpb25zIHx8IGlzQ29ycmVjdEpTT04ob3B0aW9ucy5leHBvcnQ/Lmluc3RyKTtcblxuICAvLyBTZWUgaWYgZ2xvYmFsT3B0aW9ucyBob2xkcyBjaGFydCBvciBleHBvcnRpbmcgc2l6ZVxuICBjb25zdCBnbG9iYWxPcHRpb25zID0gaXNDb3JyZWN0SlNPTihvcHRpb25zLmV4cG9ydD8uZ2xvYmFsT3B0aW9ucyk7XG5cbiAgLy8gU2VjdXJlIHNjYWxlIHZhbHVlXG4gIGxldCBzY2FsZSA9XG4gICAgb3B0aW9ucy5leHBvcnQ/LnNjYWxlIHx8XG4gICAgZXhwb3J0aW5nPy5zY2FsZSB8fFxuICAgIGdsb2JhbE9wdGlvbnM/LmV4cG9ydGluZz8uc2NhbGUgfHxcbiAgICBvcHRpb25zLmV4cG9ydD8uZGVmYXVsdFNjYWxlIHx8XG4gICAgMTtcblxuICAvLyB0aGUgc2NhbGUgY2Fubm90IGJlIGxvd2VyIHRoYW4gMC4xIGFuZCBjYW5ub3QgYmUgaGlnaGVyIHRoYW4gNS4wXG4gIHNjYWxlID0gTWF0aC5tYXgoMC4xLCBNYXRoLm1pbihzY2FsZSwgNS4wKSk7XG5cbiAgLy8gd2Ugd2FudCB0byByb3VuZCB0aGUgbnVtYmVycyBsaWtlIDAuMjMyMzQgLT4gMC4yM1xuICBzY2FsZSA9IHJvdW5kTnVtYmVyKHNjYWxlLCAyKTtcblxuICAvLyBGaW5kIGNoYXJ0IHNpemUgYW5kIHNjYWxlXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OlxuICAgICAgb3B0aW9ucy5leHBvcnQ/LmhlaWdodCB8fFxuICAgICAgZXhwb3J0aW5nPy5zb3VyY2VIZWlnaHQgfHxcbiAgICAgIGNoYXJ0Py5oZWlnaHQgfHxcbiAgICAgIGdsb2JhbE9wdGlvbnM/LmV4cG9ydGluZz8uc291cmNlSGVpZ2h0IHx8XG4gICAgICBnbG9iYWxPcHRpb25zPy5jaGFydD8uaGVpZ2h0IHx8XG4gICAgICBvcHRpb25zLmV4cG9ydD8uZGVmYXVsdEhlaWdodCB8fFxuICAgICAgNDAwLFxuICAgIHdpZHRoOlxuICAgICAgb3B0aW9ucy5leHBvcnQ/LndpZHRoIHx8XG4gICAgICBleHBvcnRpbmc/LnNvdXJjZVdpZHRoIHx8XG4gICAgICBjaGFydD8ud2lkdGggfHxcbiAgICAgIGdsb2JhbE9wdGlvbnM/LmV4cG9ydGluZz8uc291cmNlV2lkdGggfHxcbiAgICAgIGdsb2JhbE9wdGlvbnM/LmNoYXJ0Py53aWR0aCB8fFxuICAgICAgb3B0aW9ucy5leHBvcnQ/LmRlZmF1bHRXaWR0aCB8fFxuICAgICAgNjAwLFxuICAgIHNjYWxlXG4gIH07XG59O1xuXG4vKipcbiAqIEZ1bmN0aW9uIGZvciBmaW5hbCBvcHRpb25zIHByZXBhcmF0aW9uIGJlZm9yZSBleHBvcnQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge29iamVjdH0gY2hhcnRKc29uIC0gQ2hhcnQgSlNPTi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGVuZENhbGxiYWNrIC0gVGhlIGVuZCBjYWxsYmFjay5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdmcgLSBUaGUgU1ZHIHJlcHJlc2VudGF0aW9uLlxuICovXG5jb25zdCBkb0V4cG9ydCA9IChvcHRpb25zLCBjaGFydEpzb24sIGVuZENhbGxiYWNrLCBzdmcpID0+IHtcbiAgbGV0IHsgZXhwb3J0OiBleHBvcnRPcHRpb25zLCBjdXN0b21Db2RlOiBjdXN0b21Db2RlT3B0aW9ucyB9ID0gb3B0aW9ucztcblxuICBjb25zdCBhbGxvd0NvZGVFeGVjdXRpb25TY29wZWQgPVxuICAgIHR5cGVvZiBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb24gPT09ICdib29sZWFuJ1xuICAgICAgPyBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb25cbiAgICAgIDogYWxsb3dDb2RlRXhlY3V0aW9uO1xuXG4gIGlmICghY3VzdG9tQ29kZU9wdGlvbnMpIHtcbiAgICBjdXN0b21Db2RlT3B0aW9ucyA9IG9wdGlvbnMuY3VzdG9tQ29kZSA9IHt9O1xuICB9IGVsc2UgaWYgKGFsbG93Q29kZUV4ZWN1dGlvblNjb3BlZCkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFByb2Nlc3MgcmVzb3VyY2VzXG4gICAgICBvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzID0gaGFuZGxlUmVzb3VyY2VzKFxuICAgICAgICBvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzLFxuICAgICAgICB0b0Jvb2xlYW4ob3B0aW9ucy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcylcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzb3VyY2VzID0gcmVhZEZpbGVTeW5jKCdyZXNvdXJjZXMuanNvbicsICd1dGY4Jyk7XG4gICAgICAgIG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXMgPSBoYW5kbGVSZXNvdXJjZXMoXG4gICAgICAgICAgcmVzb3VyY2VzLFxuICAgICAgICAgIHRvQm9vbGVhbihvcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dGaWxlUmVzb3VyY2VzKVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZygzLCBgW2NoYXJ0XSBUaGUgZGVmYXVsdCByZXNvdXJjZXMuanNvbiBmaWxlIG5vdCBmb3VuZC5gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGUgYWxsb3dDb2RlRXhlY3V0aW9uIGZsYWcgaXNuJ3Qgc2V0LCB3ZSBzaG91bGQgcmVmdXNlIHRoZSB1c2FnZVxuICAvLyBvZiBjYWxsYmFjaywgcmVzb3VyY2VzLCBhbmQgY3VzdG9tIGNvZGUuIEFkZGl0aW9uYWxseSwgdGhlIHdvcmtlciB3aWxsXG4gIC8vIHJlZnVzZSB0byBydW4gYXJiaXRyYXJ5IEphdmFTY3JpcHQuIFByaW9yaXRpemVkIHNob3VsZCBiZSB0aGUgc2NvcGVkXG4gIC8vIG9wdGlvbiwgdGhlbiB3ZSBzaG91bGQgdGFrZSBhIGxvb2sgYXQgdGhlIG92ZXJhbGwgcG9vbCBvcHRpb24uXG4gIGlmICghYWxsb3dDb2RlRXhlY3V0aW9uU2NvcGVkICYmIGN1c3RvbUNvZGVPcHRpb25zKSB7XG4gICAgaWYgKFxuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2sgfHxcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLnJlc291cmNlcyB8fFxuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY3VzdG9tQ29kZVxuICAgICkge1xuICAgICAgLy8gU2VuZCBiYWNrIGEgZnJpZW5kbHkgbWVzc2FnZSBzYXlpbmcgdGhhdCB0aGUgZXhwb3J0ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gdGhlc2Ugc2V0dGluZ3MuXG4gICAgICByZXR1cm4gKFxuICAgICAgICBlbmRDYWxsYmFjayAmJlxuICAgICAgICBlbmRDYWxsYmFjayhmYWxzZSwge1xuICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6IGNsZWFyVGV4dChcbiAgICAgICAgICAgIGBUaGUgY2FsbGJhY2ssIHJlc291cmNlcyBhbmQgY3VzdG9tQ29kZSBoYXZlIGJlZW4gZGlzYWJsZWQgZm9yIHRoaXNcbiAgICAgICAgICAgIHNlcnZlci5gXG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBhbGwgYWRkaXRpb25hbCBjdXN0b20gY29kZVxuICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrID0gZmFsc2U7XG4gICAgY3VzdG9tQ29kZU9wdGlvbnMucmVzb3VyY2VzID0gZmFsc2U7XG4gICAgY3VzdG9tQ29kZU9wdGlvbnMuY3VzdG9tQ29kZSA9IGZhbHNlO1xuICB9XG5cbiAgLy8gQ2xlYW4gcHJvcGVydGllcyB0byBrZWVwIGl0IGxlYW4gYW5kIG1lYW5cbiAgaWYgKGNoYXJ0SnNvbikge1xuICAgIGNoYXJ0SnNvbi5jaGFydCA9IGNoYXJ0SnNvbi5jaGFydCB8fCB7fTtcbiAgICBjaGFydEpzb24uZXhwb3J0aW5nID0gY2hhcnRKc29uLmV4cG9ydGluZyB8fCB7fTtcbiAgICBjaGFydEpzb24uZXhwb3J0aW5nLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGV4cG9ydE9wdGlvbnMuY29uc3RyID0gZXhwb3J0T3B0aW9ucy5jb25zdHIgfHwgJ2NoYXJ0JztcbiAgZXhwb3J0T3B0aW9ucy50eXBlID0gZml4VHlwZShleHBvcnRPcHRpb25zLnR5cGUsIGV4cG9ydE9wdGlvbnMub3V0ZmlsZSk7XG4gIGlmIChleHBvcnRPcHRpb25zLnR5cGUgPT09ICdzdmcnKSB7XG4gICAgZXhwb3J0T3B0aW9ucy53aWR0aCA9IGZhbHNlO1xuICB9XG5cbiAgLy8gUHJlcGFyZSBnbG9iYWwgYW5kIHRoZW1lIG9wdGlvbnNcbiAgWydnbG9iYWxPcHRpb25zJywgJ3RoZW1lT3B0aW9ucyddLmZvckVhY2goKG9wdGlvbnNOYW1lKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChleHBvcnRPcHRpb25zICYmIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0uZW5kc1dpdGgoJy5qc29uJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0gPSBpc0NvcnJlY3RKU09OKFxuICAgICAgICAgICAgcmVhZEZpbGVTeW5jKGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdLCAndXRmOCcpLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0gPSBpc0NvcnJlY3RKU09OKFxuICAgICAgICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSA9IHt9O1xuICAgICAgbG9nKDEsIGBbY2hhcnRdIFRoZSAke29wdGlvbnNOYW1lfSBub3QgZm91bmQuYCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBQcmVwYXJlIGN1c3RvbUNvZGVcbiAgaWYgKGN1c3RvbUNvZGVPcHRpb25zLmFsbG93Q29kZUV4ZWN1dGlvbikge1xuICAgIGN1c3RvbUNvZGVPcHRpb25zLmN1c3RvbUNvZGUgPSB3cmFwQXJvdW5kKFxuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY3VzdG9tQ29kZSxcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmFsbG93RmlsZVJlc291cmNlc1xuICAgICk7XG4gIH1cblxuICAvLyBHZXQgdGhlIGNhbGxiYWNrXG4gIGlmIChcbiAgICBjdXN0b21Db2RlT3B0aW9ucyAmJlxuICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrICYmXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2s/LmluZGV4T2YoJ3snKSA8IDBcbiAgKSB7XG4gICAgLy8gVGhlIGFsbG93RmlsZVJlc291cmNlcyBpcyBhbHdheXMgc2V0IHRvIGZhbHNlIGZvciBIVFRQIHJlcXVlc3RzIHRvIGF2b2lkXG4gICAgLy8gaW5qZWN0aW5nIGFyYml0cmFyeSBmaWxlcyBmcm9tIHRoZSBmc1xuICAgIGlmIChjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0ZpbGVSZXNvdXJjZXMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrID0gcmVhZEZpbGVTeW5jKFxuICAgICAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrLFxuICAgICAgICAgICd1dGY4J1xuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nKDIsIGBbY2hhcnRdIEVycm9yIGxvYWRpbmcgY2FsbGJhY2s6ICR7ZXJyb3J9LmApO1xuICAgICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNpemUgc2VhcmNoXG4gIG9wdGlvbnMuZXhwb3J0ID0ge1xuICAgIC4uLm9wdGlvbnMuZXhwb3J0LFxuICAgIC4uLmZpbmRDaGFydFNpemUob3B0aW9ucylcbiAgfTtcblxuICAvLyBQb3N0IHRoZSB3b3JrIHRvIHRoZSBwb29sXG4gIHBvc3RXb3JrKGV4cG9ydE9wdGlvbnMuc3RySW5qIHx8IGNoYXJ0SnNvbiB8fCBzdmcsIG9wdGlvbnMpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4gZW5kQ2FsbGJhY2socmVzdWx0KSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBsb2coMCwgJ1tjaGFydF0gV2hlbiBwb3N0aW5nIHdvcms6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGVuZENhbGxiYWNrKGZhbHNlLCBlcnJvcik7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEZ1bmN0aW9uIGZvciBzdHJhaWdodCBpbmplY3RpbmcgdGhlIGNvZGUuXG4gKiBEYW5nZXJvdXMgYW5kIG11c3QgYmUgdXNlZCBkZWxpYmVyYXRlbHkgYnkgc29tZW9uZSB3aG8gc2V0cyB1cCBhIHNlcnZlclxuICogKHNlZSAgLS1hbGxvd0NvZGVFeGVjdXRpb24pLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZW5kQ2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGV4cG9ydGluZyBpcyBkb25lLlxuICovXG5jb25zdCBkb1N0cmFpZ2h0SW5qZWN0ID0gKG9wdGlvbnMsIGVuZENhbGxiYWNrKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IHN0ckluajtcbiAgICBsZXQgaW5zdHIgPSBvcHRpb25zLmV4cG9ydC5pbnN0ciB8fCBvcHRpb25zLmV4cG9ydC5vcHRpb25zO1xuXG4gICAgaWYgKHR5cGVvZiBpbnN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFRyeSB0byBzdHJpbmdpZnkgb3B0aW9uc1xuICAgICAgc3RySW5qID0gaW5zdHIgPSBvcHRpb25zU3RyaW5naWZ5KFxuICAgICAgICBpbnN0cixcbiAgICAgICAgb3B0aW9ucy5jdXN0b21Db2RlPy5hbGxvd0NvZGVFeGVjdXRpb25cbiAgICAgICk7XG4gICAgfVxuICAgIHN0ckluaiA9IGluc3RyLnJlcGxhY2VBbGwoL1xcdHxcXG58XFxyL2csICcnKS50cmltKCk7XG5cbiAgICAvLyBHZXQgcmlkIG9mIHRoZSA7XG4gICAgaWYgKHN0cklualtzdHJJbmoubGVuZ3RoIC0gMV0gPT09ICc7Jykge1xuICAgICAgc3RySW5qID0gc3RySW5qLnN1YnN0cmluZygwLCBzdHJJbmoubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgLy8gU2F2ZSBhcyBzdHJpZ2h0IGluamVjdCBzdHJpbmdcbiAgICBvcHRpb25zLmV4cG9ydC5zdHJJbmogPSBzdHJJbmo7XG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGZhbHNlLCBlbmRDYWxsYmFjayk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNsZWFyVGV4dChcbiAgICAgIGBNYWxmb3JtZWQgaW5wdXQgZGV0ZWN0ZWQgZm9yICR7b3B0aW9ucy5leHBvcnQ/LnJlcXVlc3RJZCB8fCAnPyd9OlxuICAgICAgUGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHlvdXIgSlNPTi9KYXZhU2NyaXB0IG9wdGlvbnNcbiAgICAgIGFyZSBzZW50IHVzaW5nIHRoZSBcIm9wdGlvbnNcIiBhdHRyaWJ1dGUsIGFuZCB0aGF0IGlmIHlvdSdyZSB1c2luZ1xuICAgICAgU1ZHLCBpdCBpcyB1bmVzY2FwZWQuYFxuICAgICk7XG5cbiAgICBsb2coMSwgbWVzc2FnZSk7XG4gICAgcmV0dXJuIChcbiAgICAgIGVuZENhbGxiYWNrICYmXG4gICAgICBlbmRDYWxsYmFjayhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICBtZXNzYWdlXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBQcmVwYXJlcyBhbiBpbnB1dCBiZWZvcmUgZXhwb3J0aW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdUb0V4cG9ydCAtIFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBTVkcvZXhwb3J0IG9wdGlvbnMuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGVuZENhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBleHBvcnRpbmcgaXMgZG9uZS5cbiAqL1xuY29uc3QgZXhwb3J0QXNTdHJpbmcgPSAoc3RyaW5nVG9FeHBvcnQsIG9wdGlvbnMsIGVuZENhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IHsgYWxsb3dDb2RlRXhlY3V0aW9uIH0gPSBvcHRpb25zLmN1c3RvbUNvZGU7XG5cbiAgLy8gQ2hlY2sgaWYgaXQgaXMgU1ZHXG4gIGlmIChcbiAgICBzdHJpbmdUb0V4cG9ydC5pbmRleE9mKCc8c3ZnJykgPj0gMCB8fFxuICAgIHN0cmluZ1RvRXhwb3J0LmluZGV4T2YoJzw/eG1sJykgPj0gMFxuICApIHtcbiAgICBsb2coNCwgJ1tjaGFydF0gUGFyc2luZyBpbnB1dCBhcyBTVkcuJyk7XG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGZhbHNlLCBlbmRDYWxsYmFjaywgc3RyaW5nVG9FeHBvcnQpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBUcnkgdG8gcGFyc2UgdG8gSlNPTiBhbmQgY2FsbCB0aGUgZG9FeHBvcnQgZnVuY3Rpb25cbiAgICBjb25zdCBjaGFydEpTT04gPSBKU09OLnBhcnNlKHN0cmluZ1RvRXhwb3J0LnJlcGxhY2VBbGwoL1xcdHxcXG58XFxyL2csICcgJykpO1xuXG4gICAgLy8gSWYgYSBjb3JyZWN0IEpTT04sIGRvIHRoZSBleHBvcnRcbiAgICByZXR1cm4gZG9FeHBvcnQob3B0aW9ucywgY2hhcnRKU09OLCBlbmRDYWxsYmFjayk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gTm90IGEgdmFsaWQgSlNPTlxuICAgIGlmICh0b0Jvb2xlYW4oYWxsb3dDb2RlRXhlY3V0aW9uKSkge1xuICAgICAgcmV0dXJuIGRvU3RyYWlnaHRJbmplY3Qob3B0aW9ucywgZW5kQ2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEbyBub3QgYWxsb3cgc3RyYWlnaHQgaW5qZWN0aW9uIHdpdGhvdXQgdGhlIGFsbG93Q29kZUV4ZWN1dGlvbiBmbGFnXG4gICAgICByZXR1cm4gKFxuICAgICAgICBlbmRDYWxsYmFjayAmJlxuICAgICAgICBlbmRDYWxsYmFjayhmYWxzZSwge1xuICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6IGNsZWFyVGV4dChcbiAgICAgICAgICAgIGBPbmx5IEpTT04gY29uZmlndXJhdGlvbnMgYW5kIFNWRyBpcyBhbGxvd2VkIGZvciB0aGlzIHNlcnZlci4gSWZcbiAgICAgICAgICAgIHRoaXMgaXMgeW91ciBzZXJ2ZXIsIEphdmFTY3JpcHQgZXhwb3J0aW5nIGNhbiBiZSBlbmFibGVkIGJ5IHN0YXJ0aW5nXG4gICAgICAgICAgICB0aGUgc2VydmVyIHdpdGggdGhlIC0tYWxsb3dDb2RlRXhlY3V0aW9uIGZsYWcuYFxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsb3dDb2RlRXhlY3V0aW9uID0gKCkgPT4gYWxsb3dDb2RlRXhlY3V0aW9uO1xuXG5leHBvcnQgY29uc3Qgc2V0QWxsb3dDb2RlRXhlY3V0aW9uID0gKHZhbHVlKSA9PiB7XG4gIGFsbG93Q29kZUV4ZWN1dGlvbiA9IHRvQm9vbGVhbih2YWx1ZSk7XG59O1xuXG4vKipcbiAqIFN0YXJ0cyBhbiBleHBvcnRpbmcgcHJvY2Vzc1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyAtIFNldHRpbmdzIGZvciBleHBvcnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRDYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gZXhwb3J0aW5nIGlzIGRvbmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYmF0Y2hFeHBvcnQsXG4gIHNpbmdsZUV4cG9ydCxcbiAgZ2V0QWxsb3dDb2RlRXhlY3V0aW9uLFxuICBzZXRBbGxvd0NvZGVFeGVjdXRpb24sXG4gIHN0YXJ0RXhwb3J0LFxuICBmaW5kQ2hhcnRTaXplXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcblxuaW1wb3J0IHsgZ2V0QWxsb3dDb2RlRXhlY3V0aW9uLCBzdGFydEV4cG9ydCB9IGZyb20gJy4uLy4uL2NoYXJ0LmpzJztcbmltcG9ydCB7IGdldE9wdGlvbnMsIG1lcmdlQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcyc7XG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi8uLi9sb2dnZXIuanMnO1xuaW1wb3J0IHtcbiAgY2xlYXJUZXh0LFxuICBmaXhUeXBlLFxuICBpc0NvcnJlY3RKU09OLFxuICBpc1ByaXZhdGVSYW5nZVVybEZvdW5kLFxuICBvcHRpb25zU3RyaW5naWZ5LFxuICBtZWFzdXJlVGltZVxufSBmcm9tICcuLi8uLi91dGlscy5qcyc7XG5cbi8vIFJldmVyc2VkIE1JTUUgdHlwZXNcbmNvbnN0IHJldmVyc2VkTWltZSA9IHtcbiAgcG5nOiAnaW1hZ2UvcG5nJyxcbiAganBlZzogJ2ltYWdlL2pwZWcnLFxuICBnaWY6ICdpbWFnZS9naWYnLFxuICBwZGY6ICdhcHBsaWNhdGlvbi9wZGYnLFxuICBzdmc6ICdpbWFnZS9zdmcreG1sJ1xufTtcblxuLy8gVGhlIHJlcXVlc3RzIGNvdW50ZXJcbmxldCByZXF1ZXN0c0NvdW50ZXIgPSAwO1xuXG5jb25zdCBiZW5jaG1hcmsgPSBmYWxzZTtcblxuLy8gVGhlIGFycmF5IG9mIGNhbGxiYWNrcyB0byBjYWxsIGJlZm9yZSBhIHJlcXVlc3RcbmNvbnN0IGJlZm9yZVJlcXVlc3QgPSBbXTtcblxuLy8gVGhlIGFycmF5IG9mIGNhbGxiYWNrcyB0byBjYWxsIGFmdGVyIGEgcmVxdWVzdFxuY29uc3QgYWZ0ZXJSZXF1ZXN0ID0gW107XG5cbi8qKlxuICogQ2FsbHMgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNhbGxiYWNrcyAtIEFuIGFycmF5IG9mIGNhbGxiYWNrcy5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgLSBUaGUgcmVzcG9uc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIFRoZSBkYXRhIHRvIHNlbmQgdG8gY2FsbGJhY2tzLlxuICogQHJldHVybiB7b2JqZWN0fSAtIFRoZSByZXN1bHQgZnJvbSBhIGNhbGxiYWNrLlxuICovXG5jb25zdCBkb0NhbGxiYWNrcyA9IChjYWxsYmFja3MsIHJlcXVlc3QsIHJlc3BvbnNlLCBkYXRhKSA9PiB7XG4gIGxldCByZXN1bHQgPSB0cnVlO1xuICBjb25zdCB7IGlkLCB1bmlxdWVJZCwgdHlwZSwgYm9keSB9ID0gZGF0YTtcblxuICBjYWxsYmFja3Muc29tZSgoY2FsbGJhY2spID0+IHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGxldCBjYWxsUmVzcG9uc2UgPSBjYWxsYmFjayhyZXF1ZXN0LCByZXNwb25zZSwgaWQsIHVuaXF1ZUlkLCB0eXBlLCBib2R5KTtcblxuICAgICAgaWYgKGNhbGxSZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIGNhbGxSZXNwb25zZSAhPT0gdHJ1ZSkge1xuICAgICAgICByZXN1bHQgPSBjYWxsUmVzcG9uc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogSGFuZGxlcyBhbiBleHBvcnQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJlcXVlc3QgLSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSAtIFRoZSByZXNwb25zZS5cbiAqL1xuY29uc3QgZXhwb3J0SGFuZGxlciA9IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAvLyBTdGFydCBjb3VudGluZyB0aW1lXG4gIGNvbnN0IHN0b3BDb3VudGVyID0gbWVhc3VyZVRpbWUoKTtcblxuICAvLyBHZXQgdGhlIGN1cnJlbnQgc2VydmVyJ3MgZ2VuZXJhbCBvcHRpb25zXG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0T3B0aW9ucygpO1xuXG4gIC8vIEluaXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChiZW5jaG1hcmspIHtcbiAgICBjb25zb2xlLmxvZygnSW5pdCBkZWZhdWx0IG9wdGlvbnM6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xuICB9XG5cbiAgY29uc3QgYm9keSA9IHJlcXVlc3QuYm9keTtcbiAgY29uc3QgaWQgPSArK3JlcXVlc3RzQ291bnRlcjtcbiAgY29uc3QgdW5pcXVlSWQgPSB1dWlkKCkucmVwbGFjZSgvLS9nLCAnJyk7XG4gIGxldCB0eXBlID0gZml4VHlwZShib2R5LnR5cGUpO1xuXG4gIC8vIEZpeCB0eXBlXG4gIGlmIChiZW5jaG1hcmspIHtcbiAgICBjb25zb2xlLmxvZygnRml4IHR5cGU6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xuICB9XG5cbiAgLy8gVGhyb3cgJ0JhZCBSZXF1ZXN0JyBpZiB0aGVyZSdzIG5vIGJvZHlcbiAgaWYgKCFib2R5KSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLnNlbmQoXG4gICAgICBjbGVhclRleHQoXG4gICAgICAgIGBCb2R5IGlzIHJlcXVpcmVkLiBTZW5kaW5nIGEgYm9keT8gTWFrZSBzdXJlIHlvdXIgQ29udGVudC10eXBlIGhlYWRlclxuICAgICAgICBpcyBjb3JyZWN0LiBBY2NlcHRlZCBpcyBhcHBsaWNhdGlvbi9qc29uIGFuZCBtdWx0aXBhcnQvZm9ybS1kYXRhLmBcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLy8gQWxsIG9mIHRoZSBiZWxvdyBjYW4gYmUgdXNlZFxuICBsZXQgaW5zdHIgPSBpc0NvcnJlY3RKU09OKGJvZHkuaW5maWxlIHx8IGJvZHkub3B0aW9ucyB8fCBib2R5LmRhdGEpO1xuXG4gIC8vIElzIGNvcnJlY3QgSlNPTlxuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ0lzIGNvcnJlY3QgSlNPTjonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XG4gIH1cblxuICAvLyBUaHJvdyAnQmFkIFJlcXVlc3QnIGlmIHRoZXJlJ3Mgbm8gSlNPTiBvciBTVkcgdG8gZXhwb3J0XG4gIGlmICghaW5zdHIgJiYgIWJvZHkuc3ZnKSB7XG4gICAgbG9nKFxuICAgICAgMixcbiAgICAgIGNsZWFyVGV4dChcbiAgICAgICAgYFJlcXVlc3QgJHt1bmlxdWVJZH0gZnJvbSAke1xuICAgICAgICAgIHJlcXVlc3QuaGVhZGVyc1sneC1mb3J3YXJkZWQtZm9yJ10gfHwgcmVxdWVzdC5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3NcbiAgICAgICAgfSB3YXMgaW5jb3JyZWN0LiBDaGVjayB5b3VyIHBheWxvYWQuYFxuICAgICAgKVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuc2VuZChcbiAgICAgIGNsZWFyVGV4dChcbiAgICAgICAgYE5vIGNvcnJlY3QgY2hhcnQgZGF0YSBmb3VuZC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgYXJlIHVzaW5nXG4gICAgICAgIGFwcGxpY2F0aW9uL2pzb24gb3IgbXVsdGlwYXJ0L2Zvcm0tZGF0YSBoZWFkZXJzLCBhbmQgdGhhdCB0aGUgY2hhcnRcbiAgICAgICAgZGF0YSBpcyBpbiB0aGUgJ2luZmlsZScsICdvcHRpb25zJyBvciAnZGF0YScgYXR0cmlidXRlIGlmIHNlbmRpbmdcbiAgICAgICAgSlNPTiBvciBpbiB0aGUgJ3N2ZycgaWYgc2VuZGluZyBTVkcuYFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBsZXQgY2FsbFJlc3BvbnNlID0gZmFsc2U7XG5cbiAgLy8gQ2FsbCB0aGUgYmVmb3JlIHJlcXVlc3QgZnVuY3Rpb25zXG4gIGNhbGxSZXNwb25zZSA9IGRvQ2FsbGJhY2tzKGJlZm9yZVJlcXVlc3QsIHJlcXVlc3QsIHJlc3BvbnNlLCB7XG4gICAgaWQsXG4gICAgdW5pcXVlSWQsXG4gICAgdHlwZSxcbiAgICBib2R5XG4gIH0pO1xuXG4gIC8vIERvIGNhbGxiYWNrc1xuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ0RvIGNhbGxiYWNrczonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XG4gIH1cblxuICAvLyBCbG9jayB0aGUgcmVxdWVzdCBpZiBvbmUgb2YgYSBjYWxsYmFja3MgZmFpbGVkXG4gIGlmIChjYWxsUmVzcG9uc2UgIT09IHRydWUpIHtcbiAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZChjYWxsUmVzcG9uc2UpO1xuICB9XG5cbiAgbGV0IGNvbm5lY3Rpb25BYm9ydGVkID0gZmFsc2U7XG5cbiAgLy8gSW4gY2FzZSB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQsIGZvcmNlIHRvIGFib3J0IGZ1cnRoZXIgYWN0aW9uc1xuICByZXF1ZXN0LnNvY2tldC5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgY29ubmVjdGlvbkFib3J0ZWQgPSB0cnVlO1xuICB9KTtcblxuICBsb2coNCwgYFtleHBvcnRdIEdvdCBhbiBpbmNvbWluZyBIVFRQIHJlcXVlc3QgJHt1bmlxdWVJZH0uYCk7XG5cbiAgYm9keS5jb25zdHIgPSAodHlwZW9mIGJvZHkuY29uc3RyID09PSAnc3RyaW5nJyAmJiBib2R5LmNvbnN0cikgfHwgJ2NoYXJ0JztcblxuICAvLyBHYXRoZXIgYW5kIG9yZ2FuaXplIG9wdGlvbnMgZnJvbSB0aGUgcGF5bG9hZFxuICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICBleHBvcnQ6IHtcbiAgICAgIGluc3RyLFxuICAgICAgdHlwZSxcbiAgICAgIGNvbnN0cjogYm9keS5jb25zdHJbMF0udG9Mb3dlckNhc2UoKSArIGJvZHkuY29uc3RyLnN1YnN0cigxKSxcbiAgICAgIGhlaWdodDogYm9keS5oZWlnaHQsXG4gICAgICB3aWR0aDogYm9keS53aWR0aCxcbiAgICAgIHNjYWxlOiBib2R5LnNjYWxlIHx8IGRlZmF1bHRPcHRpb25zLmV4cG9ydC5zY2FsZSxcbiAgICAgIGdsb2JhbE9wdGlvbnM6IGlzQ29ycmVjdEpTT04oYm9keS5nbG9iYWxPcHRpb25zLCB0cnVlKSxcbiAgICAgIHRoZW1lT3B0aW9uczogaXNDb3JyZWN0SlNPTihib2R5LnRoZW1lT3B0aW9ucywgdHJ1ZSlcbiAgICB9LFxuICAgIGN1c3RvbUNvZGU6IHtcbiAgICAgIGFsbG93Q29kZUV4ZWN1dGlvbjogZ2V0QWxsb3dDb2RlRXhlY3V0aW9uKCksXG4gICAgICBhbGxvd0ZpbGVSZXNvdXJjZXM6IGZhbHNlLFxuICAgICAgcmVzb3VyY2VzOiBpc0NvcnJlY3RKU09OKGJvZHkucmVzb3VyY2VzLCB0cnVlKSxcbiAgICAgIGNhbGxiYWNrOiBib2R5LmNhbGxiYWNrLFxuICAgICAgY3VzdG9tQ29kZTogYm9keS5jdXN0b21Db2RlXG4gICAgfVxuICB9O1xuXG4gIC8vIE9yZ2FuaXplIG9wdGlvbnNcbiAgaWYgKGJlbmNobWFyaykge1xuICAgIGNvbnNvbGUubG9nKCdPcmdhbml6ZSBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIGlmIChpbnN0cikge1xuICAgIC8vIFN0cmluZ2lmeSBKU09OIHdpdGggb3B0aW9uc1xuICAgIHJlcXVlc3RPcHRpb25zLmV4cG9ydC5pbnN0ciA9IG9wdGlvbnNTdHJpbmdpZnkoXG4gICAgICBpbnN0cixcbiAgICAgIHJlcXVlc3RPcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dDb2RlRXhlY3V0aW9uXG4gICAgKTtcblxuICAgIC8vIFN0cmluZ2lmeSBKU09OIHdpdGggb3B0aW9uc1xuICAgIGlmIChiZW5jaG1hcmspIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTdHJpbmdpZnkgSlNPTiB3aXRoIG9wdGlvbnM6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xuICAgIH1cbiAgfVxuXG4gIC8vIE1lcmdlIHRoZSByZXF1ZXN0IG9wdGlvbnMgaW50byBkZWZhdWx0IG9uZXNcbiAgY29uc3Qgb3B0aW9ucyA9IG1lcmdlQ29uZmlnT3B0aW9ucyhkZWZhdWx0T3B0aW9ucywgcmVxdWVzdE9wdGlvbnMpO1xuXG4gIC8vIE1lcmdlIGNvbmZpZyBvcHRpb25zXG4gIGlmIChiZW5jaG1hcmspIHtcbiAgICBjb25zb2xlLmxvZygnTWVyZ2UgY29uZmlnIG9wdGlvbnM6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xuICB9XG5cbiAgLy8gU2F2ZSB0aGUgSlNPTiBpZiBleGlzdHNcbiAgb3B0aW9ucy5leHBvcnQub3B0aW9ucyA9IGluc3RyO1xuXG4gIC8vIExhc3RseSwgYWRkIHRoZSBzZXJ2ZXIgc3BlY2lmaWMgYXJndW1lbnRzIGludG8gb3B0aW9ucyBhcyBwYXlsb2FkXG4gIG9wdGlvbnMucGF5bG9hZCA9IHtcbiAgICBzdmc6IGJvZHkuc3ZnIHx8IGZhbHNlLFxuICAgIGI2NDogYm9keS5iNjQgfHwgZmFsc2UsXG4gICAgZGF0YU9wdGlvbnM6IGlzQ29ycmVjdEpTT04oYm9keS5kYXRhT3B0aW9ucywgdHJ1ZSksXG4gICAgbm9Eb3dubG9hZDogYm9keS5ub0Rvd25sb2FkIHx8IGZhbHNlLFxuICAgIHJlcXVlc3RJZDogdW5pcXVlSWRcbiAgfTtcblxuICAvLyBTZXR0aW5nIHBheWxvYWRcbiAgaWYgKGJlbmNobWFyaykge1xuICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHBheWxvYWQ6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xuICB9XG5cbiAgLy8gVGVzdCB4bGluazpocmVmIGVsZW1lbnRzIGZyb20gcGF5bG9hZCdzIFNWR1xuICBpZiAoYm9keS5zdmcgJiYgaXNQcml2YXRlUmFuZ2VVcmxGb3VuZChvcHRpb25zLnBheWxvYWQuc3ZnKSkge1xuICAgIHJldHVybiByZXNwb25zZVxuICAgICAgLnN0YXR1cyg0MDApXG4gICAgICAuc2VuZChcbiAgICAgICAgJ1NWRyBwb3RlbnRpYWxseSBjb250YWluIGF0IGxlYXN0IG9uZSBmb3JiaWRkZW4gVVJMIGluIHhsaW5rOmhyZWYgZWxlbWVudC4nXG4gICAgICApO1xuICB9XG5cbiAgLy8gQ2hlY2sgVVJMIHJhbmdlXG4gIGlmIChiZW5jaG1hcmspIHtcbiAgICBjb25zb2xlLmxvZygnQ2hlY2sgVVJMIHJhbmdlOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IHRoZSBleHBvcnQgcHJvY2Vzc1xuICBzdGFydEV4cG9ydChvcHRpb25zLCAoaW5mbywgZXJyb3IpID0+IHtcbiAgICAvLyBSZW1vdmUgdGhlIGNsb3NlIGV2ZW50IGZyb20gdGhlIHNvY2tldFxuICAgIHJlcXVlc3Quc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygnY2xvc2UnKTtcblxuICAgIC8vIEFmdGVyIFB1cHBldGVlciBleHBvcnRpbmdcbiAgICBpZiAoYmVuY2htYXJrKSB7XG4gICAgICBjb25zb2xlLmxvZygnQWZ0ZXIgUHVwcGV0ZWVyIGV4cG9ydGluZzonLCBzdG9wQ291bnRlcigpLCAnbXMuJywgJ1xcbicpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQsIGRvIG5vdGhpbmdcbiAgICBpZiAoY29ubmVjdGlvbkFib3J0ZWQpIHtcbiAgICAgIHJldHVybiBsb2coXG4gICAgICAgIDMsXG4gICAgICAgIGNsZWFyVGV4dChcbiAgICAgICAgICBgW2V4cG9ydF0gVGhlIGNsaWVudCBjbG9zZWQgdGhlIGNvbm5lY3Rpb24gYmVmb3JlIHRoZSBjaGFydCB3YXMgZG9uZVxuICAgICAgICAgIHByb2Nlc3NpbmcuYFxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIElmIGVycm9yLCByZXR1cm4gaXRcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgMSxcbiAgICAgICAgY2xlYXJUZXh0KFxuICAgICAgICAgIGBbZXhwb3J0XSBXb3JrOiAke3VuaXF1ZUlkfSBjb3VsZCBub3QgYmUgY29tcGxldGVkLCBzZW5kaW5nOlxuICAgICAgICAgICR7ZXJyb3J9YFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgLy8gSWYgZGF0YSBpcyBtaXNzaW5nLCByZXR1cm4gdGhlIGVycm9yXG4gICAgaWYgKCFpbmZvIHx8ICFpbmZvLmRhdGEpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgMSxcbiAgICAgICAgY2xlYXJUZXh0KFxuICAgICAgICAgIGBbZXhwb3J0XSBVbmV4cGVjdGVkIHJldHVybiBmcm9tIGNoYXJ0IGdlbmVyYXRpb24sIHBsZWFzZSBjaGVjayB5b3VyXG4gICAgICAgICAgZGF0YSBSZXF1ZXN0OiAke3VuaXF1ZUlkfSBpcyAke2luZm8uZGF0YX0uYFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlXG4gICAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgICAuc2VuZChcbiAgICAgICAgICAnVW5leHBlY3RlZCByZXR1cm4gZnJvbSBjaGFydCBnZW5lcmF0aW9uLCBwbGVhc2UgY2hlY2sgeW91ciBkYXRhLidcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIHR5cGUgZnJvbSBvcHRpb25zXG4gICAgdHlwZSA9IGluZm8ub3B0aW9ucy5leHBvcnQudHlwZTtcblxuICAgIC8vIFRoZSBhZnRlciByZXF1ZXN0IGNhbGxiYWNrc1xuICAgIGRvQ2FsbGJhY2tzKGFmdGVyUmVxdWVzdCwgcmVxdWVzdCwgcmVzcG9uc2UsIHsgaWQsIGJvZHk6IGluZm8uZGF0YSB9KTtcblxuICAgIGlmIChpbmZvLmRhdGEpIHtcbiAgICAgIC8vIElmIG9ubHkgYmFzZTY0IGlzIHJlcXVpcmVkLCByZXR1cm4gaXRcbiAgICAgIGlmIChib2R5LmI2NCkge1xuICAgICAgICAvLyBTVkcgRXhjZXB0aW9uIGZvciB0aGUgSGlnaGNoYXJ0cyAxMS4zLjAgdmVyc2lvblxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BkZicgfHwgdHlwZSA9PSAnc3ZnJykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKFxuICAgICAgICAgICAgQnVmZmVyLmZyb20oaW5mby5kYXRhLCAndXRmOCcpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZChpbmZvLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgY29ycmVjdCBjb250ZW50IHR5cGVcbiAgICAgIHJlc3BvbnNlLmhlYWRlcignQ29udGVudC1UeXBlJywgcmV2ZXJzZWRNaW1lW3R5cGVdIHx8ICdpbWFnZS9wbmcnKTtcblxuICAgICAgLy8gRGVjaWRlIHdoZXRoZXIgdG8gZG93bmxvYWQgb3Igbm90IGNoYXJ0IGZpbGVcbiAgICAgIGlmICghYm9keS5ub0Rvd25sb2FkKSB7XG4gICAgICAgIHJlc3BvbnNlLmF0dGFjaG1lbnQoXG4gICAgICAgICAgYCR7cmVxdWVzdC5wYXJhbXMuZmlsZW5hbWUgfHwgcmVxdWVzdC5ib2R5LmZpbGVuYW1lIHx8ICdjaGFydCd9LiR7XG4gICAgICAgICAgICB0eXBlIHx8ICdwbmcnXG4gICAgICAgICAgfWBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgU1ZHLCByZXR1cm4gcGxhaW4gY29udGVudFxuICAgICAgcmV0dXJuIHR5cGUgPT09ICdzdmcnXG4gICAgICAgID8gcmVzcG9uc2Uuc2VuZChpbmZvLmRhdGEpXG4gICAgICAgIDogcmVzcG9uc2Uuc2VuZChCdWZmZXIuZnJvbShpbmZvLmRhdGEsICdiYXNlNjQnKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IChhcHApID0+IHtcbiAgYXBwLnBvc3QoJy8nLCBleHBvcnRIYW5kbGVyKTtcbiAgYXBwLnBvc3QoJy86ZmlsZW5hbWUnLCBleHBvcnRIYW5kbGVyKTtcbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnNQcm9taXNlcyB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IHBvc2l4IH0gZnJvbSAncGF0aCc7XG5cbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XG5cbmltcG9ydCB7IGxvZyB9IGZyb20gJy4uL2xvZ2dlci5qcyc7XG5pbXBvcnQgcmF0ZUxpbWl0IGZyb20gJy4vcmF0ZV9saW1pdC5qcyc7XG5pbXBvcnQgeyBfX2Rpcm5hbWUgfSBmcm9tICcuLi91dGlscy5qcyc7XG5cbmltcG9ydCBoZWFsdGhSb3V0ZSBmcm9tICcuL3JvdXRlcy9oZWFsdGguanMnO1xuaW1wb3J0IGV4cG9ydFJvdXRlcyBmcm9tICcuL3JvdXRlcy9leHBvcnQuanMnO1xuaW1wb3J0IHZTd2l0Y2hSb3V0ZSBmcm9tICcuL3JvdXRlcy9jaGFuZ2VfaGNfdmVyc2lvbi5qcyc7XG5pbXBvcnQgdWlSb3V0ZSBmcm9tICcuL3JvdXRlcy91aS5qcyc7XG5cbi8vIENyZWF0ZSBleHByZXNzIGFwcFxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyBEaXNhYmxlIHRoZSBYLVBvd2VyZWQtQnkgaGVhZGVyXG5hcHAuZGlzYWJsZSgneC1wb3dlcmVkLWJ5Jyk7XG5cbi8vIEVuYWJsZSBDT1JTIHN1cHBvcnRcbmFwcC51c2UoY29ycygpKTtcblxuLy8gRW5hYmxlIHBhcnNpbmcgb2YgZm9ybSBkYXRhIChmaWxlcykgd2l0aCBNdWx0ZXIgcGFja2FnZVxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5tZW1vcnlTdG9yYWdlKCk7XG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xuICBzdG9yYWdlLFxuICBsaW1pdHM6IHtcbiAgICBmaWVsZHNTaXplOiAnNTBNQidcbiAgfVxufSk7XG5cbmFwcC51c2UodXBsb2FkLmFueSgpKTtcblxuLy8gRW5hYmxlIGJvZHkgcGFyc2VyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbih7IGxpbWl0OiAnNTBtYicgfSkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSwgbGltaXQ6ICc1MG1iJyB9KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSwgbGltaXQ6ICc1MG1iJyB9KSk7XG5cbi8qKlxuICogRXJyb3IgaGFuZGxlciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZXJyb3IgLSBBbiBlcnJvciBvYmplY3QuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IC0gQW4gZXJyb3IgbWVzc2FnZS5cbiAqL1xuY29uc3QgZXJyb3JIYW5kbGVyID0gKGVycm9yKSA9PiBsb2coMSwgYFtzZXJ2ZXJdIFNvY2tldCBlcnJvcjogJHtlcnJvcn1gKTtcblxuLyoqXG4gKiBBdHRhY2hlcyBlcnJvciBoYW5kbGVycyBmb3IgYSBzZXJ2ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHNlcnZlciAtIFRoZSBodHRwL2h0dHBzIHNlcnZlci5cbiAqL1xuY29uc3QgYXR0YWNoRXJyb3JIYW5kbGVycyA9IChzZXJ2ZXIpID0+IHtcbiAgc2VydmVyLm9uKCdjbGllbnRFcnJvcicsIGVycm9ySGFuZGxlcik7XG4gIHNlcnZlci5vbignZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICBzZXJ2ZXIub24oJ2Nvbm5lY3Rpb24nLCAoc29ja2V0KSA9PlxuICAgIHNvY2tldC5vbignZXJyb3InLCAoZXJyb3IpID0+IGVycm9ySGFuZGxlcihlcnJvciwgc29ja2V0KSlcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdGFydFNlcnZlciA9IGFzeW5jIChzZXJ2ZXJDb25maWcpID0+IHtcbiAgLy8gU3RvcCBpZiBub3QgZW5hYmxlZFxuICBpZiAoIXNlcnZlckNvbmZpZy5lbmFibGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyAvLyBHZXQgdGhlIHBvb2xcbiAgLy8gY29uc3QgcG9vbCA9IGdldFBvb2woKTtcblxuICAvLyAvLyBUcnkgdG8gY3JlYXRlIGJyb3dzZXIgaW5zdGFuY2UgYmVmb3JlIHN0YXJ0aW5nIHRoZSBzZXJ2ZXJcbiAgLy8gY29uc3QgcmVzb3VyY2UgPSBhd2FpdCBwb29sLmFjcXVpcmUoKTtcblxuICAvLyAvLyBJZiBub3QgZm91bmQsIHRocm93IGFuIGVycm9yXG4gIC8vIGlmICghcmVzb3VyY2UuYnJvd3Nlcikge1xuICAvLyAgIGxvZygxLCBgW3NlcnZlcl0gQ291bGQgbm90IGFjcXVpcmUgYnJvd3NlciBpbnN0YW5jZS5gKTtcbiAgLy8gICBwcm9jZXNzLmV4aXQoMSk7XG4gIC8vIH1cblxuICAvLyAvLyBSZWxlYXNlIHRoZSByZXNvdXJjZVxuICAvLyBwb29sLnJlbGVhc2UocmVzb3VyY2UpO1xuXG4gIC8vIExpc3RlbiBIVFRQIHNlcnZlclxuICBpZiAoIXNlcnZlckNvbmZpZy5zc2wuZW5hYmxlICYmICFzZXJ2ZXJDb25maWcuc3NsLmZvcmNlKSB7XG4gICAgLy8gTWFpbiBzZXJ2ZXIgaW5zdGFuY2UgKEhUVFApXG4gICAgY29uc3QgaHR0cFNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XG4gICAgLy8gQXR0YWNoIGVycm9yIGhhbmRsZXJzIGFuZCBsaXN0ZW4gdG8gdGhlIHNlcnZlclxuICAgIGF0dGFjaEVycm9ySGFuZGxlcnMoaHR0cFNlcnZlcik7XG4gICAgLy8gTGlzdGVuXG4gICAgaHR0cFNlcnZlci5saXN0ZW4oc2VydmVyQ29uZmlnLnBvcnQsIHNlcnZlckNvbmZpZy5ob3N0KTtcblxuICAgIGxvZyhcbiAgICAgIDMsXG4gICAgICBgW3NlcnZlcl0gU3RhcnRlZCBIVFRQIHNlcnZlciBvbiAke3NlcnZlckNvbmZpZy5ob3N0fToke3NlcnZlckNvbmZpZy5wb3J0fS5gXG4gICAgKTtcbiAgfVxuXG4gIC8vIExpc3RlbiBIVFRQUyBzZXJ2ZXJcbiAgaWYgKHNlcnZlckNvbmZpZy5zc2wuZW5hYmxlKSB7XG4gICAgLy8gU2V0IHVwIGFuIFNTTCBzZXJ2ZXIgYWxzb1xuICAgIGxldCBrZXksIGNlcnQ7XG5cbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHRoZSBTU0wga2V5XG4gICAgICBrZXkgPSBhd2FpdCBmc1Byb21pc2VzLnJlYWRGaWxlKFxuICAgICAgICBwb3NpeC5qb2luKHNlcnZlckNvbmZpZy5zc2wuY2VydFBhdGgsICdzZXJ2ZXIua2V5JyksXG4gICAgICAgICd1dGY4J1xuICAgICAgKTtcblxuICAgICAgLy8gR2V0IHRoZSBTU0wgY2VydGlmaWNhdGVcbiAgICAgIGNlcnQgPSBhd2FpdCBmc1Byb21pc2VzLnJlYWRGaWxlKFxuICAgICAgICBwb3NpeC5qb2luKHNlcnZlckNvbmZpZy5zc2wuY2VydFBhdGgsICdzZXJ2ZXIuY3J0JyksXG4gICAgICAgICd1dGY4J1xuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nKFxuICAgICAgICAxLFxuICAgICAgICBgW3NlcnZlcl0gVW5hYmxlIHRvIGxvYWQga2V5L2NlcnRpZmljYXRlIGZyb20gJHtzZXJ2ZXJDb25maWcuc3NsLmNlcnRQYXRofS5gXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChrZXkgJiYgY2VydCkge1xuICAgICAgLy8gTWFpbiBzZXJ2ZXIgaW5zdGFuY2UgKEhUVFBTKVxuICAgICAgY29uc3QgaHR0cHNTZXJ2ZXIgPSBodHRwcy5jcmVhdGVTZXJ2ZXIoYXBwKTtcbiAgICAgIC8vIEF0dGFjaCBlcnJvciBoYW5kbGVycyBhbmQgbGlzdGVuIHRvIHRoZSBzZXJ2ZXJcbiAgICAgIGF0dGFjaEVycm9ySGFuZGxlcnMoaHR0cHNTZXJ2ZXIpO1xuICAgICAgLy8gTGlzdGVuXG4gICAgICBodHRwc1NlcnZlci5saXN0ZW4oc2VydmVyQ29uZmlnLnNzbC5wb3J0LCBzZXJ2ZXJDb25maWcuaG9zdCk7XG5cbiAgICAgIGxvZyhcbiAgICAgICAgMyxcbiAgICAgICAgYFtzZXJ2ZXJdIFN0YXJ0ZWQgSFRUUFMgc2VydmVyIG9uICR7c2VydmVyQ29uZmlnLmhvc3R9OiR7c2VydmVyQ29uZmlnLnNzbC5wb3J0fS5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEVuYWJsZSB0aGUgcmF0ZSBsaW1pdGVyIGlmIGNvbmZpZyBzYXlzIHNvXG4gIGlmIChcbiAgICBzZXJ2ZXJDb25maWcucmF0ZUxpbWl0aW5nICYmXG4gICAgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZy5lbmFibGUgJiZcbiAgICAhWzAsIE5hTl0uaW5jbHVkZXMoc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cylcbiAgKSB7XG4gICAgcmF0ZUxpbWl0KGFwcCwgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZyk7XG4gIH1cblxuICAvLyBTZXQgdXAgc3RhdGljIGZvbGRlcidzIHJvdXRlXG4gIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMocG9zaXguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpO1xuXG4gIC8vIFNldCB1cCByb3V0ZXNcbiAgaGVhbHRoUm91dGUoYXBwKTtcbiAgZXhwb3J0Um91dGVzKGFwcCk7XG4gIHVpUm91dGUoYXBwKTtcbiAgdlN3aXRjaFJvdXRlKGFwcCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGV4cHJlc3MgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFeHByZXNzID0gKCkgPT4ge1xuICByZXR1cm4gZXhwcmVzcztcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYXBwIGluc3RhbmNlLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXBwID0gKCkgPT4ge1xuICByZXR1cm4gYXBwO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgbWlkZGxld2FyZSB0byB0aGUgc2VydmVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXRoIC0gQW4gZW5kcG9pbnQgcGF0aCB0byBhZGQgbWlkZGxld2FyZXMgdG8uXG4gKiBAcGFyYW0ge0FycmF5fSBtaWRkbGV3YXJlcyAtIEFuIHVubGltaXRlZCBudW1iZXIgb2YgbWlkZGxld2FyZXMgdG8gdXNlXG4gKiBhZ2FpbnN0IHRoZSBzcGVjaWZpYyBlbmRwb2ludC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZSA9IChwYXRoLCAuLi5taWRkbGV3YXJlcykgPT4ge1xuICBhcHAudXNlKHBhdGgsIC4uLm1pZGRsZXdhcmVzKTtcbn07XG5cbi8qKlxuICogQWRkcyBhIGdldCByb3V0ZSB0byB0aGUgc2VydmVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXRoIC0gQW4gZW5kcG9pbnQgcGF0aCB0byBhZGQgbWlkZGxld2FyZXMgdG8uXG4gKiBAcGFyYW0ge0FycmF5fSBtaWRkbGV3YXJlcyAtIEFuIHVubGltaXRlZCBudW1iZXIgb2YgbWlkZGxld2FyZXMgdG8gdXNlXG4gKiBhZ2FpbnN0IHRoZSBzcGVjaWZpYyBlbmRwb2ludCBmb3IgR0VUIG1ldGhvZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldCA9IChwYXRoLCAuLi5taWRkbGV3YXJlcykgPT4ge1xuICBhcHAuZ2V0KHBhdGgsIC4uLm1pZGRsZXdhcmVzKTtcbn07XG5cbi8qKlxuICogQWRkcyBhIHBvc3Qgcm91dGUgdG8gdGhlIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGF0aCAtIEFuIGVuZHBvaW50IHBhdGggdG8gYWRkIG1pZGRsZXdhcmVzIHRvLlxuICogQHBhcmFtIHtBcnJheX0gbWlkZGxld2FyZXMgLSBBbiB1bmxpbWl0ZWQgbnVtYmVyIG9mIG1pZGRsZXdhcmVzIHRvIHVzZVxuICogYWdhaW5zdCB0aGUgc3BlY2lmaWMgZW5kcG9pbnQgZm9yIFBPU1QgbWV0aG9kLlxuICovXG5leHBvcnQgY29uc3QgcG9zdCA9IChwYXRoLCAuLi5taWRkbGV3YXJlcykgPT4ge1xuICBhcHAucG9zdChwYXRoLCAuLi5taWRkbGV3YXJlcyk7XG59O1xuXG4vKipcbiAqIEZvcmNlZnVsbHkgZW5hYmxlcyByYXRlIGxpbWl0aW5nLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaW1pdENvbmZpZyAtIFRoZSBvcHRpb25zIG9iamVjdCBmb3IgdGhlIHJhdGUgbGltaXRlclxuICogY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGVuYWJsZVJhdGVMaW1pdGluZyA9IChsaW1pdENvbmZpZykgPT4ge1xuICByZXR1cm4gcmF0ZUxpbWl0KGFwcCwgbGltaXRDb25maWcpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzdGFydFNlcnZlcixcbiAgZ2V0RXhwcmVzcyxcbiAgZ2V0QXBwLFxuICB1c2UsXG4gIGdldCxcbiAgcG9zdCxcbiAgZW5hYmxlUmF0ZUxpbWl0aW5nXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcblxuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vLi4vdXRpbHMuanMnO1xuLyoqXG4gKiBBZGRzIHRoZSAvIHJvdXRlIGZvciBhIFVJIHdoZW4gZW5hYmxlZCBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGFwcCkgPT5cbiAgIWFwcFxuICAgID8gZmFsc2VcbiAgICA6IGFwcC5nZXQoJy8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcG9uc2Uuc2VuZEZpbGUoam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnLCAnaW5kZXguaHRtbCcpKTtcbiAgICAgIH0pO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBjYWNoZSBmcm9tICcuLi8uLi9jYWNoZS5qcyc7XG5cbi8qKlxuICogQWRkcyBhIHJvdXRlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hhbmdlIHRoZSBIQyB2ZXJzaW9uIG9uIHRoZSBzZXJ2ZXJcbiAqIFRPRE86IEFkZCBhdXRoIHRva2VuIGFuZCBjb25uZWN0IHRvIEFQSVxuICovXG5leHBvcnQgZGVmYXVsdCAoYXBwKSA9PlxuICAhYXBwXG4gICAgPyBmYWxzZVxuICAgIDogYXBwLnBvc3QoJy9jaGFuZ2VfaGNfdmVyc2lvbi86bmV3VmVyc2lvbicsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCBjdG9rZW4gPSBwcm9jZXNzLmVudi5ISUdIQ0hBUlRTX0FETUlOX1RPS0VOO1xuXG4gICAgICAgIGlmICghY3Rva2VuIHx8ICFjdG9rZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoe1xuICAgICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAnU2VydmVyIG5vdCBjb25maWd1cmVkIHRvIGRvIHJ1bi10aW1lIHZlcnNpb24gY2hhbmdlczogSElHSENIQVJUU19BRE1JTl9UT0tFTiBub3Qgc2V0J1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmdldCgnaGMtYXV0aCcpO1xuXG4gICAgICAgIGlmICghdG9rZW4gfHwgdG9rZW4gIT09IGN0b2tlbikge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgb3IgbWlzc2luZyB0b2tlbjogc2V0IHRva2VuIGluIHRoZSBoYy1hdXRoIGhlYWRlcidcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld1ZlcnNpb24gPSByZXF1ZXN0LnBhcmFtcy5uZXdWZXJzaW9uO1xuXG4gICAgICAgIGlmIChuZXdWZXJzaW9uKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbmFtZWQtYXMtZGVmYXVsdC1tZW1iZXJcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlLnVwZGF0ZVZlcnNpb24obmV3VmVyc2lvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XG4gICAgICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICAgIHZlcnNpb246IGNhY2hlLnZlcnNpb24oKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3BvbnNlLnNlbmQoe1xuICAgICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiAnTm8gbmV3IHZlcnNpb24gc3VwcGxpZWQnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIEFkZCB0aGUgbWFpbiBkaXJlY3RvcnkgaW4gdGhlIGdsb2JhbCBvYmplY3RcbmltcG9ydCAnY29sb3JzJztcblxuaW1wb3J0IHNlcnZlciwgeyBzdGFydFNlcnZlciB9IGZyb20gJy4vc2VydmVyL3NlcnZlci5qcyc7XG5pbXBvcnQge1xuICBzZXRBbGxvd0NvZGVFeGVjdXRpb24sXG4gIGJhdGNoRXhwb3J0LFxuICBzaW5nbGVFeHBvcnQsXG4gIHN0YXJ0RXhwb3J0XG59IGZyb20gJy4vY2hhcnQuanMnO1xuaW1wb3J0IHsgbWFwVG9OZXdDb25maWcsIHNldE9wdGlvbnMgfSBmcm9tICcuL2NvbmZpZy5qcyc7XG5pbXBvcnQgeyBsb2csIHNldExvZ0xldmVsLCBlbmFibGVGaWxlTG9nZ2luZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcbmltcG9ydCB7IGtpbGxQb29sLCBpbml0IH0gZnJvbSAnLi9wb29sLmpzJztcbmltcG9ydCB7IGNoZWNrQ2FjaGUgfSBmcm9tICcuL2NhY2hlLmpzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBsb2csXG4gIG1hcFRvTmV3Q29uZmlnLFxuICBzZXRPcHRpb25zLFxuICBzaW5nbGVFeHBvcnQsXG4gIHN0YXJ0RXhwb3J0LFxuICBiYXRjaEV4cG9ydCxcbiAgc2VydmVyLFxuICBzdGFydFNlcnZlcixcbiAga2lsbFBvb2wsXG4gIGluaXRQb29sOiBhc3luYyAob3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgLy8gU2V0IHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gcGVyIGV4cG9ydCBtb2R1bGUgc2NvcGVcbiAgICBzZXRBbGxvd0NvZGVFeGVjdXRpb24oXG4gICAgICBvcHRpb25zLmN1c3RvbUNvZGUgJiYgb3B0aW9ucy5jdXN0b21Db2RlLmFsbG93Q29kZUV4ZWN1dGlvblxuICAgICk7XG5cbiAgICAvLyBTZXQgdGhlIGxvZyBsZXZlbFxuICAgIHNldExvZ0xldmVsKG9wdGlvbnMubG9nZ2luZyAmJiBwYXJzZUludChvcHRpb25zLmxvZ2dpbmcubGV2ZWwpKTtcblxuICAgIC8vIFNldCB0aGUgbG9nIGZpbGUgcGF0aCBhbmQgbmFtZVxuICAgIGlmIChvcHRpb25zLmxvZ2dpbmcgJiYgb3B0aW9ucy5sb2dnaW5nLmRlc3QpIHtcbiAgICAgIGVuYWJsZUZpbGVMb2dnaW5nKFxuICAgICAgICBvcHRpb25zLmxvZ2dpbmcuZGVzdCxcbiAgICAgICAgb3B0aW9ucy5sb2dnaW5nLmZpbGUgfHwgJ2hpZ2hjaGFydHMtZXhwb3J0LXNlcnZlci5sb2cnXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGNhY2hlIG5lZWRzIHRvIGJlIHVwZGF0ZWRcbiAgICBhd2FpdCBjaGVja0NhY2hlKG9wdGlvbnMuaGlnaGNoYXJ0cyB8fCB7IHZlcnNpb246ICdsYXRlc3QnIH0pO1xuXG4gICAgLy8gSW5pdCB0aGUgcG9vbFxuICAgIGF3YWl0IGluaXQoe1xuICAgICAgcG9vbDogb3B0aW9ucy5wb29sIHx8IHtcbiAgICAgICAgbWluV29ya2VyczogMSxcbiAgICAgICAgbWF4V29ya2VyczogMVxuICAgICAgfSxcbiAgICAgIHB1cHBldGVlckFyZ3M6IG9wdGlvbnMucHVwcGV0ZWVyPy5hcmdzIHx8IFtdXG4gICAgfSk7XG5cbiAgICAvLyBSZXR1cm4gdXBkYXRlZCBvcHRpb25zXG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiZGVmYXVsdENvbmZpZyIsInB1cHBldGVlciIsImFyZ3MiLCJ2YWx1ZSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsImhpZ2hjaGFydHMiLCJ2ZXJzaW9uIiwiZW52TGluayIsImNkblVSTCIsImNvcmVTY3JpcHRzIiwibW9kdWxlcyIsImluZGljYXRvcnMiLCJzY3JpcHRzIiwiZm9yY2VGZXRjaCIsImV4cG9ydCIsImluZmlsZSIsImluc3RyIiwib3B0aW9ucyIsIm91dGZpbGUiLCJjb25zdHIiLCJkZWZhdWx0SGVpZ2h0IiwiZGVmYXVsdFdpZHRoIiwiZGVmYXVsdFNjYWxlIiwiaGVpZ2h0Iiwid2lkdGgiLCJzY2FsZSIsImdsb2JhbE9wdGlvbnMiLCJ0aGVtZU9wdGlvbnMiLCJiYXRjaCIsInJhc3Rlcml6YXRpb25UaW1lb3V0IiwiY3VzdG9tQ29kZSIsImFsbG93Q29kZUV4ZWN1dGlvbiIsImFsbG93RmlsZVJlc291cmNlcyIsImNhbGxiYWNrIiwicmVzb3VyY2VzIiwibG9hZENvbmZpZyIsImNyZWF0ZUNvbmZpZyIsInNlcnZlciIsImVuYWJsZSIsImNsaU5hbWUiLCJob3N0IiwicG9ydCIsInNzbCIsImZvcmNlIiwiY2VydFBhdGgiLCJyYXRlTGltaXRpbmciLCJtYXhSZXF1ZXN0cyIsIndpbmRvdyIsImRlbGF5IiwidHJ1c3RQcm94eSIsInNraXBLZXkiLCJza2lwVG9rZW4iLCJwb29sIiwibWluV29ya2VycyIsIm1heFdvcmtlcnMiLCJ3b3JrTGltaXQiLCJhY3F1aXJlVGltZW91dCIsImNyZWF0ZVRpbWVvdXQiLCJkZXN0cm95VGltZW91dCIsImlkbGVUaW1lb3V0IiwiY3JlYXRlUmV0cnlJbnRlcnZhbCIsInJlYXBlckludGVydmFsIiwiYmVuY2htYXJraW5nIiwibGlzdGVuVG9Qcm9jZXNzRXhpdHMiLCJsb2dnaW5nIiwibGV2ZWwiLCJmaWxlIiwiZGVzdCIsInVpIiwicm91dGUiLCJvdGhlciIsIm5vTG9nbyIsInBheWxvYWQiLCJqb2luIiwiYWJzb2x1dGVQcm9wcyIsIm5lc3RlZEFyZ3MiLCJjcmVhdGVOZXN0ZWRBcmdzIiwib2JqIiwicHJvcENoYWluIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrIiwiaW5jbHVkZXMiLCJlbnRyeSIsInN1YnN0cmluZyIsInRvQ29uc29sZSIsInRvRmlsZSIsInBhdGhDcmVhdGVkIiwibGV2ZWxzRGVzYyIsInRpdGxlIiwiY29sb3IiLCJsaXN0ZW5lcnMiLCJrZXkiLCJvcHRpb24iLCJlbnRyaWVzIiwibG9nIiwibmV3TGV2ZWwiLCJ0ZXh0cyIsImxlbmd0aCIsInByZWZpeCIsIkRhdGUiLCJ0b1N0cmluZyIsInNwbGl0IiwidHJpbSIsImZuIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImFwcGVuZEZpbGUiLCJjb25jYXQiLCJlcnJvciIsImNvbnNvbGUiLCJhcHBseSIsInVuZGVmaW5lZCIsIl9fZGlybmFtZSIsImZpbGVVUkxUb1BhdGgiLCJVUkwiLCJkb2N1bWVudCIsInJlcXVpcmUiLCJwYXRoVG9GaWxlVVJMIiwiX19maWxlbmFtZSIsImhyZWYiLCJfZG9jdW1lbnRDdXJyZW50U2NyaXB0Iiwic3JjIiwiYmFzZVVSSSIsImNsZWFyVGV4dCIsInRleHQiLCJydWxlIiwicmVwbGFjZXIiLCJyZXBsYWNlQWxsIiwiZml4VHlwZSIsImZvcm1hdHMiLCJvdXRUeXBlIiwicG9wIiwiZmluZCIsInQiLCJoYW5kbGVSZXNvdXJjZXMiLCJhbGxvd2VkUHJvcHMiLCJoYW5kbGVkUmVzb3VyY2VzIiwiY29ycmVjdFJlc291cmNlcyIsImVuZHNXaXRoIiwiaXNDb3JyZWN0SlNPTiIsInJlYWRGaWxlU3luYyIsIm5vdGljZSIsImZpbGVzIiwicHJvcE5hbWUiLCJtYXAiLCJpdGVtIiwiZGF0YSIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJkZWVwQ29weSIsImNvcHkiLCJBcnJheSIsImlzQXJyYXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJvcHRpb25zU3RyaW5naWZ5IiwiYWxsb3dGdW5jdGlvbnMiLCJuYW1lIiwic3RhcnRzV2l0aCIsInByaW50VXNhZ2UiLCJib2xkIiwieWVsbG93IiwiY3ljbGVDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsImRlc2NOYW1lIiwiZ3JlZW4iLCJpIiwiYmx1ZSIsImNhdGVnb3J5IiwidG9VcHBlckNhc2UiLCJyZWQiLCJ0b0Jvb2xlYW4iLCJ3cmFwQXJvdW5kIiwicmVwbGFjZSIsInJhdGVMaW1pdCIsImFwcCIsImxpbWl0Q29uZmlnIiwibXNnIiwicmF0ZU9wdGlvbnMiLCJtYXgiLCJsaW1pdGVyIiwid2luZG93TXMiLCJkZWxheU1zIiwiaGFuZGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm1hdCIsImpzb24iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImRlZmF1bHQiLCJza2lwIiwicXVlcnkiLCJhY2Nlc3NfdG9rZW4iLCJ1c2UiLCJhc3luYyIsImZldGNoIiwidXJsIiwicmVxdWVzdE9wdGlvbnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb3RvY29sIiwiaHR0cHMiLCJodHRwIiwiZ2V0UHJvdG9jb2wiLCJnZXQiLCJyZXMiLCJvbiIsImNodW5rIiwiY2FjaGVQYXRoIiwiY2FjaGUiLCJhY3RpdmVNYW5pZmVzdCIsInNvdXJjZXMiLCJoY1ZlcnNpb24iLCJhcHBsaWVkQ29uZmlnIiwiZXh0cmFjdFZlcnNpb24iLCJzdWJzdHIiLCJpbmRleE9mIiwiZmV0Y2hTY3JpcHQiLCJzY3JpcHQiLCJwcm94eUFnZW50IiwiYWdlbnQiLCJ0aW1lb3V0IiwicHJvY2VzcyIsImVudiIsInN0YXR1c0NvZGUiLCJ1cGRhdGVDYWNoZSIsInNvdXJjZVBhdGgiLCJjdXN0b21TY3JpcHRzIiwiYWxsU2NyaXB0cyIsImMiLCJtIiwicHJveHlIb3N0IiwicHJveHlQb3J0IiwiSHR0cHNQcm94eUFnZW50IiwiZmV0Y2hlZE1vZHVsZXMiLCJhbGwiLCJ3cml0ZUZpbGVTeW5jIiwiY2hlY2tDYWNoZSIsIm1hbmlmZXN0UGF0aCIsInJlcXVlc3RVcGRhdGUiLCJtYW5pZmVzdCIsIm1vZHVsZU1hcCIsIm51bWJlck9mTW9kdWxlcyIsInNvbWUiLCJtb2R1bGVOYW1lIiwibmV3TWFuaWZlc3QiLCJzYXZlQ29uZmlnVG9NYW5pZmVzdCIsImNhY2hlJDEiLCJuZXdWZXJzaW9uIiwiYXNzaWduIiwiUkFORE9NX1BJRCIsInJhbmRvbUJ5dGVzIiwiUFVQUEVURUVSX0RJUiIsInBhdGgiLCJtaW5pbWFsQXJncyIsInRlbXBsYXRlIiwiZnMiLCJicm93c2VyIiwic2V0UGFnZUNvbnRlbnQiLCJwYWdlIiwic2V0Q29udGVudCIsImFkZFNjcmlwdFRhZyIsImV2YWx1YXRlIiwic2V0dXBIaWdoY2hhcnRzIiwiZXJyIiwiJGV2YWwiLCJlbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiX2Rpc3BsYXlFcnJvcnMiLCJpbm5lckhUTUwiLCJuZXdQYWdlIiwic2V0Q2FjaGVFbmFibGVkIiwiY2xlYXJQYWdlIiwiaGFyZFJlc2V0IiwiZ290byIsImJvZHkiLCJjbG9zZSIsImNvbm5lY3RlZCIsIl9fYmFzZWRpciIsInNldEFzQ29uZmlnIiwiY2hhcnQiLCJ0cmlnZ2VyRXhwb3J0IiwicHVwcGV0ZWVyRXhwb3J0IiwiaW5qZWN0ZWRSZXNvdXJjZXMiLCJjbGVhckluamVjdGVkIiwiZGlzcG9zZSIsInNjcmlwdHNUb1JlbW92ZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic3R5bGVzVG9SZW1vdmUiLCJsaW5rc1RvUmVtb3ZlIiwicmVtb3ZlIiwiZXhwb3J0QmVuY2giLCJleHBvcnRPcHRpb25zIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGlzcGxheUVycm9ycyIsImRlYnVnZ2VyIiwiZCIsInN2Z0JlbmNoIiwiaXNTVkciLCJzZXRQYWdlQmVuY2giLCJzdmdUZW1wbGF0ZSIsInN0ckluaiIsInNldENvbnRlbnRCZW5jaCIsInJlc0JlbmNoIiwianMiLCJwdXNoIiwiY29udGVudCIsImlzTG9jYWwiLCJjc3NCZW5jaCIsImNzcyIsImNzc0ltcG9ydHMiLCJtYXRjaCIsImNzc0ltcG9ydFBhdGgiLCJhZGRTdHlsZVRhZyIsInNpemUiLCJjaGFydEhlaWdodCIsImJhc2VWYWwiLCJjaGFydFdpZHRoIiwicGFyc2VGbG9hdCIsIkhpZ2hjaGFydHMiLCJjaGFydHMiLCJ2cEJlbmNoIiwidmlld3BvcnRIZWlnaHQiLCJNYXRoIiwiY2VpbCIsInZpZXdwb3J0V2lkdGgiLCJzZXRWaWV3cG9ydCIsImRldmljZVNjYWxlRmFjdG9yIiwiem9vbUNhbGxiYWNrIiwic3R5bGUiLCJ6b29tIiwibWFyZ2luIiwieCIsInkiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0cnVuYyIsImdldENsaXBSZWdpb24iLCJyb3VuZCIsImV4cEJlbmNobWFyayIsIm91dGVySFRNTCIsImNyZWF0ZVNWRyIsImVuY29kaW5nIiwiY2xpcCIsInJhY2UiLCJzY3JlZW5zaG90Iiwib21pdEJhY2tncm91bmQiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJjcmVhdGVJbWFnZSIsInBkZiIsImNyZWF0ZVBERiIsIm9sZENoYXJ0cyIsIm9sZENoYXJ0IiwiZGVzdHJveSIsInNoaWZ0IiwicHVwcGV0ZWVyQXJncyIsInBlcmZvcm1lZEV4cG9ydHMiLCJleHBvcnRBdHRlbXB0cyIsInRpbWVTcGVudCIsImRyb3BwZWRFeHBvcnRzIiwic3BlbnRBdmVyYWdlIiwicG9vbENvbmZpZyIsImZhY3RvcnkiLCJjcmVhdGUiLCJpZCIsInV1aWQiLCJzIiwiZ2V0VGltZSIsImJyb3dzZXJOZXdQYWdlIiwiaXNDbG9zZWQiLCJ3b3JrQ291bnQiLCJyYW5kb20iLCJ2YWxpZGF0ZSIsIndvcmtlckhhbmRsZSIsImxvZ0xldmVsIiwiaW5pdCIsImFsbEFyZ3MiLCJ0cnlDb3VudCIsIm9wZW4iLCJsYXVuY2giLCJoZWFkbGVzcyIsInVzZXJEYXRhRGlyIiwiZSIsImNyZWF0ZUJyb3dzZXIiLCJraWxsUG9vbCIsImNvZGUiLCJleGl0IiwiUG9vbCIsIm1pbiIsImFjcXVpcmVUaW1lb3V0TWlsbGlzIiwiY3JlYXRlVGltZW91dE1pbGxpcyIsImRlc3Ryb3lUaW1lb3V0TWlsbGlzIiwiaWRsZVRpbWVvdXRNaWxsaXMiLCJjcmVhdGVSZXRyeUludGVydmFsTWlsbGlzIiwicmVhcEludGVydmFsTWlsbGlzIiwicHJvcGFnYXRlQ3JlYXRlRXJyb3IiLCJldmVudElkIiwicmVzb3VyY2UiLCJpbml0aWFsUmVzb3VyY2VzIiwiYWNxdWlyZSIsInByb21pc2UiLCJyZWxlYXNlIiwiZGVzdHJveWVkIiwicG9zdFdvcmsiLCJmYWlsIiwiZ2V0UG9vbEluZm8iLCJ3b3JrU3RhcnQiLCJyZXN1bHQiLCJleHBvcnRUaW1lIiwiYXZhaWxhYmxlIiwiYm9ycm93ZWQiLCJwZW5kaW5nIiwic3BhcmVSZXNvdXJjZUNhcGFjaXR5IiwicG9vbCQxIiwicGFja2FnZVZlcnNpb24iLCJucG1fcGFja2FnZV92ZXJzaW9uIiwic2VydmVyU3RhcnRUaW1lIiwiZ2VuZXJhbE9wdGlvbnMiLCJnZXRPcHRpb25zIiwibWVyZ2VDb25maWdPcHRpb25zIiwibmV3T3B0aW9ucyIsIm1lcmdlZE9wdGlvbnMiLCJ1cGRhdGVEZWZhdWx0Q29uZmlnIiwiY29uZmlnT2JqIiwiY3VzdG9tT2JqIiwiY3VzdG9tVmFsdWUiLCJudW1FbnZWYWwiLCJlbCIsImluaXRPcHRpb25zIiwiaXRlbXMiLCJzdGFydEV4cG9ydCIsInNldHRpbmdzIiwiZW5kQ2FsbGJhY2siLCJzdmciLCJpbml0RXhwb3J0U2V0dGluZ3MiLCJleHBvcnRBc1N0cmluZyIsInJlYWRGaWxlIiwiZG9TdHJhaWdodEluamVjdCIsImRvRXhwb3J0IiwiZmluZENoYXJ0U2l6ZSIsImV4cG9ydGluZyIsInByZWNpc2lvbiIsIm11bHRpcGxpZXIiLCJwb3ciLCJyb3VuZE51bWJlciIsInNvdXJjZUhlaWdodCIsInNvdXJjZVdpZHRoIiwiY2hhcnRKc29uIiwiY3VzdG9tQ29kZU9wdGlvbnMiLCJhbGxvd0NvZGVFeGVjdXRpb25TY29wZWQiLCJlbmFibGVkIiwib3B0aW9uc05hbWUiLCJ0aGVuIiwiY2F0Y2giLCJyZXF1ZXN0SWQiLCJzdHJpbmdUb0V4cG9ydCIsImNoYXJ0SlNPTiIsInJldmVyc2VkTWltZSIsInBuZyIsImpwZWciLCJnaWYiLCJyZXF1ZXN0c0NvdW50ZXIiLCJiZWZvcmVSZXF1ZXN0IiwiYWZ0ZXJSZXF1ZXN0IiwiZG9DYWxsYmFja3MiLCJjYWxsYmFja3MiLCJ1bmlxdWVJZCIsImNhbGxSZXNwb25zZSIsImV4cG9ydEhhbmRsZXIiLCJzdGFydCIsImhydGltZSIsImJpZ2ludCIsIm1lYXN1cmVUaW1lIiwiZGVmYXVsdE9wdGlvbnMiLCJoZWFkZXJzIiwiY29ubmVjdGlvbiIsInJlbW90ZUFkZHJlc3MiLCJjb25uZWN0aW9uQWJvcnRlZCIsInNvY2tldCIsInRvTG93ZXJDYXNlIiwiYjY0IiwiZGF0YU9wdGlvbnMiLCJub0Rvd25sb2FkIiwiaXBSZWdFeCIsImluZm8iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJCdWZmZXIiLCJmcm9tIiwiaGVhZGVyIiwiYXR0YWNobWVudCIsInBhcmFtcyIsImZpbGVuYW1lIiwiZXhwcmVzcyIsImRpc2FibGUiLCJjb3JzIiwic3RvcmFnZSIsIm11bHRlciIsIm1lbW9yeVN0b3JhZ2UiLCJ1cGxvYWQiLCJsaW1pdHMiLCJmaWVsZHNTaXplIiwiYW55IiwiYm9keVBhcnNlciIsImxpbWl0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZXJyb3JIYW5kbGVyIiwiYXR0YWNoRXJyb3JIYW5kbGVycyIsInN0YXJ0U2VydmVyIiwic2VydmVyQ29uZmlnIiwiaHR0cFNlcnZlciIsImNyZWF0ZVNlcnZlciIsImxpc3RlbiIsImNlcnQiLCJmc1Byb21pc2VzIiwicG9zaXgiLCJodHRwc1NlcnZlciIsIk5hTiIsInN0YXRpYyIsImJvb3RUaW1lIiwidXB0aW1lIiwiZmxvb3IiLCJoaWdoY2hhcnRzVmVyc2lvbiIsImF2ZXJhZ2VQcm9jZXNzaW5nVGltZSIsImZhaWxlZEV4cG9ydHMiLCJzdWNlc3NSYXRpbyIsImhlYWx0aFJvdXRlIiwicG9zdCIsImV4cG9ydFJvdXRlcyIsInNlbmRGaWxlIiwidWlSb3V0ZSIsImN0b2tlbiIsIkhJR0hDSEFSVFNfQURNSU5fVE9LRU4iLCJ0b2tlbiIsInZTd2l0Y2hSb3V0ZSIsImdldEV4cHJlc3MiLCJnZXRBcHAiLCJtaWRkbGV3YXJlcyIsImVuYWJsZVJhdGVMaW1pdGluZyIsImluZGV4IiwibWFwVG9OZXdDb25maWciLCJvbGRPcHRpb25zIiwicHJvcGVydGllc0NoYWluIiwicmVkdWNlIiwicHJvcCIsInNldE9wdGlvbnMiLCJ1c2VyT3B0aW9ucyIsImNvbmZpZ0luZGV4IiwiZmluZEluZGV4IiwiYXJnIiwiZmlsZU5hbWUiLCJsb2FkQ29uZmlnRmlsZSIsInBhaXJBcmd1bWVudFZhbHVlIiwic2luZ2xlRXhwb3J0IiwiYmF0Y2hFeHBvcnQiLCJiYXRjaEZ1bmN0aW9ucyIsInBhaXIiLCJpbml0UG9vbCIsInBhcnNlSW50IiwibG9nRGVzdCIsImxvZ0ZpbGUiLCJlbmFi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
