"use strict";require("colors");var e=require("fs"),t=require("path"),o=require("body-parser"),r=require("cors"),i=require("express"),n=require("multer"),s=require("http"),a=require("https"),l=require("dotenv"),c=require("express-rate-limit"),p=require("url"),u=require("https-proxy-agent"),d=require("uuid"),h=require("tarn"),g=require("puppeteer"),f=require("node:path"),m=require("node:crypto");require("prompts");var v="undefined"!=typeof document?document.currentScript:null;function y(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var b=y(p);l.config();const w={puppeteer:{args:{value:[],type:"string[]",description:"Array of arguments to send to puppeteer."}},highcharts:{version:{value:"latest",envLink:"HIGHCHARTS_VERSION",type:"string",description:"Highcharts version to use."},cdnURL:{value:"https://code.highcharts.com/",envLink:"HIGHCHARTS_CDN",type:"string",description:"The CDN URL of Highcharts scripts to use."},coreScripts:{envLink:"HIGHCHARTS_CORE_SCRIPTS",value:["highcharts","highcharts-more","highcharts-3d"],type:"string[]",description:"Highcharts core scripts to fetch."},modules:{envLink:"HIGHCHARTS_MODULES",value:["stock","map","gantt","exporting","export-data","parallel-coordinates","accessibility","annotations-advanced","boost-canvas","boost","data","draggable-points","static-scale","broken-axis","heatmap","tilemap","timeline","treemap","treegraph","item-series","drilldown","histogram-bellcurve","bullet","funnel","funnel3d","pyramid3d","networkgraph","pareto","pattern-fill","pictorial","price-indicator","sankey","arc-diagram","dependency-wheel","series-label","solid-gauge","sonification","stock-tools","streamgraph","sunburst","variable-pie","variwide","vector","venn","windbarb","wordcloud","xrange","no-data-to-display","drag-panes","debugger","dumbbell","lollipop","cylinder","organization","dotplot","marker-clusters","hollowcandlestick","heikinashi"],type:"string[]",description:"Highcharts modules to fetch."},indicators:{envLink:"HIGHCHARTS_INDICATORS",value:["indicators-all"],type:"string[]",description:"Highcharts indicators to fetch."},scripts:{value:["https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js","https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.34/moment-timezone-with-data.min.js"],type:"string[]",description:"Additional direct scripts/optional dependencies (e.g. moment.js)."},forceFetch:{envLink:"HIGHCHARTS_FORCE_FETCH",value:!1,type:"boolean",description:"Should all the scripts be refetched after rerunning the server."}},export:{infile:{value:!1,type:"string",description:"The input file name along with a type (json or svg). It can be a correct JSON or SVG file."},instr:{value:!1,type:"string",description:"An input in a form of a stringified JSON or SVG file. Overrides the --infile."},options:{value:!1,type:"string",description:"An alias for the --instr option."},outfile:{value:!1,type:"string",description:"The output filename along with a type (jpeg, png, pdf or svg). Ignores the --type flag."},type:{envLink:"EXPORT_DEFAULT_TYPE",value:"png",type:"string",description:"The format of the file to export to. Can be jpeg, png, pdf or svg."},constr:{envLink:"EXPORT_DEFAULT_CONSTR",value:"chart",type:"string",description:"The constructor to use. Can be chart, stockChart, mapChart or ganttChart."},defaultHeight:{envLink:"EXPORT_DEFAULT_HEIGHT",value:400,type:"number",description:"The default height of the exported chart. Used when not found any value set."},defaultWidth:{envLink:"EXPORT_DEFAULT_WIDTH",value:600,type:"number",description:"The default width of the exported chart. Used when not found any value set."},defaultScale:{envLink:"EXPORT_DEFAULT_SCALE",value:1,type:"number",description:"The default scale of the exported chart. Ranges between 1 and 5."},height:{type:"number",value:!1,description:"The default height of the exported chart. Overrides the option in the chart settings."},width:{type:"number",value:!1,description:"The width of the exported chart. Overrides the option in the chart settings."},scale:{value:!1,type:"number",description:"The scale of the exported chart. Ranges between 1 and 5."},globalOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with options to be passed into the Highcharts.setOptions."},themeOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with theme options to be passed into the Highcharts.setOptions."},batch:{value:!1,type:"string",description:'Starts a batch job. A string that contains input/output pairs: "in=out;in=out;..".'}},customCode:{allowCodeExecution:{envLink:"HIGHCHARTS_ALLOW_CODE_EXECUTION",value:!1,type:"boolean",description:"If set to true, allow for the execution of arbitrary code when exporting."},allowFileResources:{envLink:"HIGHCHARTS_ALLOW_FILE_RESOURCES",value:!0,type:"boolean",description:"Allow injecting resources from the filesystem. Has no effect when running as a server."},customCode:{value:!1,type:"string",description:"A function to be called before chart initialization. Can be a filename with the js extension."},callback:{value:!1,type:"string",description:"A JavaScript file with a function to run on construction."},resources:{value:!1,type:"string",description:"An additional resource in a form of stringified JSON. It can contain files, js and css sections."},loadConfig:{value:!1,type:"string",description:"A file that contains a pre-defined config to use."},createConfig:{value:!1,type:"string",description:"Allows to set options through a prompt and save in a provided config file."}},server:{enable:{envLink:"HIGHCHARTS_SERVER_ENABLE",value:!1,type:"boolean",cliName:"enableServer",description:"If set to true, starts a server on 0.0.0.0."},host:{envLink:"HIGHCHARTS_SERVER_HOST",value:"0.0.0.0",type:"string",description:"The hostname of the server. Also starts a server listening on the supplied hostname."},port:{envLink:"HIGHCHARTS_SERVER_PORT",value:7801,type:"number",description:"The port to use for the server. Defaults to 7801."},ssl:{enable:{envLink:"HIGHCHARTS_SERVER_SSL_ENABLE",value:!1,type:"boolean",cliName:"enableSsl",description:"Enables the SSL protocol."},force:{envLink:"HIGHCHARTS_SERVER_SSL_FORCE",value:!1,type:"boolean",cliName:"sslForced",description:"If set to true, forces the server to only serve over HTTPS."},port:{envLink:"HIGHCHARTS_SERVER_SSL_PORT",value:443,type:"number",cliName:"sslPort",description:"The port on which to run the SSL server."},certPath:{envLink:"HIGHCHARTS_SSL_CERT_PATH",value:"",type:"string",description:"The path to the SSL certificate/key."}},rateLimiting:{enable:{envLink:"HIGHCHARTS_RATE_LIMIT_ENABLE",value:!1,type:"boolean",cliName:"enableRateLimiting",description:"Enables rate limiting."},maxRequests:{envLink:"HIGHCHARTS_RATE_LIMIT_MAX",value:10,type:"number",description:"Max requests allowed in a one minute."},window:{envLink:"HIGHCHARTS_RATE_LIMIT_WINDOW",value:1,type:"number",description:"The time window in minutes for rate limiting."},delay:{envLink:"HIGHCHARTS_RATE_LIMIT_DELAY",value:0,type:"number",description:"The amount to delay each successive request before hitting the max."},trustProxy:{envLink:"HIGHCHARTS_RATE_LIMIT_TRUST_PROXY",value:!1,type:"boolean",description:"Set this to true if behind a load balancer."},skipKey:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_KEY",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipToken argument."},skipToken:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_TOKEN",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipKey argument."}}},pool:{initialWorkers:{envLink:"HIGHCHARTS_POOL_MIN_WORKERS",value:4,type:"number",description:"The number of initial workers to spawn."},maxWorkers:{envLink:"HIGHCHARTS_POOL_MAX_WORKERS",value:8,type:"number",description:"The number of max workers to spawn."},workLimit:{envLink:"HIGHCHARTS_POOL_WORK_LIMIT",value:40,type:"number",description:"The pieces of work that can be performed before restarting process."},queueSize:{envLink:"HIGHCHARTS_POOL_QUEUE_SIZE",value:5,type:"number",description:"The size of the request overflow queue."},timeoutThreshold:{envLink:"HIGHCHARTS_POOL_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds before timing out."},acquireTimeout:{envLink:"HIGHCHARTS_POOL_ACQUIRE_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds to wait for acquiring a resource."},reaper:{envLink:"HIGHCHARTS_POOL_ENABLE_REAPER",value:!0,type:"boolean",description:"Whether or not to evict workers after a certain time period."},benchmarking:{envLink:"HIGHCHARTS_POOL_BENCHMARKING",value:!1,type:"boolean",description:"Enable benchmarking."},listenToProcessExits:{envLink:"HIGHCHARTS_POOL_LISTEN_TO_PROCESS_EXITS",value:!0,type:"boolean",description:"Set to false in order to skip attaching process.exit handlers."}},logging:{level:{envLink:"HIGHCHARTS_LOG_LEVEL",value:4,type:"number",cliName:"logLevel",description:"The log level (0: silent, 1: error, 2: warning, 3: notice, 4: verbose)."},file:{envLink:"HIGHCHARTS_LOG_FILE",value:"highcharts-export-server.log",type:"string",cliName:"logFile",description:"A name of a log file. The --logDest also needs to be set to enable file logging."},dest:{envLink:"HIGHCHARTS_LOG_DEST",value:"log/",type:"string",cliName:"logDest",description:"The path to store log files. Also enables file logging."}},ui:{enable:{envLink:"HIGHCHARTS_UI_ENABLE",value:!1,type:"boolean",cliName:"enableUi",description:"Enables the UI for the export server."},route:{envLink:"HIGHCHARTS_UI_ROUTE",value:"/",type:"string",cliName:"uiRoute",description:"The route to attach the UI to."}},other:{noLogo:{envLink:"HIGHCHARTS_NO_LOGO",value:!1,type:"boolean",description:"Skip printing the logo on a startup. Will be replaced by a simple text."}},payload:{}};w.puppeteer.args.value.join(","),w.highcharts.version.value,w.highcharts.cdnURL.value,w.highcharts.modules.value,w.highcharts.scripts.value.join(","),w.highcharts.forceFetch.value,w.export.type.value,w.export.constr.value,w.export.defaultHeight.value,w.export.defaultWidth.value,w.export.defaultScale.value,w.customCode.allowCodeExecution.value,w.customCode.allowFileResources.value,w.server.enable.value,w.server.host.value,w.server.port.value,w.server.ssl.enable.value,w.server.ssl.force.value,w.server.ssl.port.value,w.server.ssl.certPath.value,w.server.rateLimiting.enable.value,w.server.rateLimiting.maxRequests.value,w.server.rateLimiting.window.value,w.server.rateLimiting.delay.value,w.server.rateLimiting.trustProxy.value,w.server.rateLimiting.skipKey.value,w.server.rateLimiting.skipToken.value,w.pool.initialWorkers.value,w.pool.maxWorkers.value,w.pool.workLimit.value,w.pool.queueSize.value,w.pool.timeoutThreshold.value,w.pool.acquireTimeout.value,w.pool.reaper.value,w.pool.benchmarking.value,w.pool.listenToProcessExits.value,w.logging.level.value,w.logging.file.value,w.logging.dest.value,w.ui.enable.value,w.ui.route.value,w.other.noLogo.value;const x=["options","globalOptions","themeOptions","resources","payload"],T={},k=(e,t="")=>{Object.keys(e).forEach((o=>{if(!["puppeteer","highcharts"].includes(o)){const r=e[o];void 0===r.value?k(r,`${t}.${o}`):T[r.cliName||o]=`${t}.${o}`.substring(1)}}))};k(w);let S={toConsole:!0,toFile:!1,pathCreated:!1,levelsDesc:[{title:"error",color:"red"},{title:"warning",color:"yellow"},{title:"notice",color:"blue"},{title:"verbose",color:"gray"}],listeners:[]};for(const[e,t]of Object.entries(w.logging))S[e]=t.value;const H=(...t)=>{const[o,...r]=t,{level:i,levelsDesc:n}=S;if(0===o||o>i||i>n.length)return;const s=`${(new Date).toString().split("(")[0].trim()} [${n[o-1].title}] -`;S.listeners.forEach((e=>{e(s,r.join(" "))})),S.toFile&&(S.pathCreated||(!e.existsSync(S.dest)&&e.mkdirSync(S.dest),S.pathCreated=!0),e.appendFile(`${S.dest}${S.file}`,[s].concat(r).join(" ")+"\n",(e=>{e&&(console.log(`[logger] Unable to write to log file: ${e}`),S.toFile=!1)}))),S.toConsole&&console.log.apply(void 0,[s.toString()[S.levelsDesc[o-1].color]].concat(r))},E=p.fileURLToPath(new URL("../.","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),R=(e,t=/\s\s+/g,o=" ")=>e.replaceAll(t,o).trim(),L=(e,t)=>{const o=["png","jpeg","pdf","svg"];if(t){const r=t.split(".").pop();o.includes(r)&&e!==r&&(e=r)}return{"image/png":"png","image/jpeg":"jpeg","application/pdf":"pdf","image/svg+xml":"svg"}[e]||o.find((t=>t===e))||"png"},C=(t=!1,o)=>{const r=["js","css","files"];let i=t,n=!1;if(o&&t.endsWith(".json"))try{t?t&&t.endsWith(".json")?i=O(e.readFileSync(t,"utf8")):(i=O(t),!0===i&&(i=O(e.readFileSync("resources.json","utf8")))):i=O(e.readFileSync("resources.json","utf8"))}catch(e){return H(3,"[cli] No resources found.")}else i=O(t),o||delete i.files;for(const e in i)r.includes(e)?n||(n=!0):delete i[e];return n?(i.files&&(i.files=i.files.map((e=>e.trim())),(!i.files||i.files.length<=0)&&delete i.files),i):H(3,"[cli] No resources found.")};function O(e,t){try{const o=JSON.parse("string"!=typeof e?JSON.stringify(e):e);return"string"!=typeof o&&t?JSON.stringify(o):o}catch(e){return!1}}const _=e=>{if(null===e||"object"!=typeof e)return e;const t=Array.isArray(e)?[]:{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=_(e[o]));return t},A=(e,t)=>JSON.stringify(e,((e,o)=>("string"==typeof o&&((o=o.trim()).startsWith("function(")||o.startsWith("function ("))&&o.endsWith("}")&&(o=t?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:void 0),"function"==typeof o?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:o))).replaceAll(/"EXP_FUN|EXP_FUN"/g,"");function $(){console.log("Usage of CLI arguments:".bold,"\n------",`\nFor more detailed information visit readme at: ${"https://github.com/highcharts/node-export-server#readme".bold.yellow}.`);const e=t=>{for(const[o,r]of Object.entries(t))if(Object.prototype.hasOwnProperty.call(r,"value")){let e=`  --${r.cliName||o} ${("<"+r.type+">").green} `;if(e.length<48)for(let t=e.length;t<48;t++)e+=".";console.log(e,r.description,`[Default: ${r.value.toString().bold}]`.blue)}else e(r)};Object.keys(w).forEach((t=>{["puppeteer","highcharts"].includes(t)||(console.log(`\n${t.toUpperCase()}`.red),e(w[t]))})),console.log("\n")}const I=e=>!["false","undefined","null","NaN","0",""].includes(e)&&!!e,j=(t,o)=>{if(t&&"string"==typeof t)return(t=t.trim()).endsWith(".js")?!!o&&j(e.readFileSync(t,"utf8")):t.startsWith("function()")||t.startsWith("function ()")||t.startsWith("()=>")||t.startsWith("() =>")?`(${t})()`:t.replace(/;$/,"")};var P=(e,t)=>{const o="Too many requests, you have been rate limited. Please try again later.",r={max:t.maxRequests||30,window:t.window||1,delay:t.delay||0,trustProxy:t.trustProxy||!1,skipKey:t.skipKey||!1,skipToken:t.skipToken||!1};r.trustProxy&&e.enable("trust proxy");const i=c({windowMs:60*r.window*1e3,max:r.max,delayMs:r.delay,handler:(e,t)=>{t.format({json:()=>{t.status(429).send({message:o})},default:()=>{t.status(429).send(o)}})},skip:e=>!1!==r.skipKey&&!1!==r.skipToken&&e.query.key===r.skipKey&&e.query.access_token===r.skipToken&&(H(4,"[rate-limiting] Skipping rate limiter."),!0)});e.use(i),H(3,R(`[rate-limiting] Enabled rate limiting: ${r.max} requests\n      per ${r.window} minute per IP, trusting proxy:\n      ${r.trustProxy}.`))};async function N(e,t={}){return new Promise(((o,r)=>{const i=(e=>e.startsWith("https")?a:s)(e);i.get(e,t,(e=>{let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{t||r("Nothing was fetched from the URL."),e.text=t,o(e)}))})).on("error",(e=>{r(e)}))}))}l.config();const F=t.join(E,".cache"),U={cdnURL:"https://code.highcharts.com/",activeManifest:{},sources:"",hcVersion:""};let q=!1;const G=()=>U.hcVersion=U.sources.substr(0,U.sources.indexOf("*/")).replace("/*","").replace("*/","").replace(/\n/g,"").trim(),W=async(e,t)=>{try{e.endsWith(".js")&&(e=e.substring(0,e.length-3)),H(4,`[cache] Fetching script - ${e}.js`);const o=t?{agent:t,timeout:+process.env.PROXY_SERVER_TIMEOUT||5e3}:{},r=await N(`${e}.js`,o);if(200===r.statusCode)return r.text;throw`${r.statusCode}`}catch(t){throw H(1,`[cache] Error fetching script ${e}.js: ${t}.`),t}},M=async(t,o)=>{const{coreScripts:r,modules:i,indicators:n,scripts:s}=t,a="latest"!==t.version&&t.version?`${t.version}/`:"";H(3,"[cache] Updating cache to Highcharts ",a);const l=[...r.map((e=>`${a}${e}`)),...i.map((e=>"map"===e?`maps/${a}modules/${e}`:`${a}modules/${e}`)),...n.map((e=>`stock/${a}indicators/${e}`))];let c;const p=process.env.PROXY_SERVER_HOST,d=process.env.PROXY_SERVER_PORT;p&&d&&(c=new u({host:p,port:+d}));const h={};try{return U.sources=(await Promise.all([...l.map((async e=>{const o=await W(`${t.cdnURL||U.cdnURL}${e}`,c);return"string"==typeof o&&(h[e.replace(/(.*)\/|(.*)modules\/|stock\/(.*)indicators\/|maps\/(.*)modules\//gi,"")]=1),o})),...s.map((e=>W(e,c)))])).join(";\n"),G(),e.writeFileSync(o,U.sources),h}catch(e){H(1,"[cache] Unable to update local Highcharts cache.")}},D=async o=>{let r;const i=t.join(F,"manifest.json"),n=t.join(F,"sources.js");if(q=o,!e.existsSync(F)&&e.mkdirSync(F),!e.existsSync(i)||o.forceFetch)H(3,"[cache] Fetching and caching Highcharts dependencies."),r=await M(o,n);else{let t=!1;const s=JSON.parse(e.readFileSync(i));if(s.modules&&Array.isArray(s.modules)){const e={};s.modules.forEach((t=>e[t]=1)),s.modules=e}const{modules:a,coreScripts:l,indicators:c}=o,p=a.length+l.length+c.length;s.version!==o.version?(H(3,"[cache] Highcharts version mismatch in cache, need to re-fetch."),t=!0):Object.keys(s.modules||{}).length!==p?(H(3,"[cache] Cache and requested modules does not match, need to re-fetch."),t=!0):t=(o.modules||[]).some((e=>{if(!s.modules[e])return H(3,`[cache] The ${e} missing in cache, need to re-fetch.`),!0})),t?r=await M(o,n):(H(3,"[cache] Dependency cache is up to date, proceeding."),U.sources=e.readFileSync(n,"utf8"),r=s.modules,G())}await(async(o,r)=>{const i={version:o.version,modules:r||{}};U.activeManifest=i,H(4,"[cache] writing new manifest");try{e.writeFileSync(t.join(F,"manifest.json"),JSON.stringify(i),"utf8")}catch(e){H(1,`[cache] Error writing cache manifest: ${e}.`)}})(o,r)};var V=async e=>!!q&&await D(Object.assign(q,{version:e})),z=()=>U,J=()=>U.hcVersion;const K=m.randomBytes(64).toString("base64url"),X=f.join("tmp",`puppeteer-${K}`),B=[`--user-data-dir=${f.join(X,"profile")}`,"--autoplay-policy=user-gesture-required","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-update","--disable-default-apps","--disable-dev-shm-usage","--disable-domain-reliability","--disable-extensions","--disable-features=AudioServiceOutOfProcess","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-notifications","--disable-offer-store-unmasked-wallet-cards","--disable-popup-blocking","--disable-print-preview","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-session-crashed-bubble","--disable-setuid-sandbox","--disable-speech-api","--disable-sync","--hide-crash-restore-bubble","--hide-scrollbars","--ignore-gpu-blacklist","--metrics-recording-only","--mute-audio","--no-default-browser-check","--no-first-run","--no-pings","--no-sandbox","--no-zygote","--password-store=basic","--use-mock-keychain"],Y=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),Q=e.readFileSync(Y+"/../templates/template.html","utf8");let Z;const ee=async()=>{if(!Z)return!1;const e=await Z.newPage();return await e.setContent(Q),await e.addScriptTag({path:Y+"/../.cache/sources.js"}),await e.evaluate((()=>window.setupHighcharts())),e.on("pageerror",(async t=>{H(1,"[page error]",t),await e.$eval("#container",((e,t)=>{window._displayErrors&&(e.innerHTML=t)}),`<h1>Chart input data error</h1>${t.toString()}`)})),e},te=async()=>{Z.connected&&await Z.close()};const oe=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),re=async(e,t,o)=>await e.evaluate(((e,t)=>window.triggerExport(e,t)),t,o);var ie=async(o,r,i)=>{const n=[],s=async e=>{for(const e of n)await e.dispose();await e.evaluate((()=>{const[,...e]=document.getElementsByTagName("script"),[,...t]=document.getElementsByTagName("style"),[...o]=document.getElementsByTagName("link");for(const r of[...e,...t,...o])r.remove()}))};try{const a=()=>{};H(4,"[export] Determining export path.");const l=i.export;await o.evaluate((()=>requestAnimationFrame((()=>{}))));const c=l?.options?.chart?.displayErrors&&z().activeManifest.modules.debugger;await o.evaluate((e=>window._displayErrors=e),c);const p=()=>{};let u;if(r.indexOf&&(r.indexOf("<svg")>=0||r.indexOf("<?xml")>=0)){if(H(4,"[export] Treating as SVG."),"svg"===l.type)return r;u=!0;const e=()=>{};await o.setContent((e=>`\n<!DOCTYPE html>\n<html lang='en-US'>\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n    <title>Highcarts Export</title>\n  </head>\n  <style>\n    \n\nhtml, body {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#table-div, #sliders, #datatable, #controls, .ld-row {\n  display: none;\n  height: 0;\n}\n\n#chart-container {\n  box-sizing: border-box;\n  margin: 0;\n  overflow: auto;\n  font-size: 0;\n}\n\n#chart-container > figure, div {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n\n\n  </style>\n  <body>\n    <div id="chart-container">\n      ${e}\n    </div>\n  </body>\n</html>\n\n`)(r)),e()}else if(H(4,"[export] Treating as config."),l.strInj){const e=()=>{};await re(o,{chart:{height:l.height,width:l.width}},i),e()}else{r.chart.height=l.height,r.chart.width=l.width;const e=()=>{};await re(o,r,i),e()}p();const d=()=>{},h=i.customCode.resources;if(h){if(h.js&&n.push(await o.addScriptTag({content:h.js})),h.files)for(const t of h.files)try{const r=!t.startsWith("http");n.push(await o.addScriptTag(r?{content:e.readFileSync(t,"utf8")}:{url:t}))}catch(e){H(4,"[export] JS file not found.")}const r=()=>{};if(h.css){let e=h.css.match(/@import\s*([^;]*);/g);if(e)for(let r of e)r&&(r=r.replace("url(","").replace("@import","").replace(/"/g,"").replace(/'/g,"").replace(/;/,"").replace(/\)/g,"").trim(),r.startsWith("http")?n.push(await o.addStyleTag({url:r})):i.customCode.allowFileResources&&n.push(await o.addStyleTag({path:t.join(oe,r)})));n.push(await o.addStyleTag({content:h.css.replace(/@import\s*([^;]*);/g,"")||" "}))}r()}d();const g=u?await o.$eval("#chart-container svg:first-of-type",(async(e,t)=>({chartHeight:e.height.baseVal.value*t,chartWidth:e.width.baseVal.value*t})),parseFloat(l.scale)):await o.evaluate((async()=>{const{chartHeight:e,chartWidth:t}=window.Highcharts.charts[0];return{chartHeight:e,chartWidth:t}})),f=()=>{},m=Math.ceil(g?.chartHeight||l.height),v=Math.ceil(g?.chartWidth||l.width);await o.setViewport({height:m,width:v,deviceScaleFactor:u?1:parseFloat(l.scale)});const y=u?e=>{document.body.style.zoom=e,document.body.style.margin="0px"}:()=>{document.body.style.zoom=1};await o.evaluate(y,parseFloat(l.scale));const{height:b,width:w,x:x,y:T}=await(e=>e.$eval("#chart-container",(e=>{const{x:t,y:o,width:r,height:i}=e.getBoundingClientRect();return{x:t,y:o,width:r,height:Math.trunc(i>1?i:500)}})))(o);let k;u||await o.setViewport({width:Math.round(w),height:Math.round(b),deviceScaleFactor:parseFloat(l.scale)}),f();const S=()=>{};if("svg"===l.type)k=await(async e=>await e.$eval("#container svg:first-of-type",(e=>e.outerHTML)))(o);else if("png"===l.type||"jpeg"===l.type)k=await(async(e,t,o,r)=>await Promise.race([e.screenshot({type:t,encoding:o,clip:r,omitBackground:!0}),new Promise(((e,t)=>setTimeout((()=>t(new Error("Rasterization timeout"))),1500)))]))(o,l.type,"base64",{width:v,height:m,x:x,y:T});else{if("pdf"!==l.type)throw`Unsupported output format ${l.type}`;k=await(async(e,t,o,r)=>await e.pdf({height:t+1,width:o,encoding:r}))(o,m,v,"base64")}return await o.evaluate((()=>{const e=Highcharts.charts;if(e.length)for(const t of e)t&&t.destroy(),Highcharts.charts.shift()})),S(),a(),await s(o),k}catch(e){return await s(o),H(1,`[export] Error encountered during export: ${e}`),e}};let ne,se=0,ae=0,le=0,ce=0,pe=0,ue={},de=!1;const he={create:async()=>{const e=d.v4();let t=!1;const o=(new Date).getTime();try{if(t=await ee(),!t||t.isClosed())throw"invalid page";H(3,`[pool] Successfully created a worker ${e} - took ${(new Date).getTime()-o} ms.`)}catch(e){throw H(1,`[pool] Error creating a new page in pool entry creation! ${e}`),"Error creating page"}return{id:e,page:t,workCount:Math.round(Math.random()*(ue.workLimit/2))}},validate:e=>!(ue.workLimit&&++e.workCount>ue.workLimit)||(H(3,"[pool] Worker failed validation:",`exceeded work limit (limit is ${ue.workLimit})`),!1),destroy:e=>{H(3,`[pool] Destroying pool entry ${e.id}.`),e.page&&e.page.close()},log:(e,t)=>console.log(`${t}: ${e}`)},ge=async e=>{ne=e.puppeteerArgs;try{await(async e=>{const t=[...B,...e||[]];if(!Z){let e=0;const o=async()=>{try{H(3,"[browser] attempting to get a browser instance (try",e+")"),Z=await g.launch({headless:"new",args:t,userDataDir:"./tmp/"})}catch(t){H(0,"[browser]",t),++e<25?(H(3,"[browser] failed:",t),await new Promise((e=>setTimeout(e,4e3))),await o()):H(0,"Max retries reached")}};try{await o()}catch(e){return H(0,"[browser] Unable to open browser"),!1}if(!Z)return H(0,"[browser] Unable to open browser"),!1}return Z})(ne)}catch(e){H(0,"[pool|browser]",e)}if(ue=e&&e.pool?{...e.pool}:{},H(3,"[pool] Initializing pool:",`min ${ue.initialWorkers}, max ${ue.maxWorkers}.`),de)return H(4,"[pool] Already initialized, please kill it before creating a new one.");ue.listenToProcessExits&&(H(4,"[pool] Attaching exit listeners to the process."),process.on("exit",(async()=>{await fe()})),process.on("SIGINT",((e,t)=>{H(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("SIGTERM",((e,t)=>{H(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("uncaughtException",(async(e,t)=>{H(4,`The ${t} error, message: ${e.message}.`)})));try{de=new h.Pool({...he,min:ue.initialWorkers,max:ue.maxWorkers,createRetryIntervalMillis:200,createTimeoutMillis:ue.acquireTimeout,acquireTimeoutMillis:ue.acquireTimeout,destroyTimeoutMillis:ue.acquireTimeout,idleTimeoutMillis:ue.timeoutThreshold,reapIntervalMillis:1e3,propagateCreateError:!1}),de.on("createFail",((e,t)=>{H(1,`[pool] Error when creating worker of an event id ${e}:`,t)})),de.on("acquireFail",((e,t)=>{H(1,`[pool] Error when acquiring worker of an event id ${e}:`,t)})),de.on("destroyFail",((e,t,o)=>{H(1,`[pool] Error when destroying worker of an id ${t.id}, event id ${e}:`,o)})),de.on("release",(e=>{H(4,`[pool] Releasing a worker of an id ${e.id}`)})),de.on("destroySuccess",((e,t)=>{H(4,`[pool] Destroyed a worker of an id ${t.id}`)}));const e=[];for(let t=0;t<ue.initialWorkers;t++)e.push(await de.acquire().promise);e.forEach((e=>{de.release(e)})),H(3,`[pool] The pool is ready with ${ue.initialWorkers} initial resources waiting.`)}catch(e){throw H(1,`[pool] Couldn't create the worker pool ${e}`),e}};async function fe(){return H(3,"[pool] Killing all workers."),de.destroyed?(await te(),!0):(await de.destroy(),await te(),!0)}const me=async(e,t)=>{let o;const r=e=>{throw++ce,o&&de.release(o),"In pool.postWork: "+e};if(H(4,"[pool] Work received, starting to process."),ue.benchmarking&&ve(),++ae,!de)return H(1,"[pool] Work received, but pool has not been started."),r("Pool is not inited but work was posted to it!");try{H(4,"[pool] Acquiring worker"),o=await de.acquire().promise}catch(e){return r(`[pool] Error when acquiring available entry: ${e}`)}if(H(4,"[pool] Acquired worker handle"),!o.page)return r("Resolved worker page is invalid: pool setup is wonky");try{let i=(new Date).getTime();H(4,`[pool] Starting work on pool entry ${o.id}.`);const n=await ie(o.page,e,t);if(n instanceof Error)return"Rasterization timeout"===n.message&&(o.page.close(),o.page=await ee()),r(n);de.release(o);const s=(new Date).getTime()-i;return le+=s,pe=le/++se,H(4,`[pool] Work completed in ${s} ms.`),{data:n,options:t}}catch(e){r(`Error trying to perform puppeteer export: ${e}.`)}};function ve(){const{min:e,max:t,size:o,available:r,borrowed:i,pending:n,spareResourceCapacity:s}=de;H(4,`[pool] The minimum number of resources allowed by pool: ${e}.`),H(4,`[pool] The maximum number of resources allowed by pool: ${t}.`),H(4,`[pool] The number of all resources in pool (free or in use): ${o}.`),H(4,`[pool] The number of resources that are currently available: ${r}.`),H(4,`[pool] The number of resources that are currently acquired: ${i}.`),H(4,`[pool] The number of callers waiting to acquire a resource: ${n}.`),H(4,`[pool] The number of how many more resources can the pool manage/create: ${s}.`)}var ye=()=>({min:de.min,max:de.max,size:de.size,available:de.available,borrowed:de.borrowed,pending:de.pending,spareResourceCapacity:de.spareResourceCapacity}),be=()=>ae,we=()=>ce,xe=()=>pe,Te=()=>se;const ke=process.env.npm_package_version,Se=new Date;let He={};const Ee=()=>He,Re=(e,t,o=[])=>{const r=_(e);for(const[e,n]of Object.entries(t))r[e]="object"!=typeof(i=n)||Array.isArray(i)||null===i||o.includes(e)||void 0===r[e]?void 0!==n?n:r[e]:Re(r[e],n,o);var i;return r};function Le(e,t={},o=""){Object.keys(e).forEach((r=>{if(!["puppeteer","highcharts"].includes(r)){const i=e[r],n=t&&t[r];let s;void 0===i.value?Le(i,n,`${o}.${r}`):(void 0!==n&&(i.value=n),i.envLink&&("boolean"===i.type?i.value=I([process.env[i.envLink],i.value].find((e=>e||"false"===e))):"number"===i.type?(s=+process.env[i.envLink],i.value=s>=0?s:i.value):i.type.indexOf("]")>=0&&process.env[i.envLink]?i.value=process.env[i.envLink].split(","):i.value=process.env[i.envLink]||i.value))}}))}function Ce(e){let t={};for(const[o,r]of Object.entries(e))t[o]=Object.prototype.hasOwnProperty.call(r,"value")?r.value:Ce(r);return t}let Oe=!1;const _e=async(t,o)=>{H(4,"[chart] Starting exporting process.");const r=((e,t={})=>{let o={};return e.svg?(o=_(t),o.export.type=e.type||e.export.type,o.export.scale=e.scale||e.export.scale,o.export.outfile=e.outfile||e.export.outfile,o.payload={svg:e.svg}):o=Re(t,e,x),o.export.outfile=o.export?.outfile||`chart.${o.export?.type||"png"}`,o})(t,Ee()),i=r.export;return r.payload?.svg&&""!==r.payload.svg?je(r.payload.svg.trim(),r,o):i.infile&&i.infile.length?(H(4,"[chart] Attempting to export from an input file."),e.readFile(i.infile,"utf8",((e,t)=>e?H(1,`[chart] Error loading input file: ${e}.`):(r.export.instr=t,je(r.export.instr.trim(),r,o))))):i.instr&&""!==i.instr||i.options&&""!==i.options?(H(4,"[chart] Attempting to export from a raw input."),I(r.customCode?.allowCodeExecution)?Ie(r,o):"string"==typeof i.instr?je(i.instr.trim(),r,o):$e(r,i.instr||i.options,o)):(H(1,R(`[chart] No input specified.\n      ${JSON.stringify(i,void 0,"  ")}.`)),o&&o(!1,{error:!0,message:"No input specified."}))},Ae=e=>{const{chart:t,exporting:o}=e.export?.options||O(e.export?.instr),r=O(e.export?.globalOptions);let i=e.export?.scale||o?.scale||r?.exporting?.scale||e.export?.defaultScale||1;return i=Math.max(.1,Math.min(i,5)),i=((e,t=1)=>{const o=Math.pow(10,t||0);return Math.round(+e*o)/o})(i,2),{height:e.export?.height||o?.sourceHeight||t?.height||r?.exporting?.sourceHeight||r?.chart?.height||e.export?.defaultHeight||400,width:e.export?.width||o?.sourceWidth||t?.width||r?.exporting?.sourceWidth||r?.chart?.width||e.export?.defaultWidth||600,scale:i}},$e=(t,o,r,i)=>{let{export:n,customCode:s}=t;const a="boolean"==typeof s.allowCodeExecution?s.allowCodeExecution:Oe;if(s){if(a)if("string"==typeof t.customCode.resources)t.customCode.resources=C(t.customCode.resources,I(t.customCode.allowFileResources));else if(!t.customCode.resources)try{const o=e.readFileSync("resources.json","utf8");t.customCode.resources=C(o,I(t.customCode.allowFileResources))}catch(e){H(3,"[chart] The default resources.json file not found.")}}else s=t.customCode={};if(!a&&s){if(s.callback||s.resources||s.customCode)return r&&r(!1,{error:!0,message:R("The callback, resources and customCode have been disabled for this\n            server.")});s.callback=!1,s.resources=!1,s.customCode=!1}if(o&&(o.chart=o.chart||{},o.exporting=o.exporting||{},o.exporting.enabled=!1),n.constr=n.constr||"chart",n.type=L(n.type,n.outfile),"svg"===n.type&&(n.width=!1),["globalOptions","themeOptions"].forEach((t=>{try{n&&n[t]&&("string"==typeof n[t]&&n[t].endsWith(".json")?n[t]=O(e.readFileSync(n[t],"utf8"),!0):n[t]=O(n[t],!0))}catch(e){n[t]={},H(1,`[chart] The ${t} not found.`)}})),s.allowCodeExecution&&(s.customCode=j(s.customCode,s.allowFileResources)),s&&s.callback&&s.callback?.indexOf("{")<0)if(s.allowFileResources)try{s.callback=e.readFileSync(s.callback,"utf8")}catch(e){H(2,`[chart] Error loading callback: ${e}.`),s.callback=!1}else s.callback=!1;t.export={...t.export,...Ae(t)},me(n.strInj||o||i,t).then((e=>r(e))).catch((e=>(H(0,"[chart] When posting work:",e),r(!1,e))))},Ie=(e,t)=>{try{let o,r=e.export.instr||e.export.options;return"string"!=typeof r&&(o=r=A(r,e.customCode?.allowCodeExecution)),o=r.replaceAll(/\t|\n|\r/g,"").trim(),";"===o[o.length-1]&&(o=o.substring(0,o.length-1)),e.export.strInj=o,$e(e,!1,t)}catch(o){const r=R(`Malformed input detected for ${e.export?.requestId||"?"}:\n      Please make sure that your JSON/JavaScript options\n      are sent using the "options" attribute, and that if you're using\n      SVG, it is unescaped.`);return H(1,r),t&&t(!1,JSON.stringify({error:!0,message:r}))}},je=(e,t,o)=>{const{allowCodeExecution:r}=t.customCode;if(e.indexOf("<svg")>=0||e.indexOf("<?xml")>=0)return H(4,"[chart] Parsing input as SVG."),$e(t,!1,o,e);try{const r=JSON.parse(e.replaceAll(/\t|\n|\r/g," "));return $e(t,r,o)}catch(e){return I(r)?Ie(t,o):o&&o(!1,{error:!0,message:R("Only JSON configurations and SVG is allowed for this server. If\n            this is your server, JavaScript exporting can be enabled by starting\n            the server with the --allowCodeExecution flag.")})}},Pe={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",pdf:"application/pdf",svg:"image/svg+xml"};let Ne=0;const Fe=[],Ue=[],qe=(e,t,o,r)=>{let i=!0;const{id:n,uniqueId:s,type:a,body:l}=r;return e.some((e=>{if(e){let r=e(t,o,n,s,a,l);return void 0!==r&&!0!==r&&(i=r),!0}})),i},Ge=(e,t)=>{(()=>{const e=process.hrtime.bigint()})();const o=Ee(),r=e.body,i=++Ne,n=d.v4().replace(/-/g,"");let s=L(r.type);if(!r)return t.status(400).send(R("Body is required. Sending a body? Make sure your Content-type header\n        is correct. Accepted is application/json and multipart/form-data."));let a=O(r.infile||r.options||r.data);if(!a&&!r.svg)return H(2,R(`Request ${n} from ${e.headers["x-forwarded-for"]||e.connection.remoteAddress} was incorrect. Check your payload.`)),t.status(400).send(R("No correct chart data found. Please make sure you are using\n        application/json or multipart/form-data headers, and that the chart\n        data is in the 'infile', 'options' or 'data' attribute if sending\n        JSON or in the 'svg' if sending SVG."));let l=!1;if(l=qe(Fe,e,t,{id:i,uniqueId:n,type:s,body:r}),!0!==l)return t.send(l);let c=!1;e.socket.on("close",(()=>{c=!0})),H(4,`[export] Got an incoming HTTP request ${n}.`),r.constr="string"==typeof r.constr&&r.constr||"chart";const p={export:{instr:a,type:s,constr:r.constr[0].toLowerCase()+r.constr.substr(1),height:r.height,width:r.width,scale:r.scale||o.export.scale,globalOptions:O(r.globalOptions,!0),themeOptions:O(r.themeOptions,!0)},customCode:{allowCodeExecution:Oe,allowFileResources:!1,resources:O(r.resources,!0),callback:r.callback,customCode:r.customCode}};a&&(p.export.instr=A(a,p.customCode.allowCodeExecution));const u=Re(o,p);if(u.export.options=a,u.payload={svg:r.svg||!1,b64:r.b64||!1,dataOptions:O(r.dataOptions,!0),noDownload:r.noDownload||!1,requestId:n},r.svg&&(h=u.payload.svg,["localhost","(10).(.*).(.*).(.*)","(127).(.*).(.*).(.*)","(172).(1[6-9]|2[0-9]|3[0-1]).(.*).(.*)","(192).(168).(.*).(.*)"].some((e=>h.match(`xlink:href="(?:(http://|https://))?${e}`)))))return t.status(400).send("SVG potentially contain at least one forbidden URL in xlink:href element.");var h;_e(u,((o,a)=>(e.socket.removeAllListeners("close"),c?H(3,R("[export] The client closed the connection before the chart was done\n          processing.")):a?(H(1,R(`[export] Work: ${n} could not be completed, sending:\n          ${a}`)),t.status(400).send(a.message)):o&&o.data?(s=o.options.export.type,qe(Ue,e,t,{id:i,body:o.data}),o.data?r.b64?"pdf"===s?t.send(Buffer.from(o.data,"utf8").toString("base64")):t.send(o.data):(t.header("Content-Type",Pe[s]||"image/png"),r.noDownload||t.attachment(`${e.params.filename||"chart"}.${s||"png"}`),"svg"===s?t.send(o.data):t.send(Buffer.from(o.data,"base64"))):void 0):(H(1,R(`[export] Unexpected return from chart generation, please check your\n          data Request: ${n} is ${o.data}.`)),t.status(400).send("Unexpected return from chart generation, please check your data.")))))};const We=i();We.disable("x-powered-by"),We.use(r());const Me=n.memoryStorage(),De=n({storage:Me,limits:{fieldsSize:"50MB"}});We.use(De.any()),We.use(o.json({limit:"50mb"})),We.use(o.urlencoded({extended:!0,limit:"50mb"})),We.use(o.urlencoded({extended:!1,limit:"50mb"}));const Ve=e=>H(1,`[server] Socket error: ${e}`),ze=e=>{e.on("clientError",Ve),e.on("error",Ve),e.on("connection",(e=>e.on("error",(e=>Ve(e)))))},Je=async o=>{if(!o.enable)return!1;if(!o.ssl.enable&&!o.ssl.force){const e=s.createServer(We);ze(e),e.listen(o.port,o.host),H(3,`[server] Started HTTP server on ${o.host}:${o.port}.`)}if(o.ssl.enable){let r,i;try{r=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.key"),"utf8"),i=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.crt"),"utf8")}catch(e){H(1,`[server] Unable to load key/certificate from ${o.ssl.certPath}.`)}if(r&&i){const e=a.createServer(We);ze(e),e.listen(o.ssl.port,o.host),H(3,`[server] Started HTTPS server on ${o.host}:${o.ssl.port}.`)}}o.rateLimiting&&o.rateLimiting.enable&&![0,NaN].includes(o.rateLimiting.maxRequests)&&P(We,o.rateLimiting),We.use(i.static(t.posix.join(E,"public"))),(e=>{!!e&&e.get("/health",((e,t)=>{t.send({status:"OK",bootTime:Se,uptime:Math.floor(((new Date).getTime()-Se.getTime())/1e3/60)+" minutes",version:ke,highchartsVersion:J(),averageProcessingTime:xe(),performedExports:Te(),failedExports:we(),exportAttempts:be(),sucessRatio:Te()/be()*100,pool:ye()})}))})(We),(e=>{e.post("/",Ge),e.post("/:filename",Ge)})(We),(e=>{!!e&&e.get("/",((e,o)=>{o.sendFile(t.join(E,"public","index.html"))}))})(We),(e=>{!!e&&e.post("/change_hc_version/:newVersion",(async(e,t)=>{const o=process.env.HIGHCHARTS_ADMIN_TOKEN;if(!o||!o.length)return t.send({error:!0,message:"Server not configured to do run-time version changes: HIGHCHARTS_ADMIN_TOKEN not set"});const r=e.get("hc-auth");if(!r||r!==o)return t.send({error:!0,message:"Invalid or missing token: set token in the hc-auth header"});const i=e.params.newVersion;if(i){try{await V(i)}catch(e){t.send({error:!0,message:e})}t.send({version:J()})}else t.send({error:!0,message:"No new version supplied"})}))})(We)};var Ke={startServer:Je,getExpress:()=>i,getApp:()=>We,use:(e,...t)=>{We.use(e,...t)},get:(e,...t)=>{We.get(e,...t)},post:(e,...t)=>{We.post(e,...t)},enableRateLimiting:e=>P(We,e)},Xe={log:H,mapToNewConfig:e=>{const t={};for(const[o,r]of Object.entries(e)){const e=T[o]?T[o].split("."):[];e.reduce(((t,o,i)=>t[o]=e.length-1===i?r:t[o]||{}),t)}return t},setOptions:(t,o)=>(o?.length&&(He=function(t){const o=t.findIndex((e=>"loadConfig"===e.replace(/-/g,"")));if(o>-1&&t[o+1]){const r=t[o+1];try{if(r&&r.endsWith(".json"))return JSON.parse(e.readFileSync(r))}catch(e){H(1,`[config] Unable to load config from the ${r}: ${e}`)}}return{}}(o)),Le(w,He),He=Ce(w),t&&(He=Re(He,t,x)),o?.length&&(He=function(e,t,o){for(let o=0;o<t.length;o++){let r=t[o].replace(/-/g,"");const i=T[r]?T[r].split("."):[];i.reduce(((n,s,a)=>(i.length-1===a&&void 0!==n[s]&&(t[++o]?n[s]=t[o]||n[s]:(console.log(`Missing argument value for ${r}!`.red,"\n"),e=$())),n[s])),e)}return e}(He,o)),He),singleExport:t=>{t.export.instr=t.export.instr||t.export.options,_e(t,((t,o)=>{o&&(H(1,`[cli] ${o.message}`),process.exit(1));const{outfile:r,type:i}=t.options.export;e.writeFileSync(r||`chart.${i}`,"svg"!==i?Buffer.from(t.data,"base64"):t.data),fe()}))},startExport:_e,batchExport:t=>{const o=[];for(let r of t.export.batch.split(";"))r=r.split("="),2===r.length&&o.push(new Promise(((o,i)=>{_e({...t,export:{...t.export,infile:r[0],outfile:r[1]}},((t,r)=>{if(r)return i(r);e.writeFileSync(t.options.export.outfile,Buffer.from(t.data,"base64")),o()}))})));Promise.all(o).then((()=>{fe()})).catch((e=>{H(1,`[chart] Error encountered during batch export: ${e}`),fe()}))},server:Ke,startServer:Je,killPool:fe,initPool:async(e={})=>{var t,o;return t=e.customCode&&e.customCode.allowCodeExecution,Oe=I(t),(o=e.logging&&parseInt(e.logging.level))>=0&&o<=S.levelsDesc.length&&(S.level=o),e.logging&&e.logging.dest&&((e,t)=>{if(S={...S,dest:e||S.dest,file:t||S.file,toFile:!0},0===S.dest.length)return H(1,"[logger] File logging init: no path supplied.");S.dest.endsWith("/")||(S.dest+="/")})(e.logging.dest,e.logging.file||"highcharts-export-server.log"),await D(e.highcharts||{version:"latest"}),await ge({pool:e.pool||{initialWorkers:1,maxWorkers:1},puppeteerArgs:e.puppeteer?.args||[]}),e}};module.exports=Xe;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9saWIvc2NoZW1hcy9jb25maWcuanMiLCIuLi9saWIvbG9nZ2VyLmpzIiwiLi4vbGliL3V0aWxzLmpzIiwiLi4vbGliL3NlcnZlci9yYXRlX2xpbWl0LmpzIiwiLi4vbGliL2ZldGNoLmpzIiwiLi4vbGliL2NhY2hlLmpzIiwiLi4vbGliL2Jyb3dzZXIuanMiLCIuLi9saWIvZXhwb3J0LmpzIiwiLi4vbGliL2JlbmNobWFyay5qcyIsIi4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMiLCIuLi9saWIvcG9vbC5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL2hlYWx0aC5qcyIsIi4uL2xpYi9jb25maWcuanMiLCIuLi9saWIvY2hhcnQuanMiLCIuLi9saWIvc2VydmVyL3JvdXRlcy9leHBvcnQuanMiLCIuLi9saWIvc2VydmVyL3NlcnZlci5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL3VpLmpzIiwiLi4vbGliL3NlcnZlci9yb3V0ZXMvY2hhbmdlX2hjX3ZlcnNpb24uanMiLCIuLi9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIExvYWQgLmVudiBpbnRvIGVudmlyb25tZW50IHZhcmlhYmxlc1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbi8vIFRoaXMgaXMgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggYWxsIG9wdGlvbnMgYW5kIHRoZWlyIGRlZmF1bHQgdmFsdWVzLFxuLy8gYWxzbyBmcm9tIHRoZSAuZW52IGZpbGUgaWYgb25lIGV4aXN0c1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gIHB1cHBldGVlcjoge1xuICAgIGFyZ3M6IHtcbiAgICAgIHZhbHVlOiBbXSxcbiAgICAgIHR5cGU6ICdzdHJpbmdbXScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FycmF5IG9mIGFyZ3VtZW50cyB0byBzZW5kIHRvIHB1cHBldGVlci4nXG4gICAgfVxuICB9LFxuICBoaWdoY2hhcnRzOiB7XG4gICAgdmVyc2lvbjoge1xuICAgICAgdmFsdWU6ICdsYXRlc3QnLFxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfVkVSU0lPTicsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyB2ZXJzaW9uIHRvIHVzZS4nXG4gICAgfSxcbiAgICBjZG5VUkw6IHtcbiAgICAgIHZhbHVlOiAnaHR0cHM6Ly9jb2RlLmhpZ2hjaGFydHMuY29tLycsXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19DRE4nLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBDRE4gVVJMIG9mIEhpZ2hjaGFydHMgc2NyaXB0cyB0byB1c2UuJ1xuICAgIH0sXG4gICAgY29yZVNjcmlwdHM6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0NPUkVfU0NSSVBUUycsXG4gICAgICB2YWx1ZTogWydoaWdoY2hhcnRzJywgJ2hpZ2hjaGFydHMtbW9yZScsICdoaWdoY2hhcnRzLTNkJ10sXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIGNvcmUgc2NyaXB0cyB0byBmZXRjaC4nXG4gICAgfSxcbiAgICBtb2R1bGVzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19NT0RVTEVTJyxcbiAgICAgIHZhbHVlOiBbXG4gICAgICAgICdzdG9jaycsXG4gICAgICAgICdtYXAnLFxuICAgICAgICAnZ2FudHQnLFxuICAgICAgICAnZXhwb3J0aW5nJyxcbiAgICAgICAgJ2V4cG9ydC1kYXRhJyxcbiAgICAgICAgJ3BhcmFsbGVsLWNvb3JkaW5hdGVzJyxcbiAgICAgICAgJ2FjY2Vzc2liaWxpdHknLFxuICAgICAgICAnYW5ub3RhdGlvbnMtYWR2YW5jZWQnLFxuICAgICAgICAnYm9vc3QtY2FudmFzJyxcbiAgICAgICAgJ2Jvb3N0JyxcbiAgICAgICAgJ2RhdGEnLFxuICAgICAgICAnZHJhZ2dhYmxlLXBvaW50cycsXG4gICAgICAgICdzdGF0aWMtc2NhbGUnLFxuICAgICAgICAnYnJva2VuLWF4aXMnLFxuICAgICAgICAnaGVhdG1hcCcsXG4gICAgICAgICd0aWxlbWFwJyxcbiAgICAgICAgJ3RpbWVsaW5lJyxcbiAgICAgICAgJ3RyZWVtYXAnLFxuICAgICAgICAndHJlZWdyYXBoJyxcbiAgICAgICAgJ2l0ZW0tc2VyaWVzJyxcbiAgICAgICAgJ2RyaWxsZG93bicsXG4gICAgICAgICdoaXN0b2dyYW0tYmVsbGN1cnZlJyxcbiAgICAgICAgJ2J1bGxldCcsXG4gICAgICAgICdmdW5uZWwnLFxuICAgICAgICAnZnVubmVsM2QnLFxuICAgICAgICAncHlyYW1pZDNkJyxcbiAgICAgICAgJ25ldHdvcmtncmFwaCcsXG4gICAgICAgICdwYXJldG8nLFxuICAgICAgICAncGF0dGVybi1maWxsJyxcbiAgICAgICAgJ3BpY3RvcmlhbCcsXG4gICAgICAgICdwcmljZS1pbmRpY2F0b3InLFxuICAgICAgICAnc2Fua2V5JyxcbiAgICAgICAgJ2FyYy1kaWFncmFtJyxcbiAgICAgICAgJ2RlcGVuZGVuY3ktd2hlZWwnLFxuICAgICAgICAnc2VyaWVzLWxhYmVsJyxcbiAgICAgICAgJ3NvbGlkLWdhdWdlJyxcbiAgICAgICAgJ3NvbmlmaWNhdGlvbicsXG4gICAgICAgICdzdG9jay10b29scycsXG4gICAgICAgICdzdHJlYW1ncmFwaCcsXG4gICAgICAgICdzdW5idXJzdCcsXG4gICAgICAgICd2YXJpYWJsZS1waWUnLFxuICAgICAgICAndmFyaXdpZGUnLFxuICAgICAgICAndmVjdG9yJyxcbiAgICAgICAgJ3Zlbm4nLFxuICAgICAgICAnd2luZGJhcmInLFxuICAgICAgICAnd29yZGNsb3VkJyxcbiAgICAgICAgJ3hyYW5nZScsXG4gICAgICAgICduby1kYXRhLXRvLWRpc3BsYXknLFxuICAgICAgICAnZHJhZy1wYW5lcycsXG4gICAgICAgICdkZWJ1Z2dlcicsXG4gICAgICAgICdkdW1iYmVsbCcsXG4gICAgICAgICdsb2xsaXBvcCcsXG4gICAgICAgICdjeWxpbmRlcicsXG4gICAgICAgICdvcmdhbml6YXRpb24nLFxuICAgICAgICAnZG90cGxvdCcsXG4gICAgICAgICdtYXJrZXItY2x1c3RlcnMnLFxuICAgICAgICAnaG9sbG93Y2FuZGxlc3RpY2snLFxuICAgICAgICAnaGVpa2luYXNoaSdcbiAgICAgIF0sXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIG1vZHVsZXMgdG8gZmV0Y2guJ1xuICAgIH0sXG4gICAgaW5kaWNhdG9yczoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfSU5ESUNBVE9SUycsXG4gICAgICB2YWx1ZTogWydpbmRpY2F0b3JzLWFsbCddLFxuICAgICAgdHlwZTogJ3N0cmluZ1tdJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyBpbmRpY2F0b3JzIHRvIGZldGNoLidcbiAgICB9LFxuICAgIHNjcmlwdHM6IHtcbiAgICAgIHZhbHVlOiBbXG4gICAgICAgICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tb21lbnQuanMvMi4yOS40L21vbWVudC5taW4uanMnLFxuICAgICAgICAnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbW9tZW50LXRpbWV6b25lLzAuNS4zNC9tb21lbnQtdGltZXpvbmUtd2l0aC1kYXRhLm1pbi5qcydcbiAgICAgIF0sXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBZGRpdGlvbmFsIGRpcmVjdCBzY3JpcHRzL29wdGlvbmFsIGRlcGVuZGVuY2llcyAoZS5nLiBtb21lbnQuanMpLidcbiAgICB9LFxuICAgIGZvcmNlRmV0Y2g6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0ZPUkNFX0ZFVENIJyxcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnU2hvdWxkIGFsbCB0aGUgc2NyaXB0cyBiZSByZWZldGNoZWQgYWZ0ZXIgcmVydW5uaW5nIHRoZSBzZXJ2ZXIuJ1xuICAgIH1cbiAgfSxcbiAgZXhwb3J0OiB7XG4gICAgaW5maWxlOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGlucHV0IGZpbGUgbmFtZSBhbG9uZyB3aXRoIGEgdHlwZSAoanNvbiBvciBzdmcpLiBJdCBjYW4gYmUgYSBjb3JyZWN0IEpTT04gb3IgU1ZHIGZpbGUuJ1xuICAgIH0sXG4gICAgaW5zdHI6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBbiBpbnB1dCBpbiBhIGZvcm0gb2YgYSBzdHJpbmdpZmllZCBKU09OIG9yIFNWRyBmaWxlLiBPdmVycmlkZXMgdGhlIC0taW5maWxlLidcbiAgICB9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246ICdBbiBhbGlhcyBmb3IgdGhlIC0taW5zdHIgb3B0aW9uLidcbiAgICB9LFxuICAgIG91dGZpbGU6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgb3V0cHV0IGZpbGVuYW1lIGFsb25nIHdpdGggYSB0eXBlIChqcGVnLCBwbmcsIHBkZiBvciBzdmcpLiBJZ25vcmVzIHRoZSAtLXR5cGUgZmxhZy4nXG4gICAgfSxcbiAgICB0eXBlOiB7XG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfVFlQRScsXG4gICAgICB2YWx1ZTogJ3BuZycsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGZvcm1hdCBvZiB0aGUgZmlsZSB0byBleHBvcnQgdG8uIENhbiBiZSBqcGVnLCBwbmcsIHBkZiBvciBzdmcuJ1xuICAgIH0sXG4gICAgY29uc3RyOiB7XG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfQ09OU1RSJyxcbiAgICAgIHZhbHVlOiAnY2hhcnQnLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBjb25zdHJ1Y3RvciB0byB1c2UuIENhbiBiZSBjaGFydCwgc3RvY2tDaGFydCwgbWFwQ2hhcnQgb3IgZ2FudHRDaGFydC4nXG4gICAgfSxcbiAgICBkZWZhdWx0SGVpZ2h0OiB7XG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfSEVJR0hUJyxcbiAgICAgIHZhbHVlOiA0MDAsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGRlZmF1bHQgaGVpZ2h0IG9mIHRoZSBleHBvcnRlZCBjaGFydC4gVXNlZCB3aGVuIG5vdCBmb3VuZCBhbnkgdmFsdWUgc2V0LidcbiAgICB9LFxuICAgIGRlZmF1bHRXaWR0aDoge1xuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX1dJRFRIJyxcbiAgICAgIHZhbHVlOiA2MDAsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGRlZmF1bHQgd2lkdGggb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBVc2VkIHdoZW4gbm90IGZvdW5kIGFueSB2YWx1ZSBzZXQuJ1xuICAgIH0sXG4gICAgZGVmYXVsdFNjYWxlOiB7XG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfU0NBTEUnLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGRlZmF1bHQgc2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBSYW5nZXMgYmV0d2VlbiAxIGFuZCA1LidcbiAgICB9LFxuICAgIGhlaWdodDoge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBkZWZhdWx0IGhlaWdodCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIE92ZXJyaWRlcyB0aGUgb3B0aW9uIGluIHRoZSBjaGFydCBzZXR0aW5ncy4nXG4gICAgfSxcbiAgICB3aWR0aDoge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSB3aWR0aCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIE92ZXJyaWRlcyB0aGUgb3B0aW9uIGluIHRoZSBjaGFydCBzZXR0aW5ncy4nXG4gICAgfSxcbiAgICBzY2FsZToge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBzY2FsZSBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIFJhbmdlcyBiZXR3ZWVuIDEgYW5kIDUuJ1xuICAgIH0sXG4gICAgZ2xvYmFsT3B0aW9uczoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0Egc3RyaW5naWZpZWQgSlNPTiBvciBhIGZpbGVuYW1lIHdpdGggb3B0aW9ucyB0byBiZSBwYXNzZWQgaW50byB0aGUgSGlnaGNoYXJ0cy5zZXRPcHRpb25zLidcbiAgICB9LFxuICAgIHRoZW1lT3B0aW9uczoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0Egc3RyaW5naWZpZWQgSlNPTiBvciBhIGZpbGVuYW1lIHdpdGggdGhlbWUgb3B0aW9ucyB0byBiZSBwYXNzZWQgaW50byB0aGUgSGlnaGNoYXJ0cy5zZXRPcHRpb25zLidcbiAgICB9LFxuICAgIGJhdGNoOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnU3RhcnRzIGEgYmF0Y2ggam9iLiBBIHN0cmluZyB0aGF0IGNvbnRhaW5zIGlucHV0L291dHB1dCBwYWlyczogXCJpbj1vdXQ7aW49b3V0Oy4uXCIuJ1xuICAgIH1cbiAgfSxcbiAgY3VzdG9tQ29kZToge1xuICAgIGFsbG93Q29kZUV4ZWN1dGlvbjoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQUxMT1dfQ09ERV9FWEVDVVRJT04nLFxuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdJZiBzZXQgdG8gdHJ1ZSwgYWxsb3cgZm9yIHRoZSBleGVjdXRpb24gb2YgYXJiaXRyYXJ5IGNvZGUgd2hlbiBleHBvcnRpbmcuJ1xuICAgIH0sXG4gICAgYWxsb3dGaWxlUmVzb3VyY2VzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19BTExPV19GSUxFX1JFU09VUkNFUycsXG4gICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnQWxsb3cgaW5qZWN0aW5nIHJlc291cmNlcyBmcm9tIHRoZSBmaWxlc3lzdGVtLiBIYXMgbm8gZWZmZWN0IHdoZW4gcnVubmluZyBhcyBhIHNlcnZlci4nXG4gICAgfSxcbiAgICBjdXN0b21Db2RlOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYmVmb3JlIGNoYXJ0IGluaXRpYWxpemF0aW9uLiBDYW4gYmUgYSBmaWxlbmFtZSB3aXRoIHRoZSBqcyBleHRlbnNpb24uJ1xuICAgIH0sXG4gICAgY2FsbGJhY2s6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246ICdBIEphdmFTY3JpcHQgZmlsZSB3aXRoIGEgZnVuY3Rpb24gdG8gcnVuIG9uIGNvbnN0cnVjdGlvbi4nXG4gICAgfSxcbiAgICByZXNvdXJjZXM6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdBbiBhZGRpdGlvbmFsIHJlc291cmNlIGluIGEgZm9ybSBvZiBzdHJpbmdpZmllZCBKU09OLiBJdCBjYW4gY29udGFpbiBmaWxlcywganMgYW5kIGNzcyBzZWN0aW9ucy4nXG4gICAgfSxcbiAgICBsb2FkQ29uZmlnOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQSBmaWxlIHRoYXQgY29udGFpbnMgYSBwcmUtZGVmaW5lZCBjb25maWcgdG8gdXNlLidcbiAgICB9LFxuICAgIGNyZWF0ZUNvbmZpZzoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0FsbG93cyB0byBzZXQgb3B0aW9ucyB0aHJvdWdoIGEgcHJvbXB0IGFuZCBzYXZlIGluIGEgcHJvdmlkZWQgY29uZmlnIGZpbGUuJ1xuICAgIH1cbiAgfSxcbiAgc2VydmVyOiB7XG4gICAgZW5hYmxlOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfRU5BQkxFJyxcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGNsaU5hbWU6ICdlbmFibGVTZXJ2ZXInLFxuICAgICAgZGVzY3JpcHRpb246ICdJZiBzZXQgdG8gdHJ1ZSwgc3RhcnRzIGEgc2VydmVyIG9uIDAuMC4wLjAuJ1xuICAgIH0sXG4gICAgaG9zdDoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX0hPU1QnLFxuICAgICAgdmFsdWU6ICcwLjAuMC4wJyxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdUaGUgaG9zdG5hbWUgb2YgdGhlIHNlcnZlci4gQWxzbyBzdGFydHMgYSBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHRoZSBzdXBwbGllZCBob3N0bmFtZS4nXG4gICAgfSxcbiAgICBwb3J0OiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfUE9SVCcsXG4gICAgICB2YWx1ZTogNzgwMSxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcG9ydCB0byB1c2UgZm9yIHRoZSBzZXJ2ZXIuIERlZmF1bHRzIHRvIDc4MDEuJ1xuICAgIH0sXG4gICAgc3NsOiB7XG4gICAgICBlbmFibGU6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX1NTTF9FTkFCTEUnLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgY2xpTmFtZTogJ2VuYWJsZVNzbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyB0aGUgU1NMIHByb3RvY29sLidcbiAgICAgIH0sXG4gICAgICBmb3JjZToge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfU1NMX0ZPUkNFJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgIGNsaU5hbWU6ICdzc2xGb3JjZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAnSWYgc2V0IHRvIHRydWUsIGZvcmNlcyB0aGUgc2VydmVyIHRvIG9ubHkgc2VydmUgb3ZlciBIVFRQUy4nXG4gICAgICB9LFxuICAgICAgcG9ydDoge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfU1NMX1BPUlQnLFxuICAgICAgICB2YWx1ZTogNDQzLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgY2xpTmFtZTogJ3NzbFBvcnQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3J0IG9uIHdoaWNoIHRvIHJ1biB0aGUgU1NMIHNlcnZlci4nXG4gICAgICB9LFxuICAgICAgY2VydFBhdGg6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU1NMX0NFUlRfUEFUSCcsXG4gICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhdGggdG8gdGhlIFNTTCBjZXJ0aWZpY2F0ZS9rZXkuJ1xuICAgICAgfVxuICAgIH0sXG4gICAgcmF0ZUxpbWl0aW5nOiB7XG4gICAgICBlbmFibGU6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9FTkFCTEUnLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgY2xpTmFtZTogJ2VuYWJsZVJhdGVMaW1pdGluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyByYXRlIGxpbWl0aW5nLidcbiAgICAgIH0sXG4gICAgICBtYXhSZXF1ZXN0czoge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX01BWCcsXG4gICAgICAgIHZhbHVlOiAxMCxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTWF4IHJlcXVlc3RzIGFsbG93ZWQgaW4gYSBvbmUgbWludXRlLidcbiAgICAgIH0sXG4gICAgICB3aW5kb3c6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9XSU5ET1cnLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRpbWUgd2luZG93IGluIG1pbnV0ZXMgZm9yIHJhdGUgbGltaXRpbmcuJ1xuICAgICAgfSxcbiAgICAgIGRlbGF5OiB7XG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfREVMQVknLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICdUaGUgYW1vdW50IHRvIGRlbGF5IGVhY2ggc3VjY2Vzc2l2ZSByZXF1ZXN0IGJlZm9yZSBoaXR0aW5nIHRoZSBtYXguJ1xuICAgICAgfSxcbiAgICAgIHRydXN0UHJveHk6IHtcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9UUlVTVF9QUk9YWScsXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NldCB0aGlzIHRvIHRydWUgaWYgYmVoaW5kIGEgbG9hZCBiYWxhbmNlci4nXG4gICAgICB9LFxuICAgICAgc2tpcEtleToge1xuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX1NLSVBfS0VZJyxcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyfHN0cmluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICdBbGxvd3MgYnlwYXNzaW5nIHRoZSByYXRlIGxpbWl0ZXIgYW5kIHNob3VsZCBiZSBwcm92aWRlZCB3aXRoIHNraXBUb2tlbiBhcmd1bWVudC4nXG4gICAgICB9LFxuICAgICAgc2tpcFRva2VuOiB7XG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfU0tJUF9UT0tFTicsXG4gICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgdHlwZTogJ251bWJlcnxzdHJpbmcnLFxuICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAnQWxsb3dzIGJ5cGFzc2luZyB0aGUgcmF0ZSBsaW1pdGVyIGFuZCBzaG91bGQgYmUgcHJvdmlkZWQgd2l0aCBza2lwS2V5IGFyZ3VtZW50LidcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHBvb2w6IHtcbiAgICBpbml0aWFsV29ya2Vyczoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9NSU5fV09SS0VSUycsXG4gICAgICB2YWx1ZTogNCxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgbnVtYmVyIG9mIGluaXRpYWwgd29ya2VycyB0byBzcGF3bi4nXG4gICAgfSxcbiAgICBtYXhXb3JrZXJzOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX01BWF9XT1JLRVJTJyxcbiAgICAgIHZhbHVlOiA4LFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgbWF4IHdvcmtlcnMgdG8gc3Bhd24uJ1xuICAgIH0sXG4gICAgd29ya0xpbWl0OiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX1dPUktfTElNSVQnLFxuICAgICAgdmFsdWU6IDQwLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBwaWVjZXMgb2Ygd29yayB0aGF0IGNhbiBiZSBwZXJmb3JtZWQgYmVmb3JlIHJlc3RhcnRpbmcgcHJvY2Vzcy4nXG4gICAgfSxcbiAgICBxdWV1ZVNpemU6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfUVVFVUVfU0laRScsXG4gICAgICB2YWx1ZTogNSxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgc2l6ZSBvZiB0aGUgcmVxdWVzdCBvdmVyZmxvdyBxdWV1ZS4nXG4gICAgfSxcbiAgICB0aW1lb3V0VGhyZXNob2xkOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX1RJTUVPVVQnLFxuICAgICAgdmFsdWU6IDUwMDAsXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYmVmb3JlIHRpbWluZyBvdXQuJ1xuICAgIH0sXG4gICAgYWNxdWlyZVRpbWVvdXQ6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfQUNRVUlSRV9USU1FT1VUJyxcbiAgICAgIHZhbHVlOiA1MDAwLFxuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGFjcXVpcmluZyBhIHJlc291cmNlLidcbiAgICB9LFxuICAgIHJlYXBlcjoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9FTkFCTEVfUkVBUEVSJyxcbiAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdXaGV0aGVyIG9yIG5vdCB0byBldmljdCB3b3JrZXJzIGFmdGVyIGEgY2VydGFpbiB0aW1lIHBlcmlvZC4nXG4gICAgfSxcbiAgICBiZW5jaG1hcmtpbmc6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfQkVOQ0hNQVJLSU5HJyxcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlIGJlbmNobWFya2luZy4nXG4gICAgfSxcbiAgICBsaXN0ZW5Ub1Byb2Nlc3NFeGl0czoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9MSVNURU5fVE9fUFJPQ0VTU19FWElUUycsXG4gICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnU2V0IHRvIGZhbHNlIGluIG9yZGVyIHRvIHNraXAgYXR0YWNoaW5nIHByb2Nlc3MuZXhpdCBoYW5kbGVycy4nXG4gICAgfVxuICB9LFxuICBsb2dnaW5nOiB7XG4gICAgbGV2ZWw6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0xPR19MRVZFTCcsXG4gICAgICB2YWx1ZTogNCxcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgY2xpTmFtZTogJ2xvZ0xldmVsJyxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAnVGhlIGxvZyBsZXZlbCAoMDogc2lsZW50LCAxOiBlcnJvciwgMjogd2FybmluZywgMzogbm90aWNlLCA0OiB2ZXJib3NlKS4nXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19MT0dfRklMRScsXG4gICAgICB2YWx1ZTogJ2hpZ2hjaGFydHMtZXhwb3J0LXNlcnZlci5sb2cnLFxuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBjbGlOYW1lOiAnbG9nRmlsZScsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgJ0EgbmFtZSBvZiBhIGxvZyBmaWxlLiBUaGUgLS1sb2dEZXN0IGFsc28gbmVlZHMgdG8gYmUgc2V0IHRvIGVuYWJsZSBmaWxlIGxvZ2dpbmcuJ1xuICAgIH0sXG4gICAgZGVzdDoge1xuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfTE9HX0RFU1QnLFxuICAgICAgdmFsdWU6ICdsb2cvJyxcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgY2xpTmFtZTogJ2xvZ0Rlc3QnLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcGF0aCB0byBzdG9yZSBsb2cgZmlsZXMuIEFsc28gZW5hYmxlcyBmaWxlIGxvZ2dpbmcuJ1xuICAgIH1cbiAgfSxcbiAgdWk6IHtcbiAgICBlbmFibGU6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1VJX0VOQUJMRScsXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICBjbGlOYW1lOiAnZW5hYmxlVWknLFxuICAgICAgZGVzY3JpcHRpb246ICdFbmFibGVzIHRoZSBVSSBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXIuJ1xuICAgIH0sXG4gICAgcm91dGU6IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1VJX1JPVVRFJyxcbiAgICAgIHZhbHVlOiAnLycsXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGNsaU5hbWU6ICd1aVJvdXRlJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHJvdXRlIHRvIGF0dGFjaCB0aGUgVUkgdG8uJ1xuICAgIH1cbiAgfSxcbiAgb3RoZXI6IHtcbiAgICBub0xvZ286IHtcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX05PX0xPR08nLFxuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdTa2lwIHByaW50aW5nIHRoZSBsb2dvIG9uIGEgc3RhcnR1cC4gV2lsbCBiZSByZXBsYWNlZCBieSBhIHNpbXBsZSB0ZXh0LidcbiAgICB9XG4gIH0sXG4gIHBheWxvYWQ6IHt9XG59O1xuXG4vLyBUaGUgY29uZmlnIGRlc2NyaXB0aW9ucyBvYmplY3QgZm9yIHRoZSBwcm9tcHRzIGZ1bmN0aW9uYWxpdHkuIEl0IGNvbnRhaW5zXG4vLyBpbmZvcm1hdGlvbiBsaWtlOlxuLy8gKiBUeXBlIG9mIGEgcHJvbXB0XG4vLyAqIE5hbWUgb2YgYW4gb3B0aW9uXG4vLyAqIFNob3J0IGRlc2NyaXB0aW9uIG9mIGEgY2hvc2VuIG9wdGlvblxuLy8gKiBJbml0aWFsIHZhbHVlXG5leHBvcnQgY29uc3QgcHJvbXB0c0NvbmZpZyA9IHtcbiAgcHVwcGV0ZWVyOiBbXG4gICAge1xuICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgbmFtZTogJ2FyZ3MnLFxuICAgICAgbWVzc2FnZTogJ1B1cHBldGVlciBhcmd1bWVudHMnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wdXBwZXRlZXIuYXJncy52YWx1ZS5qb2luKCcsJyksXG4gICAgICBzZXBhcmF0b3I6ICcsJ1xuICAgIH1cbiAgXSxcbiAgaGlnaGNoYXJ0czogW1xuICAgIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIG5hbWU6ICd2ZXJzaW9uJyxcbiAgICAgIG1lc3NhZ2U6ICdIaWdoY2hhcnRzIHZlcnNpb24nLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLnZlcnNpb24udmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIG5hbWU6ICdjZG5VUkwnLFxuICAgICAgbWVzc2FnZTogJ1RoZSB1cmwgb2YgQ0ROJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuaGlnaGNoYXJ0cy5jZG5VUkwudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdtdWx0aXNlbGVjdCcsXG4gICAgICBuYW1lOiAnbW9kdWxlcycsXG4gICAgICBtZXNzYWdlOiAnQXZhaWxhYmxlIG1vZHVsZXMnLFxuICAgICAgaW5zdHJ1Y3Rpb25zOiAnU3BhY2U6IFNlbGVjdCBzcGVjaWZpYywgQTogU2VsZWN0IGFsbCwgRW50ZXI6IENvbmZpcm0uJyxcbiAgICAgIGNob2ljZXM6IGRlZmF1bHRDb25maWcuaGlnaGNoYXJ0cy5tb2R1bGVzLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICBuYW1lOiAnc2NyaXB0cycsXG4gICAgICBtZXNzYWdlOiAnQ3VzdG9tIHNjcmlwdHMnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLnNjcmlwdHMudmFsdWUuam9pbignLCcpLFxuICAgICAgc2VwYXJhdG9yOiAnLCdcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ2ZvcmNlRmV0Y2gnLFxuICAgICAgbWVzc2FnZTogJ1Nob3VsZCByZWZldGNoIGFsbCB0aGUgc2NyaXB0cyBhZnRlciBlYWNoIHNlcnZlciByZXJ1bicsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMuZm9yY2VGZXRjaC52YWx1ZVxuICAgIH1cbiAgXSxcbiAgZXhwb3J0OiBbXG4gICAge1xuICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICBuYW1lOiAndHlwZScsXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgdHlwZSBvZiBhIGZpbGUgdG8gZXhwb3J0IHRvJyxcbiAgICAgIGhpbnQ6IGBEZWZhdWx0OiAke2RlZmF1bHRDb25maWcuZXhwb3J0LnR5cGUudmFsdWV9YCxcbiAgICAgIGluaXRpYWw6IDAsXG4gICAgICBjaG9pY2VzOiBbJ3BuZycsICdqcGVnJywgJ3BkZicsICdzdmcnXVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICBuYW1lOiAnY29uc3RyJyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgZGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgSGlnaGNoYXJ0cyB0byB1c2UnLFxuICAgICAgaGludDogYERlZmF1bHQ6ICR7ZGVmYXVsdENvbmZpZy5leHBvcnQuY29uc3RyLnZhbHVlfWAsXG4gICAgICBpbml0aWFsOiAwLFxuICAgICAgY2hvaWNlczogWydjaGFydCcsICdzdG9ja0NoYXJ0JywgJ21hcENoYXJ0JywgJ2dhbnR0Q2hhcnQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnZGVmYXVsdEhlaWdodCcsXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgZmFsbGJhY2sgaGVpZ2h0IG9mIHRoZSBleHBvcnRlZCBjaGFydCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmV4cG9ydC5kZWZhdWx0SGVpZ2h0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdkZWZhdWx0V2lkdGgnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBkZWZhdWx0IGZhbGxiYWNrIHdpZHRoIG9mIHRoZSBleHBvcnRlZCBjaGFydCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmV4cG9ydC5kZWZhdWx0V2lkdGgudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ2RlZmF1bHRTY2FsZScsXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgZmFsbGJhY2sgc2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuZXhwb3J0LmRlZmF1bHRTY2FsZS52YWx1ZSxcbiAgICAgIG1pbjogMC4xLFxuICAgICAgbWF4OiA1XG4gICAgfVxuICBdLFxuICBjdXN0b21Db2RlOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnYWxsb3dDb2RlRXhlY3V0aW9uJyxcbiAgICAgIG1lc3NhZ2U6ICdBbGxvdyB0byBleGVjdXRlIGN1c3RvbSBjb2RlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuY3VzdG9tQ29kZS5hbGxvd0NvZGVFeGVjdXRpb24udmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ2FsbG93RmlsZVJlc291cmNlcycsXG4gICAgICBtZXNzYWdlOiAnQWxsb3cgZmlsZSByZXNvdXJjZXMnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcy52YWx1ZVxuICAgIH1cbiAgXSxcbiAgc2VydmVyOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnZW5hYmxlJyxcbiAgICAgIG1lc3NhZ2U6ICdTdGFydHMgYSBzZXJ2ZXIgb24gMC4wLjAuMCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5lbmFibGUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIG5hbWU6ICdob3N0JyxcbiAgICAgIG1lc3NhZ2U6ICdBIGhvc3RuYW1lIG9mIGEgc2VydmVyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLmhvc3QudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ3BvcnQnLFxuICAgICAgbWVzc2FnZTogJ0EgcG9ydCBvZiBhIHNlcnZlcicsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5wb3J0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdzc2wuZW5hYmxlJyxcbiAgICAgIG1lc3NhZ2U6ICdFbmFibGUgU1NMIHByb3RvY29sJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5lbmFibGUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ3NzbC5mb3JjZScsXG4gICAgICBtZXNzYWdlOiAnRm9yY2UgdG8gb25seSBzZXJ2ZSBvdmVyIEhUVFBTJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5mb3JjZS52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnc3NsLnBvcnQnLFxuICAgICAgbWVzc2FnZTogJ1BvcnQgb24gd2hpY2ggdG8gcnVuIHRoZSBTU0wgc2VydmVyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5wb3J0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAnc3NsLmNlcnRQYXRoJyxcbiAgICAgIG1lc3NhZ2U6ICdBIHBhdGggd2hlcmUgdG8gZmluZCB0aGUgU1NMIGNlcnRpZmljYXRlL2tleScsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5zc2wuY2VydFBhdGgudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5lbmFibGUnLFxuICAgICAgbWVzc2FnZTogJ0VuYWJsZSByYXRlIGxpbWl0aW5nJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5lbmFibGUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cycsXG4gICAgICBtZXNzYWdlOiAnTWF4IHJlcXVlc3RzIGFsbG93ZWQgaW4gYSBvbmUgbWludXRlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLndpbmRvdycsXG4gICAgICBtZXNzYWdlOiAnVGhlIHRpbWUgd2luZG93IGluIG1pbnV0ZXMgZm9yIHJhdGUgbGltaXRpbmcnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLndpbmRvdy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLmRlbGF5JyxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdUaGUgYW1vdW50IHRvIGRlbGF5IGVhY2ggc3VjY2Vzc2l2ZSByZXF1ZXN0IGJlZm9yZSBoaXR0aW5nIHRoZSBtYXgnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLmRlbGF5LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcudHJ1c3RQcm94eScsXG4gICAgICBtZXNzYWdlOiAnU2V0IHRoaXMgdG8gdHJ1ZSBpZiBiZWhpbmQgYSBsb2FkIGJhbGFuY2VyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy50cnVzdFByb3h5LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLnNraXBLZXknLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ0FsbG93cyBieXBhc3NpbmcgdGhlIHJhdGUgbGltaXRlciBhbmQgc2hvdWxkIGJlIHByb3ZpZGVkIHdpdGggc2tpcFRva2VuIGFyZ3VtZW50JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5za2lwS2V5LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLnNraXBUb2tlbicsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnQWxsb3dzIGJ5cGFzc2luZyB0aGUgcmF0ZSBsaW1pdGVyIGFuZCBzaG91bGQgYmUgcHJvdmlkZWQgd2l0aCBza2lwS2V5IGFyZ3VtZW50JyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5za2lwVG9rZW4udmFsdWVcbiAgICB9XG4gIF0sXG4gIHBvb2w6IFtcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdpbml0aWFsV29ya2VycycsXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBpbml0aWFsIHdvcmtlcnMgdG8gc3Bhd24nLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmluaXRpYWxXb3JrZXJzLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdtYXhXb3JrZXJzJyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgbnVtYmVyIG9mIG1heCB3b3JrZXJzIHRvIHNwYXduJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5tYXhXb3JrZXJzLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICd3b3JrTGltaXQnLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1RoZSBwaWVjZXMgb2Ygd29yayB0aGF0IGNhbiBiZSBwZXJmb3JtZWQgYmVmb3JlIHJlc3RhcnRpbmcgYSBwdXBwZXRlZXIgcHJvY2VzcycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wud29ya0xpbWl0LnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIG5hbWU6ICdxdWV1ZVNpemUnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBzaXplIG9mIHRoZSByZXF1ZXN0IG92ZXJmbG93IHF1ZXVlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5xdWV1ZVNpemUudmFsdWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgbmFtZTogJ3RpbWVvdXRUaHJlc2hvbGQnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBudW1iZXIgb2Ygc2Vjb25kcyBiZWZvcmUgdGltaW5nIG91dCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wudGltZW91dFRocmVzaG9sZC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnYWNxdWlyZVRpbWVvdXQnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGFjcXVpcmluZyBhIHJlc291cmNlJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5hY3F1aXJlVGltZW91dC52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAncmVhcGVyJyxcbiAgICAgIG1lc3NhZ2U6ICdUaGUgcmVhcGVyIHRvIHJlbW92ZSBoYW5naW5nIHByb2Nlc3NlcycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wucmVhcGVyLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdiZW5jaG1hcmtpbmcnLFxuICAgICAgbWVzc2FnZTogJ1NldCBiZW5jaG1hcmtpbmcnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmJlbmNobWFya2luZy52YWx1ZVxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnbGlzdGVuVG9Qcm9jZXNzRXhpdHMnLFxuICAgICAgbWVzc2FnZTogJ1NldCB0byBmYWxzZSBpbiBvcmRlciB0byBza2lwIGF0dGFjaGluZyBwcm9jZXNzLmV4aXQgaGFuZGxlcnMnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmxpc3RlblRvUHJvY2Vzc0V4aXRzLnZhbHVlXG4gICAgfVxuICBdLFxuICBsb2dnaW5nOiBbXG4gICAge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBuYW1lOiAnbGV2ZWwnLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1RoZSBsb2cgbGV2ZWwgKDA6IHNpbGVudCwgMTogZXJyb3IsIDI6IHdhcm5pbmcsIDM6IG5vdGljZSwgNDogdmVyYm9zZSknLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmxldmVsLnZhbHVlLFxuICAgICAgcm91bmQ6IDAsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDRcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIG5hbWU6ICdmaWxlJyxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdBIG5hbWUgb2YgYSBsb2cgZmlsZS4gVGhlIC0tbG9nRGVzdCBhbHNvIG5lZWRzIHRvIGJlIHNldCB0byBlbmFibGUgZmlsZSBsb2dnaW5nJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcubG9nZ2luZy5maWxlLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAnZGVzdCcsXG4gICAgICBtZXNzYWdlOiAnQSBwYXRoIHRvIGxvZyBmaWxlcy4gSXQgZW5hYmxlcyBmaWxlIGxvZ2dpbmcnLFxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmRlc3QudmFsdWVcbiAgICB9XG4gIF0sXG4gIHVpOiBbXG4gICAge1xuICAgICAgdHlwZTogJ3RvZ2dsZScsXG4gICAgICBuYW1lOiAnZW5hYmxlJyxcbiAgICAgIG1lc3NhZ2U6ICdFbmFibGUgVUkgZm9yIHRoZSBleHBvcnQgc2VydmVyJyxcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcudWkuZW5hYmxlLnZhbHVlXG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBuYW1lOiAncm91dGUnLFxuICAgICAgbWVzc2FnZTogJ0Egcm91dGUgdG8gYXR0YWNoIHRoZSBVSSB0bycsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnVpLnJvdXRlLnZhbHVlXG4gICAgfVxuICBdLFxuICBvdGhlcjogW1xuICAgIHtcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxuICAgICAgbmFtZTogJ25vTG9nbycsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnU2tpcCBwcmludGluZyB0aGUgbG9nbyBvbiBhIHN0YXJ0dXAuIFdpbGwgYmUgcmVwbGFjZWQgYnkgYSBzaW1wbGUgdGV4dCcsXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLm90aGVyLm5vTG9nby52YWx1ZVxuICAgIH1cbiAgXVxufTtcblxuLy8gQWJzb2x1dGUgcHJvcHMgdGhhdCwgaW4gY2FzZSBvZiBtZXJnaW5nIHJlY3Vyc2l2ZWx5LCBuZWVkIHRvIGJlIGZvcmNlIG1lcmdlZFxuZXhwb3J0IGNvbnN0IGFic29sdXRlUHJvcHMgPSBbXG4gICdvcHRpb25zJyxcbiAgJ2dsb2JhbE9wdGlvbnMnLFxuICAndGhlbWVPcHRpb25zJyxcbiAgJ3Jlc291cmNlcycsXG4gICdwYXlsb2FkJ1xuXTtcblxuLy8gQXJndW1lbnQgbmVzdGluZyBsZXZlbCBvZiBhbGwgZXhwb3J0IHNlcnZlciBvcHRpb25zXG5leHBvcnQgY29uc3QgbmVzdGVkQXJncyA9IHt9O1xuXG4vKipcbiAqIENyZWF0ZXMgbmVzdGVkIGFyZ3VtZW50cyBjaGFpbiBmb3IgYWxsIG9wdGlvbnNcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gVGhlIG9iamVjdCBiYXNlZCBvbiB3aGljaCB0aGUgaW5pdGlhbCBjb25maWd1cmF0aW9uIGJlXG4gKiBtYWRlLlxuICogQHBhcmFtIHtzdHJpbmcgfSBwcm9wQ2hhaW4gLSBSZXF1aXJlZCBmb3IgY3JlYXRpbmcgYSBzdHJpbmcgY2hhaW4gb2ZcbiAqIHByb3BlcnRpZXMgZm9yIG5lc3RlZCBhcmd1bWVudHMuXG4gKi9cbmNvbnN0IGNyZWF0ZU5lc3RlZEFyZ3MgPSAob2JqLCBwcm9wQ2hhaW4gPSAnJykgPT4ge1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goKGspID0+IHtcbiAgICBpZiAoIVsncHVwcGV0ZWVyJywgJ2hpZ2hjaGFydHMnXS5pbmNsdWRlcyhrKSkge1xuICAgICAgY29uc3QgZW50cnkgPSBvYmpba107XG4gICAgICBpZiAodHlwZW9mIGVudHJ5LnZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBHbyBkZWVwZXIgaW4gdGhlIG5lc3RlZCBhcmd1bWVudHNcbiAgICAgICAgY3JlYXRlTmVzdGVkQXJncyhlbnRyeSwgYCR7cHJvcENoYWlufS4ke2t9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgdGhlIGNoYWluIG9mIG5lc3RlZCBhcmd1bWVudHNcbiAgICAgICAgbmVzdGVkQXJnc1tlbnRyeS5jbGlOYW1lIHx8IGtdID0gYCR7cHJvcENoYWlufS4ke2t9YC5zdWJzdHJpbmcoMSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbmNyZWF0ZU5lc3RlZEFyZ3MoZGVmYXVsdENvbmZpZyk7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgYXBwZW5kRmlsZSwgZXhpc3RzU3luYywgbWtkaXJTeW5jIH0gZnJvbSAnZnMnO1xuXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi9zY2hlbWFzL2NvbmZpZy5qcyc7XG5cbi8vIFRoZSBkZWZhdWx0IGxvZ2dpbmcgY29uZmlnXG5sZXQgbG9nZ2luZyA9IHtcbiAgLy8gRmxhZ3MgZm9yIGxvZ2dpbmcgc3RhdHVzXG4gIHRvQ29uc29sZTogdHJ1ZSxcbiAgdG9GaWxlOiBmYWxzZSxcbiAgcGF0aENyZWF0ZWQ6IGZhbHNlLFxuICAvLyBMb2cgbGV2ZWxzXG4gIGxldmVsc0Rlc2M6IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ2Vycm9yJyxcbiAgICAgIGNvbG9yOiAncmVkJ1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICd3YXJuaW5nJyxcbiAgICAgIGNvbG9yOiAneWVsbG93J1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdub3RpY2UnLFxuICAgICAgY29sb3I6ICdibHVlJ1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICd2ZXJib3NlJyxcbiAgICAgIGNvbG9yOiAnZ3JheSdcbiAgICB9XG4gIF0sXG4gIC8vIExvZyBsaXN0ZW5lcnNcbiAgbGlzdGVuZXJzOiBbXVxufTtcblxuLy8gR2F0aGVyIGluaXQgbG9nZ2luZyBvcHRpb25zXG5mb3IgKGNvbnN0IFtrZXksIG9wdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoZGVmYXVsdENvbmZpZy5sb2dnaW5nKSkge1xuICBsb2dnaW5nW2tleV0gPSBvcHRpb24udmFsdWU7XG59XG5cbi8qKlxuICogTG9ncyBhIG1lc3NhZ2UuIEFjY2VwdHMgYSB2YXJpYWJsZSBhbW91bnQgb2YgYXJndW1lbnRzLiBBcmd1bWVudHMgYWZ0ZXJcbiAqIGBsZXZlbGAgd2lsbCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gY29uc29sZS5sb2csIGFuZC9vciB3aWxsIGJlIGpvaW5lZFxuICogYW5kIGFwcGVuZGVkIHRvIHRoZSBsb2cgZmlsZS5cbiAqXG4gKiBAcGFyYW0ge2FueX0gYXJncyAtIEFuIGFycmF5IG9mIGFyZ3VtZW50cyB3aGVyZSB0aGUgZmlyc3QgaXMgdGhlIGxvZyBsZXZlbFxuICogYW5kIHRoZSByZXN0IGFyZSBzdHJpbmdzIHRvIGJ1aWxkIGEgbWVzc2FnZSB3aXRoLlxuICovXG5leHBvcnQgY29uc3QgbG9nID0gKC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgW25ld0xldmVsLCAuLi50ZXh0c10gPSBhcmdzO1xuXG4gIC8vIEN1cnJlbnQgbG9nZ2luZyBvcHRpb25zXG4gIGNvbnN0IHsgbGV2ZWwsIGxldmVsc0Rlc2MgfSA9IGxvZ2dpbmc7XG5cbiAgLy8gQ2hlY2sgaWYgbG9nIGxldmVsIGlzIHdpdGhpbiBhIGNvcnJlY3QgcmFuZ2VcbiAgaWYgKG5ld0xldmVsID09PSAwIHx8IG5ld0xldmVsID4gbGV2ZWwgfHwgbGV2ZWwgPiBsZXZlbHNEZXNjLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEdldCByaWQgb2YgdGhlIEdNVCB0ZXh0IGluZm9ybWF0aW9uXG4gIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkuc3BsaXQoJygnKVswXS50cmltKCk7XG5cbiAgLy8gQ3JlYXRlIGEgbWVzc2FnZSdzIHByZWZpeFxuICBjb25zdCBwcmVmaXggPSBgJHtuZXdEYXRlfSBbJHtsZXZlbHNEZXNjW25ld0xldmVsIC0gMV0udGl0bGV9XSAtYDtcblxuICAvLyBDYWxsIGF2YWlsYWJsZSBsb2cgbGlzdGVuZXJzXG4gIGxvZ2dpbmcubGlzdGVuZXJzLmZvckVhY2goKGZuKSA9PiB7XG4gICAgZm4ocHJlZml4LCB0ZXh0cy5qb2luKCcgJykpO1xuICB9KTtcblxuICAvLyBMb2cgdG8gZmlsZVxuICBpZiAobG9nZ2luZy50b0ZpbGUpIHtcbiAgICBpZiAoIWxvZ2dpbmcucGF0aENyZWF0ZWQpIHtcbiAgICAgIC8vIENyZWF0ZSBpZiBkb2VzIG5vdCBleGlzdFxuICAgICAgIWV4aXN0c1N5bmMobG9nZ2luZy5kZXN0KSAmJiBta2RpclN5bmMobG9nZ2luZy5kZXN0KTtcblxuICAgICAgLy8gV2Ugbm93IGFzc3VtZSB0aGUgcGF0aCBpcyBhdmFpbGFibGUsIGUuZy4gaXQncyB0aGUgcmVzcG9uc2liaWxpdHlcbiAgICAgIC8vIG9mIHRoZSB1c2VyIHRvIGNyZWF0ZSB0aGUgcGF0aCB3aXRoIHRoZSBjb3JyZWN0IGFjY2VzcyByaWdodHMuXG4gICAgICBsb2dnaW5nLnBhdGhDcmVhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGNvbnRlbnQgdG8gYSBmaWxlXG4gICAgYXBwZW5kRmlsZShcbiAgICAgIGAke2xvZ2dpbmcuZGVzdH0ke2xvZ2dpbmcuZmlsZX1gLFxuICAgICAgW3ByZWZpeF0uY29uY2F0KHRleHRzKS5qb2luKCcgJykgKyAnXFxuJyxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW2xvZ2dlcl0gVW5hYmxlIHRvIHdyaXRlIHRvIGxvZyBmaWxlOiAke2Vycm9yfWApO1xuICAgICAgICAgIGxvZ2dpbmcudG9GaWxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLy8gTG9nIHRvIGNvbnNvbGVcbiAgaWYgKGxvZ2dpbmcudG9Db25zb2xlKSB7XG4gICAgY29uc29sZS5sb2cuYXBwbHkoXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBbcHJlZml4LnRvU3RyaW5nKClbbG9nZ2luZy5sZXZlbHNEZXNjW25ld0xldmVsIC0gMV0uY29sb3JdXS5jb25jYXQodGV4dHMpXG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBmaWxlIGxvZ2dpbmcgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9nRGVzdCAtIEEgcGF0aCB0byBsb2cgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9nRmlsZSAtIFRoZSBuYW1lIG9mIHRoZSBsb2cgZmlsZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGVuYWJsZUZpbGVMb2dnaW5nID0gKGxvZ0Rlc3QsIGxvZ0ZpbGUpID0+IHtcbiAgLy8gVXBkYXRlIGxvZ2dpbmcgb3B0aW9uc1xuICBsb2dnaW5nID0ge1xuICAgIC4uLmxvZ2dpbmcsXG4gICAgZGVzdDogbG9nRGVzdCB8fCBsb2dnaW5nLmRlc3QsXG4gICAgZmlsZTogbG9nRmlsZSB8fCBsb2dnaW5nLmZpbGUsXG4gICAgdG9GaWxlOiB0cnVlXG4gIH07XG5cbiAgaWYgKGxvZ2dpbmcuZGVzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbG9nKDEsICdbbG9nZ2VyXSBGaWxlIGxvZ2dpbmcgaW5pdDogbm8gcGF0aCBzdXBwbGllZC4nKTtcbiAgfVxuXG4gIGlmICghbG9nZ2luZy5kZXN0LmVuZHNXaXRoKCcvJykpIHtcbiAgICBsb2dnaW5nLmRlc3QgKz0gJy8nO1xuICB9XG59O1xuXG4vKipcbiAqIEFkZHMgYSBsb2cgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGdldHRpbmcgYSBsb2cgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBsaXN0ZW4gPSAoZm4pID0+IHtcbiAgbG9nZ2luZy5saXN0ZW5lcnMucHVzaChmbik7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgbG9nIGxldmVsLiBMb2cgbGV2ZWxzIGFyZTpcbiAqIC0gMCA9IG5vIGxvZ2dpbmdcbiAqIC0gMSA9IGVycm9yXG4gKiAtIDIgPSB3YXJuaW5nXG4gKiAtIDMgPSBub3RpY2VcbiAqIC0gNCA9IHZlcmJvc2VcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3TGV2ZWwgLSBUaGUgbmV3IGxvZyBsZXZlbCAoMCAtIDQpLlxuICovXG5leHBvcnQgY29uc3Qgc2V0TG9nTGV2ZWwgPSAobmV3TGV2ZWwpID0+IHtcbiAgaWYgKG5ld0xldmVsID49IDAgJiYgbmV3TGV2ZWwgPD0gbG9nZ2luZy5sZXZlbHNEZXNjLmxlbmd0aCkge1xuICAgIGxvZ2dpbmcubGV2ZWwgPSBuZXdMZXZlbDtcbiAgfVxufTtcblxuLyoqXG4gKiBFbmFibGVzIG9yIGRpc2FibGVzIGxvZ2dpbmcgdG8gdGhlIHN0ZG91dC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgLSBXaGV0aGVyIGxvZyB0byBjb25zb2xlIG9yIG5vdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvZ2dsZVNURE91dCA9IChlbmFibGVkKSA9PiB7XG4gIGxvZ2dpbmcudG9Db25zb2xlID0gZW5hYmxlZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbG9nLFxuICBlbmFibGVGaWxlTG9nZ2luZyxcbiAgbGlzdGVuLFxuICBzZXRMb2dMZXZlbCxcbiAgdG9nZ2xlU1RET3V0XG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tICd1cmwnO1xuXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vbGliL3NjaGVtYXMvY29uZmlnLmpzJztcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcblxuY29uc3QgTUFYX0JBQ0tPRkZfQVRURU1QVFMgPSA2O1xuXG5leHBvcnQgY29uc3QgX19kaXJuYW1lID0gZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuLi8uJywgaW1wb3J0Lm1ldGEudXJsKSk7XG5cbi8qKlxuICogQ2xlYXJzIHRleHQgZnJvbSB3aGl0ZXNwYWNlcyB3aXRoIGEgcmVnZXggcnVsZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcnVsZSAtIFRoZSBydWxlIGZvciBjbGVhcmluZyBhIHN0cmluZywgZGVmYXVsdCB0byAvXFxzXFxzKy9nLlxuICogQHJldHVybiB7c3RyaW5nfSAtIENsZWFyZWQgdGV4dC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFyVGV4dCA9ICh0ZXh0LCBydWxlID0gL1xcc1xccysvZywgcmVwbGFjZXIgPSAnICcpID0+XG4gIHRleHQucmVwbGFjZUFsbChydWxlLCByZXBsYWNlcikudHJpbSgpO1xuXG4vKipcbiAqIERlbGF5cyBjYWxsaW5nIHRoZSBmdW5jdGlvbiBieSB0aW1lIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGJhY2tvZmZcbiAqIGFsZ29yaXRobS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEEgZnVuY3Rpb24gdG8gdHJ5IHRvIGNhbGwgd2l0aCB0aGUgYmFja29mZiBhbGdvcml0aG1cbiAqIG9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGF0dGVtcHQgLSBUaGUgbnVtYmVyIG9mIGFuIGF0dGVtcHQsIHdoZXJlIHRoZSBmaXJzdCBvbmUgaXMgMC5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4cEJhY2tvZmYgPSBhc3luYyAoZm4sIGF0dGVtcHQgPSAwLCAuLi5hcmdzKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gVHJ5IHRvIGNhbGwgdGhlIGZ1bmN0aW9uXG4gICAgcmV0dXJuIGF3YWl0IGZuKC4uLmFyZ3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIENhbGN1bGF0ZSBkZWxheSBpbiBtc1xuICAgIGNvbnN0IGRlbGF5SW5NcyA9IDIgKiogYXR0ZW1wdCAqIDEwMDA7XG5cbiAgICAvLyBJZiB0aGUgYXR0ZW1wdCBleGNlZWRzIHRoZSBtYXhpbXVtIGF0dGVtcHRzIG9mIHJlYXBlYXQsIHRocm93IGFuIGVycm9yXG4gICAgaWYgKCsrYXR0ZW1wdCA+PSBNQVhfQkFDS09GRl9BVFRFTVBUUykge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgLy8gV2FpdCBnaXZlbiBhbW91bnQgb2YgdGltZVxuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNwb25zZSkgPT4gc2V0VGltZW91dChyZXNwb25zZSwgZGVsYXlJbk1zKSk7XG4gICAgbG9nKFxuICAgICAgMyxcbiAgICAgIGBbcG9vbF0gV2FpdGVkICR7ZGVsYXlJbk1zfW1zIHVudGlsIG5leHQgY2FsbCBmb3IgdGhlIHJlc291cmNlIGlkOiAke2FyZ3NbMF19LmBcbiAgICApO1xuXG4gICAgLy8gVHJ5IGFnYWluXG4gICAgcmV0dXJuIGV4cEJhY2tvZmYoZm4sIGF0dGVtcHQsIC4uLmFyZ3MpO1xuICB9XG59O1xuXG4vKipcbiAqIEZpeGVzIHRvIHN1cHBvcnRlZCB0eXBlIGZvcm1hdCBpZiBNSU1FLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVHlwZSB0byBiZSBjb3JyZWN0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3V0ZmlsZSAtIE5hbWUgb2YgdGhlIG91dGZpbGUuXG4gKi9cbmV4cG9ydCBjb25zdCBmaXhUeXBlID0gKHR5cGUsIG91dGZpbGUpID0+IHtcbiAgLy8gTUlNRSB0eXBlc1xuICBjb25zdCBtaW1lVHlwZXMgPSB7XG4gICAgJ2ltYWdlL3BuZyc6ICdwbmcnLFxuICAgICdpbWFnZS9qcGVnJzogJ2pwZWcnLFxuICAgICdhcHBsaWNhdGlvbi9wZGYnOiAncGRmJyxcbiAgICAnaW1hZ2Uvc3ZnK3htbCc6ICdzdmcnXG4gIH07XG5cbiAgLy8gRm9ybWF0c1xuICBjb25zdCBmb3JtYXRzID0gWydwbmcnLCAnanBlZycsICdwZGYnLCAnc3ZnJ107XG5cbiAgLy8gQ2hlY2sgaWYgdHlwZSBhbmQgb3V0ZmlsZSdzIGV4dGVuc2lvbnMgYXJlIHRoZSBzYW1lXG4gIGlmIChvdXRmaWxlKSB7XG4gICAgY29uc3Qgb3V0VHlwZSA9IG91dGZpbGUuc3BsaXQoJy4nKS5wb3AoKTtcblxuICAgIC8vIENoZWNrIGlmIGV4dGVuc2lvbiBoYXMgYSBjb3JyZWN0IHR5cGVcbiAgICBpZiAoZm9ybWF0cy5pbmNsdWRlcyhvdXRUeXBlKSAmJiB0eXBlICE9PSBvdXRUeXBlKSB7XG4gICAgICB0eXBlID0gb3V0VHlwZTtcbiAgICB9XG4gIH1cblxuICAvLyBSZXR1cm4gYSBjb3JyZWN0IHR5cGVcbiAgcmV0dXJuIG1pbWVUeXBlc1t0eXBlXSB8fCBmb3JtYXRzLmZpbmQoKHQpID0+IHQgPT09IHR5cGUpIHx8ICdwbmcnO1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIHRoZSBwcm92aWRlZCByZXNvdXJjZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlcyAtIFRoZSBzdHJpbmdpZmllZCByZXNvdXJjZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gYWxsb3dGaWxlUmVzb3VyY2VzIC0gRGVjaWRlIGlmIHJlc291cmNlcyBmcm9tIGZpbGUgYXJlXG4gKiBhbGxvd2VkLlxuICovXG5leHBvcnQgY29uc3QgaGFuZGxlUmVzb3VyY2VzID0gKHJlc291cmNlcyA9IGZhbHNlLCBhbGxvd0ZpbGVSZXNvdXJjZXMpID0+IHtcbiAgY29uc3QgYWxsb3dlZFByb3BzID0gWydqcycsICdjc3MnLCAnZmlsZXMnXTtcblxuICBsZXQgaGFuZGxlZFJlc291cmNlcyA9IHJlc291cmNlcztcbiAgbGV0IGNvcnJlY3RSZXNvdXJjZXMgPSBmYWxzZTtcblxuICAvLyBUcnkgdG8gbG9hZCByZXNvdXJjZXMgZnJvbSBhIGZpbGVcbiAgaWYgKGFsbG93RmlsZVJlc291cmNlcyAmJiByZXNvdXJjZXMuZW5kc1dpdGgoJy5qc29uJykpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFyZXNvdXJjZXMpIHtcbiAgICAgICAgaGFuZGxlZFJlc291cmNlcyA9IGlzQ29ycmVjdEpTT04oXG4gICAgICAgICAgcmVhZEZpbGVTeW5jKCdyZXNvdXJjZXMuanNvbicsICd1dGY4JylcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzb3VyY2VzICYmIHJlc291cmNlcy5lbmRzV2l0aCgnLmpzb24nKSkge1xuICAgICAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNDb3JyZWN0SlNPTihyZWFkRmlsZVN5bmMocmVzb3VyY2VzLCAndXRmOCcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKHJlc291cmNlcyk7XG4gICAgICAgIGlmIChoYW5kbGVkUmVzb3VyY2VzID09PSB0cnVlKSB7XG4gICAgICAgICAgaGFuZGxlZFJlc291cmNlcyA9IGlzQ29ycmVjdEpTT04oXG4gICAgICAgICAgICByZWFkRmlsZVN5bmMoJ3Jlc291cmNlcy5qc29uJywgJ3V0ZjgnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChub3RpY2UpIHtcbiAgICAgIHJldHVybiBsb2coMywgYFtjbGldIE5vIHJlc291cmNlcyBmb3VuZC5gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVHJ5IHRvIGdldCBKU09OXG4gICAgaGFuZGxlZFJlc291cmNlcyA9IGlzQ29ycmVjdEpTT04ocmVzb3VyY2VzKTtcblxuICAgIC8vIEdldCByaWQgb2YgdGhlIGZpbGVzIHNlY3Rpb25cbiAgICBpZiAoIWFsbG93RmlsZVJlc291cmNlcykge1xuICAgICAgZGVsZXRlIGhhbmRsZWRSZXNvdXJjZXMuZmlsZXM7XG4gICAgfVxuICB9XG5cbiAgLy8gRmlsdGVyIGZyb20gdW5uZWNlc3NhcnkgcHJvcGVydGllc1xuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGhhbmRsZWRSZXNvdXJjZXMpIHtcbiAgICBpZiAoIWFsbG93ZWRQcm9wcy5pbmNsdWRlcyhwcm9wTmFtZSkpIHtcbiAgICAgIGRlbGV0ZSBoYW5kbGVkUmVzb3VyY2VzW3Byb3BOYW1lXTtcbiAgICB9IGVsc2UgaWYgKCFjb3JyZWN0UmVzb3VyY2VzKSB7XG4gICAgICBjb3JyZWN0UmVzb3VyY2VzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBDaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgYWxsb3dlZCBwcm9wZXJ0aWVzIGlzIHByZXNlbnRcbiAgaWYgKCFjb3JyZWN0UmVzb3VyY2VzKSB7XG4gICAgcmV0dXJuIGxvZygzLCBgW2NsaV0gTm8gcmVzb3VyY2VzIGZvdW5kLmApO1xuICB9XG5cbiAgLy8gSGFuZGxlIGZpbGVzIHNlY3Rpb25cbiAgaWYgKGhhbmRsZWRSZXNvdXJjZXMuZmlsZXMpIHtcbiAgICBoYW5kbGVkUmVzb3VyY2VzLmZpbGVzID0gaGFuZGxlZFJlc291cmNlcy5maWxlcy5tYXAoKGl0ZW0pID0+IGl0ZW0udHJpbSgpKTtcbiAgICBpZiAoIWhhbmRsZWRSZXNvdXJjZXMuZmlsZXMgfHwgaGFuZGxlZFJlc291cmNlcy5maWxlcy5sZW5ndGggPD0gMCkge1xuICAgICAgZGVsZXRlIGhhbmRsZWRSZXNvdXJjZXMuZmlsZXM7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJuIHJlc291cmNlc1xuICByZXR1cm4gaGFuZGxlZFJlc291cmNlcztcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIHByb3ZpZGVkIGRhdGEgaXMgb3IgY2FuIGJlIGEgY29ycmVjdCBKU09OLlxuICpcbiAqIEBwYXJhbSB7YW55fSBkYXRhIC0gRGF0YSB0byBiZSBjaGVja2VkLlxuICogQHBhcmFtIHtib29sZWFufSB0b1N0cmluZyAtIElmIHRydWUsIHJldHVybiBzdHJpbmdpZmllZCByZXByZXNlbnRhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29ycmVjdEpTT04oZGF0YSwgdG9TdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBpZiBub3QgYWxyZWFkeSBiZWZvcmUgcGFyc2luZ1xuICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKFxuICAgICAgdHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBkYXRhXG4gICAgKTtcblxuICAgIC8vIFJldHVybiBhIHN0cmluZ2lmaWVkIHJlcHJlc2VudGF0aW9uIG9mIGEgSlNPTiBpZiByZXF1aXJlZFxuICAgIGlmICh0eXBlb2YgcGFyc2VkRGF0YSAhPT0gJ3N0cmluZycgJiYgdG9TdHJpbmcpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwYXJzZWREYXRhKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYSBKU09OXG4gICAgcmV0dXJuIHBhcnNlZERhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGl0ZW0gaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7YW55fSBpdGVtIC0gSXRlbSB0byBiZSBjaGVja2VkLlxuICovXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAoaXRlbSkgPT5cbiAgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGl0ZW0pICYmIGl0ZW0gIT09IG51bGw7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHN0cmluZyBjb250YWlucyBwcml2YXRlIHJhbmdlIHVybHMuXG4gKlxuICogQGV4cG9ydCB1dGlsc1xuICogQHBhcmFtIGl0ZW0ge3N0cmluZ30gaXRlbSB0byBiZSBjaGVja2VkXG4gKi9cbmV4cG9ydCBjb25zdCBpc1ByaXZhdGVSYW5nZVVybEZvdW5kID0gKGl0ZW0pID0+IHtcbiAgcmV0dXJuIFtcbiAgICAnbG9jYWxob3N0JyxcbiAgICAnKDEwKS4oLiopLiguKikuKC4qKScsXG4gICAgJygxMjcpLiguKikuKC4qKS4oLiopJyxcbiAgICAnKDE3MikuKDFbNi05XXwyWzAtOV18M1swLTFdKS4oLiopLiguKiknLFxuICAgICcoMTkyKS4oMTY4KS4oLiopLiguKiknXG4gIF0uc29tZSgoaXBSZWdFeCkgPT5cbiAgICBpdGVtLm1hdGNoKGB4bGluazpocmVmPVwiKD86KGh0dHA6Ly98aHR0cHM6Ly8pKT8ke2lwUmVnRXh9YClcbiAgKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGRlZXAgY29weSBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgLSBPYmplY3QgdG8gY29weS5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBEZWVwIGNvcHkgb2YgdGhlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZXBDb3B5ID0gKG9iaikgPT4ge1xuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGNvbnN0IGNvcHkgPSBBcnJheS5pc0FycmF5KG9iaikgPyBbXSA6IHt9O1xuXG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59O1xuXG4vKipcbiAqIFN0cmluZ2lmaWVzIG9iamVjdCB3aXRoIG9wdGlvbnMuIFBvc3NpYmxlIHRvIHByZXNlcnZlIGZ1bmN0aW9ucyB3aXRoXG4gKiBhbGxvd0Z1bmN0aW9ucyBmbGFnLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyB0byBzdHJpbmdpZnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93RnVuY3Rpb25zIC0gRmxhZyBmb3Iga2VlcGluZyBmdW5jdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBvcHRpb25zU3RyaW5naWZ5ID0gKG9wdGlvbnMsIGFsbG93RnVuY3Rpb25zKSA9PiB7XG4gIGNvbnN0IHJlcGxhY2VyQ2FsbGJhY2sgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG5cbiAgICAgIC8vIElmIGFsbG93RnVuY3Rpb25zIGlzIHNldCB0byB0cnVlLCBwcmVzZXJ2ZSBmdW5jdGlvbnNcbiAgICAgIGlmIChcbiAgICAgICAgKHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uKCcpIHx8IHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uICgnKSkgJiZcbiAgICAgICAgdmFsdWUuZW5kc1dpdGgoJ30nKVxuICAgICAgKSB7XG4gICAgICAgIHZhbHVlID0gYWxsb3dGdW5jdGlvbnNcbiAgICAgICAgICA/IGBFWFBfRlVOJHsodmFsdWUgKyAnJykucmVwbGFjZUFsbCgvXFxufFxcdHxcXHIvZywgJyAnKX1FWFBfRlVOYFxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcbiAgICAgID8gYEVYUF9GVU4keyh2YWx1ZSArICcnKS5yZXBsYWNlQWxsKC9cXG58XFx0fFxcci9nLCAnICcpfUVYUF9GVU5gXG4gICAgICA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIFN0cmluZ2lmeSBvcHRpb25zIGFuZCBpZiByZXF1aXJlZCwgcmVwbGFjZSBzcGVjaWFsIGZ1bmN0aW9ucyBtYXJrc1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgcmVwbGFjZXJDYWxsYmFjaykucmVwbGFjZUFsbChcbiAgICAvXCJFWFBfRlVOfEVYUF9GVU5cIi9nLFxuICAgICcnXG4gICk7XG59O1xuXG4vKipcbiAqIFByaW50cyB0aGUgZXhwb3J0IHNlcnZlciBsb2dvLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbm9Mb2dvIC0gV2hldGhlciB0byBkaXNwbGF5IGxvZ28gb3IgdGV4dC5cbiAqL1xuZXhwb3J0IGNvbnN0IHByaW50TG9nbyA9IChub0xvZ28pID0+IHtcbiAgLy8gR2V0IHBhY2thZ2UgdmVyc2lvbiBlaXRoZXIgZnJvbSBlbnYgb3IgZnJvbSBwYWNrYWdlLmpzb25cbiAgY29uc3QgcGFja2FnZVZlcnNpb24gPVxuICAgIHByb2Nlc3MuZW52Lm5wbV9wYWNrYWdlX3ZlcnNpb24gfHxcbiAgICBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhuZXcgVVJMKCcuLi9wYWNrYWdlLmpzb24nLCBpbXBvcnQubWV0YS51cmwpKSlcbiAgICAgIC52ZXJzaW9uO1xuXG4gIC8vIFByaW50IHRleHQgb25seVxuICBpZiAobm9Mb2dvKSB7XG4gICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIGhpZ2hjaGFydHMgZXhwb3J0IHNlcnZlciB2JHtwYWNrYWdlVmVyc2lvbn0uLi5gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBQcmludCB0aGUgbG9nb1xuICBjb25zb2xlLmxvZyhcbiAgICByZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy9tc2cvc3RhcnR1cC5tc2cnKS50b1N0cmluZygpLmJvbGQueWVsbG93LFxuICAgIGB2JHtwYWNrYWdlVmVyc2lvbn1gXG4gICk7XG59O1xuXG4vKipcbiAqIFByaW50cyB0aGUgQ0xJIHVzYWdlLiBJZiByZXF1aXJlZCwgaXQgY2FuIGxpc3QgcHJvcGVydGllcyByZWN1cnNpdmVseVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRVc2FnZSgpIHtcbiAgY29uc3QgcGFkID0gNDg7XG4gIGNvbnN0IHJlYWRtZSA9ICdodHRwczovL2dpdGh1Yi5jb20vaGlnaGNoYXJ0cy9ub2RlLWV4cG9ydC1zZXJ2ZXIjcmVhZG1lJztcblxuICAvLyBEaXNwbGF5IHJlYWRtZSBpbmZvcm1hdGlvblxuICBjb25zb2xlLmxvZyhcbiAgICAnVXNhZ2Ugb2YgQ0xJIGFyZ3VtZW50czonLmJvbGQsXG4gICAgJ1xcbi0tLS0tLScsXG4gICAgYFxcbkZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIHZpc2l0IHJlYWRtZSBhdDogJHtyZWFkbWUuYm9sZC55ZWxsb3d9LmBcbiAgKTtcblxuICBjb25zdCBjeWNsZUNhdGVnb3JpZXMgPSAoY2F0ZWdvcmllcykgPT4ge1xuICAgIGZvciAoY29uc3QgW25hbWUsIG9wdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoY2F0ZWdvcmllcykpIHtcbiAgICAgIC8vIElmIGNhdGVnb3J5IGhhcyBtb3JlIGxldmVscywgZ28gZnVydGhlclxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9uLCAndmFsdWUnKSkge1xuICAgICAgICBjeWNsZUNhdGVnb3JpZXMob3B0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkZXNjTmFtZSA9IGAgIC0tJHtvcHRpb24uY2xpTmFtZSB8fCBuYW1lfSAke1xuICAgICAgICAgICgnPCcgKyBvcHRpb24udHlwZSArICc+JykuZ3JlZW5cbiAgICAgICAgfSBgO1xuICAgICAgICBpZiAoZGVzY05hbWUubGVuZ3RoIDwgcGFkKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IGRlc2NOYW1lLmxlbmd0aDsgaSA8IHBhZDsgaSsrKSB7XG4gICAgICAgICAgICBkZXNjTmFtZSArPSAnLic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzcGxheSBjb3JyZWN0bHkgYWxpZ25lZCBtZXNzYWdlc1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBkZXNjTmFtZSxcbiAgICAgICAgICBvcHRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgYFtEZWZhdWx0OiAke29wdGlvbi52YWx1ZS50b1N0cmluZygpLmJvbGR9XWAuYmx1ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBDeWNsZSB0aHJvdWdoIG9wdGlvbnMgb2YgZWFjaCBjYXRlZ29yaWVzIGFuZCBkaXNwbGF5IHRoZSB1c2FnZSBpbmZvXG4gIE9iamVjdC5rZXlzKGRlZmF1bHRDb25maWcpLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgLy8gT25seSBwdXBwZXRlZXIgYW5kIGhpZ2hjaGFydHMgY2F0ZWdvcmllcyBjYW5ub3QgYmUgY29uZmlndXJlZCB0aHJvdWdoIENMSVxuICAgIGlmICghWydwdXBwZXRlZXInLCAnaGlnaGNoYXJ0cyddLmluY2x1ZGVzKGNhdGVnb3J5KSkge1xuICAgICAgY29uc29sZS5sb2coYFxcbiR7Y2F0ZWdvcnkudG9VcHBlckNhc2UoKX1gLnJlZCk7XG4gICAgICBjeWNsZUNhdGVnb3JpZXMoZGVmYXVsdENvbmZpZ1tjYXRlZ29yeV0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnNvbGUubG9nKCdcXG4nKTtcbn1cblxuLyoqXG4gKiBSb3VuZHMgbnVtYmVyIHRvIHBhc3NlZCBwcmVjaXNpb24uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gTnVtYmVyIHRvIHJvdW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIEEgcHJlY2lzaW9uIG9mIHJvdW5kaW5nLlxuICovXG5leHBvcnQgY29uc3Qgcm91bmROdW1iZXIgPSAodmFsdWUsIHByZWNpc2lvbiA9IDEpID0+IHtcbiAgY29uc3QgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gfHwgMCk7XG4gIHJldHVybiBNYXRoLnJvdW5kKCt2YWx1ZSAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcbn07XG5cbi8qKlxuICogQ2FzdHMgdGhlIGl0ZW0gdG8gYm9vbGVhbi5cbiAqXG4gKiBAcGFyYW0ge2FueX0gaXRlbSAtIEl0ZW0gdG8gYmUgY2FzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvQm9vbGVhbiA9IChpdGVtKSA9PlxuICBbJ2ZhbHNlJywgJ3VuZGVmaW5lZCcsICdudWxsJywgJ05hTicsICcwJywgJyddLmluY2x1ZGVzKGl0ZW0pXG4gICAgPyBmYWxzZVxuICAgIDogISFpdGVtO1xuXG4vKipcbiAqIElmIG5lY2Vzc2FyeSwgcGxhY2VzIGEgY3VzdG9tIGNvZGUgaW5zaWRlIGEgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHthbnl9IGN1c3RvbUNvZGUgLSBUaGUgY3VzdG9tQ29kZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXBBcm91bmQgPSAoY3VzdG9tQ29kZSwgYWxsb3dGaWxlUmVzb3VyY2VzKSA9PiB7XG4gIGlmIChjdXN0b21Db2RlICYmIHR5cGVvZiBjdXN0b21Db2RlID09PSAnc3RyaW5nJykge1xuICAgIGN1c3RvbUNvZGUgPSBjdXN0b21Db2RlLnRyaW0oKTtcblxuICAgIGlmIChjdXN0b21Db2RlLmVuZHNXaXRoKCcuanMnKSkge1xuICAgICAgcmV0dXJuIGFsbG93RmlsZVJlc291cmNlc1xuICAgICAgICA/IHdyYXBBcm91bmQocmVhZEZpbGVTeW5jKGN1c3RvbUNvZGUsICd1dGY4JykpXG4gICAgICAgIDogZmFsc2U7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnZnVuY3Rpb24oKScpIHx8XG4gICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uICgpJykgfHxcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnKCk9PicpIHx8XG4gICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJygpID0+JylcbiAgICApIHtcbiAgICAgIHJldHVybiBgKCR7Y3VzdG9tQ29kZX0pKClgO1xuICAgIH1cbiAgICByZXR1cm4gY3VzdG9tQ29kZS5yZXBsYWNlKC87JC8sICcnKTtcbiAgfVxufTtcblxuLyoqXG4gKiBVdGlsaXR5IHRvIG1lYXN1cmUgdGltZS5cbiAqL1xuZXhwb3J0IGNvbnN0IG1lYXN1cmVUaW1lID0gKCkgPT4ge1xuICBjb25zdCBzdGFydCA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xuICByZXR1cm4gKCkgPT4gTnVtYmVyKHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpIC0gc3RhcnQpIC8gMTAwMDAwMDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kaXJuYW1lLFxuICBjbGVhclRleHQsXG4gIGV4cEJhY2tvZmYsXG4gIGZpeFR5cGUsXG4gIGhhbmRsZVJlc291cmNlcyxcbiAgaXNDb3JyZWN0SlNPTixcbiAgaXNPYmplY3QsXG4gIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQsXG4gIG9wdGlvbnNTdHJpbmdpZnksXG4gIHByaW50TG9nbyxcbiAgcHJpbnRVc2FnZSxcbiAgcm91bmROdW1iZXIsXG4gIHRvQm9vbGVhbixcbiAgd3JhcEFyb3VuZCxcbiAgbWVhc3VyZVRpbWVcbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHJhdGVMaW1pdCBmcm9tICdleHByZXNzLXJhdGUtbGltaXQnO1xuXG5pbXBvcnQgeyBjbGVhclRleHQgfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi9sb2dnZXIuanMnO1xuXG4vKipcbiAqIEVuYWJsZXMgcmF0ZSBsaW1pdGluZyBmb3IgYSBnaXZlbiBhcHAuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGFwcCAtIFRoZSBleHByZXNzIGFwcC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBsaW1pdENvbmZpZyAtIFRoZSBvcHRpb25zIGZvciB0aGUgcmF0ZSBsaW1pdGluZy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGFwcCwgbGltaXRDb25maWcpID0+IHtcbiAgY29uc3QgbXNnID1cbiAgICAnVG9vIG1hbnkgcmVxdWVzdHMsIHlvdSBoYXZlIGJlZW4gcmF0ZSBsaW1pdGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLic7XG5cbiAgLy8gT3B0aW9ucyBmb3IgdGhlIHJhdGUgbGltaXRlclxuICBjb25zdCByYXRlT3B0aW9ucyA9IHtcbiAgICBtYXg6IGxpbWl0Q29uZmlnLm1heFJlcXVlc3RzIHx8IDMwLFxuICAgIHdpbmRvdzogbGltaXRDb25maWcud2luZG93IHx8IDEsXG4gICAgZGVsYXk6IGxpbWl0Q29uZmlnLmRlbGF5IHx8IDAsXG4gICAgdHJ1c3RQcm94eTogbGltaXRDb25maWcudHJ1c3RQcm94eSB8fCBmYWxzZSxcbiAgICBza2lwS2V5OiBsaW1pdENvbmZpZy5za2lwS2V5IHx8IGZhbHNlLFxuICAgIHNraXBUb2tlbjogbGltaXRDb25maWcuc2tpcFRva2VuIHx8IGZhbHNlXG4gIH07XG5cbiAgLy8gU2V0IGlmIGJlaGluZCBhIHByb3h5XG4gIGlmIChyYXRlT3B0aW9ucy50cnVzdFByb3h5KSB7XG4gICAgYXBwLmVuYWJsZSgndHJ1c3QgcHJveHknKTtcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIGxpbWl0ZXJcbiAgY29uc3QgbGltaXRlciA9IHJhdGVMaW1pdCh7XG4gICAgd2luZG93TXM6IHJhdGVPcHRpb25zLndpbmRvdyAqIDYwICogMTAwMCxcbiAgICAvLyBMaW1pdCBlYWNoIElQIHRvIDEwMCByZXF1ZXN0cyBwZXIgd2luZG93TXNcbiAgICBtYXg6IHJhdGVPcHRpb25zLm1heCxcbiAgICAvLyBEaXNhYmxlIGRlbGF5aW5nLCBmdWxsIHNwZWVkIHVudGlsIHRoZSBtYXggbGltaXQgaXMgcmVhY2hlZFxuICAgIGRlbGF5TXM6IHJhdGVPcHRpb25zLmRlbGF5LFxuICAgIGhhbmRsZXI6IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICAgICAgcmVzcG9uc2UuZm9ybWF0KHtcbiAgICAgICAganNvbjogKCkgPT4ge1xuICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyg0MjkpLnNlbmQoeyBtZXNzYWdlOiBtc2cgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgICByZXNwb25zZS5zdGF0dXMoNDI5KS5zZW5kKG1zZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgc2tpcDogKHJlcXVlc3QpID0+IHtcbiAgICAgIC8vIEFsbG93IGJ5cGFzc2luZyB0aGUgbGltaXRlciBpZiBhIHZhbGlkIGtleS90b2tlbiBoYXMgYmVlbiBzZW50XG4gICAgICBpZiAoXG4gICAgICAgIHJhdGVPcHRpb25zLnNraXBLZXkgIT09IGZhbHNlICYmXG4gICAgICAgIHJhdGVPcHRpb25zLnNraXBUb2tlbiAhPT0gZmFsc2UgJiZcbiAgICAgICAgcmVxdWVzdC5xdWVyeS5rZXkgPT09IHJhdGVPcHRpb25zLnNraXBLZXkgJiZcbiAgICAgICAgcmVxdWVzdC5xdWVyeS5hY2Nlc3NfdG9rZW4gPT09IHJhdGVPcHRpb25zLnNraXBUb2tlblxuICAgICAgKSB7XG4gICAgICAgIGxvZyg0LCAnW3JhdGUtbGltaXRpbmddIFNraXBwaW5nIHJhdGUgbGltaXRlci4nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAvLyBVc2UgYSBsaW1pdGVyIGFzIGEgbWlkZGxld2FyZVxuICBhcHAudXNlKGxpbWl0ZXIpO1xuXG4gIGxvZyhcbiAgICAzLFxuICAgIGNsZWFyVGV4dChcbiAgICAgIGBbcmF0ZS1saW1pdGluZ10gRW5hYmxlZCByYXRlIGxpbWl0aW5nOiAke3JhdGVPcHRpb25zLm1heH0gcmVxdWVzdHNcbiAgICAgIHBlciAke3JhdGVPcHRpb25zLndpbmRvd30gbWludXRlIHBlciBJUCwgdHJ1c3RpbmcgcHJveHk6XG4gICAgICAke3JhdGVPcHRpb25zLnRydXN0UHJveHl9LmBcbiAgICApXG4gICk7XG59O1xuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBleHBvcnRzIHR3byBmdW5jdGlvbnM6IGZldGNoIChmb3IgR0VUIHJlcXVlc3RzKSBhbmQgcG9zdCAoZm9yIFBPU1QgcmVxdWVzdHMpLlxuICovXG5cbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZ2l2ZW4gVVJMIChlaXRoZXIgYGh0dHBgIG9yIGBodHRwc2ApLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgd2hvc2UgcHJvdG9jb2wgbmVlZHMgdG8gYmUgZGV0ZXJtaW5lZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGBodHRwc2AgbW9kdWxlIGlmIHRoZSBVUkwgc3RhcnRzIHdpdGggJ2h0dHBzJyxcbiAqIG90aGVyd2lzZSByZXR1cm5zIHRoZSBgaHR0cGAgbW9kdWxlLlxuICogQHByaXZhdGVcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGNvbnN0IHByb3RvY29sID0gZ2V0UHJvdG9jb2woJ2h0dHBzOi8vZXhhbXBsZS5jb20nKTtcbiAqIGNvbnNvbGUubG9nKHByb3RvY29sKTsgLy8gT3V0cHV0cyB0aGUgJ2h0dHBzJyBtb2R1bGVcbiAqL1xuY29uc3QgZ2V0UHJvdG9jb2wgPSAodXJsKSA9PiB7XG4gIHJldHVybiB1cmwuc3RhcnRzV2l0aCgnaHR0cHMnKSA/IGh0dHBzIDogaHR0cDtcbn07XG5cbi8qKlxuICogU2VuZHMgYSBHRVQgcmVxdWVzdCB0byB0aGUgc3BlY2lmaWVkIFVSTCB3aXRoIG9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9ucy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBhc3luY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gZmV0Y2guXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RPcHRpb25zPXt9XSAtIE9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9ucyBhbmQgaGVhZGVycy5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVzcG9uc2Ugb2JqZWN0LlxuICogVGhlIHJlc3BvbnNlIG9iamVjdCBjb250YWlucyBhIGAudGV4dGAgcHJvcGVydHkgd2l0aCB0aGUgcmF3IHJlc3BvbnNlIGRhdGEuXG4gKiBAdGhyb3dzIHtFcnJvcn0gVGhyb3dzIGFuIGVycm9yIGlmIHRoZSByZXF1ZXN0IGZhaWxzIG9yIGlmIG5vIGRhdGEgaXMgZmV0Y2hlZCBmcm9tIHRoZSBVUkwuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBhc3luYyBmdW5jdGlvbiBnZXREYXRhKCkge1xuICogICB0cnkge1xuICogICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL2RhdGEnKTtcbiAqICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS50ZXh0KTtcbiAqICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkYXRhOicsIGVycm9yKTtcbiAqICAgfVxuICogfVxuICpcbiAqIGdldERhdGEoKTtcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2godXJsLCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBnZXRQcm90b2NvbCh1cmwpO1xuXG4gICAgcHJvdG9jb2xcbiAgICAgIC5nZXQodXJsLCByZXF1ZXN0T3B0aW9ucywgKHJlcykgPT4ge1xuICAgICAgICBsZXQgZGF0YSA9ICcnO1xuXG4gICAgICAgIC8vIEEgY2h1bmsgb2YgZGF0YSBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgICAgcmVzLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICAgICAgZGF0YSArPSBjaHVuaztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGhlIHdob2xlIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkLlxuICAgICAgICByZXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJlamVjdCgnTm90aGluZyB3YXMgZmV0Y2hlZCBmcm9tIHRoZSBVUkwuJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzLnRleHQgPSBkYXRhO1xuICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNlbmRzIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgVVJMIHdpdGggdGhlIGdpdmVuIGJvZHkgYW5kIHJlcXVlc3Qgb3B0aW9ucy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBhc3luY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gd2hpY2ggdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHNlbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gW2JvZHk9e31dIC0gVGhlIGRhdGEgdG8gYmUgc2VudCBhcyB0aGUgcmVxdWVzdCBib2R5LCBpbiBKU09OIGZvcm1hdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdE9wdGlvbnM9e31dIC0gT3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zIGFuZCBoZWFkZXJzLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHBhcnNlZCBKU09OIHJlc3BvbnNlLlxuICogQHRocm93cyB7RXJyb3J9IFRocm93cyBhbiBlcnJvciBpZiB0aGUgcmVxdWVzdCBmYWlscyBvciBpZiB0aGUgcmVzcG9uc2UgY2Fubm90IGJlIHBhcnNlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGFzeW5jIGZ1bmN0aW9uIHNlbmREYXRhKCkge1xuICogICBjb25zdCBkYXRhVG9TZW5kID0ge1xuICogICAgIGtleTE6ICd2YWx1ZTEnLFxuICogICAgIGtleTI6ICd2YWx1ZTInLFxuICogICB9O1xuICogICB0cnkge1xuICogICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScsIGRhdGFUb1NlbmQpO1xuICogICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAqICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGRhdGE6JywgZXJyb3IpO1xuICogICB9XG4gKiB9XG4gKlxuICogc2VuZERhdGEoKTtcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcG9zdCh1cmwsIGJvZHkgPSB7fSwgcmVxdWVzdE9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHByb3RvY29sID0gZ2V0UHJvdG9jb2wodXJsKTtcbiAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG5cbiAgICAvLyBTZXQgZGVmYXVsdCBoZWFkZXJzIGFuZCBtZXJnZSB3aXRoIHJlcXVlc3RPcHRpb25zXG4gICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBkYXRhLmxlbmd0aFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVxdWVzdE9wdGlvbnNcbiAgICApO1xuXG4gICAgY29uc3QgcmVxID0gcHJvdG9jb2xcbiAgICAgIC5yZXF1ZXN0KHVybCwgb3B0aW9ucywgKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzcG9uc2VEYXRhID0gJyc7XG5cbiAgICAgICAgLy8gQSBjaHVuayBvZiBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkLlxuICAgICAgICByZXMub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcbiAgICAgICAgICByZXNwb25zZURhdGEgKz0gY2h1bms7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRoZSB3aG9sZSByZXNwb25zZSBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcy50ZXh0ID0gcmVzcG9uc2VEYXRhO1xuICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAvLyBXcml0ZSB0aGUgcmVxdWVzdCBib2R5IGFuZCBlbmQgdGhlIHJlcXVlc3QuXG4gICAgcmVxLndyaXRlKGRhdGEpO1xuICAgIHJlcS5lbmQoKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZldGNoO1xuZXhwb3J0IHsgZmV0Y2gsIHBvc3QgfTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vLyBUaGUgY2FjaGUgbWFuYWdlciBtYW5hZ2VzIHRoZSBIaWdoY2hhcnRzIGxpYnJhcnkgYW5kIGl0cyBkZXBlbmRlbmNpZXMuXG4vLyBUaGUgY2FjaGUgaXRzZWxmIGlzIHN0b3JlZCBpbiAuY2FjaGUsIGFuZCBpcyBjaGVja2VkIGJ5IHRoZSBjb25maWcgc3lzdGVtXG4vLyBiZWZvcmUgc3RhcnRpbmcgdGhlIHNlcnZpY2VcblxuaW1wb3J0IHsgZXhpc3RzU3luYywgbWtkaXJTeW5jLCByZWFkRmlsZVN5bmMsIHdyaXRlRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XG5cbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBIdHRwc1Byb3h5QWdlbnQgZnJvbSAnaHR0cHMtcHJveHktYWdlbnQnO1xuaW1wb3J0IHsgZmV0Y2ggfSBmcm9tICcuL2ZldGNoLmpzJztcblxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vbGliL3V0aWxzLmpzJztcblxuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBjYWNoZVBhdGggPSBqb2luKF9fZGlybmFtZSwgJy5jYWNoZScpO1xuXG5jb25zdCBjYWNoZSA9IHtcbiAgY2RuVVJMOiAnaHR0cHM6Ly9jb2RlLmhpZ2hjaGFydHMuY29tLycsXG4gIGFjdGl2ZU1hbmlmZXN0OiB7fSxcbiAgc291cmNlczogJycsXG4gIGhjVmVyc2lvbjogJydcbn07XG5cbi8vIFRPRE86IFRoZSBjb25maWcgc2hvdWxkIGJlIGFjY2Vzc3NpYmxlIGdsb2JhbGx5IHNvIHdlIGRvbid0IGhhdmUgdG8gZG8gdGhpcyBzb3J0IG9mIHRoaW5nLi5cbmxldCBhcHBsaWVkQ29uZmlnID0gZmFsc2U7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIEhpZ2hjaGFydHMgdmVyc2lvbiBmcm9tIHRoZSBjYWNoZVxuICovXG5jb25zdCBleHRyYWN0VmVyc2lvbiA9ICgpID0+XG4gIChjYWNoZS5oY1ZlcnNpb24gPSBjYWNoZS5zb3VyY2VzXG4gICAgLnN1YnN0cigwLCBjYWNoZS5zb3VyY2VzLmluZGV4T2YoJyovJykpXG4gICAgLnJlcGxhY2UoJy8qJywgJycpXG4gICAgLnJlcGxhY2UoJyovJywgJycpXG4gICAgLnJlcGxhY2UoL1xcbi9nLCAnJylcbiAgICAudHJpbSgpKTtcblxuLyoqXG4gKiBTYXZlcyB0aGUgSGlnaGNoYXJ0cyBwYXJ0IG9mIGEgY29uZmlnIHRvIGEgbWFuaWZlc3QgZmlsZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNoYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtvYmplY3R9IGZldGNoZWRNb2R1bGVzIC0gQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgbWFwcGVkIG5hbWVzIG9mXG4gKiBmZXRjaGVkIEhpZ2hjaGFydHMgbW9kdWxlcyB0byB1c2UuXG4gKi9cbmNvbnN0IHNhdmVDb25maWdUb01hbmlmZXN0ID0gYXN5bmMgKGNvbmZpZywgZmV0Y2hlZE1vZHVsZXMpID0+IHtcbiAgY29uc3QgbmV3TWFuaWZlc3QgPSB7XG4gICAgdmVyc2lvbjogY29uZmlnLnZlcnNpb24sXG4gICAgbW9kdWxlczogZmV0Y2hlZE1vZHVsZXMgfHwge31cbiAgfTtcblxuICAvLyBVcGRhdGUgY2FjaGUgb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgbW9kdWxlc1xuICBjYWNoZS5hY3RpdmVNYW5pZmVzdCA9IG5ld01hbmlmZXN0O1xuXG4gIGxvZyg0LCAnW2NhY2hlXSB3cml0aW5nIG5ldyBtYW5pZmVzdCcpO1xuXG4gIHRyeSB7XG4gICAgd3JpdGVGaWxlU3luYyhcbiAgICAgIGpvaW4oY2FjaGVQYXRoLCAnbWFuaWZlc3QuanNvbicpLFxuICAgICAgSlNPTi5zdHJpbmdpZnkobmV3TWFuaWZlc3QpLFxuICAgICAgJ3V0ZjgnXG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2coMSwgYFtjYWNoZV0gRXJyb3Igd3JpdGluZyBjYWNoZSBtYW5pZmVzdDogJHtlcnJvcn0uYCk7XG4gIH1cbn07XG5cbi8qKlxuICogRmV0Y2hlcyBhIHNpbmdsZSBzY3JpcHQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNjcmlwdCAtIEEgcGF0aCB0byBzY3JpcHQgdG8gZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IHByb3h5QWdlbnQgLSBUaGUgcHJveHkgYWdlbnQgdG8gdXNlIGZvciBhIHJlcXVlc3QuXG4gKi9cbmNvbnN0IGZldGNoU2NyaXB0ID0gYXN5bmMgKHNjcmlwdCwgcHJveHlBZ2VudCkgPT4ge1xuICB0cnkge1xuICAgIC8vIEdldCByaWQgb2YgdGhlIC5qcyBmcm9tIHRoZSBjdXN0b20gc3RyaW5nc1xuICAgIGlmIChzY3JpcHQuZW5kc1dpdGgoJy5qcycpKSB7XG4gICAgICBzY3JpcHQgPSBzY3JpcHQuc3Vic3RyaW5nKDAsIHNjcmlwdC5sZW5ndGggLSAzKTtcbiAgICB9XG5cbiAgICBsb2coNCwgYFtjYWNoZV0gRmV0Y2hpbmcgc2NyaXB0IC0gJHtzY3JpcHR9LmpzYCk7XG5cbiAgICAvLyBJZiBleGlzdHMsIGFkZCBwcm94eSBhZ2VudCB0byByZXF1ZXN0IG9wdGlvbnNcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHByb3h5QWdlbnRcbiAgICAgID8ge1xuICAgICAgICAgIGFnZW50OiBwcm94eUFnZW50LFxuICAgICAgICAgIHRpbWVvdXQ6ICtwcm9jZXNzLmVudlsnUFJPWFlfU0VSVkVSX1RJTUVPVVQnXSB8fCA1MDAwXG4gICAgICAgIH1cbiAgICAgIDoge307XG5cbiAgICAvLyBGZXRjaCB0aGUgc2NyaXB0XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtzY3JpcHR9LmpzYCwgcmVxdWVzdE9wdGlvbnMpO1xuXG4gICAgLy8gSWYgT0ssIHJldHVybiBpdHMgdGV4dCByZXByZXNlbnRhdGlvblxuICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0O1xuICAgIH1cblxuICAgIHRocm93IGAke3Jlc3BvbnNlLnN0YXR1c0NvZGV9YDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2coMSwgYFtjYWNoZV0gRXJyb3IgZmV0Y2hpbmcgc2NyaXB0ICR7c2NyaXB0fS5qczogJHtlcnJvcn0uYCk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgSGlnaGNoYXJ0cyBjYWNoZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNoYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZVBhdGggLSBBIHBhdGggdG8gdGhlIGZpbGUgd2hlcmUgc2F2ZSB1cGRhdGVkIHNvdXJjZXMuXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIG1hcHBlZCBuYW1lcyBvZiBmZXRjaGVkIEhpZ2hjaGFydHNcbiAqIG1vZHVsZXMgdG8gdXNlLlxuICovXG5jb25zdCB1cGRhdGVDYWNoZSA9IGFzeW5jIChjb25maWcsIHNvdXJjZVBhdGgpID0+IHtcbiAgY29uc3QgeyBjb3JlU2NyaXB0cywgbW9kdWxlcywgaW5kaWNhdG9ycywgc2NyaXB0czogY3VzdG9tU2NyaXB0cyB9ID0gY29uZmlnO1xuICBjb25zdCBoY1ZlcnNpb24gPVxuICAgIGNvbmZpZy52ZXJzaW9uID09PSAnbGF0ZXN0JyB8fCAhY29uZmlnLnZlcnNpb24gPyAnJyA6IGAke2NvbmZpZy52ZXJzaW9ufS9gO1xuXG4gIGxvZygzLCAnW2NhY2hlXSBVcGRhdGluZyBjYWNoZSB0byBIaWdoY2hhcnRzICcsIGhjVmVyc2lvbik7XG5cbiAgLy8gR2F0aGVyIGFsbCBzY3JpcHRzIHRvIGZldGNoXG4gIGNvbnN0IGFsbFNjcmlwdHMgPSBbXG4gICAgLi4uY29yZVNjcmlwdHMubWFwKChjKSA9PiBgJHtoY1ZlcnNpb259JHtjfWApLFxuICAgIC4uLm1vZHVsZXMubWFwKChtKSA9PlxuICAgICAgbSA9PT0gJ21hcCcgPyBgbWFwcy8ke2hjVmVyc2lvbn1tb2R1bGVzLyR7bX1gIDogYCR7aGNWZXJzaW9ufW1vZHVsZXMvJHttfWBcbiAgICApLFxuICAgIC4uLmluZGljYXRvcnMubWFwKChpKSA9PiBgc3RvY2svJHtoY1ZlcnNpb259aW5kaWNhdG9ycy8ke2l9YClcbiAgXTtcblxuICAvLyBDb25maWd1cmUgcHJveHkgaWYgZXhpc3RzXG4gIGxldCBwcm94eUFnZW50O1xuICBjb25zdCBwcm94eUhvc3QgPSBwcm9jZXNzLmVudlsnUFJPWFlfU0VSVkVSX0hPU1QnXTtcbiAgY29uc3QgcHJveHlQb3J0ID0gcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9QT1JUJ107XG5cbiAgaWYgKHByb3h5SG9zdCAmJiBwcm94eVBvcnQpIHtcbiAgICBwcm94eUFnZW50ID0gbmV3IEh0dHBzUHJveHlBZ2VudCh7XG4gICAgICBob3N0OiBwcm94eUhvc3QsXG4gICAgICBwb3J0OiArcHJveHlQb3J0XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBmZXRjaGVkTW9kdWxlcyA9IHt9O1xuICB0cnkge1xuICAgIGNhY2hlLnNvdXJjZXMgPSAvLyBUT0RPOiBjb252ZXJ0IHRvIGZvciBsb29wXG4gICAgICAoXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAuLi5hbGxTY3JpcHRzLm1hcChhc3luYyAoc2NyaXB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmV0Y2hTY3JpcHQoXG4gICAgICAgICAgICAgIGAke2NvbmZpZy5jZG5VUkwgfHwgY2FjaGUuY2RuVVJMfSR7c2NyaXB0fWAsXG4gICAgICAgICAgICAgIHByb3h5QWdlbnRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIElmIGZldGNoZWQgY29ycmVjdGx5LCBzZXQgaXRcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgZmV0Y2hlZE1vZHVsZXNbXG4gICAgICAgICAgICAgICAgc2NyaXB0LnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAvKC4qKVxcL3woLiopbW9kdWxlc1xcL3xzdG9ja1xcLyguKilpbmRpY2F0b3JzXFwvfG1hcHNcXC8oLiopbW9kdWxlc1xcLy9naSxcbiAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uY3VzdG9tU2NyaXB0cy5tYXAoKHNjcmlwdCkgPT4gZmV0Y2hTY3JpcHQoc2NyaXB0LCBwcm94eUFnZW50KSlcbiAgICAgICAgXSlcbiAgICAgICkuam9pbignO1xcbicpO1xuICAgIGV4dHJhY3RWZXJzaW9uKCk7XG5cbiAgICAvLyBTYXZlIHRoZSBmZXRjaGVkIG1vZHVsZXMgaW50byBjYWNoZXMnIHNvdXJjZSBKU09OXG4gICAgd3JpdGVGaWxlU3luYyhzb3VyY2VQYXRoLCBjYWNoZS5zb3VyY2VzKTtcbiAgICByZXR1cm4gZmV0Y2hlZE1vZHVsZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKDEsICdbY2FjaGVdIFVuYWJsZSB0byB1cGRhdGUgbG9jYWwgSGlnaGNoYXJ0cyBjYWNoZS4nKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVZlcnNpb24gPSBhc3luYyAobmV3VmVyc2lvbikgPT5cbiAgYXBwbGllZENvbmZpZ1xuICAgID8gYXdhaXQgY2hlY2tDYWNoZShcbiAgICAgICAgT2JqZWN0LmFzc2lnbihhcHBsaWVkQ29uZmlnLCB7XG4gICAgICAgICAgdmVyc2lvbjogbmV3VmVyc2lvblxuICAgICAgICB9KVxuICAgICAgKVxuICAgIDogZmFsc2U7XG5cbi8qKlxuICogRmV0Y2hlcyBhbnkgbWlzc2luZyBIaWdoY2hhcnRzIGFuZCBkZXBlbmRlbmNpZXNcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNoYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgY2hlY2tDYWNoZSA9IGFzeW5jIChjb25maWcpID0+IHtcbiAgbGV0IGZldGNoZWRNb2R1bGVzO1xuICAvLyBQcmVwYXJlIHBhdGhzIHRvIG1hbmlmZXN0IGFuZCBzb3VyY2VzIGZyb20gdGhlIC5jYWNoZSBmb2xkZXJcbiAgY29uc3QgbWFuaWZlc3RQYXRoID0gam9pbihjYWNoZVBhdGgsICdtYW5pZmVzdC5qc29uJyk7XG4gIGNvbnN0IHNvdXJjZVBhdGggPSBqb2luKGNhY2hlUGF0aCwgJ3NvdXJjZXMuanMnKTtcblxuICAvLyBUT0RPOiBkZWFsIHdpdGggdHJ5aW5nIHRvIHN3aXRjaCB0byB0aGUgcnVubmluZyB2ZXJzaW9uXG4gIC8vIGNvbnN0IGFjdGl2ZVZlcnNpb24gPSBhcHBsaWVkQ29uZmlnID8gYXBwbGllZENvbmZpZy52ZXJzaW9uIDogZmFsc2U7XG5cbiAgYXBwbGllZENvbmZpZyA9IGNvbmZpZztcblxuICAvLyBDcmVhdGUgdGhlIC5jYWNoZSBkZXN0aW5hdGlvbiBpZiBpdCBkb2Vzbid0IGV4aXN0IGFscmVhZHlcbiAgIWV4aXN0c1N5bmMoY2FjaGVQYXRoKSAmJiBta2RpclN5bmMoY2FjaGVQYXRoKTtcblxuICAvLyBGZXRjaCBhbGwgdGhlIHNjcmlwdHMgZWl0aGVyIGlmIG1hbmlmZXN0Lmpzb24gZG9lcyBub3QgZXhpc3RcbiAgLy8gb3IgaWYgdGhlIGZvcmNlRmV0Y2ggb3B0aW9uIGlzIGVuYWJsZWRcbiAgaWYgKCFleGlzdHNTeW5jKG1hbmlmZXN0UGF0aCkgfHwgY29uZmlnLmZvcmNlRmV0Y2gpIHtcbiAgICBsb2coMywgJ1tjYWNoZV0gRmV0Y2hpbmcgYW5kIGNhY2hpbmcgSGlnaGNoYXJ0cyBkZXBlbmRlbmNpZXMuJyk7XG4gICAgZmV0Y2hlZE1vZHVsZXMgPSBhd2FpdCB1cGRhdGVDYWNoZShjb25maWcsIHNvdXJjZVBhdGgpO1xuICB9IGVsc2Uge1xuICAgIGxldCByZXF1ZXN0VXBkYXRlID0gZmFsc2U7XG5cbiAgICAvLyBSZWFkIHRoZSBtYW5pZmVzdCBKU09OXG4gICAgY29uc3QgbWFuaWZlc3QgPSBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhtYW5pZmVzdFBhdGgpKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZSBtb2R1bGVzIGlzIGFuIGFycmF5LCBpZiBzbywgd2UgcmV3cml0ZSBpdCB0byBhIG1hcCB0byBtYWtlXG4gICAgLy8gaXQgZWFzaWVyIHRvIHJlc29sdmUgbW9kdWxlcy5cbiAgICBpZiAobWFuaWZlc3QubW9kdWxlcyAmJiBBcnJheS5pc0FycmF5KG1hbmlmZXN0Lm1vZHVsZXMpKSB7XG4gICAgICBjb25zdCBtb2R1bGVNYXAgPSB7fTtcbiAgICAgIG1hbmlmZXN0Lm1vZHVsZXMuZm9yRWFjaCgobSkgPT4gKG1vZHVsZU1hcFttXSA9IDEpKTtcbiAgICAgIG1hbmlmZXN0Lm1vZHVsZXMgPSBtb2R1bGVNYXA7XG4gICAgfVxuXG4gICAgY29uc3QgeyBtb2R1bGVzLCBjb3JlU2NyaXB0cywgaW5kaWNhdG9ycyB9ID0gY29uZmlnO1xuICAgIGNvbnN0IG51bWJlck9mTW9kdWxlcyA9XG4gICAgICBtb2R1bGVzLmxlbmd0aCArIGNvcmVTY3JpcHRzLmxlbmd0aCArIGluZGljYXRvcnMubGVuZ3RoO1xuXG4gICAgLy8gQ29tcGFyZSB0aGUgbG9hZGVkIGNvbmZpZyB3aXRoIHRoZSBjb250ZW50cyBpbiAuY2FjaGUuXG4gICAgLy8gSWYgdGhlcmUgYXJlIGNoYW5nZXMsIGZldGNoIHJlcXVlc3RlZCBtb2R1bGVzIGFuZCBwcm9kdWN0cyxcbiAgICAvLyBhbmQgYmFrZSB0aGVtIGludG8gYSBnaWFudCBibG9iLiBTYXZlIHRoZSBibG9iLlxuICAgIGlmIChtYW5pZmVzdC52ZXJzaW9uICE9PSBjb25maWcudmVyc2lvbikge1xuICAgICAgbG9nKDMsICdbY2FjaGVdIEhpZ2hjaGFydHMgdmVyc2lvbiBtaXNtYXRjaCBpbiBjYWNoZSwgbmVlZCB0byByZS1mZXRjaC4nKTtcbiAgICAgIHJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMobWFuaWZlc3QubW9kdWxlcyB8fCB7fSkubGVuZ3RoICE9PSBudW1iZXJPZk1vZHVsZXMpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgMyxcbiAgICAgICAgJ1tjYWNoZV0gQ2FjaGUgYW5kIHJlcXVlc3RlZCBtb2R1bGVzIGRvZXMgbm90IG1hdGNoLCBuZWVkIHRvIHJlLWZldGNoLidcbiAgICAgICk7XG4gICAgICByZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2hlY2sgZWFjaCBtb2R1bGUsIGlmIGFueXRoaW5nIGlzIG1pc3NpbmcgcmVmZXRjaCBldmVyeXRoaW5nXG4gICAgICByZXF1ZXN0VXBkYXRlID0gKGNvbmZpZy5tb2R1bGVzIHx8IFtdKS5zb21lKChtb2R1bGVOYW1lKSA9PiB7XG4gICAgICAgIGlmICghbWFuaWZlc3QubW9kdWxlc1ttb2R1bGVOYW1lXSkge1xuICAgICAgICAgIGxvZyhcbiAgICAgICAgICAgIDMsXG4gICAgICAgICAgICBgW2NhY2hlXSBUaGUgJHttb2R1bGVOYW1lfSBtaXNzaW5nIGluIGNhY2hlLCBuZWVkIHRvIHJlLWZldGNoLmBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdFVwZGF0ZSkge1xuICAgICAgZmV0Y2hlZE1vZHVsZXMgPSBhd2FpdCB1cGRhdGVDYWNoZShjb25maWcsIHNvdXJjZVBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2coMywgJ1tjYWNoZV0gRGVwZW5kZW5jeSBjYWNoZSBpcyB1cCB0byBkYXRlLCBwcm9jZWVkaW5nLicpO1xuXG4gICAgICAvLyBMb2FkIHRoZSBzb3VyY2VzXG4gICAgICBjYWNoZS5zb3VyY2VzID0gcmVhZEZpbGVTeW5jKHNvdXJjZVBhdGgsICd1dGY4Jyk7XG5cbiAgICAgIC8vIEdldCBjdXJyZW50IG1vZHVsZXMgbWFwXG4gICAgICBmZXRjaGVkTW9kdWxlcyA9IG1hbmlmZXN0Lm1vZHVsZXM7XG4gICAgICBleHRyYWN0VmVyc2lvbigpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNhdmUgdGhlIG5ldyBtYW5pZmVzdCwgd2hpY2ggaXMgYmFzaWNhbGx5IG91ciBjdXJyZW50IGNvbmZpZ1xuICAvLyBpbiBhIHNsaWdodGx5IGRpZmZlcmVudCBmb3JtYXRcbiAgYXdhaXQgc2F2ZUNvbmZpZ1RvTWFuaWZlc3QoY29uZmlnLCBmZXRjaGVkTW9kdWxlcyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNoZWNrQ2FjaGUsXG4gIHVwZGF0ZVZlcnNpb24sXG4gIGdldENhY2hlOiAoKSA9PiBjYWNoZSxcbiAgaGlnaGNoYXJ0czogKCkgPT4gY2FjaGUuc291cmNlcyxcbiAgdmVyc2lvbjogKCkgPT4gY2FjaGUuaGNWZXJzaW9uXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBwdXBwZXRlZXIgZnJvbSAncHVwcGV0ZWVyJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgKiBhcyB1cmwgZnJvbSAndXJsJztcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcbmltcG9ydCBwYXRoIGZyb20gJ25vZGU6cGF0aCc7XG5cbi8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTE0NjMzMjhcbi8vIE5vdCBpZGVhbCAtIGxlYXZlcyB0cmFzaCBpbiB0aGUgRlNcbmltcG9ydCB7IHJhbmRvbUJ5dGVzIH0gZnJvbSAnbm9kZTpjcnlwdG8nO1xuY29uc3QgUkFORE9NX1BJRCA9IHJhbmRvbUJ5dGVzKDY0KS50b1N0cmluZygnYmFzZTY0dXJsJyk7XG5jb25zdCBQVVBQRVRFRVJfRElSID0gcGF0aC5qb2luKCd0bXAnLCBgcHVwcGV0ZWVyLSR7UkFORE9NX1BJRH1gKTtcbmNvbnN0IERBVEFfRElSID0gcGF0aC5qb2luKFBVUFBFVEVFUl9ESVIsICdwcm9maWxlJyk7XG5cbi8vIFRoZSBtaW5pbWFsIGFyZ3MgdG8gc3BlZWQgdXAgdGhlIGJyb3dzZXJcbmNvbnN0IG1pbmltYWxBcmdzID0gW1xuICBgLS11c2VyLWRhdGEtZGlyPSR7REFUQV9ESVJ9YCxcbiAgJy0tYXV0b3BsYXktcG9saWN5PXVzZXItZ2VzdHVyZS1yZXF1aXJlZCcsXG4gICctLWRpc2FibGUtYmFja2dyb3VuZC1uZXR3b3JraW5nJyxcbiAgJy0tZGlzYWJsZS1iYWNrZ3JvdW5kLXRpbWVyLXRocm90dGxpbmcnLFxuICAnLS1kaXNhYmxlLWJhY2tncm91bmRpbmctb2NjbHVkZWQtd2luZG93cycsXG4gICctLWRpc2FibGUtYnJlYWtwYWQnLFxuICAnLS1kaXNhYmxlLWNsaWVudC1zaWRlLXBoaXNoaW5nLWRldGVjdGlvbicsXG4gICctLWRpc2FibGUtY29tcG9uZW50LXVwZGF0ZScsXG4gICctLWRpc2FibGUtZGVmYXVsdC1hcHBzJyxcbiAgJy0tZGlzYWJsZS1kZXYtc2htLXVzYWdlJyxcbiAgJy0tZGlzYWJsZS1kb21haW4tcmVsaWFiaWxpdHknLFxuICAnLS1kaXNhYmxlLWV4dGVuc2lvbnMnLFxuICAnLS1kaXNhYmxlLWZlYXR1cmVzPUF1ZGlvU2VydmljZU91dE9mUHJvY2VzcycsXG4gICctLWRpc2FibGUtaGFuZy1tb25pdG9yJyxcbiAgJy0tZGlzYWJsZS1pcGMtZmxvb2RpbmctcHJvdGVjdGlvbicsXG4gICctLWRpc2FibGUtbm90aWZpY2F0aW9ucycsXG4gICctLWRpc2FibGUtb2ZmZXItc3RvcmUtdW5tYXNrZWQtd2FsbGV0LWNhcmRzJyxcbiAgJy0tZGlzYWJsZS1wb3B1cC1ibG9ja2luZycsXG4gICctLWRpc2FibGUtcHJpbnQtcHJldmlldycsXG4gICctLWRpc2FibGUtcHJvbXB0LW9uLXJlcG9zdCcsXG4gICctLWRpc2FibGUtcmVuZGVyZXItYmFja2dyb3VuZGluZycsXG4gICctLWRpc2FibGUtc2Vzc2lvbi1jcmFzaGVkLWJ1YmJsZScsXG4gICctLWRpc2FibGUtc2V0dWlkLXNhbmRib3gnLFxuICAnLS1kaXNhYmxlLXNwZWVjaC1hcGknLFxuICAnLS1kaXNhYmxlLXN5bmMnLFxuICAnLS1oaWRlLWNyYXNoLXJlc3RvcmUtYnViYmxlJyxcbiAgJy0taGlkZS1zY3JvbGxiYXJzJyxcbiAgJy0taWdub3JlLWdwdS1ibGFja2xpc3QnLFxuICAnLS1tZXRyaWNzLXJlY29yZGluZy1vbmx5JyxcbiAgJy0tbXV0ZS1hdWRpbycsXG4gICctLW5vLWRlZmF1bHQtYnJvd3Nlci1jaGVjaycsXG4gICctLW5vLWZpcnN0LXJ1bicsXG4gICctLW5vLXBpbmdzJyxcbiAgJy0tbm8tc2FuZGJveCcsXG4gICctLW5vLXp5Z290ZScsXG4gICctLXBhc3N3b3JkLXN0b3JlPWJhc2ljJyxcbiAgJy0tdXNlLW1vY2sta2V5Y2hhaW4nXG5dO1xuXG5jb25zdCBfX2Rpcm5hbWUgPSB1cmwuZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuJywgaW1wb3J0Lm1ldGEudXJsKSk7XG5cbmNvbnN0IHRlbXBsYXRlID0gZnMucmVhZEZpbGVTeW5jKFxuICBfX2Rpcm5hbWUgKyAnLy4uL3RlbXBsYXRlcy90ZW1wbGF0ZS5odG1sJyxcbiAgJ3V0ZjgnXG4pO1xuXG5sZXQgYnJvd3NlcjtcblxuZXhwb3J0IGNvbnN0IG5ld1BhZ2UgPSBhc3luYyAoKSA9PiB7XG4gIGlmICghYnJvd3NlcikgcmV0dXJuIGZhbHNlO1xuXG4gIGNvbnN0IHAgPSBhd2FpdCBicm93c2VyLm5ld1BhZ2UoKTtcblxuICBhd2FpdCBwLnNldENvbnRlbnQodGVtcGxhdGUpO1xuICBhd2FpdCBwLmFkZFNjcmlwdFRhZyh7IHBhdGg6IF9fZGlybmFtZSArICcvLi4vLmNhY2hlL3NvdXJjZXMuanMnIH0pO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgYXdhaXQgcC5ldmFsdWF0ZSgoKSA9PiB3aW5kb3cuc2V0dXBIaWdoY2hhcnRzKCkpO1xuXG4gIHAub24oJ3BhZ2VlcnJvcicsIGFzeW5jIChlcnIpID0+IHtcbiAgICAvLyBUT0RPOiBDb25zaWRlciBhZGRpbmcgYSBzd2l0Y2ggaGVyZSB0aGF0IHR1cm5zIG9uIGxvZygwKSBsb2dnaW5nXG4gICAgLy8gb24gcGFnZSBlcnJvcnMuXG4gICAgbG9nKDEsICdbcGFnZSBlcnJvcl0nLCBlcnIpO1xuICAgIGF3YWl0IHAuJGV2YWwoXG4gICAgICAnI2NvbnRhaW5lcicsXG4gICAgICAoZWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICBpZiAod2luZG93Ll9kaXNwbGF5RXJyb3JzKSB7XG4gICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBgPGgxPkNoYXJ0IGlucHV0IGRhdGEgZXJyb3I8L2gxPiR7ZXJyLnRvU3RyaW5nKCl9YFxuICAgICk7XG4gIH0pO1xuXG4gIHJldHVybiBwO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IGFzeW5jIChwdXBwZXRlZXJBcmdzKSA9PiB7XG4gIGNvbnN0IGFsbEFyZ3MgPSBbLi4ubWluaW1hbEFyZ3MsIC4uLihwdXBwZXRlZXJBcmdzIHx8IFtdKV07XG5cbiAgLy8gQ3JlYXRlIGEgYnJvd3NlclxuICBpZiAoIWJyb3dzZXIpIHtcbiAgICBsZXQgdHJ5Q291bnQgPSAwO1xuXG4gICAgY29uc3Qgb3BlbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxvZyhcbiAgICAgICAgICAzLFxuICAgICAgICAgICdbYnJvd3Nlcl0gYXR0ZW1wdGluZyB0byBnZXQgYSBicm93c2VyIGluc3RhbmNlICh0cnknLFxuICAgICAgICAgIHRyeUNvdW50ICsgJyknXG4gICAgICAgICk7XG5cbiAgICAgICAgYnJvd3NlciA9IGF3YWl0IHB1cHBldGVlci5sYXVuY2goe1xuICAgICAgICAgIGhlYWRsZXNzOiAnbmV3JyxcbiAgICAgICAgICBhcmdzOiBhbGxBcmdzLFxuICAgICAgICAgIHVzZXJEYXRhRGlyOiAnLi90bXAvJ1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nKDAsICdbYnJvd3Nlcl0nLCBlKTtcbiAgICAgICAgaWYgKCsrdHJ5Q291bnQgPCAyNSkge1xuICAgICAgICAgIGxvZygzLCAnW2Jyb3dzZXJdIGZhaWxlZDonLCBlKTtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzcG9uc2UpID0+IHNldFRpbWVvdXQocmVzcG9uc2UsIDQwMDApKTtcbiAgICAgICAgICBhd2FpdCBvcGVuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nKDAsICdNYXggcmV0cmllcyByZWFjaGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG9wZW4oKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2coMCwgJ1ticm93c2VyXSBVbmFibGUgdG8gb3BlbiBicm93c2VyJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFicm93c2VyKSB7XG4gICAgICBsb2coMCwgJ1ticm93c2VyXSBVbmFibGUgdG8gb3BlbiBicm93c2VyJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJuIGEgYnJvd3NlciBwcm9taXNlXG4gIHJldHVybiBicm93c2VyO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldCA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCFicm93c2VyKSB7XG4gICAgdGhyb3cgJ05vIHZhbGlkIGJyb3dzZXIgaGFzIGJlZW4gY3JlYXRlZCc7XG4gIH1cblxuICByZXR1cm4gYnJvd3Nlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBjbG9zZSA9IGFzeW5jICgpID0+IHtcbiAgLy8gQ2xvc2UgdGhlIGJyb3dzZXIgd2hlbiBjb25ubmVjdGVkXG4gIGlmIChicm93c2VyLmNvbm5lY3RlZCkge1xuICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXQsXG4gIGNsb3NlLFxuICBuZXdQYWdlXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIFRPRE86IHJlbW92ZSB0aGlzIHRlbXAgYmVuY2htYXJrIHN0dWZmLiBJIGhhZCB0aGlzIGlkZWEgb2YgZG9pbmcgYSBnZW5lcmFsIGJlbmNobWFya2luZ1xuLy8gc3lzdGVtLCBidXQgaXQgYWRkcyBzbyBtdWNoIGJsb2F0IGluIHRoZSBjb2RlIHRoYXQgaXQgc2hvdWxkbid0IGJlIHRoZXJlLlxuXG5pbXBvcnQgYmVuY2htYXJrIGZyb20gJy4vYmVuY2htYXJrLmpzJztcbmltcG9ydCBjYWNoZSBmcm9tICcuL2NhY2hlLmpzJztcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcbmltcG9ydCBzdmdUZW1wbGF0ZSBmcm9tICcuLy4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMnO1xuXG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIHVybCBmcm9tICd1cmwnO1xuXG5jb25zdCBfX2Jhc2VkaXIgPSB1cmwuZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuJywgaW1wb3J0Lm1ldGEudXJsKSk7XG5cbi8vIGNvbnN0IGpzb25UZW1wbGF0ZSA9IHJlcXVpcmUoJy4vLi4vdGVtcGxhdGVzL2pzb25fZXhwb3J0L2pzb25fZXhwb3J0LmpzJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgY2xpcCByZWdpb24gZm9yIHRoZSBjaGFydCBET00gbm9kZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gQSBjbGlwcGVkIHJlZ2lvbi5cbiAqL1xuY29uc3QgZ2V0Q2xpcFJlZ2lvbiA9IChwYWdlKSA9PlxuICBwYWdlLiRldmFsKCcjY2hhcnQtY29udGFpbmVyJywgKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQ6IE1hdGgudHJ1bmMoaGVpZ2h0ID4gMSA/IGhlaWdodCA6IDUwMClcbiAgICB9O1xuICB9KTtcblxuLyoqXG4gKiBSYXN0ZXJpemVzIHRoZSBwYWdlIHRvIGFuIGltYWdlIChQTkcgb3IgSlBFRylcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGEgcmVzdWx0IGltYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IGVuY29kaW5nIC0gVGhlIHR5cGUgb2YgZW5jb2RpbmcgdXNlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGlwIC0gVGhlIGNsaXAgcmVnaW9uLlxuICogQHJldHVybnMge3N0cmluZ30gLSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHNjcmVlbnNob3QuXG4gKi9cbmNvbnN0IGNyZWF0ZUltYWdlID0gYXN5bmMgKHBhZ2UsIHR5cGUsIGVuY29kaW5nLCBjbGlwKSA9PlxuICBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgIHBhZ2Uuc2NyZWVuc2hvdCh7XG4gICAgICB0eXBlLFxuICAgICAgZW5jb2RpbmcsXG4gICAgICBjbGlwLFxuXG4gICAgICAvLyAjNDQ3IC0gYWx3YXlzIHJlbmRlciBvbiBhIHRyYW5zcGFyZW50IHBhZ2VcbiAgICAgIC8vIHRoaXMgd2lsbCBub3QgYWZmZWN0IHVzZXJzIHdobyBkbyBub3QgZXhwbGljaXRseSBzZXRcbiAgICAgIC8vIGNoYXJ0LmJhY2tncm91bmRDb2xvciB0byBhIGNvbG9yIHdpdGggb3BhY2l0eSBsb3dlciB0aGFuIDFcbiAgICAgIG9taXRCYWNrZ3JvdW5kOiB0cnVlXG4gICAgfSksXG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignUmFzdGVyaXphdGlvbiB0aW1lb3V0JykpLCAxNTAwKVxuICAgIClcbiAgXSk7XG5cbi8qKlxuICogVHVybnMgcGFnZSBpbnRvIGEgUERGLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYWdlIC0gQSBwYWdlIG9mIGEgYnJvd3NlciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIGEgY2hhcnQuXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgYSBjaGFydC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZyAtIFRoZSB0eXBlIG9mIGVuY29kaW5nIHVzZWQuXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gQSBidWZmZXIgd2l0aCBQREYgcmVwcmVzZW50YXRpb24uXG4gKi9cbmNvbnN0IGNyZWF0ZVBERiA9IGFzeW5jIChwYWdlLCBoZWlnaHQsIHdpZHRoLCBlbmNvZGluZykgPT5cbiAgYXdhaXQgcGFnZS5wZGYoe1xuICAgIC8vIFRoaXMgd2lsbCByZW1vdmUgYW4gZXh0cmEgZW1wdHkgcGFnZSBpbiBQREYgZXhwb3J0c1xuICAgIGhlaWdodDogaGVpZ2h0ICsgMSxcbiAgICB3aWR0aCxcbiAgICBlbmNvZGluZ1xuICB9KTtcblxuLyoqXG4gKiBFeHBvcnRzIGFzIGEgU1ZHLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYWdlIC0gQSBwYWdlIG9mIGEgYnJvd3NlciBpbnN0YW5jZS5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBUaGUgb3V0ZXJIVE1MIGVsZW1lbnQgd2l0aCB0aGUgU1ZHIHJlcHJlc2VudGF0aW9uLlxuICovXG5jb25zdCBjcmVhdGVTVkcgPSBhc3luYyAocGFnZSkgPT5cbiAgYXdhaXQgcGFnZS4kZXZhbChcbiAgICAnI2NvbnRhaW5lciBzdmc6Zmlyc3Qtb2YtdHlwZScsXG4gICAgKGVsZW1lbnQpID0+IGVsZW1lbnQub3V0ZXJIVE1MXG4gICk7XG5cbi8qKiBMb2FkIGNvbmZpZyBpbnRvIGEgcGFnZSBhbmQgcmVuZGVyIGEgY2hhcnQgKi9cbmNvbnN0IHNldEFzQ29uZmlnID0gYXN5bmMgKHBhZ2UsIGNoYXJ0LCBvcHRpb25zKSA9PlxuICBhd2FpdCBwYWdlLmV2YWx1YXRlKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIChjaGFydCwgb3B0aW9ucykgPT4gd2luZG93LnRyaWdnZXJFeHBvcnQoY2hhcnQsIG9wdGlvbnMpLFxuICAgIGNoYXJ0LFxuICAgIG9wdGlvbnNcbiAgKTtcblxuLyoqIExvYWQgU1ZHIGludG8gYSBwYWdlICovXG4vLyBjb25zdCBzZXRBc1NWRyA9IGFzeW5jIChwYWdlLCBzdmdTdHIpID0+IHRydWU7XG5cbi8qKlxuICogRG9lcyBhbiBleHBvcnQgZm9yIGEgZ2l2ZW4gYnJvd3Nlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gYnJvd3NlciAtIEEgYnJvd3NlciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBjaGFydCAtIENoYXJ0J3Mgb3B0aW9ucy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxuICogQHJldHVybiB7b2JqZWN0fSAtIFRoZSBkYXRhIHJldHVybmVkIGZyb20gb25lIG9mIHRoZSBtZXRob2RzIGZvciBleHBvcnRpbmdcbiAqIGEgc3BlY2lmaWMgdHlwZSBvZiBhbiBpbWFnZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKHBhZ2UsIGNoYXJ0LCBvcHRpb25zKSA9PiB7XG4gIC8qKlxuICAgKiBLZWVwcyB0cmFjayBvZiBhbGwgcmVzb3VyY2VzIGFkZGVkIG9uIHRoZSBwYWdlIHdpdGggYWRkWFhYVGFnLiBldGNcbiAgICogSXQncyBWSVRBTCB0aGF0IGFsbCBhZGRlZCByZXNvdXJjZXMgZW5kcyB1cCBoZXJlIHNvIHdlIGNhbiBjbGVhciB0aGluZ3NcbiAgICogb3V0IHdoZW4gZG9pbmcgYSBuZXcgZXhwb3J0IGluIHRoZSBzYW1lIHBhZ2UhXG4gICAqL1xuICBjb25zdCBpbmplY3RlZFJlc291cmNlcyA9IFtdO1xuXG4gIC8qKiBDbGVhciBvdXQgYWxsIHN0YXRlIHNldCBvbiB0aGUgcGFnZSB3aXRoIGFkZFNjcmlwdFRhZy9hZGRTdHlsZVRhZy4gKi9cbiAgY29uc3QgY2xlYXJJbmplY3RlZCA9IGFzeW5jIChwYWdlKSA9PiB7XG4gICAgZm9yIChjb25zdCByZXMgb2YgaW5qZWN0ZWRSZXNvdXJjZXMpIHtcbiAgICAgIGF3YWl0IHJlcy5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgYWxsIENTUyBhbmQgc2NyaXB0IHRhZ3NcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgY29uc3QgWywgLi4uc2NyaXB0c1RvUmVtb3ZlXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgY29uc3QgWywgLi4uc3R5bGVzVG9SZW1vdmVdID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0eWxlJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIGNvbnN0IFsuLi5saW5rc1RvUmVtb3ZlXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaW5rJyk7XG5cbiAgICAgIC8vIFJlbW92ZSB0YWdzXG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgW1xuICAgICAgICAuLi5zY3JpcHRzVG9SZW1vdmUsXG4gICAgICAgIC4uLnN0eWxlc1RvUmVtb3ZlLFxuICAgICAgICAuLi5saW5rc1RvUmVtb3ZlXG4gICAgICBdKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBleHBvcnRCZW5jaCA9IGJlbmNobWFyaygnUHVwcGV0ZWVyJyk7XG5cbiAgICBsb2coNCwgJ1tleHBvcnRdIERldGVybWluaW5nIGV4cG9ydCBwYXRoLicpO1xuXG4gICAgY29uc3QgZXhwb3J0T3B0aW9ucyA9IG9wdGlvbnMuZXhwb3J0O1xuXG4gICAgLy8gRm9yY2UgYSByQUZcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3B1cHBldGVlci9wdXBwZXRlZXIvaXNzdWVzLzc1MDdcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7fSkpO1xuXG4gICAgLy8gRGVjaWRlIHdoZXRoZXIgZGlzcGxheSBlcnJvciBvciBkZWJidWdlciB3cmFwcGVyIGFyb3VuZCBpdFxuICAgIGNvbnN0IGRpc3BsYXlFcnJvcnMgPVxuICAgICAgZXhwb3J0T3B0aW9ucz8ub3B0aW9ucz8uY2hhcnQ/LmRpc3BsYXlFcnJvcnMgJiZcbiAgICAgIGNhY2hlLmdldENhY2hlKCkuYWN0aXZlTWFuaWZlc3QubW9kdWxlcy5kZWJ1Z2dlcjtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKGQpID0+ICh3aW5kb3cuX2Rpc3BsYXlFcnJvcnMgPSBkKSwgZGlzcGxheUVycm9ycyk7XG5cbiAgICBjb25zdCBzdmdCZW5jaCA9IGJlbmNobWFyaygnU1ZHIGhhbmRsaW5nJyk7XG5cbiAgICBsZXQgaXNTVkc7XG5cbiAgICBpZiAoXG4gICAgICBjaGFydC5pbmRleE9mICYmXG4gICAgICAoY2hhcnQuaW5kZXhPZignPHN2ZycpID49IDAgfHwgY2hhcnQuaW5kZXhPZignPD94bWwnKSA+PSAwKVxuICAgICkge1xuICAgICAgLy8gU1ZHIElOUFVUIEhBTkRMSU5HXG5cbiAgICAgIGxvZyg0LCAnW2V4cG9ydF0gVHJlYXRpbmcgYXMgU1ZHLicpO1xuXG4gICAgICAvLyBJZiBpbnB1dCBpcyBhbHNvIHN2ZywganVzdCByZXR1cm4gaXRcbiAgICAgIGlmIChleHBvcnRPcHRpb25zLnR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgIHJldHVybiBjaGFydDtcbiAgICAgIH1cblxuICAgICAgaXNTVkcgPSB0cnVlO1xuICAgICAgY29uc3Qgc2V0UGFnZUJlbmNoID0gYmVuY2htYXJrKCdTZXR0aW5nIGNvbnRlbnQnKTtcbiAgICAgIGF3YWl0IHBhZ2Uuc2V0Q29udGVudChzdmdUZW1wbGF0ZShjaGFydCkpO1xuICAgICAgc2V0UGFnZUJlbmNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEpTT04gQ29uZmlnIGhhbmRsaW5nXG5cbiAgICAgIGxvZyg0LCAnW2V4cG9ydF0gVHJlYXRpbmcgYXMgY29uZmlnLicpO1xuXG4gICAgICAvLyBOZWVkIHRvIHBlcmZvcm0gc3RyYWlnaHQgaW5qZWN0XG4gICAgICBpZiAoZXhwb3J0T3B0aW9ucy5zdHJJbmopIHtcbiAgICAgICAgLy8gSW5qZWN0aW9uIGJhc2VkIGNvbmZpZ3VyYXRpb24gZXhwb3J0XG4gICAgICAgIGNvbnN0IHNldFBhZ2VCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyBwYWdlIGNvbnRlbnQgKGluamVjdCknKTtcblxuICAgICAgICBhd2FpdCBzZXRBc0NvbmZpZyhcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgIGhlaWdodDogZXhwb3J0T3B0aW9ucy5oZWlnaHQsXG4gICAgICAgICAgICAgIHdpZHRoOiBleHBvcnRPcHRpb25zLndpZHRoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG5cbiAgICAgICAgc2V0UGFnZUJlbmNoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCYXNpYyBjb25maWd1cmF0aW9uIGV4cG9ydFxuXG4gICAgICAgIGNoYXJ0LmNoYXJ0LmhlaWdodCA9IGV4cG9ydE9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICBjaGFydC5jaGFydC53aWR0aCA9IGV4cG9ydE9wdGlvbnMud2lkdGg7XG5cbiAgICAgICAgY29uc3Qgc2V0Q29udGVudEJlbmNoID0gYmVuY2htYXJrKCdTZXR0aW5nIHBhZ2UgY29udGVudCAoY29uZmlnKScpO1xuICAgICAgICBhd2FpdCBzZXRBc0NvbmZpZyhwYWdlLCBjaGFydCwgb3B0aW9ucyk7XG4gICAgICAgIHNldENvbnRlbnRCZW5jaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN2Z0JlbmNoKCk7XG4gICAgY29uc3QgcmVzQmVuY2ggPSBiZW5jaG1hcmsoJ0FwcGx5aW5nIHJlc291cmNlcycpO1xuXG4gICAgLy8gVXNlIHJlc291cmNlc1xuICAgIGNvbnN0IHJlc291cmNlcyA9IG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXM7XG4gICAgaWYgKHJlc291cmNlcykge1xuICAgICAgLy8gTG9hZCBjdXN0b20gSlMgY29kZVxuICAgICAgaWYgKHJlc291cmNlcy5qcykge1xuICAgICAgICBpbmplY3RlZFJlc291cmNlcy5wdXNoKFxuICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU2NyaXB0VGFnKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlc291cmNlcy5qc1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvYWQgc2NyaXB0cyBmcm9tIGFsbCBjdXN0b20gZmlsZXNcbiAgICAgIGlmIChyZXNvdXJjZXMuZmlsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHJlc291cmNlcy5maWxlcykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpc0xvY2FsID0gIWZpbGUuc3RhcnRzV2l0aCgnaHR0cCcpID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBBZGQgZWFjaCBjdXN0b20gc2NyaXB0IGZyb20gcmVzb3VyY2VzJyBmaWxlc1xuICAgICAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcbiAgICAgICAgICAgICAgYXdhaXQgcGFnZS5hZGRTY3JpcHRUYWcoXG4gICAgICAgICAgICAgICAgaXNMb2NhbFxuICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVhZEZpbGVTeW5jKGZpbGUsICd1dGY4JylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdXJsOiBmaWxlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIChub3RpY2UpIHtcbiAgICAgICAgICAgIGxvZyg0LCAnW2V4cG9ydF0gSlMgZmlsZSBub3QgZm91bmQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNzc0JlbmNoID0gYmVuY2htYXJrKCdMb2FkaW5nIGNzcycpO1xuXG4gICAgICAvLyBMb2FkIENTU1xuICAgICAgaWYgKHJlc291cmNlcy5jc3MpIHtcbiAgICAgICAgbGV0IGNzc0ltcG9ydHMgPSByZXNvdXJjZXMuY3NzLm1hdGNoKC9AaW1wb3J0XFxzKihbXjtdKik7L2cpO1xuICAgICAgICBpZiAoY3NzSW1wb3J0cykge1xuICAgICAgICAgIC8vIEhhbmRsZSBjc3Mgc2VjdGlvblxuICAgICAgICAgIGZvciAobGV0IGNzc0ltcG9ydFBhdGggb2YgY3NzSW1wb3J0cykge1xuICAgICAgICAgICAgaWYgKGNzc0ltcG9ydFBhdGgpIHtcbiAgICAgICAgICAgICAgY3NzSW1wb3J0UGF0aCA9IGNzc0ltcG9ydFBhdGhcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgndXJsKCcsICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKCdAaW1wb3J0JywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICcnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC87LywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcKS9nLCAnJylcbiAgICAgICAgICAgICAgICAudHJpbSgpO1xuXG4gICAgICAgICAgICAgIC8vIEFkZCBlYWNoIGN1c3RvbSBjc3MgZnJvbSByZXNvdXJjZXNcbiAgICAgICAgICAgICAgaWYgKGNzc0ltcG9ydFBhdGguc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU3R5bGVUYWcoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGNzc0ltcG9ydFBhdGhcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dGaWxlUmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU3R5bGVUYWcoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLmpvaW4oX19iYXNlZGlyLCBjc3NJbXBvcnRQYXRoKVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIENTUyBzZWN0aW9uIHdpbGwgYmUgY29udGVudCBieSBub3dcbiAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcbiAgICAgICAgICBhd2FpdCBwYWdlLmFkZFN0eWxlVGFnKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlc291cmNlcy5jc3MucmVwbGFjZSgvQGltcG9ydFxccyooW147XSopOy9nLCAnJykgfHwgJyAnXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY3NzQmVuY2goKTtcbiAgICB9XG5cbiAgICByZXNCZW5jaCgpO1xuXG4gICAgLy8gR2V0IHRoZSByZWFsIGNoYXJ0IHNpemVcbiAgICBjb25zdCBzaXplID0gaXNTVkdcbiAgICAgID8gYXdhaXQgcGFnZS4kZXZhbChcbiAgICAgICAgICAnI2NoYXJ0LWNvbnRhaW5lciBzdmc6Zmlyc3Qtb2YtdHlwZScsXG4gICAgICAgICAgYXN5bmMgKGVsZW1lbnQsIHNjYWxlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBjaGFydEhlaWdodDogZWxlbWVudC5oZWlnaHQuYmFzZVZhbC52YWx1ZSAqIHNjYWxlLFxuICAgICAgICAgICAgICBjaGFydFdpZHRoOiBlbGVtZW50LndpZHRoLmJhc2VWYWwudmFsdWUgKiBzY2FsZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhcnNlRmxvYXQoZXhwb3J0T3B0aW9ucy5zY2FsZSlcbiAgICAgICAgKVxuICAgICAgOiBhd2FpdCBwYWdlLmV2YWx1YXRlKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgICAgICBjb25zdCB7IGNoYXJ0SGVpZ2h0LCBjaGFydFdpZHRoIH0gPSB3aW5kb3cuSGlnaGNoYXJ0cy5jaGFydHNbMF07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNoYXJ0SGVpZ2h0LFxuICAgICAgICAgICAgY2hhcnRXaWR0aFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgdnBCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyB2aWV3cG9ydCcpO1xuXG4gICAgLy8gU2V0IGZpbmFsIGhlaWdodCBhbmQgd2lkdGggZm9yIHZpZXdwb3J0XG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBNYXRoLmNlaWwoc2l6ZT8uY2hhcnRIZWlnaHQgfHwgZXhwb3J0T3B0aW9ucy5oZWlnaHQpO1xuICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSBNYXRoLmNlaWwoc2l6ZT8uY2hhcnRXaWR0aCB8fCBleHBvcnRPcHRpb25zLndpZHRoKTtcblxuICAgIC8vIFNldCB0aGUgdmlld3BvcnQgZm9yIHRoZSBmaXJzdCB0aW1lXG4gICAgLy8gTk9URTogdGhlIGNhbGwgdG8gc2V0Vmlld3BvcnQgaXMgZXhwZW5zaXZlIC0gY2FuIHdlIGdldCBhd2F5IHdpdGggb25seVxuICAgIC8vIGNhbGxpbmcgaXQgb25jZSwgZS5nLiBtb3ZpbmcgdGhpcyBvbmUgaW50byB0aGUgaXNTVkcgY29uZGl0aW9uIGJlbG93P1xuICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQoe1xuICAgICAgaGVpZ2h0OiB2aWV3cG9ydEhlaWdodCxcbiAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoLFxuICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IGlzU1ZHID8gMSA6IHBhcnNlRmxvYXQoZXhwb3J0T3B0aW9ucy5zY2FsZSlcbiAgICB9KTtcblxuICAgIC8vIFByZXBhcmUgYSB6b29tIGNhbGxiYWNrIGZvciB0aGUgbmV4dCBldmFsdWF0ZSBjYWxsXG4gICAgY29uc3Qgem9vbUNhbGxiYWNrID0gaXNTVkdcbiAgICAgID8gLy8gSW4gY2FzZSBvZiBTVkcgdGhlIHpvb20gbXVzdCBiZSBzZXQgZGlyZWN0bHkgZm9yIGJvZHlcbiAgICAgICAgKHNjYWxlKSA9PiB7XG4gICAgICAgICAgLy8gU2V0IHRoZSB6b29tIGFzIHNjYWxlXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS56b29tID0gc2NhbGU7XG5cbiAgICAgICAgICAvLyBTZXQgdGhlIG1hcmdpbiB0byAwcHhcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICcwcHgnO1xuICAgICAgICB9XG4gICAgICA6IC8vIE5vIG5lZWQgZm9yIHN1Y2ggc2NhbGUgbWFuaXB1bGF0aW9uIGluIGNhc2Ugb2Ygb3RoZXIgdHlwZXMgb2YgZXhwb3J0c1xuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHpvb20gZm9yIG90aGVyIGV4cG9ydHMgdGhhbiB0byBTVkdzXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS56b29tID0gMTtcbiAgICAgICAgfTtcblxuICAgIC8vIFNldCB0aGUgem9vbSBhY2NvcmRpbmdseVxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoem9vbUNhbGxiYWNrLCBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpKTtcblxuICAgIC8vIEdldCB0aGUgY2xpcCByZWdpb24gZm9yIHRoZSBwYWdlXG4gICAgY29uc3QgeyBoZWlnaHQsIHdpZHRoLCB4LCB5IH0gPSBhd2FpdCBnZXRDbGlwUmVnaW9uKHBhZ2UpO1xuXG4gICAgaWYgKCFpc1NWRykge1xuICAgICAgLy8gU2V0IHRoZSBmaW5hbCB2aWV3cG9ydCBub3cgdGhhdCB3ZSBoYXZlIHRoZSByZWFsIGhlaWdodFxuICAgICAgYXdhaXQgcGFnZS5zZXRWaWV3cG9ydCh7XG4gICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHdpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGhlaWdodCksXG4gICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2cEJlbmNoKCk7XG5cbiAgICBsZXQgZGF0YTtcblxuICAgIGNvbnN0IGV4cEJlbmNobWFyayA9IGJlbmNobWFyaygnUmFzdGVyaXppbmcgY2hhcnQnKTtcblxuICAgIC8vIFJBU1RFUklaQVRJT05cbiAgICBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAnc3ZnJykge1xuICAgICAgLy8gU1ZHXG4gICAgICBkYXRhID0gYXdhaXQgY3JlYXRlU1ZHKHBhZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAncG5nJyB8fCBleHBvcnRPcHRpb25zLnR5cGUgPT09ICdqcGVnJykge1xuICAgICAgLy8gUE5HIG9yIEpQRUdcbiAgICAgIGRhdGEgPSBhd2FpdCBjcmVhdGVJbWFnZShwYWdlLCBleHBvcnRPcHRpb25zLnR5cGUsICdiYXNlNjQnLCB7XG4gICAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0LFxuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3BkZicpIHtcbiAgICAgIC8vIFBERlxuICAgICAgZGF0YSA9IGF3YWl0IGNyZWF0ZVBERihwYWdlLCB2aWV3cG9ydEhlaWdodCwgdmlld3BvcnRXaWR0aCwgJ2Jhc2U2NCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgVW5zdXBwb3J0ZWQgb3V0cHV0IGZvcm1hdCAke2V4cG9ydE9wdGlvbnMudHlwZX1gO1xuICAgIH1cblxuICAgIC8vIERlc3Ryb3kgb2xkIGNoYXJ0cyBhZnRlciB0aGUgZXhwb3J0IGlzIGRvbmVcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgY29uc3Qgb2xkQ2hhcnRzID0gSGlnaGNoYXJ0cy5jaGFydHM7XG5cbiAgICAgIC8vIENoZWNrIGluIGFueSBhbHJlYWR5IGV4aXN0aW5nIGNoYXJ0c1xuICAgICAgaWYgKG9sZENoYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgLy8gRGVzdHJveSBvbGQgY2hhcnRzXG4gICAgICAgIGZvciAoY29uc3Qgb2xkQ2hhcnQgb2Ygb2xkQ2hhcnRzKSB7XG4gICAgICAgICAgb2xkQ2hhcnQgJiYgb2xkQ2hhcnQuZGVzdHJveSgpO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICAgIEhpZ2hjaGFydHMuY2hhcnRzLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGV4cEJlbmNobWFyaygpO1xuICAgIGV4cG9ydEJlbmNoKCk7XG5cbiAgICBhd2FpdCBjbGVhckluamVjdGVkKHBhZ2UpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgYXdhaXQgY2xlYXJJbmplY3RlZChwYWdlKTtcbiAgICBsb2coMSwgYFtleHBvcnRdIEVycm9yIGVuY291bnRlcmVkIGR1cmluZyBleHBvcnQ6ICR7ZXJyb3J9YCk7XG5cbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjIsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuY29uc3QgdGltZXJzID0ge307XG5cbi8vIFRPRE86IFJlYWQgZnJvbSBjb25maWdcbmxldCBlbmFibGVkID0gZmFsc2U7XG5cbmV4cG9ydCBkZWZhdWx0IChpZCkgPT4ge1xuICBpZiAoIWVuYWJsZWQpIHtcbiAgICByZXR1cm4gKCkgPT4ge307XG4gIH1cblxuICB0aW1lcnNbaWRdID0gbmV3IERhdGUoKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsb2coXG4gICAgICAzLFxuICAgICAgYFtiZW5jaG1hcmtdIC0gJHtpZH06ICR7bmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aW1lcnNbaWRdLmdldFRpbWUoKX1tc2BcbiAgICApO1xuICB9O1xufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgY3NzVGVtcGxhdGUgZnJvbSAnLi9jc3MuanMnO1xuXG5leHBvcnQgZGVmYXVsdCAoY2hhcnQpID0+IGBcbjwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz0nZW4tVVMnPlxuICA8aGVhZD5cbiAgICA8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD11dGYtOFwiPlxuICAgIDx0aXRsZT5IaWdoY2FydHMgRXhwb3J0PC90aXRsZT5cbiAgPC9oZWFkPlxuICA8c3R5bGU+XG4gICAgJHtjc3NUZW1wbGF0ZSgpfVxuICA8L3N0eWxlPlxuICA8Ym9keT5cbiAgICA8ZGl2IGlkPVwiY2hhcnQtY29udGFpbmVyXCI+XG4gICAgICAke2NoYXJ0fVxuICAgIDwvZGl2PlxuICA8L2JvZHk+XG48L2h0bWw+XG5cbmA7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgUG9vbCB9IGZyb20gJ3Rhcm4nO1xuaW1wb3J0IHtcbiAgY2xvc2UsXG4gIG5ld1BhZ2UgYXMgYnJvd3Nlck5ld1BhZ2UsXG4gIGNyZWF0ZSBhcyBjcmVhdGVCcm93c2VyXG59IGZyb20gJy4vYnJvd3Nlci5qcyc7XG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XG5cbmltcG9ydCBwdXBwZXRlZXJFeHBvcnQgZnJvbSAnLi9leHBvcnQuanMnO1xuXG5sZXQgcGVyZm9ybWVkRXhwb3J0cyA9IDA7XG5sZXQgZXhwb3J0QXR0ZW1wdHMgPSAwO1xubGV0IHRpbWVTcGVudCA9IDA7XG5sZXQgZHJvcHBlZEV4cG9ydHMgPSAwO1xubGV0IHNwZW50QXZlcmFnZSA9IDA7XG5sZXQgcG9vbENvbmZpZyA9IHt9O1xuXG4vLyBUaGUgcG9vbCBpbnN0YW5jZVxubGV0IHBvb2wgPSBmYWxzZTtcblxuLy8gQ3VzdG9tIHB1cHBldGVlciBhcmd1bWVudHNcbmxldCBwdXBwZXRlZXJBcmdzO1xuXG5jb25zdCBmYWN0b3J5ID0ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyB3b3JrZXIuXG4gICAqXG4gICAqIEByZXR1cm4ge29iamVjdH0gLSBBbiBvYmplY3Qgd2l0aCB0aGUgaWQgb2YgYSByZXNvdXJjZSwgdGhlIHdvcmsgY291bnQgYW5kXG4gICAqIGEgcmVmZXJlbmNlIHRvIHRoZSBicm93c2VyIHBhZ2UuXG4gICAqL1xuICBjcmVhdGU6IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBpZCA9IHV1aWQoKTtcbiAgICBsZXQgcGFnZSA9IGZhbHNlO1xuXG4gICAgY29uc3QgcyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHBhZ2UgPSBhd2FpdCBicm93c2VyTmV3UGFnZSgpO1xuXG4gICAgICBpZiAoIXBhZ2UgfHwgcGFnZS5pc0Nsb3NlZCgpKSB7XG4gICAgICAgIHRocm93ICdpbnZhbGlkIHBhZ2UnO1xuICAgICAgfVxuXG4gICAgICBsb2coXG4gICAgICAgIDMsXG4gICAgICAgIGBbcG9vbF0gU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYSB3b3JrZXIgJHtpZH0gLSB0b29rICR7XG4gICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzXG4gICAgICAgIH0gbXMuYFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nKFxuICAgICAgICAxLFxuICAgICAgICBgW3Bvb2xdIEVycm9yIGNyZWF0aW5nIGEgbmV3IHBhZ2UgaW4gcG9vbCBlbnRyeSBjcmVhdGlvbiEgJHtlcnJvcn1gXG4gICAgICApO1xuXG4gICAgICB0aHJvdyAnRXJyb3IgY3JlYXRpbmcgcGFnZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkLFxuICAgICAgcGFnZSxcbiAgICAgIC8vIFRyeSB0byBkaXN0cmlidXRlIHRoZSBpbml0aWFsIHdvcmsgY291bnRcbiAgICAgIHdvcmtDb3VudDogTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKHBvb2xDb25maWcud29ya0xpbWl0IC8gMikpXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIGEgd29ya2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gd29ya2VySGFuZGxlIC0gQSBicm93c2VyJ3MgaW5zdGFuY2UuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IC0gQm9vbCB0aGF0IGluZGljYXRlcyBpZiBhIHJlc291cmNlIGlzIHZhbGlkIG9yIG5vdC5cbiAgICovXG4gIHZhbGlkYXRlOiAod29ya2VySGFuZGxlKSA9PiB7XG4gICAgaWYgKFxuICAgICAgcG9vbENvbmZpZy53b3JrTGltaXQgJiZcbiAgICAgICsrd29ya2VySGFuZGxlLndvcmtDb3VudCA+IHBvb2xDb25maWcud29ya0xpbWl0XG4gICAgKSB7XG4gICAgICBsb2coXG4gICAgICAgIDMsXG4gICAgICAgIGBbcG9vbF0gV29ya2VyIGZhaWxlZCB2YWxpZGF0aW9uOmAsXG4gICAgICAgIGBleGNlZWRlZCB3b3JrIGxpbWl0IChsaW1pdCBpcyAke3Bvb2xDb25maWcud29ya0xpbWl0fSlgXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogRGVzdHJveXMgYSB3b3JrZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB3b3JrZXJIYW5kbGUgLSBBIGJyb3dzZXIncyBpbnN0YW5jZS5cbiAgICovXG4gIGRlc3Ryb3k6ICh3b3JrZXJIYW5kbGUpID0+IHtcbiAgICBsb2coMywgYFtwb29sXSBEZXN0cm95aW5nIHBvb2wgZW50cnkgJHt3b3JrZXJIYW5kbGUuaWR9LmApO1xuXG4gICAgaWYgKHdvcmtlckhhbmRsZS5wYWdlKSB7XG4gICAgICAvLyBXZSBkb24ndCByZWFsbHkgbmVlZCB0byB3YWl0IGFyb3VuZCBmb3IgdGhpcy5cbiAgICAgIHdvcmtlckhhbmRsZS5wYWdlLmNsb3NlKCk7XG4gICAgfVxuICB9LFxuXG4gIC8vIExvZ2dlciBmdW5jdGlvblxuICBsb2c6IChtZXNzYWdlLCBsb2dMZXZlbCkgPT4gY29uc29sZS5sb2coYCR7bG9nTGV2ZWx9OiAke21lc3NhZ2V9YClcbn07XG5cbi8qKlxuICogSW5pdHMgdGhlIHBvb2wgb2YgcmVzb3VyY2VzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBQb29sIGNvbmZpZ3VyYXRpb24gYWxvbmcgd2l0aCBjdXN0b20gcHVwcGV0ZWVyXG4gKiBhcmd1bWVudHMgZm9yIHRoZSBwdXBwZXRlZXIubGF1bmNoIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgaW5pdCA9IGFzeW5jIChjb25maWcpID0+IHtcbiAgLy8gVGhlIG5ld2VzdCBwdXBwZXRlZXIgYXJndW1lbnRzIGZvciB0aGUgYnJvd3NlciBjcmVhdGlvblxuICBwdXBwZXRlZXJBcmdzID0gY29uZmlnLnB1cHBldGVlckFyZ3M7XG5cbiAgLy8gV2FpdCB1bnRpbCB3ZSd2ZSBzdWNlc3NmdWxseSBjcmVhdGVkIGEgYnJvd3NlciBpbnN0YW5jZS5cbiAgdHJ5IHtcbiAgICBhd2FpdCBjcmVhdGVCcm93c2VyKHB1cHBldGVlckFyZ3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nKDAsICdbcG9vbHxicm93c2VyXScsIGUpO1xuICB9XG5cbiAgLy8gRm9yIHRoZSBtb2R1bGUgc2NvcGUgdXNhZ2VcbiAgcG9vbENvbmZpZyA9IGNvbmZpZyAmJiBjb25maWcucG9vbCA/IHsgLi4uY29uZmlnLnBvb2wgfSA6IHt9O1xuXG4gIGxvZyhcbiAgICAzLFxuICAgICdbcG9vbF0gSW5pdGlhbGl6aW5nIHBvb2w6JyxcbiAgICBgbWluICR7cG9vbENvbmZpZy5pbml0aWFsV29ya2Vyc30sIG1heCAke3Bvb2xDb25maWcubWF4V29ya2Vyc30uYFxuICApO1xuXG4gIGlmIChwb29sKSB7XG4gICAgcmV0dXJuIGxvZyhcbiAgICAgIDQsXG4gICAgICAnW3Bvb2xdIEFscmVhZHkgaW5pdGlhbGl6ZWQsIHBsZWFzZSBraWxsIGl0IGJlZm9yZSBjcmVhdGluZyBhIG5ldyBvbmUuJ1xuICAgICk7XG4gIH1cblxuICAvLyBBdHRhY2ggcHJvY2VzcycgZXhpdCBsaXN0ZW5lcnNcbiAgaWYgKHBvb2xDb25maWcubGlzdGVuVG9Qcm9jZXNzRXhpdHMpIHtcbiAgICBhdHRhY2hQcm9jZXNzRXhpdExpc3RlbmVycygpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBDcmVhdGUgYSBwb29sIGFsb25nIHdpdGggYSBtaW5pbWFsIG51bWJlciBvZiByZXNvdXJjZXNcbiAgICBwb29sID0gbmV3IFBvb2woe1xuICAgICAgLy8gR2V0IHRoZSBjcmVhdGUvdmFsaWRhdGUvZGVzdHJveS9sb2cgZnVuY3Rpb25zXG4gICAgICAuLi5mYWN0b3J5LFxuICAgICAgbWluOiBwb29sQ29uZmlnLmluaXRpYWxXb3JrZXJzLFxuICAgICAgbWF4OiBwb29sQ29uZmlnLm1heFdvcmtlcnMsXG4gICAgICBjcmVhdGVSZXRyeUludGVydmFsTWlsbGlzOiAyMDAsXG4gICAgICBjcmVhdGVUaW1lb3V0TWlsbGlzOiBwb29sQ29uZmlnLmFjcXVpcmVUaW1lb3V0LFxuICAgICAgYWNxdWlyZVRpbWVvdXRNaWxsaXM6IHBvb2xDb25maWcuYWNxdWlyZVRpbWVvdXQsXG4gICAgICBkZXN0cm95VGltZW91dE1pbGxpczogcG9vbENvbmZpZy5hY3F1aXJlVGltZW91dCxcbiAgICAgIGlkbGVUaW1lb3V0TWlsbGlzOiBwb29sQ29uZmlnLnRpbWVvdXRUaHJlc2hvbGQsXG4gICAgICByZWFwSW50ZXJ2YWxNaWxsaXM6IDEwMDAsIC8vIHBvb2xDb25maWcucmVhcGVyID8gMTIwMDAwIDogMCwgZm9yIG5vd1xuICAgICAgcHJvcGFnYXRlQ3JlYXRlRXJyb3I6IGZhbHNlXG4gICAgfSk7XG5cbiAgICAvLyBTZXQgZXZlbnRzXG4gICAgcG9vbC5vbignY3JlYXRlRmFpbCcsIChldmVudElkLCBlcnIpID0+IHtcbiAgICAgIGxvZyhcbiAgICAgICAgMSxcbiAgICAgICAgYFtwb29sXSBFcnJvciB3aGVuIGNyZWF0aW5nIHdvcmtlciBvZiBhbiBldmVudCBpZCAke2V2ZW50SWR9OmAsXG4gICAgICAgIGVyclxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHBvb2wub24oJ2FjcXVpcmVGYWlsJywgKGV2ZW50SWQsIGVycikgPT4ge1xuICAgICAgbG9nKFxuICAgICAgICAxLFxuICAgICAgICBgW3Bvb2xdIEVycm9yIHdoZW4gYWNxdWlyaW5nIHdvcmtlciBvZiBhbiBldmVudCBpZCAke2V2ZW50SWR9OmAsXG4gICAgICAgIGVyclxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHBvb2wub24oJ2Rlc3Ryb3lGYWlsJywgKGV2ZW50SWQsIHJlc291cmNlLCBlcnIpID0+IHtcbiAgICAgIGxvZyhcbiAgICAgICAgMSxcbiAgICAgICAgYFtwb29sXSBFcnJvciB3aGVuIGRlc3Ryb3lpbmcgd29ya2VyIG9mIGFuIGlkICR7cmVzb3VyY2UuaWR9LCBldmVudCBpZCAke2V2ZW50SWR9OmAsXG4gICAgICAgIGVyclxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHBvb2wub24oJ3JlbGVhc2UnLCAocmVzb3VyY2UpID0+IHtcbiAgICAgIGxvZyg0LCBgW3Bvb2xdIFJlbGVhc2luZyBhIHdvcmtlciBvZiBhbiBpZCAke3Jlc291cmNlLmlkfWApO1xuICAgIH0pO1xuXG4gICAgcG9vbC5vbignZGVzdHJveVN1Y2Nlc3MnLCAoZXZlbnRJZCwgcmVzb3VyY2UpID0+IHtcbiAgICAgIGxvZyg0LCBgW3Bvb2xdIERlc3Ryb3llZCBhIHdvcmtlciBvZiBhbiBpZCAke3Jlc291cmNlLmlkfWApO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaW5pdGlhbFJlc291cmNlcyA9IFtdO1xuICAgIC8vIENyZWF0ZSBhbiBpbml0aWFsIG51bWJlciBvZiByZXNvdXJjZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvb2xDb25maWcuaW5pdGlhbFdvcmtlcnM7IGkrKykge1xuICAgICAgaW5pdGlhbFJlc291cmNlcy5wdXNoKGF3YWl0IHBvb2wuYWNxdWlyZSgpLnByb21pc2UpO1xuICAgIH1cblxuICAgIC8vIFJlbGVhc2UgdGhlIGluaXRpYWwgbnVtYmVyIG9mIHJlc291cmNlcyBiYWNrIHRvIHRoZSBwb29sXG4gICAgaW5pdGlhbFJlc291cmNlcy5mb3JFYWNoKChyZXNvdXJjZSkgPT4ge1xuICAgICAgcG9vbC5yZWxlYXNlKHJlc291cmNlKTtcbiAgICB9KTtcblxuICAgIGxvZyhcbiAgICAgIDMsXG4gICAgICBgW3Bvb2xdIFRoZSBwb29sIGlzIHJlYWR5IHdpdGggJHtwb29sQ29uZmlnLmluaXRpYWxXb3JrZXJzfSBpbml0aWFsIHJlc291cmNlcyB3YWl0aW5nLmBcbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZygxLCBgW3Bvb2xdIENvdWxkbid0IGNyZWF0ZSB0aGUgd29ya2VyIHBvb2wgJHtlcnJvcn1gKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLyoqXG4gKiBBdHRhY2hlcyBwcm9jZXNzJyBleGl0IGxpc3RlbmVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFByb2Nlc3NFeGl0TGlzdGVuZXJzKCkge1xuICBsb2coNCwgJ1twb29sXSBBdHRhY2hpbmcgZXhpdCBsaXN0ZW5lcnMgdG8gdGhlIHByb2Nlc3MuJyk7XG5cbiAgLy8gS2lsbCBhbGwgcG9vbCByZXNvdXJjZXMgb24gZXhpdFxuICBwcm9jZXNzLm9uKCdleGl0JywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGtpbGxQb29sKCk7XG4gIH0pO1xuXG4gIC8vIEhhbmRsZXIgZm9yIHRoZSBTSUdJTlRcbiAgcHJvY2Vzcy5vbignU0lHSU5UJywgKG5hbWUsIGNvZGUpID0+IHtcbiAgICBsb2coNCwgYFRoZSAke25hbWV9IGV2ZW50IHdpdGggY29kZTogJHtjb2RlfS5gKTtcbiAgICBwcm9jZXNzLmV4aXQoMSk7XG4gIH0pO1xuXG4gIC8vIEhhbmRsZXIgZm9yIHRoZSBTSUdURVJNXG4gIHByb2Nlc3Mub24oJ1NJR1RFUk0nLCAobmFtZSwgY29kZSkgPT4ge1xuICAgIGxvZyg0LCBgVGhlICR7bmFtZX0gZXZlbnQgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgfSk7XG5cbiAgLy8gSGFuZGxlciBmb3IgdGhlIHVuY2F1Z2h0RXhjZXB0aW9uXG4gIHByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgYXN5bmMgKGVycm9yLCBuYW1lKSA9PiB7XG4gICAgbG9nKDQsIGBUaGUgJHtuYW1lfSBlcnJvciwgbWVzc2FnZTogJHtlcnJvci5tZXNzYWdlfS5gKTtcbiAgfSk7XG59XG5cbi8qKlxuICogS2lsbHMgdGhlIHBvb2wgYW5kIGZsdXNoIHRoZSBicm93c2VyIGluc3RhbmNlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24ga2lsbFBvb2woKSB7XG4gIGxvZygzLCAnW3Bvb2xdIEtpbGxpbmcgYWxsIHdvcmtlcnMuJyk7XG5cbiAgLy8gUmV0dXJuIHRydWUgd2hlbiB0aGUgcG9vbCBpcyBhbHJlYWR5IGRlc3Ryb3llZFxuICBpZiAocG9vbC5kZXN0cm95ZWQpIHtcbiAgICAvLyBDbG9zZSB0aGUgYnJvd3NlciBpbnN0YW5jZSBpZiBzdGlsbCBjb25uZWN0ZWRcbiAgICBhd2FpdCBjbG9zZSgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gSWYgc3RpbGwgYWxpdmUsIGRlc3Ryb3kgdGhlIHBvb2wgb2YgcGFnZXMgYmVmb3JlIGNsb3NpbmcgYSBicm93c2VyXG4gIGF3YWl0IHBvb2wuZGVzdHJveSgpO1xuXG4gIC8vIENsb3NlIHRoZSBicm93c2VyIGluc3RhbmNlXG4gIGF3YWl0IGNsb3NlKCk7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFBvc3RzIHdvcmsgdG8gdGhlIHBvb2wuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNoYXJ0IC0gQ2hhcnQncyBvcHRpb25zLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBwb3N0V29yayA9IGFzeW5jIChjaGFydCwgb3B0aW9ucykgPT4ge1xuICBsZXQgd29ya2VySGFuZGxlO1xuXG4gIC8vIEhhbmRsZSBmYWlsIGNvbmRpdGlvbnNcbiAgY29uc3QgZmFpbCA9IChtc2cpID0+IHtcbiAgICArK2Ryb3BwZWRFeHBvcnRzO1xuXG4gICAgaWYgKHdvcmtlckhhbmRsZSkge1xuICAgICAgcG9vbC5yZWxlYXNlKHdvcmtlckhhbmRsZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgJ0luIHBvb2wucG9zdFdvcms6ICcgKyBtc2c7XG4gIH07XG5cbiAgbG9nKDQsICdbcG9vbF0gV29yayByZWNlaXZlZCwgc3RhcnRpbmcgdG8gcHJvY2Vzcy4nKTtcblxuICBpZiAocG9vbENvbmZpZy5iZW5jaG1hcmtpbmcpIHtcbiAgICBnZXRQb29sSW5mbygpO1xuICB9XG5cbiAgKytleHBvcnRBdHRlbXB0cztcblxuICBpZiAoIXBvb2wpIHtcbiAgICBsb2coMSwgJ1twb29sXSBXb3JrIHJlY2VpdmVkLCBidXQgcG9vbCBoYXMgbm90IGJlZW4gc3RhcnRlZC4nKTtcbiAgICByZXR1cm4gZmFpbCgnUG9vbCBpcyBub3QgaW5pdGVkIGJ1dCB3b3JrIHdhcyBwb3N0ZWQgdG8gaXQhJyk7XG4gIH1cblxuICAvLyBBY3F1aXJlIHRoZSB3b3JrZXIgYWxvbmcgd2l0aCB0aGUgaWQgb2YgcmVzb3VyY2UgYW5kIHdvcmsgY291bnRcbiAgdHJ5IHtcbiAgICBsb2coNCwgJ1twb29sXSBBY3F1aXJpbmcgd29ya2VyJyk7XG4gICAgd29ya2VySGFuZGxlID0gYXdhaXQgcG9vbC5hY3F1aXJlKCkucHJvbWlzZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZmFpbChgW3Bvb2xdIEVycm9yIHdoZW4gYWNxdWlyaW5nIGF2YWlsYWJsZSBlbnRyeTogJHtlcnJvcn1gKTtcbiAgfVxuXG4gIGxvZyg0LCAnW3Bvb2xdIEFjcXVpcmVkIHdvcmtlciBoYW5kbGUnKTtcblxuICBpZiAoIXdvcmtlckhhbmRsZS5wYWdlKSB7XG4gICAgcmV0dXJuIGZhaWwoJ1Jlc29sdmVkIHdvcmtlciBwYWdlIGlzIGludmFsaWQ6IHBvb2wgc2V0dXAgaXMgd29ua3knKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gU2F2ZSB0aGUgc3RhcnQgdGltZVxuICAgIGxldCB3b3JrU3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIGxvZyg0LCBgW3Bvb2xdIFN0YXJ0aW5nIHdvcmsgb24gcG9vbCBlbnRyeSAke3dvcmtlckhhbmRsZS5pZH0uYCk7XG5cbiAgICAvLyBQZXJmb3JtIGFuIGV4cG9ydCBvbiBhIHB1cHBldGVlciBsZXZlbFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cHBldGVlckV4cG9ydCh3b3JrZXJIYW5kbGUucGFnZSwgY2hhcnQsIG9wdGlvbnMpO1xuXG4gICAgLy8gQ2hlY2sgaWYgaXQncyBhbiBlcnJvclxuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gVE9ETzogSWYgdGhlIGV4cG9ydCBmYWlsZWQgYmVjYXVzZSBwdXBwZXRlZXIgdGltZWQgb3V0LCB3ZSBuZWVkIHRvIGZvcmNlIGtpbGwgdGhlIHdvcmtlciBzbyB3ZSBnZXQgYSBuZXcgcGFnZS4gVGhhdCBuZWVkcyB0byBiZSBoYW5kbGVkIGJldHRlciB0aGFuIHRoaXMgaGFjay5cbiAgICAgIGlmIChyZXN1bHQubWVzc2FnZSA9PT0gJ1Jhc3Rlcml6YXRpb24gdGltZW91dCcpIHtcbiAgICAgICAgd29ya2VySGFuZGxlLnBhZ2UuY2xvc2UoKTtcbiAgICAgICAgd29ya2VySGFuZGxlLnBhZ2UgPSBhd2FpdCBicm93c2VyTmV3UGFnZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFpbChyZXN1bHQpO1xuICAgIH1cblxuICAgIC8vIFJlbGVhc2UgdGhlIHJlc291cmNlIGJhY2sgdG8gdGhlIHBvb2xcbiAgICBwb29sLnJlbGVhc2Uod29ya2VySGFuZGxlKTtcblxuICAgIC8vIFVzZWQgZm9yIHN0YXRpc3RpY3MgaW4gYXZlcmFnZVRpbWUgYW5kIHByb2Nlc3NlZFdvcmtDb3VudCwgd2hpY2hcbiAgICAvLyBpbiB0dXJuIGlzIHVzZWQgYnkgdGhlIC9oZWFsdGggcm91dGUuXG4gICAgY29uc3Qgd29ya0VuZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IGV4cG9ydFRpbWUgPSB3b3JrRW5kIC0gd29ya1N0YXJ0O1xuICAgIHRpbWVTcGVudCArPSBleHBvcnRUaW1lO1xuICAgIHNwZW50QXZlcmFnZSA9IHRpbWVTcGVudCAvICsrcGVyZm9ybWVkRXhwb3J0cztcblxuICAgIGxvZyg0LCBgW3Bvb2xdIFdvcmsgY29tcGxldGVkIGluICR7ZXhwb3J0VGltZX0gbXMuYCk7XG5cbiAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSByZXN1bHRcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgb3B0aW9uc1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZmFpbChgRXJyb3IgdHJ5aW5nIHRvIHBlcmZvcm0gcHVwcGV0ZWVyIGV4cG9ydDogJHtlcnJvcn0uYCk7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0cyB0aGUgcG9vbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBvb2woKSB7XG4gIHJldHVybiBwb29sO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0UG9vbEluZm9KU09OID0gKCkgPT4gKHtcbiAgbWluOiBwb29sLm1pbixcbiAgbWF4OiBwb29sLm1heCxcbiAgc2l6ZTogcG9vbC5zaXplLFxuICBhdmFpbGFibGU6IHBvb2wuYXZhaWxhYmxlLFxuICBib3Jyb3dlZDogcG9vbC5ib3Jyb3dlZCxcbiAgcGVuZGluZzogcG9vbC5wZW5kaW5nLFxuICBzcGFyZVJlc291cmNlQ2FwYWNpdHk6IHBvb2wuc3BhcmVSZXNvdXJjZUNhcGFjaXR5XG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBwb29sJ3MgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb29sSW5mbygpIHtcbiAgY29uc3Qge1xuICAgIG1pbixcbiAgICBtYXgsXG4gICAgc2l6ZSxcbiAgICBhdmFpbGFibGUsXG4gICAgYm9ycm93ZWQsXG4gICAgcGVuZGluZyxcbiAgICBzcGFyZVJlc291cmNlQ2FwYWNpdHlcbiAgfSA9IHBvb2w7XG5cbiAgbG9nKDQsIGBbcG9vbF0gVGhlIG1pbmltdW0gbnVtYmVyIG9mIHJlc291cmNlcyBhbGxvd2VkIGJ5IHBvb2w6ICR7bWlufS5gKTtcbiAgbG9nKDQsIGBbcG9vbF0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc291cmNlcyBhbGxvd2VkIGJ5IHBvb2w6ICR7bWF4fS5gKTtcbiAgbG9nKFxuICAgIDQsXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIGFsbCByZXNvdXJjZXMgaW4gcG9vbCAoZnJlZSBvciBpbiB1c2UpOiAke3NpemV9LmBcbiAgKTtcbiAgbG9nKFxuICAgIDQsXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0aGF0IGFyZSBjdXJyZW50bHkgYXZhaWxhYmxlOiAke2F2YWlsYWJsZX0uYFxuICApO1xuICBsb2coXG4gICAgNCxcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGN1cnJlbnRseSBhY3F1aXJlZDogJHtib3Jyb3dlZH0uYFxuICApO1xuICBsb2coXG4gICAgNCxcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgY2FsbGVycyB3YWl0aW5nIHRvIGFjcXVpcmUgYSByZXNvdXJjZTogJHtwZW5kaW5nfS5gXG4gICk7XG4gIGxvZyhcbiAgICA0LFxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiBob3cgbWFueSBtb3JlIHJlc291cmNlcyBjYW4gdGhlIHBvb2wgbWFuYWdlL2NyZWF0ZTogJHtzcGFyZVJlc291cmNlQ2FwYWNpdHl9LmBcbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0LFxuICBraWxsUG9vbCxcbiAgcG9zdFdvcmssXG4gIGdldFBvb2wsXG4gIGdldFBvb2xJbmZvLFxuICBnZXRQb29sSW5mb0pTT04sXG4gIHdvcmtBdHRlbXB0czogKCkgPT4gZXhwb3J0QXR0ZW1wdHMsXG4gIGRyb3BwZWRXb3JrOiAoKSA9PiBkcm9wcGVkRXhwb3J0cyxcbiAgYXZlcmFnZVRpbWU6ICgpID0+IHNwZW50QXZlcmFnZSxcbiAgcHJvY2Vzc2VkV29ya0NvdW50OiAoKSA9PiBwZXJmb3JtZWRFeHBvcnRzXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBjYWNoZSBmcm9tICcuLi8uLi9jYWNoZS5qcyc7XG5pbXBvcnQgcG9vbCBmcm9tICcuLi8uLi9wb29sLmpzJztcblxuY29uc3QgcGFja2FnZVZlcnNpb24gPSBwcm9jZXNzLmVudi5ucG1fcGFja2FnZV92ZXJzaW9uO1xuY29uc3Qgc2VydmVyU3RhcnRUaW1lID0gbmV3IERhdGUoKTtcblxuLyoqXG4gKiBBZGRzIHRoZSAvaGVhbHRoIHJvdXRlIHdoaWNoIG91dHB1dHMgYmFzaWMgc3RhdHMgZm9yIHRoZSBzZXJ2ZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGFwcCkgPT5cbiAgIWFwcFxuICAgID8gZmFsc2VcbiAgICA6IGFwcC5nZXQoJy9oZWFsdGgnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XG4gICAgICAgICAgc3RhdHVzOiAnT0snLFxuICAgICAgICAgIGJvb3RUaW1lOiBzZXJ2ZXJTdGFydFRpbWUsXG4gICAgICAgICAgdXB0aW1lOlxuICAgICAgICAgICAgTWF0aC5mbG9vcihcbiAgICAgICAgICAgICAgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc2VydmVyU3RhcnRUaW1lLmdldFRpbWUoKSkgLyAxMDAwIC8gNjBcbiAgICAgICAgICAgICkgKyAnIG1pbnV0ZXMnLFxuICAgICAgICAgIHZlcnNpb246IHBhY2thZ2VWZXJzaW9uLFxuICAgICAgICAgIGhpZ2hjaGFydHNWZXJzaW9uOiBjYWNoZS52ZXJzaW9uKCksXG4gICAgICAgICAgYXZlcmFnZVByb2Nlc3NpbmdUaW1lOiBwb29sLmF2ZXJhZ2VUaW1lKCksXG4gICAgICAgICAgcGVyZm9ybWVkRXhwb3J0czogcG9vbC5wcm9jZXNzZWRXb3JrQ291bnQoKSxcbiAgICAgICAgICBmYWlsZWRFeHBvcnRzOiBwb29sLmRyb3BwZWRXb3JrKCksXG4gICAgICAgICAgZXhwb3J0QXR0ZW1wdHM6IHBvb2wud29ya0F0dGVtcHRzKCksXG4gICAgICAgICAgc3VjZXNzUmF0aW86IChwb29sLnByb2Nlc3NlZFdvcmtDb3VudCgpIC8gcG9vbC53b3JrQXR0ZW1wdHMoKSkgKiAxMDAsXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1uYW1lZC1hcy1kZWZhdWx0LW1lbWJlclxuICAgICAgICAgIHBvb2w6IHBvb2wuZ2V0UG9vbEluZm9KU09OKClcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgeyBleGlzdHNTeW5jLCByZWFkRmlsZVN5bmMsIHByb21pc2VzIGFzIGZzUHJvbWlzZXMgfSBmcm9tICdmcyc7XG5cbmltcG9ydCBwcm9tcHRzIGZyb20gJ3Byb21wdHMnO1xuXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XG5pbXBvcnQgeyBkZWVwQ29weSwgaXNPYmplY3QsIHByaW50VXNhZ2UsIHRvQm9vbGVhbiB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHtcbiAgYWJzb2x1dGVQcm9wcyxcbiAgZGVmYXVsdENvbmZpZyxcbiAgbmVzdGVkQXJncyxcbiAgcHJvbXB0c0NvbmZpZ1xufSBmcm9tICcuL3NjaGVtYXMvY29uZmlnLmpzJztcblxubGV0IGdlbmVyYWxPcHRpb25zID0ge307XG5cbi8qKlxuICogR2V0dGVyIGZvciB0aGUgZ2VuZXJhbCBvcHRpb25zLlxuICpcbiAqIEByZXR1cm4ge29iamVjdH0gLSBHZW5lcmFsIG9wdGlvbnMgb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgZ2V0T3B0aW9ucyA9ICgpID0+IGdlbmVyYWxPcHRpb25zO1xuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuZCBzZXRzIHRoZSBnZW5lcmFsIG9wdGlvbnMgZm9yIHRoZSBzZXJ2ZXIgaW5zdGFjZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdXNlck9wdGlvbnMgLSBBZGRpdGlvbmFsIHVzZXIgb3B0aW9ucyAoZS5nLiBmcm9tIHRoZSBub2RlXG4gKiBtb2R1bGUgdXNhZ2UpLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gYXJncyAtIENMSSBhcmd1bWVudHMuXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gR2VuZXJhbCBvcHRpb25zIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNldE9wdGlvbnMgPSAodXNlck9wdGlvbnMsIGFyZ3MpID0+IHtcbiAgLy8gT25seSBmb3IgdGhlIENMSSB1c2FnZVxuICBpZiAoYXJncz8ubGVuZ3RoKSB7XG4gICAgLy8gR2V0IHRoZSBhZGRpdGlvbmFsIG9wdGlvbnMgZnJvbSB0aGUgY3VzdG9tIEpTT04gZmlsZVxuICAgIGdlbmVyYWxPcHRpb25zID0gbG9hZENvbmZpZ0ZpbGUoYXJncyk7XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGRlZmF1bHQgY29uZmlnIHdpdGggYSBjb3JyZWN0IG9wdGlvbiB2YWx1ZXNcbiAgdXBkYXRlRGVmYXVsdENvbmZpZyhkZWZhdWx0Q29uZmlnLCBnZW5lcmFsT3B0aW9ucyk7XG5cbiAgLy8gU2V0IHZhbHVlcyBmb3Igc2VydmVyJ3Mgb3B0aW9ucyBhbmQgcmV0dXJucyB0aGVtXG4gIGdlbmVyYWxPcHRpb25zID0gaW5pdE9wdGlvbnMoZGVmYXVsdENvbmZpZyk7XG5cbiAgLy8gQXBwbHkgdXNlciBvcHRpb25zIGlmIHRoZXJlIGFyZSBhbnlcbiAgaWYgKHVzZXJPcHRpb25zKSB7XG4gICAgLy8gTWVyZ2UgdXNlciBvcHRpb25zXG4gICAgZ2VuZXJhbE9wdGlvbnMgPSBtZXJnZUNvbmZpZ09wdGlvbnMoXG4gICAgICBnZW5lcmFsT3B0aW9ucyxcbiAgICAgIHVzZXJPcHRpb25zLFxuICAgICAgYWJzb2x1dGVQcm9wc1xuICAgICk7XG4gIH1cblxuICAvLyBPbmx5IGZvciB0aGUgQ0xJIHVzYWdlXG4gIGlmIChhcmdzPy5sZW5ndGgpIHtcbiAgICAvLyBQYWlyIHByb3ZpZGVkIGFyZ3VtZW50c1xuICAgIGdlbmVyYWxPcHRpb25zID0gcGFpckFyZ3VtZW50VmFsdWUoZ2VuZXJhbE9wdGlvbnMsIGFyZ3MsIGRlZmF1bHRDb25maWcpO1xuICB9XG5cbiAgLy8gUmV0dXJuIGZpbmFsIGdlbmVyYWwgb3B0aW9uc1xuICByZXR1cm4gZ2VuZXJhbE9wdGlvbnM7XG59O1xuXG4vKipcbiAqIERpc3BsYXlzIGEgcHJvbXB0IGZvciB0aGUgbWFudWFsIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZ0ZpbGVOYW1lIC0gVGhlIG5hbWUgb2YgYSBjb25maWd1cmF0aW9uIGZpbGUuXG4gKi9cbmV4cG9ydCBjb25zdCBtYW51YWxDb25maWcgPSBhc3luYyAoY29uZmlnRmlsZU5hbWUpID0+IHtcbiAgLy8gUHJlcGFyZSBhIGNvbmZpZyBvYmplY3RcbiAgbGV0IGNvbmZpZ0ZpbGUgPSB7fTtcblxuICAvLyBDaGVjayBpZiBwcm92aWRlZCBjb25maWcgZmlsZSBleGlzdHNcbiAgaWYgKGV4aXN0c1N5bmMoY29uZmlnRmlsZU5hbWUpKSB7XG4gICAgY29uZmlnRmlsZSA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGNvbmZpZ0ZpbGVOYW1lLCAndXRmOCcpKTtcbiAgfVxuXG4gIC8vIFF1ZXN0aW9uIGFib3V0IGEgY29uZmlndXJhdGlvbiBjYXRlZ29yeVxuICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChwLCBjYXRlZ29yaWVzKSA9PiB7XG4gICAgbGV0IHF1ZXN0aW9uc0NvdW50ZXIgPSAwO1xuICAgIGxldCBhbGxRdWVzdGlvbnMgPSBbXTtcblxuICAgIC8vIENyZWF0ZSBhIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgaW4gdGhlIG1hbnVhbENvbmZpZyBvYmplY3RcbiAgICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgY2F0ZWdvcmllcykge1xuICAgICAgLy8gTWFyayBlYWNoIG9wdGlvbiB3aXRoIGEgc2VjdGlvblxuICAgICAgcHJvbXB0c0NvbmZpZ1tzZWN0aW9uXSA9IHByb21wdHNDb25maWdbc2VjdGlvbl0ubWFwKChvcHRpb24pID0+ICh7XG4gICAgICAgIC4uLm9wdGlvbixcbiAgICAgICAgc2VjdGlvblxuICAgICAgfSkpO1xuXG4gICAgICAvLyBDb2xsZWN0IHRoZSBxdWVzdGlvbnNcbiAgICAgIGFsbFF1ZXN0aW9ucyA9IFsuLi5hbGxRdWVzdGlvbnMsIC4uLnByb21wdHNDb25maWdbc2VjdGlvbl1dO1xuICAgIH1cblxuICAgIGF3YWl0IHByb21wdHMoYWxsUXVlc3Rpb25zLCB7XG4gICAgICBvblN1Ym1pdDogYXN5bmMgKHByb21wdCwgYW5zd2VyKSA9PiB7XG4gICAgICAgIC8vIEdldCB0aGUgZGVmYXVsdCBtb2R1bGVzXG4gICAgICAgIGlmIChwcm9tcHQubmFtZSA9PT0gJ21vZHVsZXMnKSB7XG4gICAgICAgICAgYW5zd2VyID0gYW5zd2VyLmxlbmd0aFxuICAgICAgICAgICAgPyBhbnN3ZXIubWFwKChtb2R1bGUpID0+IHByb21wdC5jaG9pY2VzW21vZHVsZV0pXG4gICAgICAgICAgICA6IHByb21wdC5jaG9pY2VzO1xuXG4gICAgICAgICAgY29uZmlnRmlsZVtwcm9tcHQuc2VjdGlvbl1bcHJvbXB0Lm5hbWVdID0gYW5zd2VyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbmZpZ0ZpbGVbcHJvbXB0LnNlY3Rpb25dID0gcmVjdXJzaXZlUHJvcHMoXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBjb25maWdGaWxlW3Byb21wdC5zZWN0aW9uXSB8fCB7fSksXG4gICAgICAgICAgICBwcm9tcHQubmFtZS5zcGxpdCgnLicpLFxuICAgICAgICAgICAgYW5zd2VyXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgrK3F1ZXN0aW9uc0NvdW50ZXIgPT09IGFsbFF1ZXN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgZnNQcm9taXNlcy53cml0ZUZpbGUoXG4gICAgICAgICAgICAgIGNvbmZpZ0ZpbGVOYW1lLFxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShjb25maWdGaWxlLCBudWxsLCAyKSxcbiAgICAgICAgICAgICAgJ3V0ZjgnXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsb2coMSwgYFtjb25maWddIEVycm9yIHdoaWxlIGNyZWF0aW5nIGNvbmZpZy5qc29uOiAke2Vycm9yfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gRmluZCB0aGUgY2F0ZWdvcmllc1xuICBjb25zdCBjaG9pY2VzID0gT2JqZWN0LmtleXMocHJvbXB0c0NvbmZpZykubWFwKChjaG9pY2UpID0+ICh7XG4gICAgdGl0bGU6IGAke2Nob2ljZX0gb3B0aW9uc2AsXG4gICAgdmFsdWU6IGNob2ljZVxuICB9KSk7XG5cbiAgLy8gQ2F0ZWdvcnkgcHJvbXB0XG4gIHJldHVybiBwcm9tcHRzKFxuICAgIHtcbiAgICAgIHR5cGU6ICdtdWx0aXNlbGVjdCcsXG4gICAgICBuYW1lOiAnY2F0ZWdvcnknLFxuICAgICAgbWVzc2FnZTogJ1doaWNoIGNhdGVnb3J5IGRvIHlvdSB3YW50IHRvIGNvbmZpZ3VyZT8nLFxuICAgICAgaGludDogJ1NwYWNlOiBTZWxlY3Qgc3BlY2lmaWMsIEE6IFNlbGVjdCBhbGwsIEVudGVyOiBDb25maXJtLicsXG4gICAgICBpbnN0cnVjdGlvbnM6ICcnLFxuICAgICAgY2hvaWNlc1xuICAgIH0sXG4gICAgeyBvblN1Ym1pdCB9XG4gICk7XG59O1xuXG4vKipcbiAqIE1hcHMgdGhlIG9sZCBvcHRpb25zIHRvIHRoZSBuZXcgY29uZmlnIHN0cnVjdHVyZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2xkT3B0aW9ucyAtIE9wdGlvbnMgdG8gYmUgbWFwcGVkLlxuICovXG5leHBvcnQgY29uc3QgbWFwVG9OZXdDb25maWcgPSAob2xkT3B0aW9ucykgPT4ge1xuICBjb25zdCBuZXdPcHRpb25zID0ge307XG4gIC8vIEN5Y2xlIHRocm91Z2ggb2xkLXN0cnVjdHVyZWQgb3B0aW9uc1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvbGRPcHRpb25zKSkge1xuICAgIGNvbnN0IHByb3BlcnRpZXNDaGFpbiA9IG5lc3RlZEFyZ3Nba2V5XSA/IG5lc3RlZEFyZ3Nba2V5XS5zcGxpdCgnLicpIDogW107XG5cbiAgICAvLyBQb3B1bGF0ZSBvYmplY3QgaW4gY29ycmVjdCBwcm9wZXJ0aWVzIGxldmVsc1xuICAgIHByb3BlcnRpZXNDaGFpbi5yZWR1Y2UoXG4gICAgICAob2JqLCBwcm9wLCBpbmRleCkgPT5cbiAgICAgICAgKG9ialtwcm9wXSA9XG4gICAgICAgICAgcHJvcGVydGllc0NoYWluLmxlbmd0aCAtIDEgPT09IGluZGV4ID8gdmFsdWUgOiBvYmpbcHJvcF0gfHwge30pLFxuICAgICAgbmV3T3B0aW9uc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIG5ld09wdGlvbnM7XG59O1xuXG4vKipcbiAqIE1lcmdlcyB0aGUgbmV3IG9wdGlvbnMgdG8gdGhlIG9wdGlvbnMgb2JqZWN0LiBJdCBvbWl0cyB1bmRlZmluZWQgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT2xkIG9wdGlvbnMuXG4gKiBAcGFyYW0ge29iamVjdH0gbmV3T3B0aW9ucyAtIE5ldyBvcHRpb25zLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gYWJzb2x1dGVQcm9wcyAtIEFycmF5IG9mIG9iamVjdCBuYW1lcyB0aGF0IHNob3VsZCBiZSBmb3JjZVxuICogbWVyZ2VkLlxuICovXG5leHBvcnQgY29uc3QgbWVyZ2VDb25maWdPcHRpb25zID0gKG9wdGlvbnMsIG5ld09wdGlvbnMsIGFic29sdXRlUHJvcHMgPSBbXSkgPT4ge1xuICBjb25zdCBtZXJnZWRPcHRpb25zID0gZGVlcENvcHkob3B0aW9ucyk7XG5cbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobmV3T3B0aW9ucykpIHtcbiAgICBtZXJnZWRPcHRpb25zW2tleV0gPVxuICAgICAgaXNPYmplY3QodmFsdWUpICYmXG4gICAgICAhYWJzb2x1dGVQcm9wcy5pbmNsdWRlcyhrZXkpICYmXG4gICAgICBtZXJnZWRPcHRpb25zW2tleV0gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG1lcmdlQ29uZmlnT3B0aW9ucyhtZXJnZWRPcHRpb25zW2tleV0sIHZhbHVlLCBhYnNvbHV0ZVByb3BzKVxuICAgICAgICA6IHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB2YWx1ZVxuICAgICAgICA6IG1lcmdlZE9wdGlvbnNba2V5XTtcbiAgfVxuXG4gIHJldHVybiBtZXJnZWRPcHRpb25zO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBvcHRpb25zIGZvciB0aGUgYHN0YXJ0RXhwb3J0YCBtZXRob2QgYnkgbWVyZ2luZyB1c2VyIG9wdGlvbnNcbiAqIHdpdGggdGhlIGdlbmVyYWwgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge2FueX0gZXhwb3J0T3B0aW9ucyAtIFVzZXIgb3B0aW9ucyBmb3IgZXhwb3J0aW5nLlxuICogQHBhcmFtIHthbnl9IGdlbmVyYWxPcHRpb25zIC0gR2VuZXJhbCBvcHRpb25zIGFyZSB1c2VkIGZvciB0aGUgZXhwb3J0IHNlcnZlci5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBVc2VyIG9wdGlvbnMgbWVyZ2VkIHdpdGggZGVmYXVsdCBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgaW5pdEV4cG9ydFNldHRpbmdzID0gKGV4cG9ydE9wdGlvbnMsIGdlbmVyYWxPcHRpb25zID0ge30pID0+IHtcbiAgbGV0IG9wdGlvbnMgPSB7fTtcblxuICBpZiAoZXhwb3J0T3B0aW9ucy5zdmcpIHtcbiAgICBvcHRpb25zID0gZGVlcENvcHkoZ2VuZXJhbE9wdGlvbnMpO1xuICAgIG9wdGlvbnMuZXhwb3J0LnR5cGUgPSBleHBvcnRPcHRpb25zLnR5cGUgfHwgZXhwb3J0T3B0aW9ucy5leHBvcnQudHlwZTtcbiAgICBvcHRpb25zLmV4cG9ydC5zY2FsZSA9IGV4cG9ydE9wdGlvbnMuc2NhbGUgfHwgZXhwb3J0T3B0aW9ucy5leHBvcnQuc2NhbGU7XG4gICAgb3B0aW9ucy5leHBvcnQub3V0ZmlsZSA9XG4gICAgICBleHBvcnRPcHRpb25zLm91dGZpbGUgfHwgZXhwb3J0T3B0aW9ucy5leHBvcnQub3V0ZmlsZTtcbiAgICBvcHRpb25zLnBheWxvYWQgPSB7XG4gICAgICBzdmc6IGV4cG9ydE9wdGlvbnMuc3ZnXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zID0gbWVyZ2VDb25maWdPcHRpb25zKFxuICAgICAgZ2VuZXJhbE9wdGlvbnMsXG4gICAgICBleHBvcnRPcHRpb25zLFxuICAgICAgLy8gT21pdCBnb2luZyBkb3duIHJlY3Vyc2l2ZWx5IHdpdGggdGhlIGJlbG93c1xuICAgICAgYWJzb2x1dGVQcm9wc1xuICAgICk7XG4gIH1cblxuICBvcHRpb25zLmV4cG9ydC5vdXRmaWxlID1cbiAgICBvcHRpb25zLmV4cG9ydD8ub3V0ZmlsZSB8fCBgY2hhcnQuJHtvcHRpb25zLmV4cG9ydD8udHlwZSB8fCAncG5nJ31gO1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbi8qKlxuICogTG9hZHMgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSBhIGN1c3RvbSBKU09OIGZpbGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmdbXX0gYXJncyAtIENMSSBhcmd1bWVudHMuXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gT3B0aW9ucyBvYmplY3QgZnJvbSB0aGUgSlNPTiBmaWxlLlxuICovXG5mdW5jdGlvbiBsb2FkQ29uZmlnRmlsZShhcmdzKSB7XG4gIC8vIENoZWNrIGlmIHRoZSAtLWxvYWRDb25maWcgb3B0aW9uIHdhcyB1c2VkXG4gIGNvbnN0IGNvbmZpZ0luZGV4ID0gYXJncy5maW5kSW5kZXgoXG4gICAgKGFyZykgPT4gYXJnLnJlcGxhY2UoLy0vZywgJycpID09PSAnbG9hZENvbmZpZydcbiAgKTtcblxuICAvLyBDaGVjayBpZiB0aGUgLS1sb2FkQ29uZmlnIGhhcyBhIHZhbHVlXG4gIGlmIChjb25maWdJbmRleCA+IC0xICYmIGFyZ3NbY29uZmlnSW5kZXggKyAxXSkge1xuICAgIGNvbnN0IGZpbGVOYW1lID0gYXJnc1tjb25maWdJbmRleCArIDFdO1xuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiBhbiBhZGRpdGlvbmFsIGNvbmZpZyBmaWxlIGlzIGEgY29ycmVjdCBKU09OIGZpbGVcbiAgICAgIGlmIChmaWxlTmFtZSAmJiBmaWxlTmFtZS5lbmRzV2l0aCgnLmpzb24nKSkge1xuICAgICAgICAvLyBMb2FkIGFuIG9wdGlvbmFsIGN1c3RvbSBKU09OIGNvbmZpZyBmaWxlXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhmaWxlTmFtZSkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2coMSwgYFtjb25maWddIFVuYWJsZSB0byBsb2FkIGNvbmZpZyBmcm9tIHRoZSAke2ZpbGVOYW1lfTogJHtlcnJvcn1gKTtcbiAgICB9XG4gIH1cblxuICAvLyBObyBhZGRpdGlvbmFsIG9wdGlvbnMgdG8gcmV0dXJuXG4gIHJldHVybiB7fTtcbn1cblxuLyoqXG4gKiBTZXR0aW5nIGNvcnJlY3QgdmFsdWVzIG9mIHRoZSBvcHRpb25zIGZyb20gdGhlIGRlZmF1bHQgY29uZmlnLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWdPYmogLSBUaGUgY29uZmlnIG9iamVjdCBiYXNlZCBvbiB3aGljaCB0aGUgaW5pdGlhbFxuICogY29uZmlndXJhdGlvbiBiZSBtYWRlLlxuICogQHBhcmFtIHtvYmplY3R9IGN1c3RvbU9iaiAtIFRoZSBjdXN0b20gb2JqZWN0IHdoaWNoIGNhbiBjb250YWluIGFkZGl0aW9uYWxcbiAqIG9wdGlvbiB2YWx1ZXMgdG8gc2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BDaGFpbiAtIFJlcXVpcmVkIGZvciBjcmVhdGluZyBhIHN0cmluZyBjaGFpbiBvZlxuICogcHJvcGVydGllcyBmb3IgbmVzdGVkIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlRGVmYXVsdENvbmZpZyhjb25maWdPYmosIGN1c3RvbU9iaiA9IHt9LCBwcm9wQ2hhaW4gPSAnJykge1xuICBPYmplY3Qua2V5cyhjb25maWdPYmopLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmICghWydwdXBwZXRlZXInLCAnaGlnaGNoYXJ0cyddLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gY29uZmlnT2JqW2tleV07XG4gICAgICBjb25zdCBjdXN0b21WYWx1ZSA9IGN1c3RvbU9iaiAmJiBjdXN0b21PYmpba2V5XTtcbiAgICAgIGxldCBudW1FbnZWYWw7XG5cbiAgICAgIGlmICh0eXBlb2YgZW50cnkudmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHVwZGF0ZURlZmF1bHRDb25maWcoZW50cnksIGN1c3RvbVZhbHVlLCBgJHtwcm9wQ2hhaW59LiR7a2V5fWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgYSB2YWx1ZSBmcm9tIGEgY3VzdG9tIEpTT04gZXhpc3RzLCBpdCB0YWtlIHByZWNlZGVuY2VcbiAgICAgICAgaWYgKGN1c3RvbVZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbnRyeS52YWx1ZSA9IGN1c3RvbVZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYSB2YWx1ZSBmcm9tIGFuIGVudiB2YXJpYWJsZSBleGlzdHMsIGl0IHRha2UgcHJlY2VkZW5jZVxuICAgICAgICBpZiAoZW50cnkuZW52TGluaykge1xuICAgICAgICAgIC8vIExvYWQgdGhlIGVudiB2YXJcbiAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBlbnRyeS52YWx1ZSA9IHRvQm9vbGVhbihcbiAgICAgICAgICAgICAgW3Byb2Nlc3MuZW52W2VudHJ5LmVudkxpbmtdLCBlbnRyeS52YWx1ZV0uZmluZChcbiAgICAgICAgICAgICAgICAoZWwpID0+IGVsIHx8IGVsID09PSAnZmFsc2UnXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmIChlbnRyeS50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgbnVtRW52VmFsID0gK3Byb2Nlc3MuZW52W2VudHJ5LmVudkxpbmtdO1xuICAgICAgICAgICAgZW50cnkudmFsdWUgPSBudW1FbnZWYWwgPj0gMCA/IG51bUVudlZhbCA6IGVudHJ5LnZhbHVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBlbnRyeS50eXBlLmluZGV4T2YoJ10nKSA+PSAwICYmXG4gICAgICAgICAgICBwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZW50cnkudmFsdWUgPSBwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXS5zcGxpdCgnLCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbnRyeS52YWx1ZSA9IHByb2Nlc3MuZW52W2VudHJ5LmVudkxpbmtdIHx8IGVudHJ5LnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogSW5pdHMgb3B0aW9ucyByZWN1cnNpdmVseS5cbiAqXG4gKiBAcGFyYW0ge2FueX0gaXRlbXMgLSBJdGVtcyB0byB1cGRhdGUgb3B0aW9ucyBmcm9tLlxuICogQHJldHVybiB7b2JqZWN0fSAtIFVwZGF0ZWQgb3B0aW9ucyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGluaXRPcHRpb25zKGl0ZW1zKSB7XG4gIGxldCBvcHRpb25zID0ge307XG4gIGZvciAoY29uc3QgW25hbWUsIGl0ZW1dIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW1zKSkge1xuICAgIG9wdGlvbnNbbmFtZV0gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaXRlbSwgJ3ZhbHVlJylcbiAgICAgID8gaXRlbS52YWx1ZVxuICAgICAgOiBpbml0T3B0aW9ucyhpdGVtKTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuLyoqXG4gKiBQYWlycyBhcmd1bWVudCB3aXRoIGEgY29ycmVzcG9uZGluZyB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBzZXJ2ZXIgb3B0aW9ucy5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGFyZ3MgLSBBcnJheSBvZiBhcmd1bWVudHMgZnJvbSBhIHVzZXIuXG4gKiBAcGFyYW0ge29iamVjdH0gZGVmYXVsdENvbmZpZyAtIFRoZSBkZWZhdWx0IGNvbmZpZyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHBhaXJBcmd1bWVudFZhbHVlKG9wdGlvbnMsIGFyZ3MsIGRlZmF1bHRDb25maWcpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG9wdGlvbiA9IGFyZ3NbaV0ucmVwbGFjZSgvLS9nLCAnJyk7XG5cbiAgICAvLyBGaW5kIHRoZSByaWdodCBwbGFjZSBmb3IgcHJvcGVydHkncyB2YWx1ZVxuICAgIGNvbnN0IHByb3BlcnRpZXNDaGFpbiA9IG5lc3RlZEFyZ3Nbb3B0aW9uXVxuICAgICAgPyBuZXN0ZWRBcmdzW29wdGlvbl0uc3BsaXQoJy4nKVxuICAgICAgOiBbXTtcblxuICAgIHByb3BlcnRpZXNDaGFpbi5yZWR1Y2UoKG9iaiwgcHJvcCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChwcm9wZXJ0aWVzQ2hhaW4ubGVuZ3RoIC0gMSA9PT0gaW5kZXgpIHtcbiAgICAgICAgLy8gRmluZHMgYW4gb3B0aW9uIGFuZCBzZXQgYSBjb3JyZXNwb25kaW5nIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmIChhcmdzWysraV0pIHtcbiAgICAgICAgICAgIG9ialtwcm9wXSA9IGFyZ3NbaV0gfHwgb2JqW3Byb3BdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTWlzc2luZyBhcmd1bWVudCB2YWx1ZSBmb3IgJHtvcHRpb259IWAucmVkLCAnXFxuJyk7XG4gICAgICAgICAgICBvcHRpb25zID0gcHJpbnRVc2FnZShkZWZhdWx0Q29uZmlnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpbcHJvcF07XG4gICAgfSwgb3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuLyoqXG4gKiBSZWN1cnNpdmVseSBzZXRzIGEgcHJvcGVydHkgaW4gYSBjb3JyZWN0IGluZGVudGF0aW9uIGxldmVsIGJhc2VkIG9uIHRoZVxuICogYXJyYXkgb2YgbmVzdGVkIHByb3BlcnRpZXMgbmFtZXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9iamVjdFRvVXBkYXRlIC0gT2JqZWN0IHdoZXJlIGEgcHJvcGVydHkgbXVzdCBiZSBzZXQgb24gYVxuICogY29ycmVjdCBsZXZlbC5cbiAqIEBwYXJhbSAge3N0cmluZ1tdfW5lc3RlZE5hbWVzIC0gQXJyYXkgb2YgbmFzdGVkIG5hbWVzIHRoYXQgaW5kaWNhdGVzXG4gKiBpbmRlbnRhdGlvbiBsZXZlbC5cbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSAtIEEgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBwcm9wZXJ0eS5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBVcGRhdGVkIG9wdGlvbnMgb2JqZWN0LlxuICovXG5mdW5jdGlvbiByZWN1cnNpdmVQcm9wcyhvYmplY3RUb1VwZGF0ZSwgbmVzdGVkTmFtZXMsIHZhbHVlKSB7XG4gIHdoaWxlIChuZXN0ZWROYW1lcy5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgcHJvcE5hbWUgPSBuZXN0ZWROYW1lcy5zaGlmdCgpO1xuXG4gICAgLy8gQ3JlYXRlIGEgcHJvcGVydHkgaW4gb2JqZWN0IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3RUb1VwZGF0ZSwgcHJvcE5hbWUpKSB7XG4gICAgICBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0gPSB7fTtcbiAgICB9XG5cbiAgICAvLyBDYWxsIGZ1bmN0aW9uIGFnYWluIGlmIHRoZXJlIHN0aWxsIG5hbWVzIHRvIGdvXG4gICAgb2JqZWN0VG9VcGRhdGVbcHJvcE5hbWVdID0gcmVjdXJzaXZlUHJvcHMoXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0pLFxuICAgICAgbmVzdGVkTmFtZXMsXG4gICAgICB2YWx1ZVxuICAgICk7XG5cbiAgICByZXR1cm4gb2JqZWN0VG9VcGRhdGU7XG4gIH1cblxuICAvLyBBc3NpZ24gdGhlIGZpbmFsIHZhbHVlXG4gIG9iamVjdFRvVXBkYXRlW25lc3RlZE5hbWVzWzBdXSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0VG9VcGRhdGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0T3B0aW9ucyxcbiAgc2V0T3B0aW9ucyxcbiAgbWFudWFsQ29uZmlnLFxuICBtYXBUb05ld0NvbmZpZyxcbiAgbWVyZ2VDb25maWdPcHRpb25zLFxuICBpbml0RXhwb3J0U2V0dGluZ3Ncbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcblxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XG5cbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cblxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXG5cblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgcmVhZEZpbGUsIHJlYWRGaWxlU3luYywgd3JpdGVGaWxlU3luYyB9IGZyb20gJ2ZzJztcblxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xuaW1wb3J0IHsga2lsbFBvb2wsIHBvc3RXb3JrIH0gZnJvbSAnLi9wb29sLmpzJztcbmltcG9ydCB7XG4gIGNsZWFyVGV4dCxcbiAgZml4VHlwZSxcbiAgaGFuZGxlUmVzb3VyY2VzLFxuICBpc0NvcnJlY3RKU09OLFxuICBvcHRpb25zU3RyaW5naWZ5LFxuICByb3VuZE51bWJlcixcbiAgdG9Cb29sZWFuLFxuICB3cmFwQXJvdW5kXG59IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgaW5pdEV4cG9ydFNldHRpbmdzLCBnZXRPcHRpb25zIH0gZnJvbSAnLi9jb25maWcuanMnO1xuXG5sZXQgYWxsb3dDb2RlRXhlY3V0aW9uID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBzdGFydEV4cG9ydCA9IGFzeW5jIChzZXR0aW5ncywgZW5kQ2FsbGJhY2spID0+IHtcbiAgLy8gU3RhcnRpbmcgZXhwb3J0aW5nIHByb2Nlc3MgbWVzc2FnZVxuICBsb2coNCwgJ1tjaGFydF0gU3RhcnRpbmcgZXhwb3J0aW5nIHByb2Nlc3MuJyk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBpbml0RXhwb3J0U2V0dGluZ3Moc2V0dGluZ3MsIGdldE9wdGlvbnMoKSk7XG5cbiAgLy8gR2V0IHRoZSBleHBvcnQgb3B0aW9uc1xuICBjb25zdCBleHBvcnRPcHRpb25zID0gb3B0aW9ucy5leHBvcnQ7XG5cbiAgLy8gSWYgU1ZHIGlzIGFuIGlucHV0IChhcmd1bWVudCBjYW4gYmUgc2VudCBvbmx5IGJ5IHRoZSByZXF1ZXN0KVxuICBpZiAob3B0aW9ucy5wYXlsb2FkPy5zdmcgJiYgb3B0aW9ucy5wYXlsb2FkLnN2ZyAhPT0gJycpIHtcbiAgICByZXR1cm4gZXhwb3J0QXNTdHJpbmcob3B0aW9ucy5wYXlsb2FkLnN2Zy50cmltKCksIG9wdGlvbnMsIGVuZENhbGxiYWNrKTtcbiAgfVxuXG4gIC8vIEV4cG9ydCB1c2luZyBvcHRpb25zIGZyb20gdGhlIGZpbGVcbiAgaWYgKGV4cG9ydE9wdGlvbnMuaW5maWxlICYmIGV4cG9ydE9wdGlvbnMuaW5maWxlLmxlbmd0aCkge1xuICAgIGxvZyg0LCAnW2NoYXJ0XSBBdHRlbXB0aW5nIHRvIGV4cG9ydCBmcm9tIGFuIGlucHV0IGZpbGUuJyk7XG5cbiAgICAvLyBUcnkgdG8gcmVhZCB0aGUgZmlsZVxuICAgIHJldHVybiByZWFkRmlsZShleHBvcnRPcHRpb25zLmluZmlsZSwgJ3V0ZjgnLCAoZXJyb3IsIGluZmlsZSkgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBsb2coMSwgYFtjaGFydF0gRXJyb3IgbG9hZGluZyBpbnB1dCBmaWxlOiAke2Vycm9yfS5gKTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgIG9wdGlvbnMuZXhwb3J0Lmluc3RyID0gaW5maWxlO1xuICAgICAgcmV0dXJuIGV4cG9ydEFzU3RyaW5nKG9wdGlvbnMuZXhwb3J0Lmluc3RyLnRyaW0oKSwgb3B0aW9ucywgZW5kQ2FsbGJhY2spO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gRXhwb3J0IHdpdGggb3B0aW9ucyBmcm9tIHRoZSByYXcgcmVwcmVzZW50YXRpb25cbiAgaWYgKFxuICAgIChleHBvcnRPcHRpb25zLmluc3RyICYmIGV4cG9ydE9wdGlvbnMuaW5zdHIgIT09ICcnKSB8fFxuICAgIChleHBvcnRPcHRpb25zLm9wdGlvbnMgJiYgZXhwb3J0T3B0aW9ucy5vcHRpb25zICE9PSAnJylcbiAgKSB7XG4gICAgbG9nKDQsICdbY2hhcnRdIEF0dGVtcHRpbmcgdG8gZXhwb3J0IGZyb20gYSByYXcgaW5wdXQuJyk7XG5cbiAgICAvLyBQZXJmb3JtIGEgZGlyZWN0IGluamVjdCB3aGVuIGZvcmNlZFxuICAgIGlmICh0b0Jvb2xlYW4ob3B0aW9ucy5jdXN0b21Db2RlPy5hbGxvd0NvZGVFeGVjdXRpb24pKSB7XG4gICAgICByZXR1cm4gZG9TdHJhaWdodEluamVjdChvcHRpb25zLCBlbmRDYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLy8gRWl0aGVyIHRyeSB0byBwYXJzZSB0byBKU09OIGZpcnN0IG9yIGRvIHRoZSBkaXJlY3QgZXhwb3J0XG4gICAgcmV0dXJuIHR5cGVvZiBleHBvcnRPcHRpb25zLmluc3RyID09PSAnc3RyaW5nJ1xuICAgICAgPyBleHBvcnRBc1N0cmluZyhleHBvcnRPcHRpb25zLmluc3RyLnRyaW0oKSwgb3B0aW9ucywgZW5kQ2FsbGJhY2spXG4gICAgICA6IGRvRXhwb3J0KFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgZXhwb3J0T3B0aW9ucy5pbnN0ciB8fCBleHBvcnRPcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgZW5kQ2FsbGJhY2tcbiAgICAgICAgKTtcbiAgfVxuXG4gIC8vIE5vIGlucHV0IHNwZWNpZmllZCwgcGFzcyBhbiBlcnJvciBtZXNzYWdlIHRvIHRoZSBjYWxsYmFja1xuICBsb2coXG4gICAgMSxcbiAgICBjbGVhclRleHQoXG4gICAgICBgW2NoYXJ0XSBObyBpbnB1dCBzcGVjaWZpZWQuXG4gICAgICAke0pTT04uc3RyaW5naWZ5KGV4cG9ydE9wdGlvbnMsIHVuZGVmaW5lZCwgJyAgJyl9LmBcbiAgICApXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICBlbmRDYWxsYmFjayAmJlxuICAgIGVuZENhbGxiYWNrKGZhbHNlLCB7XG4gICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdObyBpbnB1dCBzcGVjaWZpZWQuJ1xuICAgIH0pXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgYmF0Y2hFeHBvcnQgPSAob3B0aW9ucykgPT4ge1xuICBjb25zdCBiYXRjaEZ1bmN0aW9ucyA9IFtdO1xuXG4gIC8vIFNwbGl0IGFuZCBwYWlyIHRoZSAtLWJhdGNoIGFyZ3VtZW50c1xuICBmb3IgKGxldCBwYWlyIG9mIG9wdGlvbnMuZXhwb3J0LmJhdGNoLnNwbGl0KCc7JykpIHtcbiAgICBwYWlyID0gcGFpci5zcGxpdCgnPScpO1xuICAgIGlmIChwYWlyLmxlbmd0aCA9PT0gMikge1xuICAgICAgYmF0Y2hGdW5jdGlvbnMucHVzaChcbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHN0YXJ0RXhwb3J0KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICBleHBvcnQ6IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmV4cG9ydCxcbiAgICAgICAgICAgICAgICBpbmZpbGU6IHBhaXJbMF0sXG4gICAgICAgICAgICAgICAgb3V0ZmlsZTogcGFpclsxXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGluZm8sIGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFRocm93IGFuIGVycm9yXG4gICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgYmFzZTY0IGZyb20gYSBidWZmZXIgdG8gYSBjb3JyZWN0IGltYWdlIGZpbGVcbiAgICAgICAgICAgICAgd3JpdGVGaWxlU3luYyhcbiAgICAgICAgICAgICAgICBpbmZvLm9wdGlvbnMuZXhwb3J0Lm91dGZpbGUsXG4gICAgICAgICAgICAgICAgQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JylcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gS2lsbCB0aGUgcG9vbCBhZnRlciBhbGwgZXhwb3J0cyBhcmUgZG9uZVxuICBQcm9taXNlLmFsbChiYXRjaEZ1bmN0aW9ucylcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBraWxsUG9vbCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgbG9nKDEsIGBbY2hhcnRdIEVycm9yIGVuY291bnRlcmVkIGR1cmluZyBiYXRjaCBleHBvcnQ6ICR7ZXJyb3J9YCk7XG4gICAgICBraWxsUG9vbCgpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHNpbmdsZUV4cG9ydCA9IChvcHRpb25zKSA9PiB7XG4gIC8vIFVzZSBpbnN0ciBvciBpdHMgYWxpYXMsIG9wdGlvbnNcbiAgb3B0aW9ucy5leHBvcnQuaW5zdHIgPSBvcHRpb25zLmV4cG9ydC5pbnN0ciB8fCBvcHRpb25zLmV4cG9ydC5vcHRpb25zO1xuXG4gIC8vIFBlcmZvcm0gYW4gZXhwb3J0XG4gIHN0YXJ0RXhwb3J0KG9wdGlvbnMsIChpbmZvLCBlcnJvcikgPT4ge1xuICAgIC8vIEV4aXQgcHJvY2VzcyB3aGVuIGVycm9yXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBsb2coMSwgYFtjbGldICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IG91dGZpbGUsIHR5cGUgfSA9IGluZm8ub3B0aW9ucy5leHBvcnQ7XG5cbiAgICAvLyBTYXZlIHRoZSBiYXNlNjQgZnJvbSBhIGJ1ZmZlciB0byBhIGNvcnJlY3QgaW1hZ2UgZmlsZVxuICAgIHdyaXRlRmlsZVN5bmMoXG4gICAgICBvdXRmaWxlIHx8IGBjaGFydC4ke3R5cGV9YCxcbiAgICAgIHR5cGUgIT09ICdzdmcnID8gQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JykgOiBpbmZvLmRhdGFcbiAgICApO1xuXG4gICAgLy8gS2lsbCB0aGUgcG9vbFxuICAgIGtpbGxQb29sKCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBGdW5jdGlvbiBmb3IgY2hvb3NpbmcgY2hhcnQgc2l6ZSBhbmQgc2NhbGUgYmFzZWQgb24gb3B0aW9ucyBwcmlvcml0aXphdGlvbi5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBBbiBvYmplY3Qgd2l0aCB1cGRhdGVkIHNpemUgYW5kIHNjYWxlIGZvciBhIGNoYXJ0LlxuICovXG5leHBvcnQgY29uc3QgZmluZENoYXJ0U2l6ZSA9IChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgY2hhcnQsIGV4cG9ydGluZyB9ID1cbiAgICBvcHRpb25zLmV4cG9ydD8ub3B0aW9ucyB8fCBpc0NvcnJlY3RKU09OKG9wdGlvbnMuZXhwb3J0Py5pbnN0cik7XG5cbiAgLy8gU2VlIGlmIGdsb2JhbE9wdGlvbnMgaG9sZHMgY2hhcnQgb3IgZXhwb3J0aW5nIHNpemVcbiAgY29uc3QgZ2xvYmFsT3B0aW9ucyA9IGlzQ29ycmVjdEpTT04ob3B0aW9ucy5leHBvcnQ/Lmdsb2JhbE9wdGlvbnMpO1xuXG4gIC8vIFNlY3VyZSBzY2FsZSB2YWx1ZVxuICBsZXQgc2NhbGUgPVxuICAgIG9wdGlvbnMuZXhwb3J0Py5zY2FsZSB8fFxuICAgIGV4cG9ydGluZz8uc2NhbGUgfHxcbiAgICBnbG9iYWxPcHRpb25zPy5leHBvcnRpbmc/LnNjYWxlIHx8XG4gICAgb3B0aW9ucy5leHBvcnQ/LmRlZmF1bHRTY2FsZSB8fFxuICAgIDE7XG5cbiAgLy8gdGhlIHNjYWxlIGNhbm5vdCBiZSBsb3dlciB0aGFuIDAuMSBhbmQgY2Fubm90IGJlIGhpZ2hlciB0aGFuIDUuMFxuICBzY2FsZSA9IE1hdGgubWF4KDAuMSwgTWF0aC5taW4oc2NhbGUsIDUuMCkpO1xuXG4gIC8vIHdlIHdhbnQgdG8gcm91bmQgdGhlIG51bWJlcnMgbGlrZSAwLjIzMjM0IC0+IDAuMjNcbiAgc2NhbGUgPSByb3VuZE51bWJlcihzY2FsZSwgMik7XG5cbiAgLy8gRmluZCBjaGFydCBzaXplIGFuZCBzY2FsZVxuICByZXR1cm4ge1xuICAgIGhlaWdodDpcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py5oZWlnaHQgfHxcbiAgICAgIGV4cG9ydGluZz8uc291cmNlSGVpZ2h0IHx8XG4gICAgICBjaGFydD8uaGVpZ2h0IHx8XG4gICAgICBnbG9iYWxPcHRpb25zPy5leHBvcnRpbmc/LnNvdXJjZUhlaWdodCB8fFxuICAgICAgZ2xvYmFsT3B0aW9ucz8uY2hhcnQ/LmhlaWdodCB8fFxuICAgICAgb3B0aW9ucy5leHBvcnQ/LmRlZmF1bHRIZWlnaHQgfHxcbiAgICAgIDQwMCxcbiAgICB3aWR0aDpcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py53aWR0aCB8fFxuICAgICAgZXhwb3J0aW5nPy5zb3VyY2VXaWR0aCB8fFxuICAgICAgY2hhcnQ/LndpZHRoIHx8XG4gICAgICBnbG9iYWxPcHRpb25zPy5leHBvcnRpbmc/LnNvdXJjZVdpZHRoIHx8XG4gICAgICBnbG9iYWxPcHRpb25zPy5jaGFydD8ud2lkdGggfHxcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py5kZWZhdWx0V2lkdGggfHxcbiAgICAgIDYwMCxcbiAgICBzY2FsZVxuICB9O1xufTtcblxuLyoqXG4gKiBGdW5jdGlvbiBmb3IgZmluYWwgb3B0aW9ucyBwcmVwYXJhdGlvbiBiZWZvcmUgZXhwb3J0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtvYmplY3R9IGNoYXJ0SnNvbiAtIENoYXJ0IEpTT04uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRDYWxsYmFjayAtIFRoZSBlbmQgY2FsbGJhY2suXG4gKiBAcGFyYW0ge3N0cmluZ30gc3ZnIC0gVGhlIFNWRyByZXByZXNlbnRhdGlvbi5cbiAqL1xuY29uc3QgZG9FeHBvcnQgPSAob3B0aW9ucywgY2hhcnRKc29uLCBlbmRDYWxsYmFjaywgc3ZnKSA9PiB7XG4gIGxldCB7IGV4cG9ydDogZXhwb3J0T3B0aW9ucywgY3VzdG9tQ29kZTogY3VzdG9tQ29kZU9wdGlvbnMgfSA9IG9wdGlvbnM7XG5cbiAgY29uc3QgYWxsb3dDb2RlRXhlY3V0aW9uU2NvcGVkID1cbiAgICB0eXBlb2YgY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dDb2RlRXhlY3V0aW9uID09PSAnYm9vbGVhbidcbiAgICAgID8gY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dDb2RlRXhlY3V0aW9uXG4gICAgICA6IGFsbG93Q29kZUV4ZWN1dGlvbjtcblxuICBpZiAoIWN1c3RvbUNvZGVPcHRpb25zKSB7XG4gICAgY3VzdG9tQ29kZU9wdGlvbnMgPSBvcHRpb25zLmN1c3RvbUNvZGUgPSB7fTtcbiAgfSBlbHNlIGlmIChhbGxvd0NvZGVFeGVjdXRpb25TY29wZWQpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBQcm9jZXNzIHJlc291cmNlc1xuICAgICAgb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcyA9IGhhbmRsZVJlc291cmNlcyhcbiAgICAgICAgb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcyxcbiAgICAgICAgdG9Cb29sZWFuKG9wdGlvbnMuY3VzdG9tQ29kZS5hbGxvd0ZpbGVSZXNvdXJjZXMpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc291cmNlcyA9IHJlYWRGaWxlU3luYygncmVzb3VyY2VzLmpzb24nLCAndXRmOCcpO1xuICAgICAgICBvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzID0gaGFuZGxlUmVzb3VyY2VzKFxuICAgICAgICAgIHJlc291cmNlcyxcbiAgICAgICAgICB0b0Jvb2xlYW4ob3B0aW9ucy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcylcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2coMywgYFtjaGFydF0gVGhlIGRlZmF1bHQgcmVzb3VyY2VzLmpzb24gZmlsZSBub3QgZm91bmQuYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlIGFsbG93Q29kZUV4ZWN1dGlvbiBmbGFnIGlzbid0IHNldCwgd2Ugc2hvdWxkIHJlZnVzZSB0aGUgdXNhZ2VcbiAgLy8gb2YgY2FsbGJhY2ssIHJlc291cmNlcywgYW5kIGN1c3RvbSBjb2RlLiBBZGRpdGlvbmFsbHksIHRoZSB3b3JrZXIgd2lsbFxuICAvLyByZWZ1c2UgdG8gcnVuIGFyYml0cmFyeSBKYXZhU2NyaXB0LiBQcmlvcml0aXplZCBzaG91bGQgYmUgdGhlIHNjb3BlZFxuICAvLyBvcHRpb24sIHRoZW4gd2Ugc2hvdWxkIHRha2UgYSBsb29rIGF0IHRoZSBvdmVyYWxsIHBvb2wgb3B0aW9uLlxuICBpZiAoIWFsbG93Q29kZUV4ZWN1dGlvblNjb3BlZCAmJiBjdXN0b21Db2RlT3B0aW9ucykge1xuICAgIGlmIChcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrIHx8XG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5yZXNvdXJjZXMgfHxcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmN1c3RvbUNvZGVcbiAgICApIHtcbiAgICAgIC8vIFNlbmQgYmFjayBhIGZyaWVuZGx5IG1lc3NhZ2Ugc2F5aW5nIHRoYXQgdGhlIGV4cG9ydGVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHRoZXNlIHNldHRpbmdzLlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgZW5kQ2FsbGJhY2sgJiZcbiAgICAgICAgZW5kQ2FsbGJhY2soZmFsc2UsIHtcbiAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICBtZXNzYWdlOiBjbGVhclRleHQoXG4gICAgICAgICAgICBgVGhlIGNhbGxiYWNrLCByZXNvdXJjZXMgYW5kIGN1c3RvbUNvZGUgaGF2ZSBiZWVuIGRpc2FibGVkIGZvciB0aGlzXG4gICAgICAgICAgICBzZXJ2ZXIuYFxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgYWxsIGFkZGl0aW9uYWwgY3VzdG9tIGNvZGVcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xuICAgIGN1c3RvbUNvZGVPcHRpb25zLnJlc291cmNlcyA9IGZhbHNlO1xuICAgIGN1c3RvbUNvZGVPcHRpb25zLmN1c3RvbUNvZGUgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIENsZWFuIHByb3BlcnRpZXMgdG8ga2VlcCBpdCBsZWFuIGFuZCBtZWFuXG4gIGlmIChjaGFydEpzb24pIHtcbiAgICBjaGFydEpzb24uY2hhcnQgPSBjaGFydEpzb24uY2hhcnQgfHwge307XG4gICAgY2hhcnRKc29uLmV4cG9ydGluZyA9IGNoYXJ0SnNvbi5leHBvcnRpbmcgfHwge307XG4gICAgY2hhcnRKc29uLmV4cG9ydGluZy5lbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBleHBvcnRPcHRpb25zLmNvbnN0ciA9IGV4cG9ydE9wdGlvbnMuY29uc3RyIHx8ICdjaGFydCc7XG4gIGV4cG9ydE9wdGlvbnMudHlwZSA9IGZpeFR5cGUoZXhwb3J0T3B0aW9ucy50eXBlLCBleHBvcnRPcHRpb25zLm91dGZpbGUpO1xuICBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAnc3ZnJykge1xuICAgIGV4cG9ydE9wdGlvbnMud2lkdGggPSBmYWxzZTtcbiAgfVxuXG4gIC8vIFByZXBhcmUgZ2xvYmFsIGFuZCB0aGVtZSBvcHRpb25zXG4gIFsnZ2xvYmFsT3B0aW9ucycsICd0aGVtZU9wdGlvbnMnXS5mb3JFYWNoKChvcHRpb25zTmFtZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoZXhwb3J0T3B0aW9ucyAmJiBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdLmVuZHNXaXRoKCcuanNvbicpXG4gICAgICAgICkge1xuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID0gaXNDb3JyZWN0SlNPTihcbiAgICAgICAgICAgIHJlYWRGaWxlU3luYyhleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSwgJ3V0ZjgnKSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID0gaXNDb3JyZWN0SlNPTihcbiAgICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0gPSB7fTtcbiAgICAgIGxvZygxLCBgW2NoYXJ0XSBUaGUgJHtvcHRpb25zTmFtZX0gbm90IGZvdW5kLmApO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gUHJlcGFyZSBjdXN0b21Db2RlXG4gIGlmIChjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb24pIHtcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jdXN0b21Db2RlID0gd3JhcEFyb3VuZChcbiAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmN1c3RvbUNvZGUsXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0ZpbGVSZXNvdXJjZXNcbiAgICApO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBjYWxsYmFja1xuICBpZiAoXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMgJiZcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayAmJlxuICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrPy5pbmRleE9mKCd7JykgPCAwXG4gICkge1xuICAgIC8vIFRoZSBhbGxvd0ZpbGVSZXNvdXJjZXMgaXMgYWx3YXlzIHNldCB0byBmYWxzZSBmb3IgSFRUUCByZXF1ZXN0cyB0byBhdm9pZFxuICAgIC8vIGluamVjdGluZyBhcmJpdHJhcnkgZmlsZXMgZnJvbSB0aGUgZnNcbiAgICBpZiAoY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dGaWxlUmVzb3VyY2VzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IHJlYWRGaWxlU3luYyhcbiAgICAgICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayxcbiAgICAgICAgICAndXRmOCdcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZygyLCBgW2NoYXJ0XSBFcnJvciBsb2FkaW5nIGNhbGxiYWNrOiAke2Vycm9yfS5gKTtcbiAgICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2sgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBTaXplIHNlYXJjaFxuICBvcHRpb25zLmV4cG9ydCA9IHtcbiAgICAuLi5vcHRpb25zLmV4cG9ydCxcbiAgICAuLi5maW5kQ2hhcnRTaXplKG9wdGlvbnMpXG4gIH07XG5cbiAgLy8gUG9zdCB0aGUgd29yayB0byB0aGUgcG9vbFxuICBwb3N0V29yayhleHBvcnRPcHRpb25zLnN0ckluaiB8fCBjaGFydEpzb24gfHwgc3ZnLCBvcHRpb25zKVxuICAgIC50aGVuKChyZXN1bHQpID0+IGVuZENhbGxiYWNrKHJlc3VsdCkpXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgbG9nKDAsICdbY2hhcnRdIFdoZW4gcG9zdGluZyB3b3JrOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBlbmRDYWxsYmFjayhmYWxzZSwgZXJyb3IpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBGdW5jdGlvbiBmb3Igc3RyYWlnaHQgaW5qZWN0aW5nIHRoZSBjb2RlLlxuICogRGFuZ2Vyb3VzIGFuZCBtdXN0IGJlIHVzZWQgZGVsaWJlcmF0ZWx5IGJ5IHNvbWVvbmUgd2hvIHNldHMgdXAgYSBzZXJ2ZXJcbiAqIChzZWUgIC0tYWxsb3dDb2RlRXhlY3V0aW9uKS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGVuZENhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBleHBvcnRpbmcgaXMgZG9uZS5cbiAqL1xuY29uc3QgZG9TdHJhaWdodEluamVjdCA9IChvcHRpb25zLCBlbmRDYWxsYmFjaykgPT4ge1xuICB0cnkge1xuICAgIGxldCBzdHJJbmo7XG4gICAgbGV0IGluc3RyID0gb3B0aW9ucy5leHBvcnQuaW5zdHIgfHwgb3B0aW9ucy5leHBvcnQub3B0aW9ucztcblxuICAgIGlmICh0eXBlb2YgaW5zdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBUcnkgdG8gc3RyaW5naWZ5IG9wdGlvbnNcbiAgICAgIHN0ckluaiA9IGluc3RyID0gb3B0aW9uc1N0cmluZ2lmeShcbiAgICAgICAgaW5zdHIsXG4gICAgICAgIG9wdGlvbnMuY3VzdG9tQ29kZT8uYWxsb3dDb2RlRXhlY3V0aW9uXG4gICAgICApO1xuICAgIH1cbiAgICBzdHJJbmogPSBpbnN0ci5yZXBsYWNlQWxsKC9cXHR8XFxufFxcci9nLCAnJykudHJpbSgpO1xuXG4gICAgLy8gR2V0IHJpZCBvZiB0aGUgO1xuICAgIGlmIChzdHJJbmpbc3RySW5qLmxlbmd0aCAtIDFdID09PSAnOycpIHtcbiAgICAgIHN0ckluaiA9IHN0ckluai5zdWJzdHJpbmcoMCwgc3RySW5qLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIC8vIFNhdmUgYXMgc3RyaWdodCBpbmplY3Qgc3RyaW5nXG4gICAgb3B0aW9ucy5leHBvcnQuc3RySW5qID0gc3RySW5qO1xuICAgIHJldHVybiBkb0V4cG9ydChvcHRpb25zLCBmYWxzZSwgZW5kQ2FsbGJhY2spO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjbGVhclRleHQoXG4gICAgICBgTWFsZm9ybWVkIGlucHV0IGRldGVjdGVkIGZvciAke29wdGlvbnMuZXhwb3J0Py5yZXF1ZXN0SWQgfHwgJz8nfTpcbiAgICAgIFBsZWFzZSBtYWtlIHN1cmUgdGhhdCB5b3VyIEpTT04vSmF2YVNjcmlwdCBvcHRpb25zXG4gICAgICBhcmUgc2VudCB1c2luZyB0aGUgXCJvcHRpb25zXCIgYXR0cmlidXRlLCBhbmQgdGhhdCBpZiB5b3UncmUgdXNpbmdcbiAgICAgIFNWRywgaXQgaXMgdW5lc2NhcGVkLmBcbiAgICApO1xuXG4gICAgbG9nKDEsIG1lc3NhZ2UpO1xuICAgIHJldHVybiAoXG4gICAgICBlbmRDYWxsYmFjayAmJlxuICAgICAgZW5kQ2FsbGJhY2soXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogUHJlcGFyZXMgYW4gaW5wdXQgYmVmb3JlIGV4cG9ydGluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nVG9FeHBvcnQgLSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgU1ZHL2V4cG9ydCBvcHRpb25zLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRDYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gZXhwb3J0aW5nIGlzIGRvbmUuXG4gKi9cbmNvbnN0IGV4cG9ydEFzU3RyaW5nID0gKHN0cmluZ1RvRXhwb3J0LCBvcHRpb25zLCBlbmRDYWxsYmFjaykgPT4ge1xuICBjb25zdCB7IGFsbG93Q29kZUV4ZWN1dGlvbiB9ID0gb3B0aW9ucy5jdXN0b21Db2RlO1xuXG4gIC8vIENoZWNrIGlmIGl0IGlzIFNWR1xuICBpZiAoXG4gICAgc3RyaW5nVG9FeHBvcnQuaW5kZXhPZignPHN2ZycpID49IDAgfHxcbiAgICBzdHJpbmdUb0V4cG9ydC5pbmRleE9mKCc8P3htbCcpID49IDBcbiAgKSB7XG4gICAgbG9nKDQsICdbY2hhcnRdIFBhcnNpbmcgaW5wdXQgYXMgU1ZHLicpO1xuICAgIHJldHVybiBkb0V4cG9ydChvcHRpb25zLCBmYWxzZSwgZW5kQ2FsbGJhY2ssIHN0cmluZ1RvRXhwb3J0KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gVHJ5IHRvIHBhcnNlIHRvIEpTT04gYW5kIGNhbGwgdGhlIGRvRXhwb3J0IGZ1bmN0aW9uXG4gICAgY29uc3QgY2hhcnRKU09OID0gSlNPTi5wYXJzZShzdHJpbmdUb0V4cG9ydC5yZXBsYWNlQWxsKC9cXHR8XFxufFxcci9nLCAnICcpKTtcblxuICAgIC8vIElmIGEgY29ycmVjdCBKU09OLCBkbyB0aGUgZXhwb3J0XG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGNoYXJ0SlNPTiwgZW5kQ2FsbGJhY2spO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIE5vdCBhIHZhbGlkIEpTT05cbiAgICBpZiAodG9Cb29sZWFuKGFsbG93Q29kZUV4ZWN1dGlvbikpIHtcbiAgICAgIHJldHVybiBkb1N0cmFpZ2h0SW5qZWN0KG9wdGlvbnMsIGVuZENhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRG8gbm90IGFsbG93IHN0cmFpZ2h0IGluamVjdGlvbiB3aXRob3V0IHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gZmxhZ1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgZW5kQ2FsbGJhY2sgJiZcbiAgICAgICAgZW5kQ2FsbGJhY2soZmFsc2UsIHtcbiAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICBtZXNzYWdlOiBjbGVhclRleHQoXG4gICAgICAgICAgICBgT25seSBKU09OIGNvbmZpZ3VyYXRpb25zIGFuZCBTVkcgaXMgYWxsb3dlZCBmb3IgdGhpcyBzZXJ2ZXIuIElmXG4gICAgICAgICAgICB0aGlzIGlzIHlvdXIgc2VydmVyLCBKYXZhU2NyaXB0IGV4cG9ydGluZyBjYW4gYmUgZW5hYmxlZCBieSBzdGFydGluZ1xuICAgICAgICAgICAgdGhlIHNlcnZlciB3aXRoIHRoZSAtLWFsbG93Q29kZUV4ZWN1dGlvbiBmbGFnLmBcbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEFsbG93Q29kZUV4ZWN1dGlvbiA9ICgpID0+IGFsbG93Q29kZUV4ZWN1dGlvbjtcblxuZXhwb3J0IGNvbnN0IHNldEFsbG93Q29kZUV4ZWN1dGlvbiA9ICh2YWx1ZSkgPT4ge1xuICBhbGxvd0NvZGVFeGVjdXRpb24gPSB0b0Jvb2xlYW4odmFsdWUpO1xufTtcblxuLyoqXG4gKiBTdGFydHMgYW4gZXhwb3J0aW5nIHByb2Nlc3NcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgLSBTZXR0aW5ncyBmb3IgZXhwb3J0LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZW5kQ2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGV4cG9ydGluZyBpcyBkb25lLlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIGJhdGNoRXhwb3J0LFxuICBzaW5nbGVFeHBvcnQsXG4gIGdldEFsbG93Q29kZUV4ZWN1dGlvbixcbiAgc2V0QWxsb3dDb2RlRXhlY3V0aW9uLFxuICBzdGFydEV4cG9ydCxcbiAgZmluZENoYXJ0U2l6ZVxufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XG5cbmltcG9ydCB7IGdldEFsbG93Q29kZUV4ZWN1dGlvbiwgc3RhcnRFeHBvcnQgfSBmcm9tICcuLi8uLi9jaGFydC5qcyc7XG5pbXBvcnQgeyBnZXRPcHRpb25zLCBtZXJnZUNvbmZpZ09wdGlvbnMgfSBmcm9tICcuLi8uLi9jb25maWcuanMnO1xuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi4vLi4vbG9nZ2VyLmpzJztcbmltcG9ydCB7XG4gIGNsZWFyVGV4dCxcbiAgZml4VHlwZSxcbiAgaXNDb3JyZWN0SlNPTixcbiAgaXNQcml2YXRlUmFuZ2VVcmxGb3VuZCxcbiAgb3B0aW9uc1N0cmluZ2lmeSxcbiAgbWVhc3VyZVRpbWVcbn0gZnJvbSAnLi4vLi4vdXRpbHMuanMnO1xuXG4vLyBSZXZlcnNlZCBNSU1FIHR5cGVzXG5jb25zdCByZXZlcnNlZE1pbWUgPSB7XG4gIHBuZzogJ2ltYWdlL3BuZycsXG4gIGpwZWc6ICdpbWFnZS9qcGVnJyxcbiAgZ2lmOiAnaW1hZ2UvZ2lmJyxcbiAgcGRmOiAnYXBwbGljYXRpb24vcGRmJyxcbiAgc3ZnOiAnaW1hZ2Uvc3ZnK3htbCdcbn07XG5cbi8vIFRoZSByZXF1ZXN0cyBjb3VudGVyXG5sZXQgcmVxdWVzdHNDb3VudGVyID0gMDtcblxuY29uc3QgYmVuY2htYXJrID0gZmFsc2U7XG5cbi8vIFRoZSBhcnJheSBvZiBjYWxsYmFja3MgdG8gY2FsbCBiZWZvcmUgYSByZXF1ZXN0XG5jb25zdCBiZWZvcmVSZXF1ZXN0ID0gW107XG5cbi8vIFRoZSBhcnJheSBvZiBjYWxsYmFja3MgdG8gY2FsbCBhZnRlciBhIHJlcXVlc3RcbmNvbnN0IGFmdGVyUmVxdWVzdCA9IFtdO1xuXG4vKipcbiAqIENhbGxzIGNhbGxiYWNrcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjYWxsYmFja3MgLSBBbiBhcnJheSBvZiBjYWxsYmFja3MuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlLlxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBUaGUgZGF0YSB0byBzZW5kIHRvIGNhbGxiYWNrcy5cbiAqIEByZXR1cm4ge29iamVjdH0gLSBUaGUgcmVzdWx0IGZyb20gYSBjYWxsYmFjay5cbiAqL1xuY29uc3QgZG9DYWxsYmFja3MgPSAoY2FsbGJhY2tzLCByZXF1ZXN0LCByZXNwb25zZSwgZGF0YSkgPT4ge1xuICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgY29uc3QgeyBpZCwgdW5pcXVlSWQsIHR5cGUsIGJvZHkgfSA9IGRhdGE7XG5cbiAgY2FsbGJhY2tzLnNvbWUoKGNhbGxiYWNrKSA9PiB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBsZXQgY2FsbFJlc3BvbnNlID0gY2FsbGJhY2socmVxdWVzdCwgcmVzcG9uc2UsIGlkLCB1bmlxdWVJZCwgdHlwZSwgYm9keSk7XG5cbiAgICAgIGlmIChjYWxsUmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiBjYWxsUmVzcG9uc2UgIT09IHRydWUpIHtcbiAgICAgICAgcmVzdWx0ID0gY2FsbFJlc3BvbnNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgYW4gZXhwb3J0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgLSBUaGUgcmVzcG9uc2UuXG4gKi9cbmNvbnN0IGV4cG9ydEhhbmRsZXIgPSAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgLy8gU3RhcnQgY291bnRpbmcgdGltZVxuICBjb25zdCBzdG9wQ291bnRlciA9IG1lYXN1cmVUaW1lKCk7XG5cbiAgLy8gR2V0IHRoZSBjdXJyZW50IHNlcnZlcidzIGdlbmVyYWwgb3B0aW9uc1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcblxuICAvLyBJbml0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ0luaXQgZGVmYXVsdCBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIGNvbnN0IGJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gIGNvbnN0IGlkID0gKytyZXF1ZXN0c0NvdW50ZXI7XG4gIGNvbnN0IHVuaXF1ZUlkID0gdXVpZCgpLnJlcGxhY2UoLy0vZywgJycpO1xuICBsZXQgdHlwZSA9IGZpeFR5cGUoYm9keS50eXBlKTtcblxuICAvLyBGaXggdHlwZVxuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ0ZpeCB0eXBlOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIC8vIFRocm93ICdCYWQgUmVxdWVzdCcgaWYgdGhlcmUncyBubyBib2R5XG4gIGlmICghYm9keSkge1xuICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKFxuICAgICAgY2xlYXJUZXh0KFxuICAgICAgICBgQm9keSBpcyByZXF1aXJlZC4gU2VuZGluZyBhIGJvZHk/IE1ha2Ugc3VyZSB5b3VyIENvbnRlbnQtdHlwZSBoZWFkZXJcbiAgICAgICAgaXMgY29ycmVjdC4gQWNjZXB0ZWQgaXMgYXBwbGljYXRpb24vanNvbiBhbmQgbXVsdGlwYXJ0L2Zvcm0tZGF0YS5gXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8vIEFsbCBvZiB0aGUgYmVsb3cgY2FuIGJlIHVzZWRcbiAgbGV0IGluc3RyID0gaXNDb3JyZWN0SlNPTihib2R5LmluZmlsZSB8fCBib2R5Lm9wdGlvbnMgfHwgYm9keS5kYXRhKTtcblxuICAvLyBJcyBjb3JyZWN0IEpTT05cbiAgaWYgKGJlbmNobWFyaykge1xuICAgIGNvbnNvbGUubG9nKCdJcyBjb3JyZWN0IEpTT046Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xuICB9XG5cbiAgLy8gVGhyb3cgJ0JhZCBSZXF1ZXN0JyBpZiB0aGVyZSdzIG5vIEpTT04gb3IgU1ZHIHRvIGV4cG9ydFxuICBpZiAoIWluc3RyICYmICFib2R5LnN2Zykge1xuICAgIGxvZyhcbiAgICAgIDIsXG4gICAgICBjbGVhclRleHQoXG4gICAgICAgIGBSZXF1ZXN0ICR7dW5pcXVlSWR9IGZyb20gJHtcbiAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddIHx8IHJlcXVlc3QuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzXG4gICAgICAgIH0gd2FzIGluY29ycmVjdC4gQ2hlY2sgeW91ciBwYXlsb2FkLmBcbiAgICAgIClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLnNlbmQoXG4gICAgICBjbGVhclRleHQoXG4gICAgICAgIGBObyBjb3JyZWN0IGNoYXJ0IGRhdGEgZm91bmQuIFBsZWFzZSBtYWtlIHN1cmUgeW91IGFyZSB1c2luZ1xuICAgICAgICBhcHBsaWNhdGlvbi9qc29uIG9yIG11bHRpcGFydC9mb3JtLWRhdGEgaGVhZGVycywgYW5kIHRoYXQgdGhlIGNoYXJ0XG4gICAgICAgIGRhdGEgaXMgaW4gdGhlICdpbmZpbGUnLCAnb3B0aW9ucycgb3IgJ2RhdGEnIGF0dHJpYnV0ZSBpZiBzZW5kaW5nXG4gICAgICAgIEpTT04gb3IgaW4gdGhlICdzdmcnIGlmIHNlbmRpbmcgU1ZHLmBcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgbGV0IGNhbGxSZXNwb25zZSA9IGZhbHNlO1xuXG4gIC8vIENhbGwgdGhlIGJlZm9yZSByZXF1ZXN0IGZ1bmN0aW9uc1xuICBjYWxsUmVzcG9uc2UgPSBkb0NhbGxiYWNrcyhiZWZvcmVSZXF1ZXN0LCByZXF1ZXN0LCByZXNwb25zZSwge1xuICAgIGlkLFxuICAgIHVuaXF1ZUlkLFxuICAgIHR5cGUsXG4gICAgYm9keVxuICB9KTtcblxuICAvLyBEbyBjYWxsYmFja3NcbiAgaWYgKGJlbmNobWFyaykge1xuICAgIGNvbnNvbGUubG9nKCdEbyBjYWxsYmFja3M6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xuICB9XG5cbiAgLy8gQmxvY2sgdGhlIHJlcXVlc3QgaWYgb25lIG9mIGEgY2FsbGJhY2tzIGZhaWxlZFxuICBpZiAoY2FsbFJlc3BvbnNlICE9PSB0cnVlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoY2FsbFJlc3BvbnNlKTtcbiAgfVxuXG4gIGxldCBjb25uZWN0aW9uQWJvcnRlZCA9IGZhbHNlO1xuXG4gIC8vIEluIGNhc2UgdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkLCBmb3JjZSB0byBhYm9ydCBmdXJ0aGVyIGFjdGlvbnNcbiAgcmVxdWVzdC5zb2NrZXQub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgIGNvbm5lY3Rpb25BYm9ydGVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgbG9nKDQsIGBbZXhwb3J0XSBHb3QgYW4gaW5jb21pbmcgSFRUUCByZXF1ZXN0ICR7dW5pcXVlSWR9LmApO1xuXG4gIGJvZHkuY29uc3RyID0gKHR5cGVvZiBib2R5LmNvbnN0ciA9PT0gJ3N0cmluZycgJiYgYm9keS5jb25zdHIpIHx8ICdjaGFydCc7XG5cbiAgLy8gR2F0aGVyIGFuZCBvcmdhbml6ZSBvcHRpb25zIGZyb20gdGhlIHBheWxvYWRcbiAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgZXhwb3J0OiB7XG4gICAgICBpbnN0cixcbiAgICAgIHR5cGUsXG4gICAgICBjb25zdHI6IGJvZHkuY29uc3RyWzBdLnRvTG93ZXJDYXNlKCkgKyBib2R5LmNvbnN0ci5zdWJzdHIoMSksXG4gICAgICBoZWlnaHQ6IGJvZHkuaGVpZ2h0LFxuICAgICAgd2lkdGg6IGJvZHkud2lkdGgsXG4gICAgICBzY2FsZTogYm9keS5zY2FsZSB8fCBkZWZhdWx0T3B0aW9ucy5leHBvcnQuc2NhbGUsXG4gICAgICBnbG9iYWxPcHRpb25zOiBpc0NvcnJlY3RKU09OKGJvZHkuZ2xvYmFsT3B0aW9ucywgdHJ1ZSksXG4gICAgICB0aGVtZU9wdGlvbnM6IGlzQ29ycmVjdEpTT04oYm9keS50aGVtZU9wdGlvbnMsIHRydWUpXG4gICAgfSxcbiAgICBjdXN0b21Db2RlOiB7XG4gICAgICBhbGxvd0NvZGVFeGVjdXRpb246IGdldEFsbG93Q29kZUV4ZWN1dGlvbigpLFxuICAgICAgYWxsb3dGaWxlUmVzb3VyY2VzOiBmYWxzZSxcbiAgICAgIHJlc291cmNlczogaXNDb3JyZWN0SlNPTihib2R5LnJlc291cmNlcywgdHJ1ZSksXG4gICAgICBjYWxsYmFjazogYm9keS5jYWxsYmFjayxcbiAgICAgIGN1c3RvbUNvZGU6IGJvZHkuY3VzdG9tQ29kZVxuICAgIH1cbiAgfTtcblxuICAvLyBPcmdhbml6ZSBvcHRpb25zXG4gIGlmIChiZW5jaG1hcmspIHtcbiAgICBjb25zb2xlLmxvZygnT3JnYW5pemUgb3B0aW9uczonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XG4gIH1cblxuICBpZiAoaW5zdHIpIHtcbiAgICAvLyBTdHJpbmdpZnkgSlNPTiB3aXRoIG9wdGlvbnNcbiAgICByZXF1ZXN0T3B0aW9ucy5leHBvcnQuaW5zdHIgPSBvcHRpb25zU3RyaW5naWZ5KFxuICAgICAgaW5zdHIsXG4gICAgICByZXF1ZXN0T3B0aW9ucy5jdXN0b21Db2RlLmFsbG93Q29kZUV4ZWN1dGlvblxuICAgICk7XG5cbiAgICAvLyBTdHJpbmdpZnkgSlNPTiB3aXRoIG9wdGlvbnNcbiAgICBpZiAoYmVuY2htYXJrKSB7XG4gICAgICBjb25zb2xlLmxvZygnU3RyaW5naWZ5IEpTT04gd2l0aCBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgICB9XG4gIH1cblxuICAvLyBNZXJnZSB0aGUgcmVxdWVzdCBvcHRpb25zIGludG8gZGVmYXVsdCBvbmVzXG4gIGNvbnN0IG9wdGlvbnMgPSBtZXJnZUNvbmZpZ09wdGlvbnMoZGVmYXVsdE9wdGlvbnMsIHJlcXVlc3RPcHRpb25zKTtcblxuICAvLyBNZXJnZSBjb25maWcgb3B0aW9uc1xuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ01lcmdlIGNvbmZpZyBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIC8vIFNhdmUgdGhlIEpTT04gaWYgZXhpc3RzXG4gIG9wdGlvbnMuZXhwb3J0Lm9wdGlvbnMgPSBpbnN0cjtcblxuICAvLyBMYXN0bHksIGFkZCB0aGUgc2VydmVyIHNwZWNpZmljIGFyZ3VtZW50cyBpbnRvIG9wdGlvbnMgYXMgcGF5bG9hZFxuICBvcHRpb25zLnBheWxvYWQgPSB7XG4gICAgc3ZnOiBib2R5LnN2ZyB8fCBmYWxzZSxcbiAgICBiNjQ6IGJvZHkuYjY0IHx8IGZhbHNlLFxuICAgIGRhdGFPcHRpb25zOiBpc0NvcnJlY3RKU09OKGJvZHkuZGF0YU9wdGlvbnMsIHRydWUpLFxuICAgIG5vRG93bmxvYWQ6IGJvZHkubm9Eb3dubG9hZCB8fCBmYWxzZSxcbiAgICByZXF1ZXN0SWQ6IHVuaXF1ZUlkXG4gIH07XG5cbiAgLy8gU2V0dGluZyBwYXlsb2FkXG4gIGlmIChiZW5jaG1hcmspIHtcbiAgICBjb25zb2xlLmxvZygnU2V0dGluZyBwYXlsb2FkOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcbiAgfVxuXG4gIC8vIFRlc3QgeGxpbms6aHJlZiBlbGVtZW50cyBmcm9tIHBheWxvYWQncyBTVkdcbiAgaWYgKGJvZHkuc3ZnICYmIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQob3B0aW9ucy5wYXlsb2FkLnN2ZykpIHtcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgLnNlbmQoXG4gICAgICAgICdTVkcgcG90ZW50aWFsbHkgY29udGFpbiBhdCBsZWFzdCBvbmUgZm9yYmlkZGVuIFVSTCBpbiB4bGluazpocmVmIGVsZW1lbnQuJ1xuICAgICAgKTtcbiAgfVxuXG4gIC8vIENoZWNrIFVSTCByYW5nZVxuICBpZiAoYmVuY2htYXJrKSB7XG4gICAgY29uc29sZS5sb2coJ0NoZWNrIFVSTCByYW5nZTonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XG4gIH1cblxuICAvLyBTdGFydCB0aGUgZXhwb3J0IHByb2Nlc3NcbiAgc3RhcnRFeHBvcnQob3B0aW9ucywgKGluZm8sIGVycm9yKSA9PiB7XG4gICAgLy8gUmVtb3ZlIHRoZSBjbG9zZSBldmVudCBmcm9tIHRoZSBzb2NrZXRcbiAgICByZXF1ZXN0LnNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2Nsb3NlJyk7XG5cbiAgICAvLyBBZnRlciBQdXBwZXRlZXIgZXhwb3J0aW5nXG4gICAgaWYgKGJlbmNobWFyaykge1xuICAgICAgY29uc29sZS5sb2coJ0FmdGVyIFB1cHBldGVlciBleHBvcnRpbmc6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicsICdcXG4nKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkLCBkbyBub3RoaW5nXG4gICAgaWYgKGNvbm5lY3Rpb25BYm9ydGVkKSB7XG4gICAgICByZXR1cm4gbG9nKFxuICAgICAgICAzLFxuICAgICAgICBjbGVhclRleHQoXG4gICAgICAgICAgYFtleHBvcnRdIFRoZSBjbGllbnQgY2xvc2VkIHRoZSBjb25uZWN0aW9uIGJlZm9yZSB0aGUgY2hhcnQgd2FzIGRvbmVcbiAgICAgICAgICBwcm9jZXNzaW5nLmBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBJZiBlcnJvciwgcmV0dXJuIGl0XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBsb2coXG4gICAgICAgIDEsXG4gICAgICAgIGNsZWFyVGV4dChcbiAgICAgICAgICBgW2V4cG9ydF0gV29yazogJHt1bmlxdWVJZH0gY291bGQgbm90IGJlIGNvbXBsZXRlZCwgc2VuZGluZzpcbiAgICAgICAgICAke2Vycm9yfWBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8vIElmIGRhdGEgaXMgbWlzc2luZywgcmV0dXJuIHRoZSBlcnJvclxuICAgIGlmICghaW5mbyB8fCAhaW5mby5kYXRhKSB7XG4gICAgICBsb2coXG4gICAgICAgIDEsXG4gICAgICAgIGNsZWFyVGV4dChcbiAgICAgICAgICBgW2V4cG9ydF0gVW5leHBlY3RlZCByZXR1cm4gZnJvbSBjaGFydCBnZW5lcmF0aW9uLCBwbGVhc2UgY2hlY2sgeW91clxuICAgICAgICAgIGRhdGEgUmVxdWVzdDogJHt1bmlxdWVJZH0gaXMgJHtpbmZvLmRhdGF9LmBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZVxuICAgICAgICAuc3RhdHVzKDQwMClcbiAgICAgICAgLnNlbmQoXG4gICAgICAgICAgJ1VuZXhwZWN0ZWQgcmV0dXJuIGZyb20gY2hhcnQgZ2VuZXJhdGlvbiwgcGxlYXNlIGNoZWNrIHlvdXIgZGF0YS4nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSB0eXBlIGZyb20gb3B0aW9uc1xuICAgIHR5cGUgPSBpbmZvLm9wdGlvbnMuZXhwb3J0LnR5cGU7XG5cbiAgICAvLyBUaGUgYWZ0ZXIgcmVxdWVzdCBjYWxsYmFja3NcbiAgICBkb0NhbGxiYWNrcyhhZnRlclJlcXVlc3QsIHJlcXVlc3QsIHJlc3BvbnNlLCB7IGlkLCBib2R5OiBpbmZvLmRhdGEgfSk7XG5cbiAgICBpZiAoaW5mby5kYXRhKSB7XG4gICAgICAvLyBJZiBvbmx5IGJhc2U2NCBpcyByZXF1aXJlZCwgcmV0dXJuIGl0XG4gICAgICBpZiAoYm9keS5iNjQpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgaXMgYWxyZWFkeSBiYXNlNjQgb3IgYSByYXcgU1ZHXG4gICAgICAgIGlmICh0eXBlID09PSAncGRmJykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKFxuICAgICAgICAgICAgQnVmZmVyLmZyb20oaW5mby5kYXRhLCAndXRmOCcpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoaW5mby5kYXRhKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IGNvcnJlY3QgY29udGVudCB0eXBlXG4gICAgICByZXNwb25zZS5oZWFkZXIoJ0NvbnRlbnQtVHlwZScsIHJldmVyc2VkTWltZVt0eXBlXSB8fCAnaW1hZ2UvcG5nJyk7XG5cbiAgICAgIC8vIERlY2lkZSB3aGV0aGVyIHRvIGRvd25sb2FkIG9yIG5vdCBjaGFydCBmaWxlXG4gICAgICBpZiAoIWJvZHkubm9Eb3dubG9hZCkge1xuICAgICAgICByZXNwb25zZS5hdHRhY2htZW50KFxuICAgICAgICAgIGAke3JlcXVlc3QucGFyYW1zLmZpbGVuYW1lIHx8ICdjaGFydCd9LiR7dHlwZSB8fCAncG5nJ31gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIFNWRywgcmV0dXJuIHBsYWluIGNvbnRlbnRcbiAgICAgIHJldHVybiB0eXBlID09PSAnc3ZnJ1xuICAgICAgICA/IHJlc3BvbnNlLnNlbmQoaW5mby5kYXRhKVxuICAgICAgICA6IHJlc3BvbnNlLnNlbmQoQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JykpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAoYXBwKSA9PiB7XG4gIGFwcC5wb3N0KCcvJywgZXhwb3J0SGFuZGxlcik7XG4gIGFwcC5wb3N0KCcvOmZpbGVuYW1lJywgZXhwb3J0SGFuZGxlcik7XG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXG5cbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxuXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXG5cbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxuXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IHByb21pc2VzIGFzIGZzUHJvbWlzZXMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBwb3NpeCB9IGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xuXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi9sb2dnZXIuanMnO1xuaW1wb3J0IHJhdGVMaW1pdCBmcm9tICcuL3JhdGVfbGltaXQuanMnO1xuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5pbXBvcnQgaGVhbHRoUm91dGUgZnJvbSAnLi9yb3V0ZXMvaGVhbHRoLmpzJztcbmltcG9ydCBleHBvcnRSb3V0ZXMgZnJvbSAnLi9yb3V0ZXMvZXhwb3J0LmpzJztcbmltcG9ydCB2c3dpdGNoUm91dGUgZnJvbSAnLi9yb3V0ZXMvY2hhbmdlX2hjX3ZlcnNpb24uanMnO1xuaW1wb3J0IHVpUm91dGUgZnJvbSAnLi9yb3V0ZXMvdWkuanMnO1xuXG4vLyBDcmVhdGUgZXhwcmVzcyBhcHBcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gRGlzYWJsZSB0aGUgWC1Qb3dlcmVkLUJ5IGhlYWRlclxuYXBwLmRpc2FibGUoJ3gtcG93ZXJlZC1ieScpO1xuXG4vLyBFbmFibGUgQ09SUyBzdXBwb3J0XG5hcHAudXNlKGNvcnMoKSk7XG5cbi8vIEVuYWJsZSBwYXJzaW5nIG9mIGZvcm0gZGF0YSAoZmlsZXMpIHdpdGggTXVsdGVyIHBhY2thZ2VcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIubWVtb3J5U3RvcmFnZSgpO1xuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtcbiAgc3RvcmFnZSxcbiAgbGltaXRzOiB7XG4gICAgZmllbGRzU2l6ZTogJzUwTUInXG4gIH1cbn0pO1xuXG5hcHAudXNlKHVwbG9hZC5hbnkoKSk7XG5cbi8vIEVuYWJsZSBib2R5IHBhcnNlclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oeyBsaW1pdDogJzUwbWInIH0pKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUsIGxpbWl0OiAnNTBtYicgfSkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UsIGxpbWl0OiAnNTBtYicgfSkpO1xuXG4vKipcbiAqIEVycm9yIGhhbmRsZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGVycm9yIC0gQW4gZXJyb3Igb2JqZWN0LlxuICogQHJldHVybiB7c3RyaW5nfSAtIEFuIGVycm9yIG1lc3NhZ2UuXG4gKi9cbmNvbnN0IGVycm9ySGFuZGxlciA9IChlcnJvcikgPT4gbG9nKDEsIGBbc2VydmVyXSBTb2NrZXQgZXJyb3I6ICR7ZXJyb3J9YCk7XG5cbi8qKlxuICogQXR0YWNoZXMgZXJyb3IgaGFuZGxlcnMgZm9yIGEgc2VydmVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBzZXJ2ZXIgLSBUaGUgaHR0cC9odHRwcyBzZXJ2ZXIuXG4gKi9cbmNvbnN0IGF0dGFjaEVycm9ySGFuZGxlcnMgPSAoc2VydmVyKSA9PiB7XG4gIHNlcnZlci5vbignY2xpZW50RXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICBzZXJ2ZXIub24oJ2Vycm9yJywgZXJyb3JIYW5kbGVyKTtcbiAgc2VydmVyLm9uKCdjb25uZWN0aW9uJywgKHNvY2tldCkgPT5cbiAgICBzb2NrZXQub24oJ2Vycm9yJywgKGVycm9yKSA9PiBlcnJvckhhbmRsZXIoZXJyb3IsIHNvY2tldCkpXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RhcnRTZXJ2ZXIgPSBhc3luYyAoc2VydmVyQ29uZmlnKSA9PiB7XG4gIC8vIFN0b3AgaWYgbm90IGVuYWJsZWRcbiAgaWYgKCFzZXJ2ZXJDb25maWcuZW5hYmxlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gLy8gR2V0IHRoZSBwb29sXG4gIC8vIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XG5cbiAgLy8gLy8gVHJ5IHRvIGNyZWF0ZSBicm93c2VyIGluc3RhbmNlIGJlZm9yZSBzdGFydGluZyB0aGUgc2VydmVyXG4gIC8vIGNvbnN0IHJlc291cmNlID0gYXdhaXQgcG9vbC5hY3F1aXJlKCk7XG5cbiAgLy8gLy8gSWYgbm90IGZvdW5kLCB0aHJvdyBhbiBlcnJvclxuICAvLyBpZiAoIXJlc291cmNlLmJyb3dzZXIpIHtcbiAgLy8gICBsb2coMSwgYFtzZXJ2ZXJdIENvdWxkIG5vdCBhY3F1aXJlIGJyb3dzZXIgaW5zdGFuY2UuYCk7XG4gIC8vICAgcHJvY2Vzcy5leGl0KDEpO1xuICAvLyB9XG5cbiAgLy8gLy8gUmVsZWFzZSB0aGUgcmVzb3VyY2VcbiAgLy8gcG9vbC5yZWxlYXNlKHJlc291cmNlKTtcblxuICAvLyBMaXN0ZW4gSFRUUCBzZXJ2ZXJcbiAgaWYgKCFzZXJ2ZXJDb25maWcuc3NsLmVuYWJsZSAmJiAhc2VydmVyQ29uZmlnLnNzbC5mb3JjZSkge1xuICAgIC8vIE1haW4gc2VydmVyIGluc3RhbmNlIChIVFRQKVxuICAgIGNvbnN0IGh0dHBTZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xuICAgIC8vIEF0dGFjaCBlcnJvciBoYW5kbGVycyBhbmQgbGlzdGVuIHRvIHRoZSBzZXJ2ZXJcbiAgICBhdHRhY2hFcnJvckhhbmRsZXJzKGh0dHBTZXJ2ZXIpO1xuICAgIC8vIExpc3RlblxuICAgIGh0dHBTZXJ2ZXIubGlzdGVuKHNlcnZlckNvbmZpZy5wb3J0LCBzZXJ2ZXJDb25maWcuaG9zdCk7XG5cbiAgICBsb2coXG4gICAgICAzLFxuICAgICAgYFtzZXJ2ZXJdIFN0YXJ0ZWQgSFRUUCBzZXJ2ZXIgb24gJHtzZXJ2ZXJDb25maWcuaG9zdH06JHtzZXJ2ZXJDb25maWcucG9ydH0uYFxuICAgICk7XG4gIH1cblxuICAvLyBMaXN0ZW4gSFRUUFMgc2VydmVyXG4gIGlmIChzZXJ2ZXJDb25maWcuc3NsLmVuYWJsZSkge1xuICAgIC8vIFNldCB1cCBhbiBTU0wgc2VydmVyIGFsc29cbiAgICBsZXQga2V5LCBjZXJ0O1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB0aGUgU1NMIGtleVxuICAgICAga2V5ID0gYXdhaXQgZnNQcm9taXNlcy5yZWFkRmlsZShcbiAgICAgICAgcG9zaXguam9pbihzZXJ2ZXJDb25maWcuc3NsLmNlcnRQYXRoLCAnc2VydmVyLmtleScpLFxuICAgICAgICAndXRmOCdcbiAgICAgICk7XG5cbiAgICAgIC8vIEdldCB0aGUgU1NMIGNlcnRpZmljYXRlXG4gICAgICBjZXJ0ID0gYXdhaXQgZnNQcm9taXNlcy5yZWFkRmlsZShcbiAgICAgICAgcG9zaXguam9pbihzZXJ2ZXJDb25maWcuc3NsLmNlcnRQYXRoLCAnc2VydmVyLmNydCcpLFxuICAgICAgICAndXRmOCdcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgMSxcbiAgICAgICAgYFtzZXJ2ZXJdIFVuYWJsZSB0byBsb2FkIGtleS9jZXJ0aWZpY2F0ZSBmcm9tICR7c2VydmVyQ29uZmlnLnNzbC5jZXJ0UGF0aH0uYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ICYmIGNlcnQpIHtcbiAgICAgIC8vIE1haW4gc2VydmVyIGluc3RhbmNlIChIVFRQUylcbiAgICAgIGNvbnN0IGh0dHBzU2VydmVyID0gaHR0cHMuY3JlYXRlU2VydmVyKGFwcCk7XG4gICAgICAvLyBBdHRhY2ggZXJyb3IgaGFuZGxlcnMgYW5kIGxpc3RlbiB0byB0aGUgc2VydmVyXG4gICAgICBhdHRhY2hFcnJvckhhbmRsZXJzKGh0dHBzU2VydmVyKTtcbiAgICAgIC8vIExpc3RlblxuICAgICAgaHR0cHNTZXJ2ZXIubGlzdGVuKHNlcnZlckNvbmZpZy5zc2wucG9ydCwgc2VydmVyQ29uZmlnLmhvc3QpO1xuXG4gICAgICBsb2coXG4gICAgICAgIDMsXG4gICAgICAgIGBbc2VydmVyXSBTdGFydGVkIEhUVFBTIHNlcnZlciBvbiAke3NlcnZlckNvbmZpZy5ob3N0fToke3NlcnZlckNvbmZpZy5zc2wucG9ydH0uYFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBFbmFibGUgdGhlIHJhdGUgbGltaXRlciBpZiBjb25maWcgc2F5cyBzb1xuICBpZiAoXG4gICAgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZyAmJlxuICAgIHNlcnZlckNvbmZpZy5yYXRlTGltaXRpbmcuZW5hYmxlICYmXG4gICAgIVswLCBOYU5dLmluY2x1ZGVzKHNlcnZlckNvbmZpZy5yYXRlTGltaXRpbmcubWF4UmVxdWVzdHMpXG4gICkge1xuICAgIHJhdGVMaW1pdChhcHAsIHNlcnZlckNvbmZpZy5yYXRlTGltaXRpbmcpO1xuICB9XG5cbiAgLy8gU2V0IHVwIHN0YXRpYyBmb2xkZXIncyByb3V0ZVxuICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKHBvc2l4LmpvaW4oX19kaXJuYW1lLCAncHVibGljJykpKTtcblxuICAvLyBTZXQgdXAgcm91dGVzXG4gIGhlYWx0aFJvdXRlKGFwcCk7XG4gIGV4cG9ydFJvdXRlcyhhcHApO1xuICB1aVJvdXRlKGFwcCk7XG4gIHZzd2l0Y2hSb3V0ZShhcHApO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBleHByZXNzIGluc3RhbmNlLlxuICovXG5leHBvcnQgY29uc3QgZ2V0RXhwcmVzcyA9ICgpID0+IHtcbiAgcmV0dXJuIGV4cHJlc3M7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGFwcCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEFwcCA9ICgpID0+IHtcbiAgcmV0dXJuIGFwcDtcbn07XG5cbi8qKlxuICogQWRkcyBhIG1pZGRsZXdhcmUgdG8gdGhlIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGF0aCAtIEFuIGVuZHBvaW50IHBhdGggdG8gYWRkIG1pZGRsZXdhcmVzIHRvLlxuICogQHBhcmFtIHtBcnJheX0gbWlkZGxld2FyZXMgLSBBbiB1bmxpbWl0ZWQgbnVtYmVyIG9mIG1pZGRsZXdhcmVzIHRvIHVzZVxuICogYWdhaW5zdCB0aGUgc3BlY2lmaWMgZW5kcG9pbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB1c2UgPSAocGF0aCwgLi4ubWlkZGxld2FyZXMpID0+IHtcbiAgYXBwLnVzZShwYXRoLCAuLi5taWRkbGV3YXJlcyk7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBnZXQgcm91dGUgdG8gdGhlIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGF0aCAtIEFuIGVuZHBvaW50IHBhdGggdG8gYWRkIG1pZGRsZXdhcmVzIHRvLlxuICogQHBhcmFtIHtBcnJheX0gbWlkZGxld2FyZXMgLSBBbiB1bmxpbWl0ZWQgbnVtYmVyIG9mIG1pZGRsZXdhcmVzIHRvIHVzZVxuICogYWdhaW5zdCB0aGUgc3BlY2lmaWMgZW5kcG9pbnQgZm9yIEdFVCBtZXRob2QuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXQgPSAocGF0aCwgLi4ubWlkZGxld2FyZXMpID0+IHtcbiAgYXBwLmdldChwYXRoLCAuLi5taWRkbGV3YXJlcyk7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBwb3N0IHJvdXRlIHRvIHRoZSBzZXJ2ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBhdGggLSBBbiBlbmRwb2ludCBwYXRoIHRvIGFkZCBtaWRkbGV3YXJlcyB0by5cbiAqIEBwYXJhbSB7QXJyYXl9IG1pZGRsZXdhcmVzIC0gQW4gdW5saW1pdGVkIG51bWJlciBvZiBtaWRkbGV3YXJlcyB0byB1c2VcbiAqIGFnYWluc3QgdGhlIHNwZWNpZmljIGVuZHBvaW50IGZvciBQT1NUIG1ldGhvZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBvc3QgPSAocGF0aCwgLi4ubWlkZGxld2FyZXMpID0+IHtcbiAgYXBwLnBvc3QocGF0aCwgLi4ubWlkZGxld2FyZXMpO1xufTtcblxuLyoqXG4gKiBGb3JjZWZ1bGx5IGVuYWJsZXMgcmF0ZSBsaW1pdGluZy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbGltaXRDb25maWcgLSBUaGUgb3B0aW9ucyBvYmplY3QgZm9yIHRoZSByYXRlIGxpbWl0ZXJcbiAqIGNvbmZpZ3VyYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBlbmFibGVSYXRlTGltaXRpbmcgPSAobGltaXRDb25maWcpID0+IHtcbiAgcmV0dXJuIHJhdGVMaW1pdChhcHAsIGxpbWl0Q29uZmlnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc3RhcnRTZXJ2ZXIsXG4gIGdldEV4cHJlc3MsXG4gIGdldEFwcCxcbiAgdXNlLFxuICBnZXQsXG4gIHBvc3QsXG4gIGVuYWJsZVJhdGVMaW1pdGluZ1xufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XG5cbmltcG9ydCB7IF9fZGlybmFtZSB9IGZyb20gJy4uLy4uL3V0aWxzLmpzJztcbi8qKlxuICogQWRkcyB0aGUgLyByb3V0ZSBmb3IgYSBVSSB3aGVuIGVuYWJsZWQgZm9yIHRoZSBleHBvcnQgc2VydmVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IChhcHApID0+XG4gICFhcHBcbiAgICA/IGZhbHNlXG4gICAgOiBhcHAuZ2V0KCcvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3BvbnNlLnNlbmRGaWxlKGpvaW4oX19kaXJuYW1lLCAncHVibGljJywgJ2luZGV4Lmh0bWwnKSk7XG4gICAgICB9KTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi4vLi4vY2FjaGUuanMnO1xuXG4vKipcbiAqIEFkZHMgYSByb3V0ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoYW5nZSB0aGUgSEMgdmVyc2lvbiBvbiB0aGUgc2VydmVyXG4gKiBUT0RPOiBBZGQgYXV0aCB0b2tlbiBhbmQgY29ubmVjdCB0byBBUElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGFwcCkgPT5cbiAgIWFwcFxuICAgID8gZmFsc2VcbiAgICA6IGFwcC5wb3N0KCcvY2hhbmdlX2hjX3ZlcnNpb24vOm5ld1ZlcnNpb24nLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgY3Rva2VuID0gcHJvY2Vzcy5lbnYuSElHSENIQVJUU19BRE1JTl9UT0tFTjtcblxuICAgICAgICBpZiAoIWN0b2tlbiB8fCAhY3Rva2VuLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgJ1NlcnZlciBub3QgY29uZmlndXJlZCB0byBkbyBydW4tdGltZSB2ZXJzaW9uIGNoYW5nZXM6IEhJR0hDSEFSVFNfQURNSU5fVE9LRU4gbm90IHNldCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5nZXQoJ2hjLWF1dGgnKTtcblxuICAgICAgICBpZiAoIXRva2VuIHx8IHRva2VuICE9PSBjdG9rZW4pIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh7XG4gICAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIG9yIG1pc3NpbmcgdG9rZW46IHNldCB0b2tlbiBpbiB0aGUgaGMtYXV0aCBoZWFkZXInXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdWZXJzaW9uID0gcmVxdWVzdC5wYXJhbXMubmV3VmVyc2lvbjtcblxuICAgICAgICBpZiAobmV3VmVyc2lvbikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLW5hbWVkLWFzLWRlZmF1bHQtbWVtYmVyXG4gICAgICAgICAgICBhd2FpdCBjYWNoZS51cGRhdGVWZXJzaW9uKG5ld1ZlcnNpb24pO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoe1xuICAgICAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XG4gICAgICAgICAgICB2ZXJzaW9uOiBjYWNoZS52ZXJzaW9uKClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNwb25zZS5zZW5kKHtcbiAgICAgICAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ05vIG5ldyB2ZXJzaW9uIHN1cHBsaWVkJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxuXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcblxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxuXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cblxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vLyBBZGQgdGhlIG1haW4gZGlyZWN0b3J5IGluIHRoZSBnbG9iYWwgb2JqZWN0XG5pbXBvcnQgJ2NvbG9ycyc7XG5cbmltcG9ydCBzZXJ2ZXIsIHsgc3RhcnRTZXJ2ZXIgfSBmcm9tICcuL3NlcnZlci9zZXJ2ZXIuanMnO1xuaW1wb3J0IHtcbiAgc2V0QWxsb3dDb2RlRXhlY3V0aW9uLFxuICBiYXRjaEV4cG9ydCxcbiAgc2luZ2xlRXhwb3J0LFxuICBzdGFydEV4cG9ydFxufSBmcm9tICcuL2NoYXJ0LmpzJztcbmltcG9ydCB7IG1hcFRvTmV3Q29uZmlnLCBzZXRPcHRpb25zIH0gZnJvbSAnLi9jb25maWcuanMnO1xuaW1wb3J0IHsgbG9nLCBzZXRMb2dMZXZlbCwgZW5hYmxlRmlsZUxvZ2dpbmcgfSBmcm9tICcuL2xvZ2dlci5qcyc7XG5pbXBvcnQgeyBraWxsUG9vbCwgaW5pdCB9IGZyb20gJy4vcG9vbC5qcyc7XG5pbXBvcnQgeyBjaGVja0NhY2hlIH0gZnJvbSAnLi9jYWNoZS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbG9nLFxuICBtYXBUb05ld0NvbmZpZyxcbiAgc2V0T3B0aW9ucyxcbiAgc2luZ2xlRXhwb3J0LFxuICBzdGFydEV4cG9ydCxcbiAgYmF0Y2hFeHBvcnQsXG4gIHNlcnZlcixcbiAgc3RhcnRTZXJ2ZXIsXG4gIGtpbGxQb29sLFxuICBpbml0UG9vbDogYXN5bmMgKG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIC8vIFNldCB0aGUgYWxsb3dDb2RlRXhlY3V0aW9uIHBlciBleHBvcnQgbW9kdWxlIHNjb3BlXG4gICAgc2V0QWxsb3dDb2RlRXhlY3V0aW9uKFxuICAgICAgb3B0aW9ucy5jdXN0b21Db2RlICYmIG9wdGlvbnMuY3VzdG9tQ29kZS5hbGxvd0NvZGVFeGVjdXRpb25cbiAgICApO1xuXG4gICAgLy8gU2V0IHRoZSBsb2cgbGV2ZWxcbiAgICBzZXRMb2dMZXZlbChvcHRpb25zLmxvZ2dpbmcgJiYgcGFyc2VJbnQob3B0aW9ucy5sb2dnaW5nLmxldmVsKSk7XG5cbiAgICAvLyBTZXQgdGhlIGxvZyBmaWxlIHBhdGggYW5kIG5hbWVcbiAgICBpZiAob3B0aW9ucy5sb2dnaW5nICYmIG9wdGlvbnMubG9nZ2luZy5kZXN0KSB7XG4gICAgICBlbmFibGVGaWxlTG9nZ2luZyhcbiAgICAgICAgb3B0aW9ucy5sb2dnaW5nLmRlc3QsXG4gICAgICAgIG9wdGlvbnMubG9nZ2luZy5maWxlIHx8ICdoaWdoY2hhcnRzLWV4cG9ydC1zZXJ2ZXIubG9nJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBjYWNoZSBuZWVkcyB0byBiZSB1cGRhdGVkXG4gICAgYXdhaXQgY2hlY2tDYWNoZShvcHRpb25zLmhpZ2hjaGFydHMgfHwgeyB2ZXJzaW9uOiAnbGF0ZXN0JyB9KTtcblxuICAgIC8vIEluaXQgdGhlIHBvb2xcbiAgICBhd2FpdCBpbml0KHtcbiAgICAgIHBvb2w6IG9wdGlvbnMucG9vbCB8fCB7XG4gICAgICAgIGluaXRpYWxXb3JrZXJzOiAxLFxuICAgICAgICBtYXhXb3JrZXJzOiAxXG4gICAgICB9LFxuICAgICAgcHVwcGV0ZWVyQXJnczogb3B0aW9ucy5wdXBwZXRlZXI/LmFyZ3MgfHwgW11cbiAgICB9KTtcblxuICAgIC8vIFJldHVybiB1cGRhdGVkIG9wdGlvbnNcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJkZWZhdWx0Q29uZmlnIiwicHVwcGV0ZWVyIiwiYXJncyIsInZhbHVlIiwidHlwZSIsImRlc2NyaXB0aW9uIiwiaGlnaGNoYXJ0cyIsInZlcnNpb24iLCJlbnZMaW5rIiwiY2RuVVJMIiwiY29yZVNjcmlwdHMiLCJtb2R1bGVzIiwiaW5kaWNhdG9ycyIsInNjcmlwdHMiLCJmb3JjZUZldGNoIiwiZXhwb3J0IiwiaW5maWxlIiwiaW5zdHIiLCJvcHRpb25zIiwib3V0ZmlsZSIsImNvbnN0ciIsImRlZmF1bHRIZWlnaHQiLCJkZWZhdWx0V2lkdGgiLCJkZWZhdWx0U2NhbGUiLCJoZWlnaHQiLCJ3aWR0aCIsInNjYWxlIiwiZ2xvYmFsT3B0aW9ucyIsInRoZW1lT3B0aW9ucyIsImJhdGNoIiwiY3VzdG9tQ29kZSIsImFsbG93Q29kZUV4ZWN1dGlvbiIsImFsbG93RmlsZVJlc291cmNlcyIsImNhbGxiYWNrIiwicmVzb3VyY2VzIiwibG9hZENvbmZpZyIsImNyZWF0ZUNvbmZpZyIsInNlcnZlciIsImVuYWJsZSIsImNsaU5hbWUiLCJob3N0IiwicG9ydCIsInNzbCIsImZvcmNlIiwiY2VydFBhdGgiLCJyYXRlTGltaXRpbmciLCJtYXhSZXF1ZXN0cyIsIndpbmRvdyIsImRlbGF5IiwidHJ1c3RQcm94eSIsInNraXBLZXkiLCJza2lwVG9rZW4iLCJwb29sIiwiaW5pdGlhbFdvcmtlcnMiLCJtYXhXb3JrZXJzIiwid29ya0xpbWl0IiwicXVldWVTaXplIiwidGltZW91dFRocmVzaG9sZCIsImFjcXVpcmVUaW1lb3V0IiwicmVhcGVyIiwiYmVuY2htYXJraW5nIiwibGlzdGVuVG9Qcm9jZXNzRXhpdHMiLCJsb2dnaW5nIiwibGV2ZWwiLCJmaWxlIiwiZGVzdCIsInVpIiwicm91dGUiLCJvdGhlciIsIm5vTG9nbyIsInBheWxvYWQiLCJqb2luIiwiYWJzb2x1dGVQcm9wcyIsIm5lc3RlZEFyZ3MiLCJjcmVhdGVOZXN0ZWRBcmdzIiwib2JqIiwicHJvcENoYWluIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrIiwiaW5jbHVkZXMiLCJlbnRyeSIsInN1YnN0cmluZyIsInRvQ29uc29sZSIsInRvRmlsZSIsInBhdGhDcmVhdGVkIiwibGV2ZWxzRGVzYyIsInRpdGxlIiwiY29sb3IiLCJsaXN0ZW5lcnMiLCJrZXkiLCJvcHRpb24iLCJlbnRyaWVzIiwibG9nIiwibmV3TGV2ZWwiLCJ0ZXh0cyIsImxlbmd0aCIsInByZWZpeCIsIkRhdGUiLCJ0b1N0cmluZyIsInNwbGl0IiwidHJpbSIsImZuIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImFwcGVuZEZpbGUiLCJjb25jYXQiLCJlcnJvciIsImNvbnNvbGUiLCJhcHBseSIsInVuZGVmaW5lZCIsIl9fZGlybmFtZSIsImZpbGVVUkxUb1BhdGgiLCJVUkwiLCJkb2N1bWVudCIsInJlcXVpcmUiLCJwYXRoVG9GaWxlVVJMIiwiX19maWxlbmFtZSIsImhyZWYiLCJfZG9jdW1lbnRDdXJyZW50U2NyaXB0Iiwic3JjIiwiYmFzZVVSSSIsImNsZWFyVGV4dCIsInRleHQiLCJydWxlIiwicmVwbGFjZXIiLCJyZXBsYWNlQWxsIiwiZml4VHlwZSIsImZvcm1hdHMiLCJvdXRUeXBlIiwicG9wIiwiZmluZCIsInQiLCJoYW5kbGVSZXNvdXJjZXMiLCJhbGxvd2VkUHJvcHMiLCJoYW5kbGVkUmVzb3VyY2VzIiwiY29ycmVjdFJlc291cmNlcyIsImVuZHNXaXRoIiwiaXNDb3JyZWN0SlNPTiIsInJlYWRGaWxlU3luYyIsIm5vdGljZSIsImZpbGVzIiwicHJvcE5hbWUiLCJtYXAiLCJpdGVtIiwiZGF0YSIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJkZWVwQ29weSIsImNvcHkiLCJBcnJheSIsImlzQXJyYXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJvcHRpb25zU3RyaW5naWZ5IiwiYWxsb3dGdW5jdGlvbnMiLCJuYW1lIiwic3RhcnRzV2l0aCIsInByaW50VXNhZ2UiLCJib2xkIiwieWVsbG93IiwiY3ljbGVDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsImRlc2NOYW1lIiwiZ3JlZW4iLCJpIiwiYmx1ZSIsImNhdGVnb3J5IiwidG9VcHBlckNhc2UiLCJyZWQiLCJ0b0Jvb2xlYW4iLCJ3cmFwQXJvdW5kIiwicmVwbGFjZSIsInJhdGVMaW1pdCIsImFwcCIsImxpbWl0Q29uZmlnIiwibXNnIiwicmF0ZU9wdGlvbnMiLCJtYXgiLCJsaW1pdGVyIiwid2luZG93TXMiLCJkZWxheU1zIiwiaGFuZGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm1hdCIsImpzb24iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImRlZmF1bHQiLCJza2lwIiwicXVlcnkiLCJhY2Nlc3NfdG9rZW4iLCJ1c2UiLCJhc3luYyIsImZldGNoIiwidXJsIiwicmVxdWVzdE9wdGlvbnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb3RvY29sIiwiaHR0cHMiLCJodHRwIiwiZ2V0UHJvdG9jb2wiLCJnZXQiLCJyZXMiLCJvbiIsImNodW5rIiwiY2FjaGVQYXRoIiwiY2FjaGUiLCJhY3RpdmVNYW5pZmVzdCIsInNvdXJjZXMiLCJoY1ZlcnNpb24iLCJhcHBsaWVkQ29uZmlnIiwiZXh0cmFjdFZlcnNpb24iLCJzdWJzdHIiLCJpbmRleE9mIiwiZmV0Y2hTY3JpcHQiLCJzY3JpcHQiLCJwcm94eUFnZW50IiwiYWdlbnQiLCJ0aW1lb3V0IiwicHJvY2VzcyIsImVudiIsInN0YXR1c0NvZGUiLCJ1cGRhdGVDYWNoZSIsInNvdXJjZVBhdGgiLCJjdXN0b21TY3JpcHRzIiwiYWxsU2NyaXB0cyIsImMiLCJtIiwicHJveHlIb3N0IiwicHJveHlQb3J0IiwiSHR0cHNQcm94eUFnZW50IiwiZmV0Y2hlZE1vZHVsZXMiLCJhbGwiLCJ3cml0ZUZpbGVTeW5jIiwiY2hlY2tDYWNoZSIsIm1hbmlmZXN0UGF0aCIsInJlcXVlc3RVcGRhdGUiLCJtYW5pZmVzdCIsIm1vZHVsZU1hcCIsIm51bWJlck9mTW9kdWxlcyIsInNvbWUiLCJtb2R1bGVOYW1lIiwibmV3TWFuaWZlc3QiLCJzYXZlQ29uZmlnVG9NYW5pZmVzdCIsImNhY2hlJDEiLCJuZXdWZXJzaW9uIiwiYXNzaWduIiwiUkFORE9NX1BJRCIsInJhbmRvbUJ5dGVzIiwiUFVQUEVURUVSX0RJUiIsInBhdGgiLCJtaW5pbWFsQXJncyIsInRlbXBsYXRlIiwiZnMiLCJicm93c2VyIiwibmV3UGFnZSIsInAiLCJzZXRDb250ZW50IiwiYWRkU2NyaXB0VGFnIiwiZXZhbHVhdGUiLCJzZXR1cEhpZ2hjaGFydHMiLCJlcnIiLCIkZXZhbCIsImVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJfZGlzcGxheUVycm9ycyIsImlubmVySFRNTCIsImNsb3NlIiwiY29ubmVjdGVkIiwiX19iYXNlZGlyIiwic2V0QXNDb25maWciLCJwYWdlIiwiY2hhcnQiLCJ0cmlnZ2VyRXhwb3J0IiwicHVwcGV0ZWVyRXhwb3J0IiwiaW5qZWN0ZWRSZXNvdXJjZXMiLCJjbGVhckluamVjdGVkIiwiZGlzcG9zZSIsInNjcmlwdHNUb1JlbW92ZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic3R5bGVzVG9SZW1vdmUiLCJsaW5rc1RvUmVtb3ZlIiwicmVtb3ZlIiwiZXhwb3J0QmVuY2giLCJleHBvcnRPcHRpb25zIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGlzcGxheUVycm9ycyIsImRlYnVnZ2VyIiwiZCIsInN2Z0JlbmNoIiwiaXNTVkciLCJzZXRQYWdlQmVuY2giLCJzdmdUZW1wbGF0ZSIsInN0ckluaiIsInNldENvbnRlbnRCZW5jaCIsInJlc0JlbmNoIiwianMiLCJwdXNoIiwiY29udGVudCIsImlzTG9jYWwiLCJjc3NCZW5jaCIsImNzcyIsImNzc0ltcG9ydHMiLCJtYXRjaCIsImNzc0ltcG9ydFBhdGgiLCJhZGRTdHlsZVRhZyIsInNpemUiLCJjaGFydEhlaWdodCIsImJhc2VWYWwiLCJjaGFydFdpZHRoIiwicGFyc2VGbG9hdCIsIkhpZ2hjaGFydHMiLCJjaGFydHMiLCJ2cEJlbmNoIiwidmlld3BvcnRIZWlnaHQiLCJNYXRoIiwiY2VpbCIsInZpZXdwb3J0V2lkdGgiLCJzZXRWaWV3cG9ydCIsImRldmljZVNjYWxlRmFjdG9yIiwiem9vbUNhbGxiYWNrIiwiYm9keSIsInN0eWxlIiwiem9vbSIsIm1hcmdpbiIsIngiLCJ5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidHJ1bmMiLCJnZXRDbGlwUmVnaW9uIiwicm91bmQiLCJleHBCZW5jaG1hcmsiLCJvdXRlckhUTUwiLCJjcmVhdGVTVkciLCJlbmNvZGluZyIsImNsaXAiLCJyYWNlIiwic2NyZWVuc2hvdCIsIm9taXRCYWNrZ3JvdW5kIiwic2V0VGltZW91dCIsIkVycm9yIiwiY3JlYXRlSW1hZ2UiLCJwZGYiLCJjcmVhdGVQREYiLCJvbGRDaGFydHMiLCJvbGRDaGFydCIsImRlc3Ryb3kiLCJzaGlmdCIsInB1cHBldGVlckFyZ3MiLCJwZXJmb3JtZWRFeHBvcnRzIiwiZXhwb3J0QXR0ZW1wdHMiLCJ0aW1lU3BlbnQiLCJkcm9wcGVkRXhwb3J0cyIsInNwZW50QXZlcmFnZSIsInBvb2xDb25maWciLCJmYWN0b3J5IiwiY3JlYXRlIiwiaWQiLCJ1dWlkIiwicyIsImdldFRpbWUiLCJicm93c2VyTmV3UGFnZSIsImlzQ2xvc2VkIiwid29ya0NvdW50IiwicmFuZG9tIiwidmFsaWRhdGUiLCJ3b3JrZXJIYW5kbGUiLCJsb2dMZXZlbCIsImluaXQiLCJhbGxBcmdzIiwidHJ5Q291bnQiLCJvcGVuIiwibGF1bmNoIiwiaGVhZGxlc3MiLCJ1c2VyRGF0YURpciIsImUiLCJjcmVhdGVCcm93c2VyIiwia2lsbFBvb2wiLCJjb2RlIiwiZXhpdCIsIlBvb2wiLCJtaW4iLCJjcmVhdGVSZXRyeUludGVydmFsTWlsbGlzIiwiY3JlYXRlVGltZW91dE1pbGxpcyIsImFjcXVpcmVUaW1lb3V0TWlsbGlzIiwiZGVzdHJveVRpbWVvdXRNaWxsaXMiLCJpZGxlVGltZW91dE1pbGxpcyIsInJlYXBJbnRlcnZhbE1pbGxpcyIsInByb3BhZ2F0ZUNyZWF0ZUVycm9yIiwiZXZlbnRJZCIsInJlc291cmNlIiwiaW5pdGlhbFJlc291cmNlcyIsImFjcXVpcmUiLCJwcm9taXNlIiwicmVsZWFzZSIsImRlc3Ryb3llZCIsInBvc3RXb3JrIiwiZmFpbCIsImdldFBvb2xJbmZvIiwid29ya1N0YXJ0IiwicmVzdWx0IiwiZXhwb3J0VGltZSIsImF2YWlsYWJsZSIsImJvcnJvd2VkIiwicGVuZGluZyIsInNwYXJlUmVzb3VyY2VDYXBhY2l0eSIsInBvb2wkMSIsInBhY2thZ2VWZXJzaW9uIiwibnBtX3BhY2thZ2VfdmVyc2lvbiIsInNlcnZlclN0YXJ0VGltZSIsImdlbmVyYWxPcHRpb25zIiwiZ2V0T3B0aW9ucyIsIm1lcmdlQ29uZmlnT3B0aW9ucyIsIm5ld09wdGlvbnMiLCJtZXJnZWRPcHRpb25zIiwidXBkYXRlRGVmYXVsdENvbmZpZyIsImNvbmZpZ09iaiIsImN1c3RvbU9iaiIsImN1c3RvbVZhbHVlIiwibnVtRW52VmFsIiwiZWwiLCJpbml0T3B0aW9ucyIsIml0ZW1zIiwic3RhcnRFeHBvcnQiLCJzZXR0aW5ncyIsImVuZENhbGxiYWNrIiwic3ZnIiwiaW5pdEV4cG9ydFNldHRpbmdzIiwiZXhwb3J0QXNTdHJpbmciLCJyZWFkRmlsZSIsImRvU3RyYWlnaHRJbmplY3QiLCJkb0V4cG9ydCIsImZpbmRDaGFydFNpemUiLCJleHBvcnRpbmciLCJwcmVjaXNpb24iLCJtdWx0aXBsaWVyIiwicG93Iiwicm91bmROdW1iZXIiLCJzb3VyY2VIZWlnaHQiLCJzb3VyY2VXaWR0aCIsImNoYXJ0SnNvbiIsImN1c3RvbUNvZGVPcHRpb25zIiwiYWxsb3dDb2RlRXhlY3V0aW9uU2NvcGVkIiwiZW5hYmxlZCIsIm9wdGlvbnNOYW1lIiwidGhlbiIsImNhdGNoIiwicmVxdWVzdElkIiwic3RyaW5nVG9FeHBvcnQiLCJjaGFydEpTT04iLCJyZXZlcnNlZE1pbWUiLCJwbmciLCJqcGVnIiwiZ2lmIiwicmVxdWVzdHNDb3VudGVyIiwiYmVmb3JlUmVxdWVzdCIsImFmdGVyUmVxdWVzdCIsImRvQ2FsbGJhY2tzIiwiY2FsbGJhY2tzIiwidW5pcXVlSWQiLCJjYWxsUmVzcG9uc2UiLCJleHBvcnRIYW5kbGVyIiwic3RhcnQiLCJocnRpbWUiLCJiaWdpbnQiLCJtZWFzdXJlVGltZSIsImRlZmF1bHRPcHRpb25zIiwiaGVhZGVycyIsImNvbm5lY3Rpb24iLCJyZW1vdGVBZGRyZXNzIiwiY29ubmVjdGlvbkFib3J0ZWQiLCJzb2NrZXQiLCJ0b0xvd2VyQ2FzZSIsImI2NCIsImRhdGFPcHRpb25zIiwibm9Eb3dubG9hZCIsImlwUmVnRXgiLCJpbmZvIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiQnVmZmVyIiwiZnJvbSIsImhlYWRlciIsImF0dGFjaG1lbnQiLCJwYXJhbXMiLCJmaWxlbmFtZSIsImV4cHJlc3MiLCJkaXNhYmxlIiwiY29ycyIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJtZW1vcnlTdG9yYWdlIiwidXBsb2FkIiwibGltaXRzIiwiZmllbGRzU2l6ZSIsImFueSIsImJvZHlQYXJzZXIiLCJsaW1pdCIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImVycm9ySGFuZGxlciIsImF0dGFjaEVycm9ySGFuZGxlcnMiLCJzdGFydFNlcnZlciIsInNlcnZlckNvbmZpZyIsImh0dHBTZXJ2ZXIiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJjZXJ0IiwiZnNQcm9taXNlcyIsInBvc2l4IiwiaHR0cHNTZXJ2ZXIiLCJOYU4iLCJzdGF0aWMiLCJib290VGltZSIsInVwdGltZSIsImZsb29yIiwiaGlnaGNoYXJ0c1ZlcnNpb24iLCJhdmVyYWdlUHJvY2Vzc2luZ1RpbWUiLCJmYWlsZWRFeHBvcnRzIiwic3VjZXNzUmF0aW8iLCJoZWFsdGhSb3V0ZSIsInBvc3QiLCJleHBvcnRSb3V0ZXMiLCJzZW5kRmlsZSIsInVpUm91dGUiLCJjdG9rZW4iLCJISUdIQ0hBUlRTX0FETUlOX1RPS0VOIiwidG9rZW4iLCJ2c3dpdGNoUm91dGUiLCJnZXRFeHByZXNzIiwiZ2V0QXBwIiwibWlkZGxld2FyZXMiLCJlbmFibGVSYXRlTGltaXRpbmciLCJpbmRleCIsIm1hcFRvTmV3Q29uZmlnIiwib2xkT3B0aW9ucyIsInByb3BlcnRpZXNDaGFpbiIsInJlZHVjZSIsInByb3AiLCJzZXRPcHRpb25zIiwidXNlck9wdGlvbnMiLCJjb25maWdJbmRleCIsImZpbmRJbmRleCIsImFyZyIsImZpbGVOYW1lIiwibG9hZENvbmZpZ0ZpbGUiLCJwYWlyQXJndW1lbnRWYWx1ZSIsInNpbmdsZUV4cG9ydCIsImJhdGNoRXhwb3J0IiwiYmF0Y2hGdW5jdGlvbnMiLCJwYWlyIiwiaW5pdFBvb2wiLCJwYXJzZUludCIsImxvZ0Rlc3QiLCJsb2dGaWxlIiwiZW5hYmxlRmlsZUxvZ2dpbmciXSwibWFwcGluZ3MiOiI2dUJBaUJBQSxFQUFPQyxTQUlBLE1BQU1DLEVBQWdCLENBQzNCQyxVQUFXLENBQ1RDLEtBQU0sQ0FDSkMsTUFBTyxHQUNQQyxLQUFNLFdBQ05DLFlBQWEsNkNBR2pCQyxXQUFZ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
