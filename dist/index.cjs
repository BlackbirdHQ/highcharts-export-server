"use strict";require("colors");var e=require("fs"),t=require("path"),o=require("body-parser"),r=require("cors"),i=require("express"),n=require("multer"),s=require("http"),a=require("https"),l=require("dotenv"),c=require("express-rate-limit"),p=require("url"),d=require("https-proxy-agent"),u=require("uuid"),h=require("tarn"),g=require("puppeteer"),m=require("node:path"),f=require("node:crypto");require("prompts");var v="undefined"!=typeof document?document.currentScript:null;function y(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var b=y(p);l.config();const w={puppeteer:{args:{value:[],type:"string[]",description:"Array of arguments to send to puppeteer."}},highcharts:{version:{value:"latest",envLink:"HIGHCHARTS_VERSION",type:"string",description:"Highcharts version to use."},cdnURL:{value:"https://code.highcharts.com/",envLink:"HIGHCHARTS_CDN",type:"string",description:"The CDN URL of Highcharts scripts to use."},coreScripts:{envLink:"HIGHCHARTS_CORE_SCRIPTS",value:["highcharts","highcharts-more","highcharts-3d"],type:"string[]",description:"Highcharts core scripts to fetch."},modules:{envLink:"HIGHCHARTS_MODULES",value:["stock","map","gantt","exporting","export-data","parallel-coordinates","accessibility","annotations-advanced","boost-canvas","boost","data","draggable-points","static-scale","broken-axis","heatmap","tilemap","timeline","treemap","item-series","drilldown","histogram-bellcurve","bullet","funnel","funnel3d","pyramid3d","networkgraph","pareto","pattern-fill","pictorial","price-indicator","sankey","arc-diagram","dependency-wheel","series-label","solid-gauge","sonification","stock-tools","streamgraph","sunburst","variable-pie","variwide","vector","venn","windbarb","wordcloud","xrange","no-data-to-display","drag-panes","debugger","dumbbell","lollipop","cylinder","organization","dotplot","marker-clusters","hollowcandlestick","heikinashi"],type:"string[]",description:"Highcharts modules to fetch."},indicators:{envLink:"HIGHCHARTS_INDICATORS",value:["indicators-all"],type:"string[]",description:"Highcharts indicators to fetch."},scripts:{value:["https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.3/moment.min.js","https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.20/lodash.min.js"],type:"string[]",description:"Additional direct scripts/optional dependencies (e.g. moment.js)."}},export:{infile:{value:!1,type:"string",description:"The input file name along with a type (json or svg). It can be a correct JSON or SVG file."},instr:{value:!1,type:"string",description:"An input in a form of a stringified JSON or SVG file. Overrides the --infile."},options:{value:!1,type:"string",description:"An alias for the --instr option."},outfile:{value:!1,type:"string",description:"The output filename along with a type (jpeg, png, pdf or svg). Ignores the --type flag."},type:{envLink:"EXPORT_DEFAULT_TYPE",value:"png",type:"string",description:"The format of the file to export to. Can be jpeg, png, pdf or svg."},constr:{envLink:"EXPORT_DEFAULT_CONSTR",value:"chart",type:"string",description:"The constructor to use. Can be chart, stockChart, mapChart or ganttChart."},defaultHeight:{envLink:"EXPORT_DEFAULT_HEIGHT",value:400,type:"number",description:"The default height of the exported chart. Used when not found any value set."},defaultWidth:{envLink:"EXPORT_DEFAULT_WIDTH",value:600,type:"number",description:"The default width of the exported chart. Used when not found any value set."},defaultScale:{envLink:"EXPORT_DEFAULT_SCALE",value:1,type:"number",description:"The default scale of the exported chart. Ranges between 1 and 5."},height:{type:"number",value:!1,description:"The default height of the exported chart. Overrides the option in the chart settings."},width:{type:"number",value:!1,description:"The width of the exported chart. Overrides the option in the chart settings."},scale:{value:!1,type:"number",description:"The scale of the exported chart. Ranges between 1 and 5."},globalOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with options to be passed into the Highcharts.setOptions."},themeOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with theme options to be passed into the Highcharts.setOptions."},batch:{value:!1,type:"string",description:'Starts a batch job. A string that contains input/output pairs: "in=out;in=out;..".'}},customCode:{allowCodeExecution:{envLink:"HIGHCHARTS_ALLOW_CODE_EXECUTION",value:!1,type:"boolean",description:"If set to true, allow for the execution of arbitrary code when exporting."},allowFileResources:{envLink:"HIGHCHARTS_ALLOW_FILE_RESOURCES",value:!0,type:"boolean",description:"Allow injecting resources from the filesystem. Has no effect when running as a server."},customCode:{value:!1,type:"string",description:"A function to be called before chart initialization. Can be a filename with the js extension."},callback:{value:!1,type:"string",description:"A JavaScript file with a function to run on construction."},resources:{value:!1,type:"string",description:"An additional resource in a form of stringified JSON. It can contain files, js and css sections."},loadConfig:{value:!1,type:"string",description:"A file that contains a pre-defined config to use."},createConfig:{value:!1,type:"string",description:"Allows to set options through a prompt and save in a provided config file."}},server:{enable:{envLink:"HIGHCHARTS_SERVER_ENABLE",value:!1,type:"boolean",cliName:"enableServer",description:"If set to true, starts a server on 0.0.0.0."},host:{envLink:"HIGHCHARTS_SERVER_HOST",value:"0.0.0.0",type:"string",description:"The hostname of the server. Also starts a server listening on the supplied hostname."},port:{envLink:"HIGHCHARTS_SERVER_PORT",value:7801,type:"number",description:"The port to use for the server. Defaults to 7801."},ssl:{enable:{envLink:"HIGHCHARTS_SERVER_SSL_ENABLE",value:!1,type:"boolean",cliName:"enableSsl",description:"Enables the SSL protocol."},force:{envLink:"HIGHCHARTS_SERVER_SSL_FORCE",value:!1,type:"boolean",cliName:"sslForced",description:"If set to true, forces the server to only serve over HTTPS."},port:{envLink:"HIGHCHARTS_SERVER_SSL_PORT",value:443,type:"number",cliName:"sslPort",description:"The port on which to run the SSL server."},certPath:{envLink:"HIGHCHARTS_SSL_CERT_PATH",value:"",type:"string",description:"The path to the SSL certificate/key."}},rateLimiting:{enable:{envLink:"HIGHCHARTS_RATE_LIMIT_ENABLE",value:!1,type:"boolean",cliName:"enableRateLimiting",description:"Enables rate limiting."},maxRequests:{envLink:"HIGHCHARTS_RATE_LIMIT_MAX",value:10,type:"number",description:"Max requests allowed in a one minute."},skipKey:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_KEY",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipToken argument."},skipToken:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_TOKEN",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipKey argument."}}},pool:{initialWorkers:{envLink:"HIGHCHARTS_POOL_MIN_WORKERS",value:6,type:"number",description:"The number of initial workers to spawn."},maxWorkers:{envLink:"HIGHCHARTS_POOL_MAX_WORKERS",value:6,type:"number",description:"The number of max workers to spawn."},workLimit:{envLink:"HIGHCHARTS_POOL_WORK_LIMIT",value:40,type:"number",description:"The pieces of work that can be performed before restarting process."},queueSize:{envLink:"HIGHCHARTS_POOL_QUEUE_SIZE",value:10,type:"number",description:"The size of the request overflow queue."},timeoutThreshold:{envLink:"HIGHCHARTS_POOL_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds before timing out."},acquireTimeout:{envLink:"HIGHCHARTS_POOL_ACQUIRE_TIMEOUT",value:3e3,type:"number",description:"The number of milliseconds to wait for acquiring a resource."},reaper:{envLink:"HIGHCHARTS_POOL_ENABLE_REAPER",value:!0,type:"boolean",description:"Whether or not to evict workers after a certain time period."},benchmarking:{envLink:"HIGHCHARTS_POOL_BENCHMARKING",value:!1,type:"boolean",description:"Enable benchmarking."},listenToProcessExits:{envLink:"HIGHCHARTS_POOL_LISTEN_TO_PROCESS_EXITS",value:!0,type:"boolean",description:"Set to false in order to skip attaching process.exit handlers."}},payload:{},logging:{level:{envLink:"HIGHCHARTS_LOG_LEVEL",value:4,type:"number",cliName:"logLevel",description:"The log level (0: silent, 1: error, 2: warning, 3: notice, 4: verbose)."},file:{envLink:"HIGHCHARTS_LOG_FILE",value:"highcharts-export-server.log",type:"string",cliName:"logFile",description:"A name of a log file. The --logDest also needs to be set to enable file logging."},dest:{envLink:"HIGHCHARTS_LOG_DEST",value:"log/",type:"string",cliName:"logDest",description:"The path to store log files. Also enables file logging."}},ui:{enable:{envLink:"HIGHCHARTS_UI_ENABLE",value:!1,type:"boolean",cliName:"enableUi",description:"Enables the UI for the export server."},route:{envLink:"HIGHCHARTS_UI_ROUTE",value:"/",type:"string",cliName:"uiRoute",description:"The route to attach the UI to."}},other:{noLogo:{envLink:"HIGHCHARTS_NO_LOGO",value:!1,type:"boolean",description:"Skip printing the logo on a startup. Will be replaced by a simple text."}}};w.puppeteer.args.value.join(","),w.highcharts.version.value,w.highcharts.cdnURL.value,w.highcharts.modules.value,w.highcharts.scripts.value.join(","),w.export.type.value,w.export.constr.value,w.export.defaultHeight.value,w.export.defaultWidth.value,w.export.defaultScale.value,w.customCode.allowCodeExecution.value,w.customCode.allowFileResources.value,w.server.enable.value,w.server.host.value,w.server.port.value,w.server.ssl.enable.value,w.server.ssl.force.value,w.server.ssl.port.value,w.server.ssl.certPath.value,w.server.rateLimiting.enable.value,w.server.rateLimiting.maxRequests.value,w.server.rateLimiting.skipKey.value,w.server.rateLimiting.skipToken.value,w.pool.initialWorkers.value,w.pool.maxWorkers.value,w.pool.workLimit.value,w.pool.queueSize.value,w.pool.timeoutThreshold.value,w.pool.acquireTimeout.value,w.pool.reaper.value,w.pool.benchmarking.value,w.pool.listenToProcessExits.value,w.logging.level.value,w.logging.file.value,w.logging.dest.value,w.ui.enable.value,w.ui.route.value,w.other.noLogo.value;const x={},T=[],k=(e,t="")=>{Object.keys(e).forEach((o=>{if(!["puppeteer","highcharts"].includes(o)){const i=e[o];let n;void 0===i.value?k(i,`${t}.${o}`):(i.envLink&&("boolean"===i.type?i.value=(r=[process.env[i.envLink],i.value].find((e=>e||"false"===e)),!["false","undefined","null","NaN","0",""].includes(r)&&!!r):"number"===i.type?(n=+process.env[i.envLink],i.value=n>=0?n:i.value):i.type.indexOf("]")>=0&&process.env[i.envLink]?i.value=process.env[i.envLink].split(","):i.value=process.env[i.envLink]||i.value,T.push({name:i.envLink,description:i.description,type:i.type})),x[i.cliName||o]=`${t}.${o}`.substring(1))}var r}))};k(w);let S={toConsole:!0,toFile:!1,pathCreated:!1,levelsDesc:[{title:"error",color:"red"},{title:"warning",color:"yellow"},{title:"notice",color:"blue"},{title:"verbose",color:"gray"}],listeners:[]};for(const[e,t]of Object.entries(w.logging))S[e]=t.value;const E=(...t)=>{const[o,...r]=t,{level:i,levelsDesc:n}=S;if(0===o||o>i||i>n.length)return;const s=`${(new Date).toString().split("(")[0].trim()} [${n[o-1].title}] -`;S.listeners.forEach((e=>{e(s,r.join(" "))})),S.toFile&&(S.pathCreated||(!e.existsSync(S.dest)&&e.mkdirSync(S.dest),S.pathCreated=!0),e.appendFile(`${S.dest}${S.file}`,[s].concat(r).join(" ")+"\n",(e=>{e&&(console.log(`[logger] Unable to write to log file: ${e}`),S.toFile=!1)}))),S.toConsole&&console.log.apply(void 0,[s.toString()[S.levelsDesc[o-1].color]].concat(r))},H=p.fileURLToPath(new URL("../.","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),R=(e,t=/\s\s+/g,o=" ")=>e.replaceAll(t,o).trim(),L=(e,t)=>{const o=["png","jpeg","pdf","svg"];if(t){const r=t.split(".").pop();o.includes(r)&&e!==r&&(e=r)}return{"image/png":"png","image/jpeg":"jpeg","application/pdf":"pdf","image/svg+xml":"svg"}[e]||o.find((t=>t===e))||"png"};function C(e,t){try{const o=JSON.parse("string"!=typeof e?JSON.stringify(e):e);return"string"!=typeof o&&t?JSON.stringify(o):o}catch(e){return!1}}const O=e=>{if(null===e||"object"!=typeof e)return e;const t=Array.isArray(e)?[]:{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=O(e[o]));return t},_=(e,t,o=[])=>{const r=O(e);for(const[e,n]of Object.entries(t))r[e]="object"!=typeof(i=n)||Array.isArray(i)||null===i||o.includes(e)||void 0===r[e]?void 0!==n?n:r[e]:_(r[e],n,o);var i;return r},A=(e,t)=>JSON.stringify(e,((e,o)=>("string"==typeof o&&((o=o.trim()).startsWith("function(")||o.startsWith("function ("))&&o.endsWith("}")&&(o=t?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:void 0),"function"==typeof o?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:o))).replaceAll(/"EXP_FUN|EXP_FUN"/g,""),$=e=>!["false","undefined","null","NaN","0",""].includes(e)&&!!e,I=(t,o)=>{if(t&&"string"==typeof t)return(t=t.trim()).endsWith(".js")?!!o&&I(e.readFileSync(t,"utf8")):t.startsWith("function()")||t.startsWith("function ()")||t.startsWith("()=>")||t.startsWith("() =>")?`(${t})()`:t.replace(/;$/,"")};var j=(e,t)=>{const o="Too many requests, you have been rate limited. Please try again later.",r={max:t.maxRequests||30,window:t.window||1,delay:t.delay||0,trustProxy:t.trustProxy||!1,skipKey:t.skipKey||!1,skipToken:t.skipToken||!1};r.trustProxy&&e.enable("trust proxy");const i=c({windowMs:60*r.window*1e3,max:r.max,delayMs:r.delay,handler:(e,t)=>{t.format({json:()=>{t.status(429).send({message:o})},default:()=>{t.status(429).send(o)}})},skip:e=>!1!==r.skipKey&&!1!==r.skipToken&&e.query.key===r.skipKey&&e.query.access_token===r.skipToken&&(E(4,"[rate-limiting] Skipping rate limiter."),!0)});e.use(i),E(3,R(`[rate-limiting] Enabled rate limiting: ${r.max} requests\n      per ${r.window} minute per IP, trusting proxy:\n      ${r.trustProxy}.`))};async function P(e,t={}){return new Promise(((o,r)=>{const i=(e=>e.startsWith("https")?a:s)(e);i.get(e,t,(e=>{let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{t||r("Nothing was fetched from the URL."),e.text=t,o(e)}))})).on("error",(e=>{r(e)}))}))}l.config();const N=t.join(H,".cache"),q={cdnURL:"https://code.highcharts.com/",activeManifest:{},sources:"",hcVersion:""};let U=!1;const F=()=>q.hcVersion=q.sources.substr(0,q.sources.indexOf("*/")).replace("/*","").replace("*/","").replace(/\n/g,"").trim(),W=async(e,t)=>{try{e.endsWith(".js")&&(e=e.substring(0,e.length-3)),E(4,`[cache] Fetching script - ${e}.js`);const o=t?{agent:t,timeout:+process.env.PROXY_SERVER_TIMEOUT||5e3}:{},r=await P(`${e}.js`,o);if(200===r.statusCode)return r.text;throw`${r.statusCode}`}catch(t){throw E(1,`[cache] Error fetching script ${e}.js: ${t}.`),t}},G=async(t,o)=>{const{coreScripts:r,modules:i,indicators:n,scripts:s}=t,a="latest"!==t.version&&t.version?`${t.version}/`:"";E(3,"[cache] Updating cache to Highcharts ",a);const l=[...r.map((e=>`${a}${e}`)),...i.map((e=>"map"===e?`maps/${a}modules/${e}`:`${a}modules/${e}`)),...n.map((e=>`stock/${a}indicators/${e}`))];let c;const p=process.env.PROXY_SERVER_HOST,u=process.env.PROXY_SERVER_PORT;p&&u&&(c=new d({host:p,port:+u}));const h={};try{return q.sources=(await Promise.all([...l.map((async e=>{const o=await W(`${t.cdnURL||q.cdnURL}${e}`,c);return"string"==typeof o&&(h[e.replace(/(.*)\/|(.*)modules\/|stock\/(.*)indicators\/|maps\/(.*)modules\//gi,"")]=1),o})),...s.map((e=>W(e,c)))])).join(";\n"),F(),e.writeFileSync(o,q.sources),h}catch(e){E(1,"[cache] Unable to update local Highcharts cache.")}},M=async o=>{let r;const i=t.join(N,"manifest.json"),n=t.join(N,"sources.js");if(U=o,!e.existsSync(N)&&e.mkdirSync(N),e.existsSync(i)){let t=!1;const s=JSON.parse(e.readFileSync(i));if(s.modules&&Array.isArray(s.modules)){const e={};s.modules.forEach((t=>e[t]=1)),s.modules=e}const{modules:a,coreScripts:l,indicators:c}=o,p=a.length+l.length+c.length;s.version!==o.version?(E(3,"[cache] Highcharts version mismatch in cache, need to re-fetch."),t=!0):Object.keys(s.modules||{}).length!==p?(E(3,"[cache] Cache and requested modules does not match, need to re-fetch."),t=!0):t=(o.modules||[]).some((e=>{if(!s.modules[e])return E(3,`[cache] The ${e} missing in cache, need to re-fetch.`),!0})),t?r=await G(o,n):(E(3,"[cache] Dependency cache is up to date, proceeding."),q.sources=e.readFileSync(n,"utf8"),r=s.modules,F())}else E(3,"[cache] Fetching and caching Highcharts dependencies."),r=await G(o,n);await(async(o,r)=>{const i={version:o.version,modules:r||{}};q.activeManifest=i,E(4,"[cache] writing new manifest");try{e.writeFileSync(t.join(N,"manifest.json"),JSON.stringify(i),"utf8")}catch(e){E(1,`[cache] Error writing cache manifest: ${e}.`)}})(o,r)};var D=async e=>!!U&&await M(Object.assign(U,{version:e})),V=()=>q,z=()=>q.hcVersion;const J=f.randomBytes(64).toString("base64url"),K=m.join("tmp",`puppeteer-${J}`),X=[`--user-data-dir=${m.join(K,"profile")}`,"--autoplay-policy=user-gesture-required","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-update","--disable-default-apps","--disable-dev-shm-usage","--disable-domain-reliability","--disable-extensions","--disable-features=AudioServiceOutOfProcess","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-notifications","--disable-offer-store-unmasked-wallet-cards","--disable-popup-blocking","--disable-print-preview","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-session-crashed-bubble","--disable-setuid-sandbox","--disable-speech-api","--disable-sync","--hide-crash-restore-bubble","--hide-scrollbars","--ignore-gpu-blacklist","--metrics-recording-only","--mute-audio","--no-default-browser-check","--no-first-run","--no-pings","--no-sandbox","--no-zygote","--password-store=basic","--use-mock-keychain"],B=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),Y=e.readFileSync(B+"/../templates/template.html","utf8");let Q;const Z=async()=>{if(!Q)return!1;const e=await Q.newPage();return await e.setContent(Y),await e.addScriptTag({path:B+"/../.cache/sources.js"}),await e.evaluate((()=>window.setupHighcharts())),e.on("pageerror",(async t=>{E(1,"[page error]",t),await e.$eval("#container",((e,t)=>{window._displayErrors&&(e.innerHTML=t)}),`<h1>Chart input data error</h1>${t.toString()}`)})),e},ee=async()=>await Q.close();const te=b.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:v&&v.src||new URL("index.cjs",document.baseURI).href)),oe=async(e,t,o)=>await e.evaluate(((e,t)=>window.triggerExport(e,t)),t,o);var re=async(o,r,i)=>{const n=[],s=async e=>{for(const e of n)await e.dispose();await e.evaluate((()=>{const[,...e]=document.getElementsByTagName("script"),[,...t]=document.getElementsByTagName("style"),[...o]=document.getElementsByTagName("link");for(const r of[...e,...t,...o])r.remove()}))};try{const a=()=>{};E(4,"[export] Determining export path.");const l=i.export;await o.evaluate((()=>requestAnimationFrame((()=>{}))));const c=l?.options?.chart?.displayErrors&&V().activeManifest.modules.debugger;await o.evaluate((e=>window._displayErrors=e),c);const p=()=>{};let d;if(r.indexOf&&(r.indexOf("<svg")>=0||r.indexOf("<?xml")>=0)){if(E(4,"[export] Treating as SVG."),"svg"===l.type)return r;d=!0;const e=()=>{};await o.setContent((e=>`\n<!DOCTYPE html>\n<html lang='en-US'>\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n    <title>Highcarts Export</title>\n  </head>\n  <style>\n    \n\nhtml, body {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#table-div, #sliders, #datatable, #controls, .ld-row {\n  display: none;\n  height: 0;\n}\n\n#chart-container {\n  box-sizing: border-box;\n  margin: 0;\n  overflow: auto;\n  font-size: 0;\n}\n\n#chart-container > figure, div {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n\n\n  </style>\n  <body>\n    <div id="chart-container">\n      ${e}\n    </div>\n  </body>\n</html>\n\n`)(r)),e()}else if(E(4,"[export] Treating as config."),l.strInj){const e=()=>{};await oe(o,{chart:{height:l.height,width:l.width}},i),e()}else{r.chart.height=l.height,r.chart.width=l.width;const e=()=>{};await oe(o,r,i),e()}p();const u=()=>{},h=i.customCode.resources;if(h){if(h.js&&n.push(await o.addScriptTag({content:h.js})),h.files)for(const t of h.files)try{const r=!t.startsWith("http");n.push(await o.addScriptTag(r?{content:e.readFileSync(t,"utf8")}:{url:t}))}catch(e){E(4,"[export] JS file not found.")}const r=()=>{};if(h.css){let e=h.css.match(/@import\s*([^;]*);/g);if(e)for(let r of e)r&&(r=r.replace("url(","").replace("@import","").replace(/"/g,"").replace(/'/g,"").replace(/;/,"").replace(/\)/g,"").trim(),r.startsWith("http")?n.push(await o.addStyleTag({url:r})):i.customCode.allowFileResources&&n.push(await o.addStyleTag({path:t.join(te,r)})));n.push(await o.addStyleTag({content:h.css.replace(/@import\s*([^;]*);/g,"")||" "}))}r()}u();const g=d?await o.$eval("#chart-container svg:first-of-type",(async(e,t)=>({chartHeight:e.height.baseVal.value*t,chartWidth:e.width.baseVal.value*t})),parseFloat(l.scale)):await o.evaluate((async()=>{const{chartHeight:e,chartWidth:t}=window.Highcharts.charts[0];return{chartHeight:e,chartWidth:t}})),m=()=>{},f=Math.ceil(g?.chartHeight||l.height),v=Math.ceil(g?.chartWidth||l.width);await o.setViewport({height:f,width:v,deviceScaleFactor:d?1:parseFloat(l.scale)});const y=d?e=>{document.body.style.zoom=e,document.body.style.margin="0px"}:()=>{document.body.style.zoom=1};await o.evaluate(y,parseFloat(l.scale));const{height:b,width:w,x:x,y:T}=await(e=>e.$eval("#chart-container",(e=>{const{x:t,y:o,width:r,height:i}=e.getBoundingClientRect();return{x:t,y:o,width:r,height:Math.trunc(i>1?i:500)}})))(o);let k;d||await o.setViewport({width:Math.round(w),height:Math.round(b),deviceScaleFactor:parseFloat(l.scale)}),m();const S=()=>{};if("svg"===l.type)k=await(async e=>await e.$eval("#container svg:first-of-type",(e=>e.outerHTML)))(o);else if("png"===l.type||"jpeg"===l.type)k=await(async(e,t,o,r)=>await Promise.race([e.screenshot({type:t,encoding:o,clip:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("Rasterization timeout"))),1500)))]))(o,l.type,"base64",{width:v,height:f,x:x,y:T});else{if("pdf"!==l.type)throw`Unsupported output format ${l.type}`;k=await(async(e,t,o,r)=>await e.pdf({height:t+1,width:o,encoding:r}))(o,f,v,"base64")}return await o.evaluate((()=>{const e=Highcharts.charts;if(e.length)for(const t of e)t&&t.destroy(),Highcharts.charts.shift()})),S(),a(),await s(o),k}catch(e){return await s(o),E(1,`[export] Error encountered during export: ${e}`),e}};const ie=e=>{let t={};for(const[o,r]of Object.entries(e))t[o]=Object.prototype.hasOwnProperty.call(r,"value")?r.value:ie(r);return t};let ne=!1,se={};const ae=e=>{const{chart:t,exporting:o}=e.export?.options||C(e.export?.instr),r=C(e.export?.globalOptions);let i=((e,t=1)=>{const o=Math.pow(10,t||0);return Math.round(+e*o)/o})(e.export?.scale||o?.scale||r?.exporting?.scale||e.export?.defaultScale||1);return i>5?i=5:i<.1&&(i=1),{height:e.export?.height||o?.sourceHeight||t?.height||r?.exporting?.sourceHeight||r?.chart?.height||e.export?.defaultHeight||400,width:e.export?.width||o?.sourceWidth||t?.width||r?.exporting?.sourceWidth||r?.chart?.width||e.export?.defaultWidth||600,scale:i}},le=(t,o,r,i)=>{let{export:n,customCode:s}=t;const a="boolean"==typeof s.allowCodeExecution?s.allowCodeExecution:ne;if(s?"string"==typeof t.customCode.resources&&(t.customCode.resources=((t=!1,o)=>{const r=["js","css","files"];let i=t,n=!1;if(o&&t.endsWith(".json"))try{t?t&&t.endsWith(".json")?i=C(e.readFileSync(t,"utf8")):(i=C(t),!0===i&&(i=C(e.readFileSync("resources.json","utf8")))):i=C(e.readFileSync("resources.json","utf8"))}catch(e){return E(3,"[cli] No resources found.")}else i=C(t),o||delete i.files;for(const e in i)r.includes(e)?n||(n=!0):delete i[e];return n?(i.files&&(i.files=i.files.map((e=>e.trim())),(!i.files||i.files.length<=0)&&delete i.files),i):E(3,"[cli] No resources found.")})(t.customCode.resources,$(t.customCode.allowFileResources))):s=t.customCode={},!a&&s){if(s.callback||s.resources||s.customCode)return r&&r(!1,{error:!0,message:R("The callback, resources and customCode have been disabled for this\n            server.")});s.callback=!1,s.resources=!1,s.customCode=!1}if(o&&(o.chart=o.chart||{},o.exporting=o.exporting||{},o.exporting.enabled=!1),n.constr=n.constr||"chart",n.type=L(n.type,n.outfile),"svg"===n.type&&(n.width=!1),["globalOptions","themeOptions"].forEach((t=>{try{n&&n[t]&&("string"==typeof n[t]&&n[t].endsWith(".json")?n[t]=C(e.readFileSync(n[t],"utf8"),!0):n[t]=C(n[t],!0))}catch(e){n[t]={},E(1,`[chart] The ${t} not found.`)}})),s.allowCodeExecution&&(s.customCode=I(s.customCode,s.allowFileResources)),s&&s.callback&&s.callback?.indexOf("{")<0)if(s.allowFileResources)try{s.callback=e.readFileSync(s.callback,"utf8")}catch(e){E(2,`[chart] Error loading callback: ${e}.`),s.callback=!1}else s.callback=!1;t.export={...t.export,...ae(t)},ke(n.strInj||o||i,t).then((e=>r(e))).catch((e=>(E(0,"[chart] When posting work:",e),r(!1,e))))},ce=(e,t)=>{try{let o,r=e.export.instr||e.export.options;return"string"!=typeof r&&(o=r=A(r,e.customCode?.allowCodeExecution)),o=r.replaceAll(/\t|\n|\r/g,"").trim(),";"===o[o.length-1]&&(o=o.substring(0,o.length-1)),e.export.strInj=o,le(e,!1,t)}catch(o){const r=R(`Malformed input detected for ${e.export?.requestId||"?"}:\n      Please make sure that your JSON/JavaScript options\n      are sent using the "options" attribute, and that if you're using\n      SVG, it is unescaped.`);return E(1,r),t&&t(!1,JSON.stringify({error:!0,message:r}))}},pe=(e,t,o)=>{const{allowCodeExecution:r}=t.customCode;if(e.indexOf("<svg")>=0||e.indexOf("<?xml")>=0)return E(4,"[chart] Parsing input as SVG."),le(t,!1,o,e);try{const r=JSON.parse(e.replaceAll(/\t|\n|\r/g," "));return le(t,r,o)}catch(e){return $(r)?ce(t,o):o&&o(!1,{error:!0,message:R("Only JSON configurations and SVG is allowed for this server. If\n            this is your server, JavaScript exporting can be enabled by starting\n            the server with the --allowCodeExecution flag.")})}};var de={startExport:async(t,o)=>{E(4,"[chart] Starting exporting process.");const r=((e,t={})=>{let o={};return e.svg?(o=t,o.export.type=e.type||e.export.type,o.export.scale=e.scale||e.export.scale,o.export.outfile=e.outfile||e.export.outfile,o.payload={svg:e.svg}):o=_(t,e,["options","globalOptions","themeOptions","resources"]),o.export.outfile=o.export?.outfile||`chart.${o.export?.type||"png"}`,o})(t,se),i=r.export;return r.payload?.svg&&""!==r.payload.svg?pe(r.payload.svg.trim(),r,o):i.infile&&i.infile.length?(E(4,"[chart] Attempting to export from an input file."),e.readFile(i.infile,"utf8",((e,t)=>e?E(1,`[chart] Error loading input file: ${e}.`):(r.export.instr=t,pe(r.export.instr.trim(),r,o))))):i.instr&&""!==i.instr||i.options&&""!==i.options?(E(4,"[chart] Attempting to export from a raw input."),$(r.customCode?.allowCodeExecution)?ce(r,o):"string"==typeof i.instr?pe(i.instr.trim(),r,o):le(r,i.instr||i.options,o)):(E(1,R(`[chart] No input specified.\n        ${JSON.stringify(i,void 0,"  ")}.`)),o&&o(!1,{error:!0,message:"No input specified."}))},getAllowCodeExecution:()=>ne,setAllowCodeExecution:e=>{ne=$(e)},setPoolOptions:e=>{se=e},findChartSize:ae};let ue,he=0,ge=0,me=0,fe=0,ve=0,ye={},be=!1;const we={create:async()=>{const e=u.v4();let t=!1;const o=(new Date).getTime();try{if(t=await Z(),!t||t.isClosed())throw"invalid page";E(3,`[pool] Successfully created a worker ${e} - took ${(new Date).getTime()-o} ms.`)}catch(e){throw E(1,`[pool] Error creating a new page in pool entry creation! ${e}`),"Error creating page"}return{id:e,page:t,workCount:Math.round(Math.random()*(ye.workLimit/2))}},validate:e=>!(ye.workLimit&&++e.workCount>ye.workLimit)||(E(3,"[pool] Worker failed validation:",`exceeded work limit (limit is ${ye.workLimit})`),!1),destroy:e=>{E(3,`[pool] Destroying pool entry ${e.id}.`),e.page&&e.page.close()},log:(e,t)=>console.log(`${t}: ${e}`)},xe=async e=>{ue=e.puppeteerArgs;try{await(async e=>{const t=[...X,...e||[]];if(!Q){let e=0;const o=async()=>{try{E(3,"[browser] attempting to get a browser instance (try",e+")"),Q=await g.launch({headless:"new",args:t,userDataDir:"./tmp/"})}catch(t){E(0,"[browser]",t),++e<25?(E(3,"[browser] failed:",t),await new Promise((e=>setTimeout(e,4e3))),await o()):E(0,"Max retries reached")}};try{await o()}catch(e){return E(0,"[browser] Unable to open browser"),!1}if(!Q)return E(0,"[browser] Unable to open browser"),!1}return Q})(ue)}catch(e){E(0,"[pool|browser]",e)}if(ye=e&&e.pool?{...e.pool}:{},E(3,"[pool] Initializing pool:",`min ${ye.initialWorkers}, max ${ye.maxWorkers}.`),be)return E(4,"[pool] Already initialized, please kill it before creating a new one.");ye.listenToProcessExits&&(E(4,"[pool] Attaching exit listeners to the process."),process.on("exit",(async()=>{await Te()})),process.on("SIGINT",((e,t)=>{E(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("SIGTERM",((e,t)=>{E(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("uncaughtException",(async(e,t)=>{E(4,`The ${t} error, message: ${e.message}.`)})));try{be=new h.Pool({...we,min:ye.initialWorkers,max:ye.maxWorkers,createRetryIntervalMillis:200,createTimeoutMillis:ye.acquireTimeout,acquireTimeoutMillis:ye.acquireTimeout,destroyTimeoutMillis:ye.acquireTimeout,idleTimeoutMillis:ye.timeoutThreshold,reapIntervalMillis:1e3,propagateCreateError:!1}),be.on("createFail",((e,t)=>{E(1,`[pool] Error when creating worker of an event id ${e}:`,t)})),be.on("acquireFail",((e,t)=>{E(1,`[pool] Error when acquiring worker of an event id ${e}:`,t)})),be.on("destroyFail",((e,t,o)=>{E(1,`[pool] Error when destroying worker of an id ${t.id}, event id ${e}:`,o)})),be.on("release",(e=>{E(4,`[pool] Releasing a worker of an id ${e.id}`)})),be.on("destroySuccess",((e,t)=>{E(4,`[pool] Destroyed a worker of an id ${t.id}`)}));const e=[];for(let t=0;t<ye.initialWorkers;t++)e.push(await be.acquire().promise);e.forEach((e=>{be.release(e)})),E(3,`[pool] The pool is ready with ${ye.initialWorkers} initial resources waiting.`)}catch(e){throw E(1,`[pool] Couldn't create the worker pool ${e}`),e}};async function Te(){E(3,"[pool] Killing all workers."),de.setPoolOptions({});try{await ee()}catch{return void E(4,"[pool] Worker has already been killed.")}return!be||be.destroy()}const ke=async(e,t)=>{let o;const r=e=>{throw++fe,o&&be.release(o),"In pool.postWork: "+e};if(E(4,"[pool] Work received, starting to process."),ye.benchmarking&&Se(),++ge,!be)return E(1,"[pool] Work received, but pool has not been started."),r("Pool is not inited but work was posted to it!");try{E(4,"[pool] Acquiring worker"),o=await be.acquire().promise}catch(e){return r(`[pool] Error when acquiring available entry: ${e}`)}if(E(4,"[pool] Acquired worker handle"),!o.page)return r("Resolved worker page is invalid: pool setup is wonky");try{let i=(new Date).getTime();E(4,`[pool] Starting work on pool entry ${o.id}.`);const n=await re(o.page,e,t);if(n instanceof Error)return"Rasterization timeout"===n.message&&(o.page.close(),o.page=await Z()),r(n);be.release(o);const s=(new Date).getTime()-i;return me+=s,ve=me/++he,E(4,`[pool] Work completed in ${s} ms.`),{data:n,options:t}}catch(e){r(`Error trying to perform puppeteer export: ${e}.`)}};function Se(){const{min:e,max:t,size:o,available:r,borrowed:i,pending:n,spareResourceCapacity:s}=be;E(4,`[pool] The minimum number of resources allowed by pool: ${e}.`),E(4,`[pool] The maximum number of resources allowed by pool: ${t}.`),E(4,`[pool] The number of all resources in pool (free or in use): ${o}.`),E(4,`[pool] The number of resources that are currently available: ${r}.`),E(4,`[pool] The number of resources that are currently acquired: ${i}.`),E(4,`[pool] The number of callers waiting to acquire a resource: ${n}.`),E(4,`[pool] The number of how many more resources can the pool manage/create: ${s}.`)}var Ee=()=>({min:be.min,max:be.max,size:be.size,available:be.available,borrowed:be.borrowed,pending:be.pending,spareResourceCapacity:be.spareResourceCapacity}),He=()=>ge,Re=()=>fe,Le=()=>ve,Ce=()=>he;const Oe=process.env.npm_package_version,_e=new Date;const Ae={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",pdf:"application/pdf",svg:"image/svg+xml"};let $e=0;const Ie=[],je=[],Pe=(e,t,o,r)=>{let i=!0;const{id:n,uniqueId:s,type:a,body:l}=r;return e.some((e=>{if(e){let r=e(t,o,n,s,a,l);return void 0!==r&&!0!==r&&(i=r),!0}})),i},Ne=(e,t)=>{(()=>{const e=process.hrtime.bigint()})();const o=ie(w),r=e.body,i=++$e,n=u.v4().replace(/-/g,"");let s=L(r.type);if(!r)return t.status(400).send(R("Body is required. Sending a body? Make sure your Content-type header\n        is correct. Accepted is application/json and multipart/form-data."));let a=C(r.infile||r.options||r.data);if(!a&&!r.svg)return E(2,R(`Request ${n} from ${e.headers["x-forwarded-for"]||e.connection.remoteAddress} was incorrect. Check your payload.`)),t.status(400).send(R("No correct chart data found. Please make sure you are using\n        application/json or multipart/form-data headers, and that the chart\n        data is in the 'infile', 'options' or 'data' attribute if sending\n        JSON or in the 'svg' if sending SVG."));let l=!1;if(l=Pe(Ie,e,t,{id:i,uniqueId:n,type:s,body:r}),!0!==l)return t.send(l);let c=!1;e.socket.on("close",(()=>{c=!0})),E(4,`[export] Got an incoming HTTP request ${n}.`),r.constr="string"==typeof r.constr&&r.constr||"chart";const p={export:{instr:a,type:s,constr:r.constr[0].toLowerCase()+r.constr.substr(1),height:r.height,width:r.width,scale:r.scale||o.export.scale,globalOptions:C(r.globalOptions,!0),themeOptions:C(r.themeOptions,!0)},customCode:{allowCodeExecution:de.getAllowCodeExecution(),allowFileResources:!1,resources:C(r.resources,!0),callback:r.callback,customCode:r.customCode}};a&&(p.export.instr=A(a,p.customCode.allowCodeExecution));const d=_(o,p);if(d.export.options=a,d.payload={svg:r.svg||!1,b64:r.b64||!1,dataOptions:C(r.dataOptions,!0),noDownload:r.noDownload||!1,requestId:n},r.svg&&(h=d.payload.svg,["localhost","(10).(.*).(.*).(.*)","(127).(.*).(.*).(.*)","(172).(1[6-9]|2[0-9]|3[0-1]).(.*).(.*)","(192).(168).(.*).(.*)"].some((e=>h.match(`xlink:href="(?:(http://|https://))?${e}`)))))return t.status(400).send("SVG potentially contain at least one forbidden URL in xlink:href element.");var h;de.startExport(d,((o,a)=>(e.socket.removeAllListeners("close"),c?E(3,R("[export] The client closed the connection before the chart was done\n          processing.")):a?(E(1,R(`[export] Work: ${n} could not be completed, sending:\n          ${a}`)),t.status(400).send(a.message)):o&&o.data?(s=o.options.export.type,Pe(je,e,t,{id:i,body:o.data}),o.data?r.b64?"pdf"===s?t.send(Buffer.from(o.data,"utf8").toString("base64")):t.send(o.data):(t.header("Content-Type",Ae[s]||"image/png"),r.noDownload||t.attachment(`${e.params.filename||"chart"}.${s||"png"}`),"svg"===s?t.send(o.data):t.send(Buffer.from(o.data,"base64"))):void 0):(E(1,R(`[export] Unexpected return from chart generation, please check your\n          data Request: ${n} is ${o.data}.`)),t.status(400).send("Unexpected return from chart generation, please check your data.")))))};const qe=i();qe.disable("x-powered-by"),qe.use(r());const Ue=n.memoryStorage(),Fe=n({storage:Ue,limits:{fieldsSize:"50MB"}});qe.use(Fe.any()),qe.use(o.json({limit:"50mb"})),qe.use(o.urlencoded({extended:!0,limit:"50mb"})),qe.use(o.urlencoded({extended:!1,limit:"50mb"}));const We=e=>E(1,`[server] Socket error: ${e}`),Ge=e=>{e.on("clientError",We),e.on("error",We),e.on("connection",(e=>e.on("error",(e=>We(e)))))},Me=async o=>{if(!o.enable)return!1;if(!o.ssl.enable&&!o.ssl.force){const e=s.createServer(qe);Ge(e),e.listen(o.port,o.host),E(3,`[server] Started HTTP server on ${o.host}:${o.port}.`)}if(o.ssl.enable){let r,i;try{r=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.key"),"utf8"),i=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.crt"),"utf8")}catch(e){E(1,`[server] Unable to load key/certificate from ${o.ssl.certPath}.`)}if(r&&i){const e=a.createServer(qe);Ge(e),e.listen(o.ssl.port,o.host),E(3,`[server] Started HTTPS server on ${o.host}:${o.ssl.port}.`)}}qe.use(i.static(t.posix.join(H,"public"))),(e=>{!!e&&e.get("/health",((e,t)=>{t.send({status:"OK",bootTime:_e,uptime:Math.floor(((new Date).getTime()-_e.getTime())/1e3/60)+" minutes",version:Oe,highchartsVersion:z(),averageProcessingTime:Le(),performedExports:Ce(),failedExports:Re(),exportAttempts:He(),sucessRatio:Ce()/He()*100,pool:Ee()})}))})(qe),(e=>{e.post("/",Ne),e.post("/:filename",Ne)})(qe),(e=>{!!e&&e.get("/",((e,o)=>{o.sendFile(t.join(H,"public","index.html"))}))})(qe),(e=>{!!e&&e.post("/change-hc-version/:newVersion",(async(e,t)=>{const o=process.env.HIGHCHARTS_ADMIN_TOKEN;if(!o||!o.length)return t.send({error:!0,message:"Server not configured to do run-time version changes: HIGHCHARTS_ADMIN_TOKEN not set"});const r=e.get("hc-auth");if(!r||r!==o)return t.send({error:!0,message:"Invalid or missing token: set token in the hc-auth header"});const i=e.params.newVersion;if(i){try{await D(i)}catch(e){t.send({error:!0,message:e})}t.send({version:z()})}else t.send({error:!0,message:"No new version supplied"})}))})(qe),o.rateLimiting&&o.rateLimiting.enable&&![0,NaN].includes(o.rateLimiting.maxRequests)&&j(qe,o.rateLimiting)};var De={start:Me,getExpress:()=>i,getApp:()=>qe,use:(e,...t)=>{qe.use(e,...t)},get:(e,...t)=>{qe.get(e,...t)},post:(e,...t)=>{qe.post(e,...t)},enableRateLimiting:e=>j(qe,e)},Ve={server:De,log:E,findChartSize:ae,startExport:de.startExport,startServer:Me,killPool:Te,initPool:async(t={})=>{const o=ie(w);var r;return t=await(async t=>{const o=t.customCode&&t.customCode.loadConfig;try{return o&&(t=_(t,JSON.parse(e.readFileSync(o)))),t}catch(e){E(1,`[config] Unable to load config from the ${o}: ${e}`)}})(_(o,t)),de.setAllowCodeExecution(t.customCode&&t.customCode.allowCodeExecution),(r=t.logging&&parseInt(t.logging.level))>=0&&r<=S.levelsDesc.length&&(S.level=r),t.logging&&t.logging.dest&&((e,t)=>{if(S={...S,dest:e||S.dest,file:t||S.file,toFile:!0},0===S.dest.length)return E(1,"[logger] File logging init: no path supplied.");S.dest.endsWith("/")||(S.dest+="/")})(t.logging.dest,t.logging.file||"highcharts-export-server.log"),await M(t.highcharts||{version:"latest"}),await xe({pool:t.pool||{initialWorkers:1,maxWorkers:1},puppeteerArgs:t.puppeteer?.args||[]}),de.setPoolOptions(t),t}};module.exports=Ve;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9saWIvc2NoZW1hcy9jb25maWcuanMiLCIuLi9saWIvbG9nZ2VyLmpzIiwiLi4vbGliL3V0aWxzLmpzIiwiLi4vbGliL3NlcnZlci9yYXRlX2xpbWl0LmpzIiwiLi4vbGliL2ZldGNoLmpzIiwiLi4vbGliL2NhY2hlLmpzIiwiLi4vbGliL2Jyb3dzZXIuanMiLCIuLi9saWIvZXhwb3J0LmpzIiwiLi4vbGliL2JlbmNobWFyay5qcyIsIi4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMiLCIuLi9saWIvY29uZmlnLmpzIiwiLi4vbGliL2NoYXJ0LmpzIiwiLi4vbGliL3Bvb2wuanMiLCIuLi9saWIvc2VydmVyL3JvdXRlcy9oZWFsdGguanMiLCIuLi9saWIvc2VydmVyL3JvdXRlcy9leHBvcnQuanMiLCIuLi9saWIvc2VydmVyL3NlcnZlci5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL3VpLmpzIiwiLi4vbGliL3NlcnZlci9yb3V0ZXMvY2hhbmdlLWhjLXZlcnNpb24uanMiLCIuLi9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLyBMb2FkIC5lbnYgaW50byBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuZG90ZW52LmNvbmZpZygpO1xyXG5cclxuLy8gVGhpcyBpcyB0aGUgY29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCBhbGwgb3B0aW9ucyBhbmQgdGhlaXIgZGVmYXVsdCB2YWx1ZXMsXHJcbi8vIGFsc28gZnJvbSB0aGUgLmVudiBmaWxlIGlmIG9uZSBleGlzdHNcclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XHJcbiAgcHVwcGV0ZWVyOiB7XHJcbiAgICBhcmdzOiB7XHJcbiAgICAgIHZhbHVlOiBbXSxcclxuICAgICAgdHlwZTogJ3N0cmluZ1tdJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdBcnJheSBvZiBhcmd1bWVudHMgdG8gc2VuZCB0byBwdXBwZXRlZXIuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgaGlnaGNoYXJ0czoge1xyXG4gICAgdmVyc2lvbjoge1xyXG4gICAgICB2YWx1ZTogJ2xhdGVzdCcsXHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1ZFUlNJT04nLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIHZlcnNpb24gdG8gdXNlLidcclxuICAgIH0sXHJcbiAgICBjZG5VUkw6IHtcclxuICAgICAgdmFsdWU6ICdodHRwczovL2NvZGUuaGlnaGNoYXJ0cy5jb20vJyxcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQ0ROJyxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIENETiBVUkwgb2YgSGlnaGNoYXJ0cyBzY3JpcHRzIHRvIHVzZS4nXHJcbiAgICB9LFxyXG4gICAgY29yZVNjcmlwdHM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQ09SRV9TQ1JJUFRTJyxcclxuICAgICAgdmFsdWU6IFsnaGlnaGNoYXJ0cycsICdoaWdoY2hhcnRzLW1vcmUnLCAnaGlnaGNoYXJ0cy0zZCddLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0hpZ2hjaGFydHMgY29yZSBzY3JpcHRzIHRvIGZldGNoLidcclxuICAgIH0sXHJcbiAgICBtb2R1bGVzOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX01PRFVMRVMnLFxyXG4gICAgICB2YWx1ZTogW1xyXG4gICAgICAgICdzdG9jaycsXHJcbiAgICAgICAgJ21hcCcsXHJcbiAgICAgICAgJ2dhbnR0JyxcclxuICAgICAgICAnZXhwb3J0aW5nJyxcclxuICAgICAgICAnZXhwb3J0LWRhdGEnLFxyXG4gICAgICAgICdwYXJhbGxlbC1jb29yZGluYXRlcycsXHJcbiAgICAgICAgJ2FjY2Vzc2liaWxpdHknLFxyXG4gICAgICAgICdhbm5vdGF0aW9ucy1hZHZhbmNlZCcsXHJcbiAgICAgICAgJ2Jvb3N0LWNhbnZhcycsXHJcbiAgICAgICAgJ2Jvb3N0JyxcclxuICAgICAgICAnZGF0YScsXHJcbiAgICAgICAgJ2RyYWdnYWJsZS1wb2ludHMnLFxyXG4gICAgICAgICdzdGF0aWMtc2NhbGUnLFxyXG4gICAgICAgICdicm9rZW4tYXhpcycsXHJcbiAgICAgICAgJ2hlYXRtYXAnLFxyXG4gICAgICAgICd0aWxlbWFwJyxcclxuICAgICAgICAndGltZWxpbmUnLFxyXG4gICAgICAgICd0cmVlbWFwJyxcclxuICAgICAgICAnaXRlbS1zZXJpZXMnLFxyXG4gICAgICAgICdkcmlsbGRvd24nLFxyXG4gICAgICAgICdoaXN0b2dyYW0tYmVsbGN1cnZlJyxcclxuICAgICAgICAnYnVsbGV0JyxcclxuICAgICAgICAnZnVubmVsJyxcclxuICAgICAgICAnZnVubmVsM2QnLFxyXG4gICAgICAgICdweXJhbWlkM2QnLFxyXG4gICAgICAgICduZXR3b3JrZ3JhcGgnLFxyXG4gICAgICAgICdwYXJldG8nLFxyXG4gICAgICAgICdwYXR0ZXJuLWZpbGwnLFxyXG4gICAgICAgICdwaWN0b3JpYWwnLFxyXG4gICAgICAgICdwcmljZS1pbmRpY2F0b3InLFxyXG4gICAgICAgICdzYW5rZXknLFxyXG4gICAgICAgICdhcmMtZGlhZ3JhbScsXHJcbiAgICAgICAgJ2RlcGVuZGVuY3ktd2hlZWwnLFxyXG4gICAgICAgICdzZXJpZXMtbGFiZWwnLFxyXG4gICAgICAgICdzb2xpZC1nYXVnZScsXHJcbiAgICAgICAgJ3NvbmlmaWNhdGlvbicsXHJcbiAgICAgICAgJ3N0b2NrLXRvb2xzJyxcclxuICAgICAgICAnc3RyZWFtZ3JhcGgnLFxyXG4gICAgICAgICdzdW5idXJzdCcsXHJcbiAgICAgICAgJ3ZhcmlhYmxlLXBpZScsXHJcbiAgICAgICAgJ3Zhcml3aWRlJyxcclxuICAgICAgICAndmVjdG9yJyxcclxuICAgICAgICAndmVubicsXHJcbiAgICAgICAgJ3dpbmRiYXJiJyxcclxuICAgICAgICAnd29yZGNsb3VkJyxcclxuICAgICAgICAneHJhbmdlJyxcclxuICAgICAgICAnbm8tZGF0YS10by1kaXNwbGF5JyxcclxuICAgICAgICAnZHJhZy1wYW5lcycsXHJcbiAgICAgICAgJ2RlYnVnZ2VyJyxcclxuICAgICAgICAnZHVtYmJlbGwnLFxyXG4gICAgICAgICdsb2xsaXBvcCcsXHJcbiAgICAgICAgJ2N5bGluZGVyJyxcclxuICAgICAgICAnb3JnYW5pemF0aW9uJyxcclxuICAgICAgICAnZG90cGxvdCcsXHJcbiAgICAgICAgJ21hcmtlci1jbHVzdGVycycsXHJcbiAgICAgICAgJ2hvbGxvd2NhbmRsZXN0aWNrJyxcclxuICAgICAgICAnaGVpa2luYXNoaSdcclxuICAgICAgXSxcclxuICAgICAgdHlwZTogJ3N0cmluZ1tdJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIG1vZHVsZXMgdG8gZmV0Y2guJ1xyXG4gICAgfSxcclxuICAgIGluZGljYXRvcnM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfSU5ESUNBVE9SUycsXHJcbiAgICAgIHZhbHVlOiBbJ2luZGljYXRvcnMtYWxsJ10sXHJcbiAgICAgIHR5cGU6ICdzdHJpbmdbXScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyBpbmRpY2F0b3JzIHRvIGZldGNoLidcclxuICAgIH0sXHJcbiAgICBzY3JpcHRzOiB7XHJcbiAgICAgIHZhbHVlOiBbXHJcbiAgICAgICAgJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21vbWVudC5qcy8yLjI5LjMvbW9tZW50Lm1pbi5qcycsXHJcbiAgICAgICAgJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xvZGFzaC5qcy80LjE3LjIwL2xvZGFzaC5taW4uanMnXHJcbiAgICAgIF0sXHJcbiAgICAgIHR5cGU6ICdzdHJpbmdbXScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBZGRpdGlvbmFsIGRpcmVjdCBzY3JpcHRzL29wdGlvbmFsIGRlcGVuZGVuY2llcyAoZS5nLiBtb21lbnQuanMpLidcclxuICAgIH1cclxuICB9LFxyXG4gIGV4cG9ydDoge1xyXG4gICAgaW5maWxlOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgaW5wdXQgZmlsZSBuYW1lIGFsb25nIHdpdGggYSB0eXBlIChqc29uIG9yIHN2ZykuIEl0IGNhbiBiZSBhIGNvcnJlY3QgSlNPTiBvciBTVkcgZmlsZS4nXHJcbiAgICB9LFxyXG4gICAgaW5zdHI6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0FuIGlucHV0IGluIGEgZm9ybSBvZiBhIHN0cmluZ2lmaWVkIEpTT04gb3IgU1ZHIGZpbGUuIE92ZXJyaWRlcyB0aGUgLS1pbmZpbGUuJ1xyXG4gICAgfSxcclxuICAgIG9wdGlvbnM6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdBbiBhbGlhcyBmb3IgdGhlIC0taW5zdHIgb3B0aW9uLidcclxuICAgIH0sXHJcbiAgICBvdXRmaWxlOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgb3V0cHV0IGZpbGVuYW1lIGFsb25nIHdpdGggYSB0eXBlIChqcGVnLCBwbmcsIHBkZiBvciBzdmcpLiBJZ25vcmVzIHRoZSAtLXR5cGUgZmxhZy4nXHJcbiAgICB9LFxyXG4gICAgdHlwZToge1xyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfVFlQRScsXHJcbiAgICAgIHZhbHVlOiAncG5nJyxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgZm9ybWF0IG9mIHRoZSBmaWxlIHRvIGV4cG9ydCB0by4gQ2FuIGJlIGpwZWcsIHBuZywgcGRmIG9yIHN2Zy4nXHJcbiAgICB9LFxyXG4gICAgY29uc3RyOiB7XHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfREVGQVVMVF9DT05TVFInLFxyXG4gICAgICB2YWx1ZTogJ2NoYXJ0JyxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgY29uc3RydWN0b3IgdG8gdXNlLiBDYW4gYmUgY2hhcnQsIHN0b2NrQ2hhcnQsIG1hcENoYXJ0IG9yIGdhbnR0Q2hhcnQuJ1xyXG4gICAgfSxcclxuICAgIGRlZmF1bHRIZWlnaHQ6IHtcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX0hFSUdIVCcsXHJcbiAgICAgIHZhbHVlOiA0MDAsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIGRlZmF1bHQgaGVpZ2h0IG9mIHRoZSBleHBvcnRlZCBjaGFydC4gVXNlZCB3aGVuIG5vdCBmb3VuZCBhbnkgdmFsdWUgc2V0LidcclxuICAgIH0sXHJcbiAgICBkZWZhdWx0V2lkdGg6IHtcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX1dJRFRIJyxcclxuICAgICAgdmFsdWU6IDYwMCxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgZGVmYXVsdCB3aWR0aCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIFVzZWQgd2hlbiBub3QgZm91bmQgYW55IHZhbHVlIHNldC4nXHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdFNjYWxlOiB7XHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfREVGQVVMVF9TQ0FMRScsXHJcbiAgICAgIHZhbHVlOiAxLFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBkZWZhdWx0IHNjYWxlIG9mIHRoZSBleHBvcnRlZCBjaGFydC4gUmFuZ2VzIGJldHdlZW4gMSBhbmQgNS4nXHJcbiAgICB9LFxyXG4gICAgaGVpZ2h0OiB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgZGVmYXVsdCBoZWlnaHQgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBPdmVycmlkZXMgdGhlIG9wdGlvbiBpbiB0aGUgY2hhcnQgc2V0dGluZ3MuJ1xyXG4gICAgfSxcclxuICAgIHdpZHRoOiB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgd2lkdGggb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBPdmVycmlkZXMgdGhlIG9wdGlvbiBpbiB0aGUgY2hhcnQgc2V0dGluZ3MuJ1xyXG4gICAgfSxcclxuICAgIHNjYWxlOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHNjYWxlIG9mIHRoZSBleHBvcnRlZCBjaGFydC4gUmFuZ2VzIGJldHdlZW4gMSBhbmQgNS4nXHJcbiAgICB9LFxyXG4gICAgZ2xvYmFsT3B0aW9uczoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQSBzdHJpbmdpZmllZCBKU09OIG9yIGEgZmlsZW5hbWUgd2l0aCBvcHRpb25zIHRvIGJlIHBhc3NlZCBpbnRvIHRoZSBIaWdoY2hhcnRzLnNldE9wdGlvbnMuJ1xyXG4gICAgfSxcclxuICAgIHRoZW1lT3B0aW9uczoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQSBzdHJpbmdpZmllZCBKU09OIG9yIGEgZmlsZW5hbWUgd2l0aCB0aGVtZSBvcHRpb25zIHRvIGJlIHBhc3NlZCBpbnRvIHRoZSBIaWdoY2hhcnRzLnNldE9wdGlvbnMuJ1xyXG4gICAgfSxcclxuICAgIGJhdGNoOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdTdGFydHMgYSBiYXRjaCBqb2IuIEEgc3RyaW5nIHRoYXQgY29udGFpbnMgaW5wdXQvb3V0cHV0IHBhaXJzOiBcImluPW91dDtpbj1vdXQ7Li5cIi4nXHJcbiAgICB9XHJcbiAgfSxcclxuICBjdXN0b21Db2RlOiB7XHJcbiAgICBhbGxvd0NvZGVFeGVjdXRpb246IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQUxMT1dfQ09ERV9FWEVDVVRJT04nLFxyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0lmIHNldCB0byB0cnVlLCBhbGxvdyBmb3IgdGhlIGV4ZWN1dGlvbiBvZiBhcmJpdHJhcnkgY29kZSB3aGVuIGV4cG9ydGluZy4nXHJcbiAgICB9LFxyXG4gICAgYWxsb3dGaWxlUmVzb3VyY2VzOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0FMTE9XX0ZJTEVfUkVTT1VSQ0VTJyxcclxuICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0FsbG93IGluamVjdGluZyByZXNvdXJjZXMgZnJvbSB0aGUgZmlsZXN5c3RlbS4gSGFzIG5vIGVmZmVjdCB3aGVuIHJ1bm5pbmcgYXMgYSBzZXJ2ZXIuJ1xyXG4gICAgfSxcclxuICAgIGN1c3RvbUNvZGU6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0EgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGJlZm9yZSBjaGFydCBpbml0aWFsaXphdGlvbi4gQ2FuIGJlIGEgZmlsZW5hbWUgd2l0aCB0aGUganMgZXh0ZW5zaW9uLidcclxuICAgIH0sXHJcbiAgICBjYWxsYmFjazoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0EgSmF2YVNjcmlwdCBmaWxlIHdpdGggYSBmdW5jdGlvbiB0byBydW4gb24gY29uc3RydWN0aW9uLidcclxuICAgIH0sXHJcbiAgICByZXNvdXJjZXM6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0FuIGFkZGl0aW9uYWwgcmVzb3VyY2UgaW4gYSBmb3JtIG9mIHN0cmluZ2lmaWVkIEpTT04uIEl0IGNhbiBjb250YWluIGZpbGVzLCBqcyBhbmQgY3NzIHNlY3Rpb25zLidcclxuICAgIH0sXHJcbiAgICBsb2FkQ29uZmlnOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnQSBmaWxlIHRoYXQgY29udGFpbnMgYSBwcmUtZGVmaW5lZCBjb25maWcgdG8gdXNlLidcclxuICAgIH0sXHJcbiAgICBjcmVhdGVDb25maWc6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0FsbG93cyB0byBzZXQgb3B0aW9ucyB0aHJvdWdoIGEgcHJvbXB0IGFuZCBzYXZlIGluIGEgcHJvdmlkZWQgY29uZmlnIGZpbGUuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2VydmVyOiB7XHJcbiAgICBlbmFibGU6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX0VOQUJMRScsXHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICBjbGlOYW1lOiAnZW5hYmxlU2VydmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdJZiBzZXQgdG8gdHJ1ZSwgc3RhcnRzIGEgc2VydmVyIG9uIDAuMC4wLjAuJ1xyXG4gICAgfSxcclxuICAgIGhvc3Q6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX0hPU1QnLFxyXG4gICAgICB2YWx1ZTogJzAuMC4wLjAnLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBob3N0bmFtZSBvZiB0aGUgc2VydmVyLiBBbHNvIHN0YXJ0cyBhIHNlcnZlciBsaXN0ZW5pbmcgb24gdGhlIHN1cHBsaWVkIGhvc3RuYW1lLidcclxuICAgIH0sXHJcbiAgICBwb3J0OiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NFUlZFUl9QT1JUJyxcclxuICAgICAgdmFsdWU6IDc4MDEsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3J0IHRvIHVzZSBmb3IgdGhlIHNlcnZlci4gRGVmYXVsdHMgdG8gNzgwMS4nXHJcbiAgICB9LFxyXG4gICAgc3NsOiB7XHJcbiAgICAgIGVuYWJsZToge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NFUlZFUl9TU0xfRU5BQkxFJyxcclxuICAgICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICAgIGNsaU5hbWU6ICdlbmFibGVTc2wnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyB0aGUgU1NMIHByb3RvY29sLidcclxuICAgICAgfSxcclxuICAgICAgZm9yY2U6IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfU1NMX0ZPUkNFJyxcclxuICAgICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICAgIGNsaU5hbWU6ICdzc2xGb3JjZWQnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgJ0lmIHNldCB0byB0cnVlLCBmb3JjZXMgdGhlIHNlcnZlciB0byBvbmx5IHNlcnZlIG92ZXIgSFRUUFMuJ1xyXG4gICAgICB9LFxyXG4gICAgICBwb3J0OiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX1NTTF9QT1JUJyxcclxuICAgICAgICB2YWx1ZTogNDQzLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgIGNsaU5hbWU6ICdzc2xQb3J0JyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3J0IG9uIHdoaWNoIHRvIHJ1biB0aGUgU1NMIHNlcnZlci4nXHJcbiAgICAgIH0sXHJcbiAgICAgIGNlcnRQYXRoOiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU1NMX0NFUlRfUEFUSCcsXHJcbiAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhdGggdG8gdGhlIFNTTCBjZXJ0aWZpY2F0ZS9rZXkuJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmF0ZUxpbWl0aW5nOiB7XHJcbiAgICAgIGVuYWJsZToge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfRU5BQkxFJyxcclxuICAgICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICAgIGNsaU5hbWU6ICdlbmFibGVSYXRlTGltaXRpbmcnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyByYXRlIGxpbWl0aW5nLidcclxuICAgICAgfSxcclxuICAgICAgbWF4UmVxdWVzdHM6IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX01BWCcsXHJcbiAgICAgICAgdmFsdWU6IDEwLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTWF4IHJlcXVlc3RzIGFsbG93ZWQgaW4gYSBvbmUgbWludXRlLidcclxuICAgICAgfSxcclxuICAgICAgc2tpcEtleToge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfU0tJUF9LRVknLFxyXG4gICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyfHN0cmluZycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgICAnQWxsb3dzIGJ5cGFzc2luZyB0aGUgcmF0ZSBsaW1pdGVyIGFuZCBzaG91bGQgYmUgcHJvdmlkZWQgd2l0aCBza2lwVG9rZW4gYXJndW1lbnQuJ1xyXG4gICAgICB9LFxyXG4gICAgICBza2lwVG9rZW46IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX1NLSVBfVE9LRU4nLFxyXG4gICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyfHN0cmluZycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgICAnQWxsb3dzIGJ5cGFzc2luZyB0aGUgcmF0ZSBsaW1pdGVyIGFuZCBzaG91bGQgYmUgcHJvdmlkZWQgd2l0aCBza2lwS2V5IGFyZ3VtZW50LidcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgcG9vbDoge1xyXG4gICAgaW5pdGlhbFdvcmtlcnM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9NSU5fV09SS0VSUycsXHJcbiAgICAgIHZhbHVlOiA2LFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgbnVtYmVyIG9mIGluaXRpYWwgd29ya2VycyB0byBzcGF3bi4nXHJcbiAgICB9LFxyXG4gICAgbWF4V29ya2Vyczoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX01BWF9XT1JLRVJTJyxcclxuICAgICAgdmFsdWU6IDYsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgbWF4IHdvcmtlcnMgdG8gc3Bhd24uJ1xyXG4gICAgfSxcclxuICAgIHdvcmtMaW1pdDoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX1dPUktfTElNSVQnLFxyXG4gICAgICB2YWx1ZTogNDAsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIHBpZWNlcyBvZiB3b3JrIHRoYXQgY2FuIGJlIHBlcmZvcm1lZCBiZWZvcmUgcmVzdGFydGluZyBwcm9jZXNzLidcclxuICAgIH0sXHJcbiAgICBxdWV1ZVNpemU6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9RVUVVRV9TSVpFJyxcclxuICAgICAgdmFsdWU6IDEwLFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgc2l6ZSBvZiB0aGUgcmVxdWVzdCBvdmVyZmxvdyBxdWV1ZS4nXHJcbiAgICB9LFxyXG4gICAgdGltZW91dFRocmVzaG9sZDoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX1RJTUVPVVQnLFxyXG4gICAgICB2YWx1ZTogNTAwMCxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYmVmb3JlIHRpbWluZyBvdXQuJ1xyXG4gICAgfSxcclxuICAgIGFjcXVpcmVUaW1lb3V0OiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfQUNRVUlSRV9USU1FT1VUJyxcclxuICAgICAgdmFsdWU6IDMwMDAsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGFjcXVpcmluZyBhIHJlc291cmNlLidcclxuICAgIH0sXHJcbiAgICByZWFwZXI6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9FTkFCTEVfUkVBUEVSJyxcclxuICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1doZXRoZXIgb3Igbm90IHRvIGV2aWN0IHdvcmtlcnMgYWZ0ZXIgYSBjZXJ0YWluIHRpbWUgcGVyaW9kLidcclxuICAgIH0sXHJcbiAgICBiZW5jaG1hcmtpbmc6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9CRU5DSE1BUktJTkcnLFxyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFbmFibGUgYmVuY2htYXJraW5nLidcclxuICAgIH0sXHJcbiAgICBsaXN0ZW5Ub1Byb2Nlc3NFeGl0czoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX0xJU1RFTl9UT19QUk9DRVNTX0VYSVRTJyxcclxuICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1NldCB0byBmYWxzZSBpbiBvcmRlciB0byBza2lwIGF0dGFjaGluZyBwcm9jZXNzLmV4aXQgaGFuZGxlcnMuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcGF5bG9hZDoge1xyXG5cclxuICB9LFxyXG4gIGxvZ2dpbmc6IHtcclxuICAgIGxldmVsOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0xPR19MRVZFTCcsXHJcbiAgICAgIHZhbHVlOiA0LFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgY2xpTmFtZTogJ2xvZ0xldmVsJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBsb2cgbGV2ZWwgKDA6IHNpbGVudCwgMTogZXJyb3IsIDI6IHdhcm5pbmcsIDM6IG5vdGljZSwgNDogdmVyYm9zZSkuJ1xyXG4gICAgfSxcclxuICAgIGZpbGU6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfTE9HX0ZJTEUnLFxyXG4gICAgICB2YWx1ZTogJ2hpZ2hjaGFydHMtZXhwb3J0LXNlcnZlci5sb2cnLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgY2xpTmFtZTogJ2xvZ0ZpbGUnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQSBuYW1lIG9mIGEgbG9nIGZpbGUuIFRoZSAtLWxvZ0Rlc3QgYWxzbyBuZWVkcyB0byBiZSBzZXQgdG8gZW5hYmxlIGZpbGUgbG9nZ2luZy4nXHJcbiAgICB9LFxyXG4gICAgZGVzdDoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19MT0dfREVTVCcsXHJcbiAgICAgIHZhbHVlOiAnbG9nLycsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBjbGlOYW1lOiAnbG9nRGVzdCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhdGggdG8gc3RvcmUgbG9nIGZpbGVzLiBBbHNvIGVuYWJsZXMgZmlsZSBsb2dnaW5nLidcclxuICAgIH1cclxuICB9LFxyXG4gIHVpOiB7XHJcbiAgICBlbmFibGU6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfVUlfRU5BQkxFJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGNsaU5hbWU6ICdlbmFibGVVaScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyB0aGUgVUkgZm9yIHRoZSBleHBvcnQgc2VydmVyLidcclxuICAgIH0sXHJcbiAgICByb3V0ZToge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19VSV9ST1VURScsXHJcbiAgICAgIHZhbHVlOiAnLycsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBjbGlOYW1lOiAndWlSb3V0ZScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHJvdXRlIHRvIGF0dGFjaCB0aGUgVUkgdG8uJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgb3RoZXI6IHtcclxuICAgIG5vTG9nbzoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19OT19MT0dPJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdTa2lwIHByaW50aW5nIHRoZSBsb2dvIG9uIGEgc3RhcnR1cC4gV2lsbCBiZSByZXBsYWNlZCBieSBhIHNpbXBsZSB0ZXh0LidcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vLyBUaGUgY29uZmlnIGRlc2NyaXB0aW9ucyBvYmplY3QgZm9yIHRoZSBwcm9tcHRzIGZ1bmN0aW9uYWxpdHkuIEl0IGNvbnRhaW5zXHJcbi8vIGluZm9ybWF0aW9uIGxpa2U6XHJcbi8vICogVHlwZSBvZiBhIHByb21wdFxyXG4vLyAqIE5hbWUgb2YgYW4gb3B0aW9uXHJcbi8vICogU2hvcnQgZGVzY3JpcHRpb24gb2YgYSBjaG9zZW4gb3B0aW9uXHJcbi8vICogSW5pdGlhbCB2YWx1ZVxyXG5leHBvcnQgY29uc3QgcHJvbXB0c0NvbmZpZyA9IHtcclxuICBwdXBwZXRlZXI6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogJ2xpc3QnLFxyXG4gICAgICBuYW1lOiAnYXJncycsXHJcbiAgICAgIG1lc3NhZ2U6ICdQdXBwZXRlZXIgYXJndW1lbnRzJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wdXBwZXRlZXIuYXJncy52YWx1ZS5qb2luKCcsJyksXHJcbiAgICAgIHNlcGFyYXRvcjogJywnXHJcbiAgICB9XHJcbiAgXSxcclxuICBoaWdoY2hhcnRzOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ3ZlcnNpb24nLFxyXG4gICAgICBtZXNzYWdlOiAnSGlnaGNoYXJ0cyB2ZXJzaW9uJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLnZlcnNpb24udmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ2NkblVSTCcsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgdXJsIG9mIENETicsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuaGlnaGNoYXJ0cy5jZG5VUkwudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdtdWx0aXNlbGVjdCcsXHJcbiAgICAgIG5hbWU6ICdtb2R1bGVzJyxcclxuICAgICAgbWVzc2FnZTogJ0F2YWlsYWJsZSBtb2R1bGVzJyxcclxuICAgICAgaW5zdHJ1Y3Rpb25zOiAnU3BhY2U6IFNlbGVjdCBzcGVjaWZpYywgQTogU2VsZWN0IGFsbCwgRW50ZXI6IENvbmZpcm0uJyxcclxuICAgICAgY2hvaWNlczogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLm1vZHVsZXMudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdsaXN0JyxcclxuICAgICAgbmFtZTogJ3NjcmlwdHMnLFxyXG4gICAgICBtZXNzYWdlOiAnQ3VzdG9tIHNjcmlwdHMnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMuc2NyaXB0cy52YWx1ZS5qb2luKCcsJyksXHJcbiAgICAgIHNlcGFyYXRvcjogJywnXHJcbiAgICB9XHJcbiAgXSxcclxuICBleHBvcnQ6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3NlbGVjdCcsXHJcbiAgICAgIG5hbWU6ICd0eXBlJyxcclxuICAgICAgbWVzc2FnZTogJ1RoZSBkZWZhdWx0IHR5cGUgb2YgYSBmaWxlIHRvIGV4cG9ydCB0bycsXHJcbiAgICAgIGhpbnQ6IGBEZWZhdWx0OiAke2RlZmF1bHRDb25maWcuZXhwb3J0LnR5cGUudmFsdWV9YCxcclxuICAgICAgaW5pdGlhbDogMCxcclxuICAgICAgY2hvaWNlczogWydwbmcnLCAnanBlZycsICdwZGYnLCAnc3ZnJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdzZWxlY3QnLFxyXG4gICAgICBuYW1lOiAnY29uc3RyJyxcclxuICAgICAgbWVzc2FnZTogJ1RoZSBkZWZhdWx0IGNvbnN0cnVjdG9yIGZvciBIaWdoY2hhcnRzIHRvIHVzZScsXHJcbiAgICAgIGhpbnQ6IGBEZWZhdWx0OiAke2RlZmF1bHRDb25maWcuZXhwb3J0LmNvbnN0ci52YWx1ZX1gLFxyXG4gICAgICBpbml0aWFsOiAwLFxyXG4gICAgICBjaG9pY2VzOiBbJ2NoYXJ0JywgJ3N0b2NrQ2hhcnQnLCAnbWFwQ2hhcnQnLCAnZ2FudHRDaGFydCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ2RlZmF1bHRIZWlnaHQnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgZmFsbGJhY2sgaGVpZ2h0IG9mIHRoZSBleHBvcnRlZCBjaGFydCcsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuZXhwb3J0LmRlZmF1bHRIZWlnaHQudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnZGVmYXVsdFdpZHRoJyxcclxuICAgICAgbWVzc2FnZTogJ1RoZSBkZWZhdWx0IGZhbGxiYWNrIHdpZHRoIG9mIHRoZSBleHBvcnRlZCBjaGFydCcsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuZXhwb3J0LmRlZmF1bHRXaWR0aC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdkZWZhdWx0U2NhbGUnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgZmFsbGJhY2sgc2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5leHBvcnQuZGVmYXVsdFNjYWxlLnZhbHVlLFxyXG4gICAgICBtaW46IDAuMSxcclxuICAgICAgbWF4OiA1XHJcbiAgICB9XHJcbiAgXSxcclxuICBjdXN0b21Db2RlOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnYWxsb3dDb2RlRXhlY3V0aW9uJyxcclxuICAgICAgbWVzc2FnZTogJ0FsbG93IHRvIGV4ZWN1dGUgY3VzdG9tIGNvZGUnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmN1c3RvbUNvZGUuYWxsb3dDb2RlRXhlY3V0aW9uLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ2FsbG93RmlsZVJlc291cmNlcycsXHJcbiAgICAgIG1lc3NhZ2U6ICdBbGxvdyBmaWxlIHJlc291cmNlcycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuY3VzdG9tQ29kZS5hbGxvd0ZpbGVSZXNvdXJjZXMudmFsdWVcclxuICAgIH1cclxuICBdLFxyXG4gIHNlcnZlcjogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ2VuYWJsZScsXHJcbiAgICAgIG1lc3NhZ2U6ICdTdGFydHMgYSBzZXJ2ZXIgb24gMC4wLjAuMCcsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLmVuYWJsZS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICBuYW1lOiAnaG9zdCcsXHJcbiAgICAgIG1lc3NhZ2U6ICdBIGhvc3RuYW1lIG9mIGEgc2VydmVyJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuaG9zdC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdwb3J0JyxcclxuICAgICAgbWVzc2FnZTogJ0EgcG9ydCBvZiBhIHNlcnZlcicsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnBvcnQudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnc3NsLmVuYWJsZScsXHJcbiAgICAgIG1lc3NhZ2U6ICdFbmFibGUgU1NMIHByb3RvY29sJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuc3NsLmVuYWJsZS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdzc2wuZm9yY2UnLFxyXG4gICAgICBtZXNzYWdlOiAnRm9yY2UgdG8gb25seSBzZXJ2ZSBvdmVyIEhUVFBTJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuc3NsLmZvcmNlLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ3NzbC5wb3J0JyxcclxuICAgICAgbWVzc2FnZTogJ1BvcnQgb24gd2hpY2ggdG8gcnVuIHRoZSBTU0wgc2VydmVyJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuc3NsLnBvcnQudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ3NzbC5jZXJ0UGF0aCcsXHJcbiAgICAgIG1lc3NhZ2U6ICdBIHBhdGggd2hlcmUgdG8gZmluZCB0aGUgU1NMIGNlcnRpZmljYXRlL2tleScsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5jZXJ0UGF0aC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcuZW5hYmxlJyxcclxuICAgICAgbWVzc2FnZTogJ0VuYWJsZSByYXRlIGxpbWl0aW5nJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLmVuYWJsZS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcubWF4UmVxdWVzdHMnLFxyXG4gICAgICBtZXNzYWdlOiAnTWF4IHJlcXVlc3RzIGFsbG93ZWQgaW4gYSBvbmUgbWludXRlJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLm1heFJlcXVlc3RzLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcuc2tpcEtleScsXHJcbiAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgJ0FsbG93cyBieXBhc3NpbmcgdGhlIHJhdGUgbGltaXRlciBhbmQgc2hvdWxkIGJlIHByb3ZpZGVkIHdpdGggc2tpcFRva2VuIGFyZ3VtZW50JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLnNraXBLZXkudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5za2lwVG9rZW4nLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgICdBbGxvd3MgYnlwYXNzaW5nIHRoZSByYXRlIGxpbWl0ZXIgYW5kIHNob3VsZCBiZSBwcm92aWRlZCB3aXRoIHNraXBLZXkgYXJndW1lbnQnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5yYXRlTGltaXRpbmcuc2tpcFRva2VuLnZhbHVlXHJcbiAgICB9XHJcbiAgXSxcclxuICBwb29sOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnaW5pdGlhbFdvcmtlcnMnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBpbml0aWFsIHdvcmtlcnMgdG8gc3Bhd24nLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wuaW5pdGlhbFdvcmtlcnMudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnbWF4V29ya2VycycsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgbnVtYmVyIG9mIG1heCB3b3JrZXJzIHRvIHNwYXduJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLm1heFdvcmtlcnMudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnd29ya0xpbWl0JyxcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICAnVGhlIHBpZWNlcyBvZiB3b3JrIHRoYXQgY2FuIGJlIHBlcmZvcm1lZCBiZWZvcmUgcmVzdGFydGluZyBhIHB1cHBldGVlciBwcm9jZXNzJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLndvcmtMaW1pdC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdxdWV1ZVNpemUnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIHNpemUgb2YgdGhlIHJlcXVlc3Qgb3ZlcmZsb3cgcXVldWUnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wucXVldWVTaXplLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ3RpbWVvdXRUaHJlc2hvbGQnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBzZWNvbmRzIGJlZm9yZSB0aW1pbmcgb3V0JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLnRpbWVvdXRUaHJlc2hvbGQudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnYWNxdWlyZVRpbWVvdXQnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgYWNxdWlyaW5nIGEgcmVzb3VyY2UnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wuYWNxdWlyZVRpbWVvdXQudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAncmVhcGVyJyxcclxuICAgICAgbWVzc2FnZTogJ1RoZSByZWFwZXIgdG8gcmVtb3ZlIGhhbmdpbmcgcHJvY2Vzc2VzJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLnJlYXBlci52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdiZW5jaG1hcmtpbmcnLFxyXG4gICAgICBtZXNzYWdlOiAnU2V0IGJlbmNobWFya2luZycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5iZW5jaG1hcmtpbmcudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnbGlzdGVuVG9Qcm9jZXNzRXhpdHMnLFxyXG4gICAgICBtZXNzYWdlOiAnU2V0IHRvIGZhbHNlIGluIG9yZGVyIHRvIHNraXAgYXR0YWNoaW5nIHByb2Nlc3MuZXhpdCBoYW5kbGVycycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5saXN0ZW5Ub1Byb2Nlc3NFeGl0cy52YWx1ZVxyXG4gICAgfVxyXG4gIF0sXHJcbiAgbG9nZ2luZzogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ2xldmVsJyxcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICAnVGhlIGxvZyBsZXZlbCAoMDogc2lsZW50LCAxOiBlcnJvciwgMjogd2FybmluZywgMzogbm90aWNlLCA0OiB2ZXJib3NlKScsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcubG9nZ2luZy5sZXZlbC52YWx1ZSxcclxuICAgICAgcm91bmQ6IDAsXHJcbiAgICAgIG1pbjogMCxcclxuICAgICAgbWF4OiA0XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgIG5hbWU6ICdmaWxlJyxcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICAnQSBuYW1lIG9mIGEgbG9nIGZpbGUuIFRoZSAtLWxvZ0Rlc3QgYWxzbyBuZWVkcyB0byBiZSBzZXQgdG8gZW5hYmxlIGZpbGUgbG9nZ2luZycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcubG9nZ2luZy5maWxlLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgIG5hbWU6ICdkZXN0JyxcclxuICAgICAgbWVzc2FnZTogJ0EgcGF0aCB0byBsb2cgZmlsZXMuIEl0IGVuYWJsZXMgZmlsZSBsb2dnaW5nJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmRlc3QudmFsdWVcclxuICAgIH1cclxuICBdLFxyXG4gIHVpOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnZW5hYmxlJyxcclxuICAgICAgbWVzc2FnZTogJ0VuYWJsZSBVSSBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXInLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnVpLmVuYWJsZS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICBuYW1lOiAncm91dGUnLFxyXG4gICAgICBtZXNzYWdlOiAnQSByb3V0ZSB0byBhdHRhY2ggdGhlIFVJIHRvJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy51aS5yb3V0ZS52YWx1ZVxyXG4gICAgfVxyXG4gIF0sXHJcbiAgb3RoZXI6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdub0xvZ28nLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgICdTa2lwIHByaW50aW5nIHRoZSBsb2dvIG9uIGEgc3RhcnR1cC4gV2lsbCBiZSByZXBsYWNlZCBieSBhIHNpbXBsZSB0ZXh0JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5vdGhlci5ub0xvZ28udmFsdWVcclxuICAgIH1cclxuICBdXHJcbn07XHJcblxyXG4vLyBBcmd1bWVudCBuZXN0aW5nIGxldmVsIG9mIGFsbCBleHBvcnQgc2VydmVyIG9wdGlvbnNcclxuY29uc3QgbmVzdGVkQXJncyA9IHt9O1xyXG5cclxuLy8gTWFwIG9mIHByb3BlcnRpZXMgZnJvbSBlbnZzXHJcbmNvbnN0IGVudlZhcnMgPSBbXTtcclxuXHJcbi8qKlxyXG4gKiBCdWlsZHMgbWFwcyBhbmQgbG9hZCBlbnYgdmFycy5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFRoZSBvYmplY3QgYmFzZWQgb24gd2hpY2ggdGhlIGluaXRpYWwgY29uZmlndXJhdGlvbiBiZVxyXG4gKiBtYWRlLlxyXG4gKiBAcGFyYW0ge3N0cmluZyB9IHByb3BDaGFpbiAtIFJlcXVpcmVkIGZvciBjcmVhdGluZyBhIHN0cmluZyBjaGFpbiBvZlxyXG4gKiBwcm9wZXJ0aWVzIGZvciBuZXN0ZWQgYXJndW1lbnRzLlxyXG4gKi9cclxuY29uc3QgaW5pdENvbmZpZyA9IChvYmosIHByb3BDaGFpbiA9ICcnKSA9PiB7XHJcbiAgY29uc3QgdG9Cb29sZWFuID0gKGl0ZW0pID0+XHJcbiAgICBbJ2ZhbHNlJywgJ3VuZGVmaW5lZCcsICdudWxsJywgJ05hTicsICcwJywgJyddLmluY2x1ZGVzKGl0ZW0pXHJcbiAgICAgID8gZmFsc2VcclxuICAgICAgOiAhIWl0ZW07XHJcblxyXG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaCgoaykgPT4ge1xyXG4gICAgaWYgKCFbJ3B1cHBldGVlcicsICdoaWdoY2hhcnRzJ10uaW5jbHVkZXMoaykpIHtcclxuICAgICAgY29uc3QgZW50cnkgPSBvYmpba107XHJcbiAgICAgIGxldCBudW1FbnZWYWw7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGVudHJ5LnZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGluaXRDb25maWcoZW50cnksIGAke3Byb3BDaGFpbn0uJHtrfWApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChlbnRyeS5lbnZMaW5rKSB7XHJcbiAgICAgICAgICAvLyBMb2FkIHRoZSBlbnYgdmFyXHJcbiAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIGVudHJ5LnZhbHVlID0gdG9Cb29sZWFuKFxyXG4gICAgICAgICAgICAgIFtwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXSwgZW50cnkudmFsdWVdLmZpbmQoXHJcbiAgICAgICAgICAgICAgICAoZWwpID0+IGVsIHx8IGVsID09PSAnZmFsc2UnXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChlbnRyeS50eXBlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICBudW1FbnZWYWwgPSArcHJvY2Vzcy5lbnZbZW50cnkuZW52TGlua107XHJcbiAgICAgICAgICAgIGVudHJ5LnZhbHVlID0gbnVtRW52VmFsID49IDAgPyBudW1FbnZWYWwgOiBlbnRyeS52YWx1ZTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIGVudHJ5LnR5cGUuaW5kZXhPZignXScpID49IDAgJiZcclxuICAgICAgICAgICAgcHJvY2Vzcy5lbnZbZW50cnkuZW52TGlua11cclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBlbnRyeS52YWx1ZSA9IHByb2Nlc3MuZW52W2VudHJ5LmVudkxpbmtdLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbnRyeS52YWx1ZSA9IHByb2Nlc3MuZW52W2VudHJ5LmVudkxpbmtdIHx8IGVudHJ5LnZhbHVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEFkZCB0byBsaXN0IG9mIGVudiB2YXJzXHJcbiAgICAgICAgICBlbnZWYXJzLnB1c2goe1xyXG4gICAgICAgICAgICBuYW1lOiBlbnRyeS5lbnZMaW5rLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZW50cnkuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIHR5cGU6IGVudHJ5LnR5cGVcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjaGFpbiBvZiBuZXN0ZWQgYXJndW1lbnRzXHJcbiAgICAgICAgbmVzdGVkQXJnc1tlbnRyeS5jbGlOYW1lIHx8IGtdID0gYCR7cHJvcENoYWlufS4ke2t9YC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmluaXRDb25maWcoZGVmYXVsdENvbmZpZyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZGVmYXVsdENvbmZpZyxcclxuICBwcm9tcHRzQ29uZmlnLFxyXG4gIGVudlZhcnMsXHJcbiAgbmVzdGVkQXJnc1xyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCB7IGFwcGVuZEZpbGUsIGV4aXN0c1N5bmMsIG1rZGlyU3luYyB9IGZyb20gJ2ZzJztcclxuXHJcbmltcG9ydCB7IGRlZmF1bHRDb25maWcgfSBmcm9tICcuL3NjaGVtYXMvY29uZmlnLmpzJztcclxuXHJcbi8vIFRoZSBkZWZhdWx0IGxvZ2dpbmcgY29uZmlnXHJcbmxldCBsb2dnaW5nID0ge1xyXG4gIC8vIEZsYWdzIGZvciBsb2dnaW5nIHN0YXR1c1xyXG4gIHRvQ29uc29sZTogdHJ1ZSxcclxuICB0b0ZpbGU6IGZhbHNlLFxyXG4gIHBhdGhDcmVhdGVkOiBmYWxzZSxcclxuICAvLyBMb2cgbGV2ZWxzXHJcbiAgbGV2ZWxzRGVzYzogW1xyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ2Vycm9yJyxcclxuICAgICAgY29sb3I6ICdyZWQnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ3dhcm5pbmcnLFxyXG4gICAgICBjb2xvcjogJ3llbGxvdydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAnbm90aWNlJyxcclxuICAgICAgY29sb3I6ICdibHVlJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICd2ZXJib3NlJyxcclxuICAgICAgY29sb3I6ICdncmF5J1xyXG4gICAgfVxyXG4gIF0sXHJcbiAgLy8gTG9nIGxpc3RlbmVyc1xyXG4gIGxpc3RlbmVyczogW11cclxufTtcclxuXHJcbi8vIEdhdGhlciBpbml0IGxvZ2dpbmcgb3B0aW9uc1xyXG5mb3IgKGNvbnN0IFtrZXksIG9wdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoZGVmYXVsdENvbmZpZy5sb2dnaW5nKSkge1xyXG4gIGxvZ2dpbmdba2V5XSA9IG9wdGlvbi52YWx1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvZ3MgYSBtZXNzYWdlLiBBY2NlcHRzIGEgdmFyaWFibGUgYW1vdW50IG9mIGFyZ3VtZW50cy4gQXJndW1lbnRzIGFmdGVyXHJcbiAqIGBsZXZlbGAgd2lsbCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gY29uc29sZS5sb2csIGFuZC9vciB3aWxsIGJlIGpvaW5lZFxyXG4gKiBhbmQgYXBwZW5kZWQgdG8gdGhlIGxvZyBmaWxlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueX0gYXJncyAtIEFuIGFycmF5IG9mIGFyZ3VtZW50cyB3aGVyZSB0aGUgZmlyc3QgaXMgdGhlIGxvZyBsZXZlbFxyXG4gKiBhbmQgdGhlIHJlc3QgYXJlIHN0cmluZ3MgdG8gYnVpbGQgYSBtZXNzYWdlIHdpdGguXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbG9nID0gKC4uLmFyZ3MpID0+IHtcclxuICBjb25zdCBbbmV3TGV2ZWwsIC4uLnRleHRzXSA9IGFyZ3M7XHJcblxyXG4gIC8vIEN1cnJlbnQgbG9nZ2luZyBvcHRpb25zXHJcbiAgY29uc3QgeyBsZXZlbCwgbGV2ZWxzRGVzYyB9ID0gbG9nZ2luZztcclxuXHJcbiAgLy8gQ2hlY2sgaWYgbG9nIGxldmVsIGlzIHdpdGhpbiBhIGNvcnJlY3QgcmFuZ2VcclxuICBpZiAobmV3TGV2ZWwgPT09IDAgfHwgbmV3TGV2ZWwgPiBsZXZlbCB8fCBsZXZlbCA+IGxldmVsc0Rlc2MubGVuZ3RoKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgcmlkIG9mIHRoZSBHTVQgdGV4dCBpbmZvcm1hdGlvblxyXG4gIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkuc3BsaXQoJygnKVswXS50cmltKCk7XHJcblxyXG4gIC8vIENyZWF0ZSBhIG1lc3NhZ2UncyBwcmVmaXhcclxuICBjb25zdCBwcmVmaXggPSBgJHtuZXdEYXRlfSBbJHtsZXZlbHNEZXNjW25ld0xldmVsIC0gMV0udGl0bGV9XSAtYDtcclxuXHJcbiAgLy8gQ2FsbCBhdmFpbGFibGUgbG9nIGxpc3RlbmVyc1xyXG4gIGxvZ2dpbmcubGlzdGVuZXJzLmZvckVhY2goKGZuKSA9PiB7XHJcbiAgICBmbihwcmVmaXgsIHRleHRzLmpvaW4oJyAnKSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIExvZyB0byBmaWxlXHJcbiAgaWYgKGxvZ2dpbmcudG9GaWxlKSB7XHJcbiAgICBpZiAoIWxvZ2dpbmcucGF0aENyZWF0ZWQpIHtcclxuICAgICAgLy8gQ3JlYXRlIGlmIGRvZXMgbm90IGV4aXN0XHJcbiAgICAgICFleGlzdHNTeW5jKGxvZ2dpbmcuZGVzdCkgJiYgbWtkaXJTeW5jKGxvZ2dpbmcuZGVzdCk7XHJcblxyXG4gICAgICAvLyBXZSBub3cgYXNzdW1lIHRoZSBwYXRoIGlzIGF2YWlsYWJsZSwgZS5nLiBpdCdzIHRoZSByZXNwb25zaWJpbGl0eVxyXG4gICAgICAvLyBvZiB0aGUgdXNlciB0byBjcmVhdGUgdGhlIHBhdGggd2l0aCB0aGUgY29ycmVjdCBhY2Nlc3MgcmlnaHRzLlxyXG4gICAgICBsb2dnaW5nLnBhdGhDcmVhdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgdGhlIGNvbnRlbnQgdG8gYSBmaWxlXHJcbiAgICBhcHBlbmRGaWxlKFxyXG4gICAgICBgJHtsb2dnaW5nLmRlc3R9JHtsb2dnaW5nLmZpbGV9YCxcclxuICAgICAgW3ByZWZpeF0uY29uY2F0KHRleHRzKS5qb2luKCcgJykgKyAnXFxuJyxcclxuICAgICAgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW2xvZ2dlcl0gVW5hYmxlIHRvIHdyaXRlIHRvIGxvZyBmaWxlOiAke2Vycm9yfWApO1xyXG4gICAgICAgICAgbG9nZ2luZy50b0ZpbGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBMb2cgdG8gY29uc29sZVxyXG4gIGlmIChsb2dnaW5nLnRvQ29uc29sZSkge1xyXG4gICAgY29uc29sZS5sb2cuYXBwbHkoXHJcbiAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgW3ByZWZpeC50b1N0cmluZygpW2xvZ2dpbmcubGV2ZWxzRGVzY1tuZXdMZXZlbCAtIDFdLmNvbG9yXV0uY29uY2F0KHRleHRzKVxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogU2V0cyB0aGUgZmlsZSBsb2dnaW5nIGNvbmZpZ3VyYXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2dEZXN0IC0gQSBwYXRoIHRvIGxvZyB0by5cclxuICogQHBhcmFtIHtzdHJpbmd9IGxvZ0ZpbGUgLSBUaGUgbmFtZSBvZiB0aGUgbG9nIGZpbGUuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW5hYmxlRmlsZUxvZ2dpbmcgPSAobG9nRGVzdCwgbG9nRmlsZSkgPT4ge1xyXG4gIC8vIFVwZGF0ZSBsb2dnaW5nIG9wdGlvbnNcclxuICBsb2dnaW5nID0ge1xyXG4gICAgLi4ubG9nZ2luZyxcclxuICAgIGRlc3Q6IGxvZ0Rlc3QgfHwgbG9nZ2luZy5kZXN0LFxyXG4gICAgZmlsZTogbG9nRmlsZSB8fCBsb2dnaW5nLmZpbGUsXHJcbiAgICB0b0ZpbGU6IHRydWVcclxuICB9O1xyXG5cclxuICBpZiAobG9nZ2luZy5kZXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIGxvZygxLCAnW2xvZ2dlcl0gRmlsZSBsb2dnaW5nIGluaXQ6IG5vIHBhdGggc3VwcGxpZWQuJyk7XHJcbiAgfVxyXG5cclxuICBpZiAoIWxvZ2dpbmcuZGVzdC5lbmRzV2l0aCgnLycpKSB7XHJcbiAgICBsb2dnaW5nLmRlc3QgKz0gJy8nO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgbG9nIGxpc3RlbmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gZ2V0dGluZyBhIGxvZyBldmVudC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBsaXN0ZW4gPSAoZm4pID0+IHtcclxuICBsb2dnaW5nLmxpc3RlbmVycy5wdXNoKGZuKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTZXRzIHRoZSBjdXJyZW50IGxvZyBsZXZlbC4gTG9nIGxldmVscyBhcmU6XHJcbiAqIC0gMCA9IG5vIGxvZ2dpbmdcclxuICogLSAxID0gZXJyb3JcclxuICogLSAyID0gd2FybmluZ1xyXG4gKiAtIDMgPSBub3RpY2VcclxuICogLSA0ID0gdmVyYm9zZVxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3TGV2ZWwgLSBUaGUgbmV3IGxvZyBsZXZlbCAoMCAtIDQpLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHNldExvZ0xldmVsID0gKG5ld0xldmVsKSA9PiB7XHJcbiAgaWYgKG5ld0xldmVsID49IDAgJiYgbmV3TGV2ZWwgPD0gbG9nZ2luZy5sZXZlbHNEZXNjLmxlbmd0aCkge1xyXG4gICAgbG9nZ2luZy5sZXZlbCA9IG5ld0xldmVsO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBFbmFibGVzIG9yIGRpc2FibGVzIGxvZ2dpbmcgdG8gdGhlIHN0ZG91dC5cclxuICpcclxuICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIC0gV2hldGhlciBsb2cgdG8gY29uc29sZSBvciBub3QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdG9nZ2xlU1RET3V0ID0gKGVuYWJsZWQpID0+IHtcclxuICBsb2dnaW5nLnRvQ29uc29sZSA9IGVuYWJsZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbG9nLFxyXG4gIGVuYWJsZUZpbGVMb2dnaW5nLFxyXG4gIGxpc3RlbixcclxuICBzZXRMb2dMZXZlbCxcclxuICB0b2dnbGVTVERPdXRcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XHJcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tICd1cmwnO1xyXG5cclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5cclxuY29uc3QgTUFYX0JBQ0tPRkZfQVRURU1QVFMgPSA2O1xyXG5cclxuZXhwb3J0IGNvbnN0IF9fZGlybmFtZSA9IGZpbGVVUkxUb1BhdGgobmV3IFVSTCgnLi4vLicsIGltcG9ydC5tZXRhLnVybCkpO1xyXG5cclxuLyoqXHJcbiAqIENsZWFycyB0ZXh0IGZyb20gd2hpdGVzcGFjZXMgd2l0aCBhIHJlZ2V4IHJ1bGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBydWxlIC0gVGhlIHJ1bGUgZm9yIGNsZWFyaW5nIGEgc3RyaW5nLCBkZWZhdWx0IHRvIC9cXHNcXHMrL2cuXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gLSBDbGVhcmVkIHRleHQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY2xlYXJUZXh0ID0gKHRleHQsIHJ1bGUgPSAvXFxzXFxzKy9nLCByZXBsYWNlciA9ICcgJykgPT5cclxuICB0ZXh0LnJlcGxhY2VBbGwocnVsZSwgcmVwbGFjZXIpLnRyaW0oKTtcclxuXHJcbi8qKlxyXG4gKiBEZWxheXMgY2FsbGluZyB0aGUgZnVuY3Rpb24gYnkgdGltZSBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBiYWNrb2ZmXHJcbiAqIGFsZ29yaXRobS5cclxuICpcclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBBIGZ1bmN0aW9uIHRvIHRyeSB0byBjYWxsIHdpdGggdGhlIGJhY2tvZmYgYWxnb3JpdGhtXHJcbiAqIG9uLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gYXR0ZW1wdCAtIFRoZSBudW1iZXIgb2YgYW4gYXR0ZW1wdCwgd2hlcmUgdGhlIGZpcnN0IG9uZSBpcyAwLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGV4cEJhY2tvZmYgPSBhc3luYyAoZm4sIGF0dGVtcHQgPSAwLCAuLi5hcmdzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFRyeSB0byBjYWxsIHRoZSBmdW5jdGlvblxyXG4gICAgcmV0dXJuIGF3YWl0IGZuKC4uLmFyZ3MpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAvLyBDYWxjdWxhdGUgZGVsYXkgaW4gbXNcclxuICAgIGNvbnN0IGRlbGF5SW5NcyA9IDIgKiogYXR0ZW1wdCAqIDEwMDA7XHJcblxyXG4gICAgLy8gSWYgdGhlIGF0dGVtcHQgZXhjZWVkcyB0aGUgbWF4aW11bSBhdHRlbXB0cyBvZiByZWFwZWF0LCB0aHJvdyBhbiBlcnJvclxyXG4gICAgaWYgKCsrYXR0ZW1wdCA+PSBNQVhfQkFDS09GRl9BVFRFTVBUUykge1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXYWl0IGdpdmVuIGFtb3VudCBvZiB0aW1lXHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzcG9uc2UpID0+IHNldFRpbWVvdXQocmVzcG9uc2UsIGRlbGF5SW5NcykpO1xyXG4gICAgbG9nKFxyXG4gICAgICAzLFxyXG4gICAgICBgW3Bvb2xdIFdhaXRlZCAke2RlbGF5SW5Nc31tcyB1bnRpbCBuZXh0IGNhbGwgZm9yIHRoZSByZXNvdXJjZSBpZDogJHthcmdzWzBdfS5gXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFRyeSBhZ2FpblxyXG4gICAgcmV0dXJuIGV4cEJhY2tvZmYoZm4sIGF0dGVtcHQsIC4uLmFyZ3MpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBGaXhlcyB0byBzdXBwb3J0ZWQgdHlwZSBmb3JtYXQgaWYgTUlNRS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUeXBlIHRvIGJlIGNvcnJlY3RlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IG91dGZpbGUgLSBOYW1lIG9mIHRoZSBvdXRmaWxlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGZpeFR5cGUgPSAodHlwZSwgb3V0ZmlsZSkgPT4ge1xyXG4gIC8vIE1JTUUgdHlwZXNcclxuICBjb25zdCBtaW1lVHlwZXMgPSB7XHJcbiAgICAnaW1hZ2UvcG5nJzogJ3BuZycsXHJcbiAgICAnaW1hZ2UvanBlZyc6ICdqcGVnJyxcclxuICAgICdhcHBsaWNhdGlvbi9wZGYnOiAncGRmJyxcclxuICAgICdpbWFnZS9zdmcreG1sJzogJ3N2ZydcclxuICB9O1xyXG5cclxuICAvLyBGb3JtYXRzXHJcbiAgY29uc3QgZm9ybWF0cyA9IFsncG5nJywgJ2pwZWcnLCAncGRmJywgJ3N2ZyddO1xyXG5cclxuICAvLyBDaGVjayBpZiB0eXBlIGFuZCBvdXRmaWxlJ3MgZXh0ZW5zaW9ucyBhcmUgdGhlIHNhbWVcclxuICBpZiAob3V0ZmlsZSkge1xyXG4gICAgY29uc3Qgb3V0VHlwZSA9IG91dGZpbGUuc3BsaXQoJy4nKS5wb3AoKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBleHRlbnNpb24gaGFzIGEgY29ycmVjdCB0eXBlXHJcbiAgICBpZiAoZm9ybWF0cy5pbmNsdWRlcyhvdXRUeXBlKSAmJiB0eXBlICE9PSBvdXRUeXBlKSB7XHJcbiAgICAgIHR5cGUgPSBvdXRUeXBlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIGEgY29ycmVjdCB0eXBlXHJcbiAgcmV0dXJuIG1pbWVUeXBlc1t0eXBlXSB8fCBmb3JtYXRzLmZpbmQoKHQpID0+IHQgPT09IHR5cGUpIHx8ICdwbmcnO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXMgdGhlIHByb3ZpZGVkIHJlc291cmNlcy5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlcyAtIFRoZSBzdHJpbmdpZmllZCByZXNvdXJjZXMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBhbGxvd0ZpbGVSZXNvdXJjZXMgLSBEZWNpZGUgaWYgcmVzb3VyY2VzIGZyb20gZmlsZSBhcmVcclxuICogYWxsb3dlZC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVSZXNvdXJjZXMgPSAocmVzb3VyY2VzID0gZmFsc2UsIGFsbG93RmlsZVJlc291cmNlcykgPT4ge1xyXG4gIGNvbnN0IGFsbG93ZWRQcm9wcyA9IFsnanMnLCAnY3NzJywgJ2ZpbGVzJ107XHJcblxyXG4gIGxldCBoYW5kbGVkUmVzb3VyY2VzID0gcmVzb3VyY2VzO1xyXG4gIGxldCBjb3JyZWN0UmVzb3VyY2VzID0gZmFsc2U7XHJcblxyXG4gIC8vIFRyeSB0byBsb2FkIHJlc291cmNlcyBmcm9tIGEgZmlsZVxyXG4gIGlmIChhbGxvd0ZpbGVSZXNvdXJjZXMgJiYgcmVzb3VyY2VzLmVuZHNXaXRoKCcuanNvbicpKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIXJlc291cmNlcykge1xyXG4gICAgICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKFxyXG4gICAgICAgICAgcmVhZEZpbGVTeW5jKCdyZXNvdXJjZXMuanNvbicsICd1dGY4JylcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2UgaWYgKHJlc291cmNlcyAmJiByZXNvdXJjZXMuZW5kc1dpdGgoJy5qc29uJykpIHtcclxuICAgICAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNDb3JyZWN0SlNPTihyZWFkRmlsZVN5bmMocmVzb3VyY2VzLCAndXRmOCcpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNDb3JyZWN0SlNPTihyZXNvdXJjZXMpO1xyXG4gICAgICAgIGlmIChoYW5kbGVkUmVzb3VyY2VzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNDb3JyZWN0SlNPTihcclxuICAgICAgICAgICAgcmVhZEZpbGVTeW5jKCdyZXNvdXJjZXMuanNvbicsICd1dGY4JylcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChub3RpY2UpIHtcclxuICAgICAgcmV0dXJuIGxvZygzLCBgW2NsaV0gTm8gcmVzb3VyY2VzIGZvdW5kLmApO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBUcnkgdG8gZ2V0IEpTT05cclxuICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKHJlc291cmNlcyk7XHJcblxyXG4gICAgLy8gR2V0IHJpZCBvZiB0aGUgZmlsZXMgc2VjdGlvblxyXG4gICAgaWYgKCFhbGxvd0ZpbGVSZXNvdXJjZXMpIHtcclxuICAgICAgZGVsZXRlIGhhbmRsZWRSZXNvdXJjZXMuZmlsZXM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBGaWx0ZXIgZnJvbSB1bm5lY2Vzc2FyeSBwcm9wZXJ0aWVzXHJcbiAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBoYW5kbGVkUmVzb3VyY2VzKSB7XHJcbiAgICBpZiAoIWFsbG93ZWRQcm9wcy5pbmNsdWRlcyhwcm9wTmFtZSkpIHtcclxuICAgICAgZGVsZXRlIGhhbmRsZWRSZXNvdXJjZXNbcHJvcE5hbWVdO1xyXG4gICAgfSBlbHNlIGlmICghY29ycmVjdFJlc291cmNlcykge1xyXG4gICAgICBjb3JyZWN0UmVzb3VyY2VzID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIGF0IGxlYXN0IG9uZSBvZiBhbGxvd2VkIHByb3BlcnRpZXMgaXMgcHJlc2VudFxyXG4gIGlmICghY29ycmVjdFJlc291cmNlcykge1xyXG4gICAgcmV0dXJuIGxvZygzLCBgW2NsaV0gTm8gcmVzb3VyY2VzIGZvdW5kLmApO1xyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlIGZpbGVzIHNlY3Rpb25cclxuICBpZiAoaGFuZGxlZFJlc291cmNlcy5maWxlcykge1xyXG4gICAgaGFuZGxlZFJlc291cmNlcy5maWxlcyA9IGhhbmRsZWRSZXNvdXJjZXMuZmlsZXMubWFwKChpdGVtKSA9PiBpdGVtLnRyaW0oKSk7XHJcbiAgICBpZiAoIWhhbmRsZWRSZXNvdXJjZXMuZmlsZXMgfHwgaGFuZGxlZFJlc291cmNlcy5maWxlcy5sZW5ndGggPD0gMCkge1xyXG4gICAgICBkZWxldGUgaGFuZGxlZFJlc291cmNlcy5maWxlcztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJldHVybiByZXNvdXJjZXNcclxuICByZXR1cm4gaGFuZGxlZFJlc291cmNlcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgcHJvdmlkZWQgZGF0YSBpcyBvciBjYW4gYmUgYSBjb3JyZWN0IEpTT04uXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSBkYXRhIC0gRGF0YSB0byBiZSBjaGVja2VkLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHRvU3RyaW5nIC0gSWYgdHJ1ZSwgcmV0dXJuIHN0cmluZ2lmaWVkIHJlcHJlc2VudGF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29ycmVjdEpTT04oZGF0YSwgdG9TdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgLy8gR2V0IHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gaWYgbm90IGFscmVhZHkgYmVmb3JlIHBhcnNpbmdcclxuICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKFxyXG4gICAgICB0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IGRhdGFcclxuICAgICk7XHJcblxyXG4gICAgLy8gUmV0dXJuIGEgc3RyaW5naWZpZWQgcmVwcmVzZW50YXRpb24gb2YgYSBKU09OIGlmIHJlcXVpcmVkXHJcbiAgICBpZiAodHlwZW9mIHBhcnNlZERhdGEgIT09ICdzdHJpbmcnICYmIHRvU3RyaW5nKSB7XHJcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwYXJzZWREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gYSBKU09OXHJcbiAgICByZXR1cm4gcGFyc2VkRGF0YTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBpdGVtIGlzIGFuIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHthbnl9IGl0ZW0gLSBJdGVtIHRvIGJlIGNoZWNrZWQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAoaXRlbSkgPT5cclxuICB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSkgJiYgaXRlbSAhPT0gbnVsbDtcclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgc3RyaW5nIGNvbnRhaW5zIHByaXZhdGUgcmFuZ2UgdXJscy5cclxuICpcclxuICogQGV4cG9ydCB1dGlsc1xyXG4gKiBAcGFyYW0gaXRlbSB7c3RyaW5nfSBpdGVtIHRvIGJlIGNoZWNrZWRcclxuICovXHJcbmV4cG9ydCBjb25zdCBpc1ByaXZhdGVSYW5nZVVybEZvdW5kID0gKGl0ZW0pID0+IHtcclxuICByZXR1cm4gW1xyXG4gICAgJ2xvY2FsaG9zdCcsXHJcbiAgICAnKDEwKS4oLiopLiguKikuKC4qKScsXHJcbiAgICAnKDEyNykuKC4qKS4oLiopLiguKiknLFxyXG4gICAgJygxNzIpLigxWzYtOV18MlswLTldfDNbMC0xXSkuKC4qKS4oLiopJyxcclxuICAgICcoMTkyKS4oMTY4KS4oLiopLiguKiknXHJcbiAgXS5zb21lKChpcFJlZ0V4KSA9PlxyXG4gICAgaXRlbS5tYXRjaChgeGxpbms6aHJlZj1cIig/OihodHRwOi8vfGh0dHBzOi8vKSk/JHtpcFJlZ0V4fWApXHJcbiAgKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNYXBzIHRoZSBvbGQgb3B0aW9ucyB0byB0aGUgbmV3IGNvbmZpZyBzdHJ1Y3R1cmUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvbGRPcHRpb25zIC0gT3B0aW9ucyB0byBiZSBtYXBwZWQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWFwVG9OZXdDb25maWcgPSBhc3luYyAob2xkT3B0aW9ucykgPT4ge1xyXG4gIGNvbnN0IG5ld09wdGlvbnMgPSB7fTtcclxuICBjb25zdCB7IGRlZmF1bHQ6IGRlZmF1bHRTY2hlbWFDb25maWcgfSA9IGF3YWl0IGltcG9ydCgnLi9zY2hlbWFzL2NvbmZpZy5qcycpO1xyXG4gIGNvbnN0IG5lc3RlZEFyZ3MgPSBkZWZhdWx0U2NoZW1hQ29uZmlnLm5lc3RlZEFyZ3M7XHJcblxyXG4gIC8vIEN5Y2xlIHRocm91Z2ggb2xkLXN0cnVjdHVyZWQgb3B0aW9uc1xyXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9sZE9wdGlvbnMpKSB7XHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzQ2hhaW4gPSBuZXN0ZWRBcmdzW2tleV0gPyBuZXN0ZWRBcmdzW2tleV0uc3BsaXQoJy4nKSA6IFtdO1xyXG5cclxuICAgIC8vIFBvcHVsYXRlIG9iamVjdCBpbiBjb3JyZWN0IHByb3BlcnRpZXMgbGV2ZWxzXHJcbiAgICBwcm9wZXJ0aWVzQ2hhaW4ucmVkdWNlKFxyXG4gICAgICAob2JqLCBwcm9wLCBpbmRleCkgPT5cclxuICAgICAgICAob2JqW3Byb3BdID1cclxuICAgICAgICAgIHByb3BlcnRpZXNDaGFpbi5sZW5ndGggLSAxID09PSBpbmRleCA/IHZhbHVlIDogb2JqW3Byb3BdIHx8IHt9KSxcclxuICAgICAgbmV3T3B0aW9uc1xyXG4gICAgKTtcclxuICB9XHJcbiAgcmV0dXJuIG5ld09wdGlvbnM7XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGRlZXAgY29weSBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IC0gT2JqZWN0IHRvIGNvcHkuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBEZWVwIGNvcHkgb2YgdGhlIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBkZWVwQ29weSA9IChvYmopID0+IHtcclxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY29weSA9IEFycmF5LmlzQXJyYXkob2JqKSA/IFtdIDoge307XHJcblxyXG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNvcHk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNZXJnZXMgdGhlIG5ldyBvcHRpb25zIHRvIHRoZSBvcHRpb25zIG9iamVjdC4gSXQgb21pdHMgdW5kZWZpbmVkIHZhbHVlcy5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBPbGQgb3B0aW9ucy5cclxuICogQHBhcmFtIHtvYmplY3R9IG5ld09wdGlvbnMgLSBOZXcgb3B0aW9ucy5cclxuICogQHBhcmFtIHtzdHJpbmdbXX0gYWJzb2x1dGVQcm9wcyAtIEFycmF5IG9mIG9iamVjdCBuYW1lcyB0aGF0IHNob3VsZCBiZSBmb3JjZVxyXG4gKiBtZXJnZWQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWVyZ2VDb25maWdPcHRpb25zID0gKG9wdGlvbnMsIG5ld09wdGlvbnMsIGFic29sdXRlUHJvcHMgPSBbXSkgPT4ge1xyXG4gIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBkZWVwQ29weShvcHRpb25zKTtcclxuXHJcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobmV3T3B0aW9ucykpIHtcclxuICAgIG1lcmdlZE9wdGlvbnNba2V5XSA9XHJcbiAgICAgIGlzT2JqZWN0KHZhbHVlKSAmJlxyXG4gICAgICAhYWJzb2x1dGVQcm9wcy5pbmNsdWRlcyhrZXkpICYmXHJcbiAgICAgIG1lcmdlZE9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyBtZXJnZUNvbmZpZ09wdGlvbnMobWVyZ2VkT3B0aW9uc1trZXldLCB2YWx1ZSwgYWJzb2x1dGVQcm9wcylcclxuICAgICAgICA6IHZhbHVlICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgOiBtZXJnZWRPcHRpb25zW2tleV07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWVyZ2VkT3B0aW9ucztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTdHJpbmdpZmllcyBvYmplY3Qgd2l0aCBvcHRpb25zLiBQb3NzaWJsZSB0byBwcmVzZXJ2ZSBmdW5jdGlvbnMgd2l0aFxyXG4gKiBhbGxvd0Z1bmN0aW9ucyBmbGFnLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gc3RyaW5naWZ5LlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93RnVuY3Rpb25zIC0gRmxhZyBmb3Iga2VlcGluZyBmdW5jdGlvbnMuXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgb3B0aW9uc1N0cmluZ2lmeSA9IChvcHRpb25zLCBhbGxvd0Z1bmN0aW9ucykgPT4ge1xyXG4gIGNvbnN0IHJlcGxhY2VyQ2FsbGJhY2sgPSAobmFtZSwgdmFsdWUpID0+IHtcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xyXG5cclxuICAgICAgLy8gSWYgYWxsb3dGdW5jdGlvbnMgaXMgc2V0IHRvIHRydWUsIHByZXNlcnZlIGZ1bmN0aW9uc1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgKHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uKCcpIHx8IHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uICgnKSkgJiZcclxuICAgICAgICB2YWx1ZS5lbmRzV2l0aCgnfScpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHZhbHVlID0gYWxsb3dGdW5jdGlvbnNcclxuICAgICAgICAgID8gYEVYUF9GVU4keyh2YWx1ZSArICcnKS5yZXBsYWNlQWxsKC9cXG58XFx0fFxcci9nLCAnICcpfUVYUF9GVU5gXHJcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcclxuICAgICAgPyBgRVhQX0ZVTiR7KHZhbHVlICsgJycpLnJlcGxhY2VBbGwoL1xcbnxcXHR8XFxyL2csICcgJyl9RVhQX0ZVTmBcclxuICAgICAgOiB2YWx1ZTtcclxuICB9O1xyXG5cclxuICAvLyBTdHJpbmdpZnkgb3B0aW9ucyBhbmQgaWYgcmVxdWlyZWQsIHJlcGxhY2Ugc3BlY2lhbCBmdW5jdGlvbnMgbWFya3NcclxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgcmVwbGFjZXJDYWxsYmFjaykucmVwbGFjZUFsbChcclxuICAgIC9cIkVYUF9GVU58RVhQX0ZVTlwiL2csXHJcbiAgICAnJ1xyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICogUGFpcnMgYXJndW1lbnQgd2l0aCBhIGNvcnJlc3BvbmRpbmcgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIHNlcnZlciBvcHRpb25zLlxyXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcmdzIC0gQXJyYXkgb2YgYXJndW1lbnRzIGZyb20gYSB1c2VyLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gZGVmYXVsdENvbmZpZyAtIFRoZSBkZWZhdWx0IGNvbmZpZyBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcGFpckFyZ3VtZW50VmFsdWUgPSBhc3luYyAob3B0aW9ucywgYXJncywgZGVmYXVsdENvbmZpZykgPT4ge1xyXG4gIGNvbnN0IHsgZGVmYXVsdDogZGVmYXVsdFNjaGVtYUNvbmZpZyB9ID0gYXdhaXQgaW1wb3J0KCcuL3NjaGVtYXMvY29uZmlnLmpzJyk7XHJcbiAgY29uc3QgbmVzdGVkQXJncyA9IGRlZmF1bHRTY2hlbWFDb25maWcubmVzdGVkQXJncztcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgb3B0aW9uID0gYXJnc1tpXS5yZXBsYWNlKC8tL2csICcnKTtcclxuXHJcbiAgICAvLyBGaW5kIHRoZSByaWdodCBwbGFjZSBmb3IgcHJvcGVydHkncyB2YWx1ZVxyXG4gICAgY29uc3QgcHJvcGVydGllc0NoYWluID0gbmVzdGVkQXJnc1tvcHRpb25dXHJcbiAgICAgID8gbmVzdGVkQXJnc1tvcHRpb25dLnNwbGl0KCcuJylcclxuICAgICAgOiBbXTtcclxuXHJcbiAgICBwcm9wZXJ0aWVzQ2hhaW4ucmVkdWNlKChvYmosIHByb3AsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChwcm9wZXJ0aWVzQ2hhaW4ubGVuZ3RoIC0gMSA9PT0gaW5kZXgpIHtcclxuICAgICAgICAvLyBGaW5kcyBhbiBvcHRpb24gYW5kIHNldCBhIGNvcnJlc3BvbmRpbmcgdmFsdWVcclxuICAgICAgICBpZiAodHlwZW9mIG9ialtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIGlmIChhcmdzWysraV0pIHtcclxuICAgICAgICAgICAgb2JqW3Byb3BdID0gYXJnc1tpXSB8fCBvYmpbcHJvcF07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTWlzc2luZyBhcmd1bWVudCB2YWx1ZSBmb3IgJHtvcHRpb259IWAucmVkLCAnXFxuJyk7XHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSBwcmludFVzYWdlKGRlZmF1bHRDb25maWcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gb2JqW3Byb3BdO1xyXG4gICAgfSwgb3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3B0aW9ucztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBQcmludHMgdGhlIGV4cG9ydCBzZXJ2ZXIgbG9nby5cclxuICpcclxuICogQHBhcmFtIHtib29sZWFufSBub0xvZ28gLSBXaGV0aGVyIHRvIGRpc3BsYXkgbG9nbyBvciB0ZXh0LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHByaW50TG9nbyA9IChub0xvZ28pID0+IHsgIFxyXG5cclxuICAvLyBHZXQgcGFja2FnZSB2ZXJzaW9uIGVpdGhlciBmcm9tIGVudiBvciBmcm9tIHBhY2thZ2UuanNvbiAgXHJcbiAgY29uc3QgcGFja2FnZVZlcnNpb24gPSBwcm9jZXNzLmVudi5ucG1fcGFja2FnZV92ZXJzaW9uIHx8XHJcbiAgICBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhuZXcgVVJMKCcuLi9wYWNrYWdlLmpzb24nLCBpbXBvcnQubWV0YS51cmwpKSkudmVyc2lvbjtcclxuXHJcbiAgLy8gUHJpbnQgdGV4dCBvbmx5XHJcbiAgaWYgKG5vTG9nbykge1xyXG4gICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIGhpZ2hjaGFydHMgZXhwb3J0IHNlcnZlciB2JHtwYWNrYWdlVmVyc2lvbn0uLi5gKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIFByaW50IHRoZSBsb2dvXHJcbiAgY29uc29sZS5sb2coXHJcbiAgICByZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy9tc2cvc3RhcnR1cC5tc2cnKS50b1N0cmluZygpLmJvbGQueWVsbG93LFxyXG4gICAgYHYke3BhY2thZ2VWZXJzaW9ufWBcclxuICApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFByaW50cyB0aGUgQ0xJIHVzYWdlLiBJZiByZXF1aXJlZCwgaXQgY2FuIGxpc3QgcHJvcGVydGllcyByZWN1cnNpdmVseVxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gZGVmYXVsdENvbmZpZyAtIFRoZSBkZWZhdWx0IGNvbmZpZyBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRVc2FnZShkZWZhdWx0Q29uZmlnKSB7XHJcbiAgY29uc3QgcGFkID0gNDg7XHJcbiAgY29uc3QgcmVhZG1lID0gJ2h0dHBzOi8vZ2l0aHViLmNvbS9oaWdoY2hhcnRzL25vZGUtZXhwb3J0LXNlcnZlciNyZWFkbWUnO1xyXG5cclxuICAvLyBEaXNwbGF5IHJlYWRtZSBpbmZvcm1hdGlvblxyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgJ1VzYWdlIG9mIENMSSBhcmd1bWVudHM6Jy5ib2xkLFxyXG4gICAgJ1xcbi0tLS0tLScsXHJcbiAgICBgXFxuRm9yIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gdmlzaXQgcmVhZG1lIGF0OiAke3JlYWRtZS5ib2xkLnllbGxvd30uYFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGN5Y2xlQ2F0ZWdvcmllcyA9IChjYXRlZ29yaWVzKSA9PiB7XHJcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCBvcHRpb25dIG9mIE9iamVjdC5lbnRyaWVzKGNhdGVnb3JpZXMpKSB7XHJcbiAgICAgIC8vIElmIGNhdGVnb3J5IGhhcyBtb3JlIGxldmVscywgZ28gZnVydGhlclxyXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb24sICd2YWx1ZScpKSB7XHJcbiAgICAgICAgY3ljbGVDYXRlZ29yaWVzKG9wdGlvbik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IGRlc2NOYW1lID0gYCAgLS0ke29wdGlvbi5jbGlOYW1lIHx8IG5hbWV9ICR7XHJcbiAgICAgICAgICAoJzwnICsgb3B0aW9uLnR5cGUgKyAnPicpLmdyZWVuXHJcbiAgICAgICAgfSBgO1xyXG4gICAgICAgIGlmIChkZXNjTmFtZS5sZW5ndGggPCBwYWQpIHtcclxuICAgICAgICAgIGZvciAobGV0IGkgPSBkZXNjTmFtZS5sZW5ndGg7IGkgPCBwYWQ7IGkrKykge1xyXG4gICAgICAgICAgICBkZXNjTmFtZSArPSAnLic7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEaXNwbGF5IGNvcnJlY3RseSBhbGlnbmVkIG1lc3NhZ2VzXHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICBkZXNjTmFtZSxcclxuICAgICAgICAgIG9wdGlvbi5kZXNjcmlwdGlvbixcclxuICAgICAgICAgIGBbRGVmYXVsdDogJHtvcHRpb24udmFsdWUudG9TdHJpbmcoKS5ib2xkfV1gLmJsdWVcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gQ3ljbGUgdGhyb3VnaCBvcHRpb25zIG9mIGVhY2ggY2F0ZWdvcmllcyBhbmQgZGlzcGxheSB0aGUgdXNhZ2UgaW5mb1xyXG4gIE9iamVjdC5rZXlzKGRlZmF1bHRDb25maWcpLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XHJcbiAgICAvLyBPbmx5IHB1cHBldGVlciBhbmQgaGlnaGNoYXJ0cyBjYXRlZ29yaWVzIGNhbm5vdCBiZSBjb25maWd1cmVkIHRocm91Z2ggQ0xJXHJcbiAgICBpZiAoIVsncHVwcGV0ZWVyJywgJ2hpZ2hjaGFydHMnXS5pbmNsdWRlcyhjYXRlZ29yeSkpIHtcclxuICAgICAgY29uc29sZS5sb2coYFxcbiR7Y2F0ZWdvcnkudG9VcHBlckNhc2UoKX1gLnJlZCk7XHJcbiAgICAgIGN5Y2xlQ2F0ZWdvcmllcyhkZWZhdWx0Q29uZmlnW2NhdGVnb3J5XSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgY29uc29sZS5sb2coJ1xcbicpO1xyXG59XHJcblxyXG4vKipcclxuICogUm91bmRzIG51bWJlciB0byBwYXNzZWQgcHJlY2lzaW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBOdW1iZXIgdG8gcm91bmQuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwcmVjaXNpb24gLSBBIHByZWNpc2lvbiBvZiByb3VuZGluZy5cclxuICovXHJcbmV4cG9ydCBjb25zdCByb3VuZE51bWJlciA9ICh2YWx1ZSwgcHJlY2lzaW9uID0gMSkgPT4ge1xyXG4gIGNvbnN0IG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uIHx8IDApO1xyXG4gIHJldHVybiBNYXRoLnJvdW5kKCt2YWx1ZSAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDYXN0cyB0aGUgaXRlbSB0byBib29sZWFuLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueX0gaXRlbSAtIEl0ZW0gdG8gYmUgY2FzdC5cclxuICovXHJcbmV4cG9ydCBjb25zdCB0b0Jvb2xlYW4gPSAoaXRlbSkgPT5cclxuICBbJ2ZhbHNlJywgJ3VuZGVmaW5lZCcsICdudWxsJywgJ05hTicsICcwJywgJyddLmluY2x1ZGVzKGl0ZW0pXHJcbiAgICA/IGZhbHNlXHJcbiAgICA6ICEhaXRlbTtcclxuXHJcbi8qKlxyXG4gKiBJZiBuZWNlc3NhcnksIHBsYWNlcyBhIGN1c3RvbSBjb2RlIGluc2lkZSBhIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueX0gY3VzdG9tQ29kZSAtIFRoZSBjdXN0b21Db2RlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHdyYXBBcm91bmQgPSAoY3VzdG9tQ29kZSwgYWxsb3dGaWxlUmVzb3VyY2VzKSA9PiB7XHJcbiAgaWYgKGN1c3RvbUNvZGUgJiYgdHlwZW9mIGN1c3RvbUNvZGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICBjdXN0b21Db2RlID0gY3VzdG9tQ29kZS50cmltKCk7XHJcblxyXG4gICAgaWYgKGN1c3RvbUNvZGUuZW5kc1dpdGgoJy5qcycpKSB7XHJcbiAgICAgIHJldHVybiBhbGxvd0ZpbGVSZXNvdXJjZXNcclxuICAgICAgICA/IHdyYXBBcm91bmQocmVhZEZpbGVTeW5jKGN1c3RvbUNvZGUsICd1dGY4JykpXHJcbiAgICAgICAgOiBmYWxzZTtcclxuICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnZnVuY3Rpb24oKScpIHx8XHJcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnZnVuY3Rpb24gKCknKSB8fFxyXG4gICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJygpPT4nKSB8fFxyXG4gICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJygpID0+JylcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gYCgke2N1c3RvbUNvZGV9KSgpYDtcclxuICAgIH1cclxuICAgIHJldHVybiBjdXN0b21Db2RlLnJlcGxhY2UoLzskLywgJycpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBVdGlsaXR5IHRvIG1lYXN1cmUgdGltZS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBtZWFzdXJlVGltZSA9ICgpID0+IHtcclxuICBjb25zdCBzdGFydCA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xyXG4gIHJldHVybiAoKSA9PiBOdW1iZXIocHJvY2Vzcy5ocnRpbWUuYmlnaW50KCkgLSBzdGFydCkgLyAxMDAwMDAwO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIF9fZGlybmFtZSxcclxuICBjbGVhclRleHQsXHJcbiAgZXhwQmFja29mZixcclxuICBmaXhUeXBlLFxyXG4gIGhhbmRsZVJlc291cmNlcyxcclxuICBpc0NvcnJlY3RKU09OLFxyXG4gIGlzT2JqZWN0LFxyXG4gIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQsXHJcbiAgbWFwVG9OZXdDb25maWcsXHJcbiAgbWVyZ2VDb25maWdPcHRpb25zLFxyXG4gIG9wdGlvbnNTdHJpbmdpZnksXHJcbiAgcGFpckFyZ3VtZW50VmFsdWUsXHJcbiAgcHJpbnRMb2dvLFxyXG4gIHByaW50VXNhZ2UsXHJcbiAgcm91bmROdW1iZXIsXHJcbiAgdG9Cb29sZWFuLFxyXG4gIHdyYXBBcm91bmQsXHJcbiAgbWVhc3VyZVRpbWVcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgcmF0ZUxpbWl0IGZyb20gJ2V4cHJlc3MtcmF0ZS1saW1pdCc7XHJcblxyXG5pbXBvcnQgeyBjbGVhclRleHQgfSBmcm9tICcuLi91dGlscy5qcyc7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4uL2xvZ2dlci5qcyc7XHJcblxyXG4vKipcclxuICogRW5hYmxlcyByYXRlIGxpbWl0aW5nIGZvciBhIGdpdmVuIGFwcC5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGFwcCAtIFRoZSBleHByZXNzIGFwcC5cclxuICogQHBhcmFtIHtvYmplY3R9IGxpbWl0Q29uZmlnIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSByYXRlIGxpbWl0aW5nLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKGFwcCwgbGltaXRDb25maWcpID0+IHtcclxuICBjb25zdCBtc2cgPVxyXG4gICAgJ1RvbyBtYW55IHJlcXVlc3RzLCB5b3UgaGF2ZSBiZWVuIHJhdGUgbGltaXRlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nO1xyXG5cclxuICAvLyBPcHRpb25zIGZvciB0aGUgcmF0ZSBsaW1pdGVyXHJcbiAgY29uc3QgcmF0ZU9wdGlvbnMgPSB7XHJcbiAgICBtYXg6IGxpbWl0Q29uZmlnLm1heFJlcXVlc3RzIHx8IDMwLFxyXG4gICAgd2luZG93OiBsaW1pdENvbmZpZy53aW5kb3cgfHwgMSxcclxuICAgIGRlbGF5OiBsaW1pdENvbmZpZy5kZWxheSB8fCAwLFxyXG4gICAgdHJ1c3RQcm94eTogbGltaXRDb25maWcudHJ1c3RQcm94eSB8fCBmYWxzZSxcclxuICAgIHNraXBLZXk6IGxpbWl0Q29uZmlnLnNraXBLZXkgfHwgZmFsc2UsXHJcbiAgICBza2lwVG9rZW46IGxpbWl0Q29uZmlnLnNraXBUb2tlbiB8fCBmYWxzZVxyXG4gIH07XHJcblxyXG4gIC8vIFNldCBpZiBiZWhpbmQgYSBwcm94eVxyXG4gIGlmIChyYXRlT3B0aW9ucy50cnVzdFByb3h5KSB7XHJcbiAgICBhcHAuZW5hYmxlKCd0cnVzdCBwcm94eScpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGEgbGltaXRlclxyXG4gIGNvbnN0IGxpbWl0ZXIgPSByYXRlTGltaXQoe1xyXG4gICAgd2luZG93TXM6IHJhdGVPcHRpb25zLndpbmRvdyAqIDYwICogMTAwMCxcclxuICAgIC8vIExpbWl0IGVhY2ggSVAgdG8gMTAwIHJlcXVlc3RzIHBlciB3aW5kb3dNc1xyXG4gICAgbWF4OiByYXRlT3B0aW9ucy5tYXgsXHJcbiAgICAvLyBEaXNhYmxlIGRlbGF5aW5nLCBmdWxsIHNwZWVkIHVudGlsIHRoZSBtYXggbGltaXQgaXMgcmVhY2hlZFxyXG4gICAgZGVsYXlNczogcmF0ZU9wdGlvbnMuZGVsYXksXHJcbiAgICBoYW5kbGVyOiAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgICAgcmVzcG9uc2UuZm9ybWF0KHtcclxuICAgICAgICBqc29uOiAoKSA9PiB7XHJcbiAgICAgICAgICByZXNwb25zZS5zdGF0dXMoNDI5KS5zZW5kKHsgbWVzc2FnZTogbXNnIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVmYXVsdDogKCkgPT4ge1xyXG4gICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzKDQyOSkuc2VuZChtc2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgc2tpcDogKHJlcXVlc3QpID0+IHtcclxuICAgICAgLy8gQWxsb3cgYnlwYXNzaW5nIHRoZSBsaW1pdGVyIGlmIGEgdmFsaWQga2V5L3Rva2VuIGhhcyBiZWVuIHNlbnRcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHJhdGVPcHRpb25zLnNraXBLZXkgIT09IGZhbHNlICYmXHJcbiAgICAgICAgcmF0ZU9wdGlvbnMuc2tpcFRva2VuICE9PSBmYWxzZSAmJlxyXG4gICAgICAgIHJlcXVlc3QucXVlcnkua2V5ID09PSByYXRlT3B0aW9ucy5za2lwS2V5ICYmXHJcbiAgICAgICAgcmVxdWVzdC5xdWVyeS5hY2Nlc3NfdG9rZW4gPT09IHJhdGVPcHRpb25zLnNraXBUb2tlblxyXG4gICAgICApIHtcclxuICAgICAgICBsb2coNCwgJ1tyYXRlLWxpbWl0aW5nXSBTa2lwcGluZyByYXRlIGxpbWl0ZXIuJyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBVc2UgYSBsaW1pdGVyIGFzIGEgbWlkZGxld2FyZVxyXG4gIGFwcC51c2UobGltaXRlcik7XHJcblxyXG4gIGxvZyhcclxuICAgIDMsXHJcbiAgICBjbGVhclRleHQoXHJcbiAgICAgIGBbcmF0ZS1saW1pdGluZ10gRW5hYmxlZCByYXRlIGxpbWl0aW5nOiAke3JhdGVPcHRpb25zLm1heH0gcmVxdWVzdHNcclxuICAgICAgcGVyICR7cmF0ZU9wdGlvbnMud2luZG93fSBtaW51dGUgcGVyIElQLCB0cnVzdGluZyBwcm94eTpcclxuICAgICAgJHtyYXRlT3B0aW9ucy50cnVzdFByb3h5fS5gXHJcbiAgICApXHJcbiAgKTtcclxufTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGV4cG9ydHMgdHdvIGZ1bmN0aW9uczogZmV0Y2ggKGZvciBHRVQgcmVxdWVzdHMpIGFuZCBwb3N0IChmb3IgUE9TVCByZXF1ZXN0cykuXHJcbiAqL1xyXG5cclxuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XHJcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5lcyB0aGUgcHJvdG9jb2wgb2YgdGhlIGdpdmVuIFVSTCAoZWl0aGVyIGBodHRwYCBvciBgaHR0cHNgKS5cclxuICpcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHdob3NlIHByb3RvY29sIG5lZWRzIHRvIGJlIGRldGVybWluZWQuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGBodHRwc2AgbW9kdWxlIGlmIHRoZSBVUkwgc3RhcnRzIHdpdGggJ2h0dHBzJyxcclxuICogb3RoZXJ3aXNlIHJldHVybnMgdGhlIGBodHRwYCBtb2R1bGUuXHJcbiAqIEBwcml2YXRlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGNvbnN0IHByb3RvY29sID0gZ2V0UHJvdG9jb2woJ2h0dHBzOi8vZXhhbXBsZS5jb20nKTtcclxuICogY29uc29sZS5sb2cocHJvdG9jb2wpOyAvLyBPdXRwdXRzIHRoZSAnaHR0cHMnIG1vZHVsZVxyXG4gKi9cclxuY29uc3QgZ2V0UHJvdG9jb2wgPSAodXJsKSA9PiB7XHJcbiAgcmV0dXJuIHVybC5zdGFydHNXaXRoKCdodHRwcycpID8gaHR0cHMgOiBodHRwO1xyXG59XHJcblxyXG4vKipcclxuICogU2VuZHMgYSBHRVQgcmVxdWVzdCB0byB0aGUgc3BlY2lmaWVkIFVSTCB3aXRoIG9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9ucy5cclxuICpcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBhc3luY1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCB0byBmZXRjaC5cclxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0T3B0aW9ucz17fV0gLSBPcHRpb25hbCByZXF1ZXN0IG9wdGlvbnMgYW5kIGhlYWRlcnMuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVzcG9uc2Ugb2JqZWN0LlxyXG4gKiBUaGUgcmVzcG9uc2Ugb2JqZWN0IGNvbnRhaW5zIGEgYC50ZXh0YCBwcm9wZXJ0eSB3aXRoIHRoZSByYXcgcmVzcG9uc2UgZGF0YS5cclxuICogQHRocm93cyB7RXJyb3J9IFRocm93cyBhbiBlcnJvciBpZiB0aGUgcmVxdWVzdCBmYWlscyBvciBpZiBubyBkYXRhIGlzIGZldGNoZWQgZnJvbSB0aGUgVVJMLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBhc3luYyBmdW5jdGlvbiBnZXREYXRhKCkge1xyXG4gKiAgIHRyeSB7XHJcbiAqICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5leGFtcGxlLmNvbS9kYXRhJyk7XHJcbiAqICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS50ZXh0KTtcclxuICogICB9IGNhdGNoIChlcnJvcikge1xyXG4gKiAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGF0YTonLCBlcnJvcik7XHJcbiAqICAgfVxyXG4gKiB9XHJcbiAqXHJcbiAqIGdldERhdGEoKTtcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoKHVybCwgcmVxdWVzdE9wdGlvbnMgPSB7fSkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBwcm90b2NvbCA9IGdldFByb3RvY29sKHVybCk7XHJcblxyXG4gICAgcHJvdG9jb2wuZ2V0KHVybCwgcmVxdWVzdE9wdGlvbnMsIChyZXMpID0+IHtcclxuICAgICAgbGV0IGRhdGEgPSAnJztcclxuXHJcbiAgICAgIC8vIEEgY2h1bmsgb2YgZGF0YSBoYXMgYmVlbiByZWNlaXZlZC5cclxuICAgICAgcmVzLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XHJcbiAgICAgICAgZGF0YSArPSBjaHVuaztcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBUaGUgd2hvbGUgcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWQuXHJcbiAgICAgIHJlcy5vbignZW5kJywgKCkgPT4ge1xyXG4gICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgcmVqZWN0KCdOb3RoaW5nIHdhcyBmZXRjaGVkIGZyb20gdGhlIFVSTC4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlcy50ZXh0ID0gZGF0YTtcclxuICAgICAgICByZXNvbHZlKHJlcyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH0pLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kcyBhIFBPU1QgcmVxdWVzdCB0byB0aGUgc3BlY2lmaWVkIFVSTCB3aXRoIHRoZSBnaXZlbiBib2R5IGFuZCByZXF1ZXN0IG9wdGlvbnMuXHJcbiAqXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAYXN5bmNcclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gd2hpY2ggdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHNlbnQuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYm9keT17fV0gLSBUaGUgZGF0YSB0byBiZSBzZW50IGFzIHRoZSByZXF1ZXN0IGJvZHksIGluIEpTT04gZm9ybWF0LlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RPcHRpb25zPXt9XSAtIE9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9ucyBhbmQgaGVhZGVycy5cclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHBhcnNlZCBKU09OIHJlc3BvbnNlLlxyXG4gKiBAdGhyb3dzIHtFcnJvcn0gVGhyb3dzIGFuIGVycm9yIGlmIHRoZSByZXF1ZXN0IGZhaWxzIG9yIGlmIHRoZSByZXNwb25zZSBjYW5ub3QgYmUgcGFyc2VkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBhc3luYyBmdW5jdGlvbiBzZW5kRGF0YSgpIHtcclxuICogICBjb25zdCBkYXRhVG9TZW5kID0ge1xyXG4gKiAgICAga2V5MTogJ3ZhbHVlMScsXHJcbiAqICAgICBrZXkyOiAndmFsdWUyJyxcclxuICogICB9O1xyXG4gKiAgIHRyeSB7XHJcbiAqICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHBvc3QoJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL2RhdGEnLCBkYXRhVG9TZW5kKTtcclxuICogICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICogICB9IGNhdGNoIChlcnJvcikge1xyXG4gKiAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBkYXRhOicsIGVycm9yKTtcclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogc2VuZERhdGEoKTtcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHBvc3QodXJsLCBib2R5ID0ge30sIHJlcXVlc3RPcHRpb25zID0ge30pIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgcHJvdG9jb2wgPSBnZXRQcm90b2NvbCh1cmwpO1xyXG4gICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xyXG5cclxuICAgIC8vIFNldCBkZWZhdWx0IGhlYWRlcnMgYW5kIG1lcmdlIHdpdGggcmVxdWVzdE9wdGlvbnNcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICdDb250ZW50LUxlbmd0aCc6IGRhdGEubGVuZ3RoLFxyXG4gICAgICB9LFxyXG4gICAgfSwgcmVxdWVzdE9wdGlvbnMpO1xyXG5cclxuICAgIGNvbnN0IHJlcSA9IHByb3RvY29sLnJlcXVlc3QodXJsLCBvcHRpb25zLCAocmVzKSA9PiB7XHJcbiAgICAgIGxldCByZXNwb25zZURhdGEgPSAnJztcclxuXHJcbiAgICAgIC8vIEEgY2h1bmsgb2YgZGF0YSBoYXMgYmVlbiByZWNlaXZlZC5cclxuICAgICAgcmVzLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XHJcbiAgICAgICAgcmVzcG9uc2VEYXRhICs9IGNodW5rO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFRoZSB3aG9sZSByZXNwb25zZSBoYXMgYmVlbiByZWNlaXZlZC5cclxuICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHJlcy50ZXh0ID0gcmVzcG9uc2VEYXRhO1xyXG4gICAgICAgICAgcmVzb2x2ZShyZXMpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgfSkub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBXcml0ZSB0aGUgcmVxdWVzdCBib2R5IGFuZCBlbmQgdGhlIHJlcXVlc3QuXHJcbiAgICByZXEud3JpdGUoZGF0YSk7XHJcbiAgICByZXEuZW5kKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZldGNoO1xyXG5leHBvcnQgeyBmZXRjaCwgcG9zdCB9OyIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLy8gVGhlIGNhY2hlIG1hbmFnZXIgbWFuYWdlcyB0aGUgSGlnaGNoYXJ0cyBsaWJyYXJ5IGFuZCBpdHMgZGVwZW5kZW5jaWVzLlxyXG4vLyBUaGUgY2FjaGUgaXRzZWxmIGlzIHN0b3JlZCBpbiAuY2FjaGUsIGFuZCBpcyBjaGVja2VkIGJ5IHRoZSBjb25maWcgc3lzdGVtXHJcbi8vIGJlZm9yZSBzdGFydGluZyB0aGUgc2VydmljZVxyXG5cclxuaW1wb3J0IHsgZXhpc3RzU3luYywgbWtkaXJTeW5jLCByZWFkRmlsZVN5bmMsIHdyaXRlRmlsZVN5bmMgfSBmcm9tICdmcyc7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuaW1wb3J0IEh0dHBzUHJveHlBZ2VudCBmcm9tICdodHRwcy1wcm94eS1hZ2VudCc7XHJcbmltcG9ydCBmZXRjaCBmcm9tICcuL2ZldGNoLmpzJztcclxuXHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vbGliL3V0aWxzLmpzJztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmNvbnN0IGNhY2hlUGF0aCA9IGpvaW4oX19kaXJuYW1lLCAnLmNhY2hlJyk7XHJcblxyXG5jb25zdCBjYWNoZSA9IHtcclxuICBjZG5VUkw6ICdodHRwczovL2NvZGUuaGlnaGNoYXJ0cy5jb20vJyxcclxuICBhY3RpdmVNYW5pZmVzdDoge30sXHJcbiAgc291cmNlczogJycsXHJcbiAgaGNWZXJzaW9uOiAnJ1xyXG59O1xyXG5cclxuLy8gVE9ETzogVGhlIGNvbmZpZyBzaG91bGQgYmUgYWNjZXNzc2libGUgZ2xvYmFsbHkgc28gd2UgZG9uJ3QgaGF2ZSB0byBkbyB0aGlzIHNvcnQgb2YgdGhpbmcuLlxyXG5sZXQgYXBwbGllZENvbmZpZyA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIEV4dHJhY3RzIHRoZSBIaWdoY2hhcnRzIHZlcnNpb24gZnJvbSB0aGUgY2FjaGVcclxuICovXHJcbmNvbnN0IGV4dHJhY3RWZXJzaW9uID0gKCkgPT5cclxuICAoY2FjaGUuaGNWZXJzaW9uID0gY2FjaGUuc291cmNlc1xyXG4gICAgLnN1YnN0cigwLCBjYWNoZS5zb3VyY2VzLmluZGV4T2YoJyovJykpXHJcbiAgICAucmVwbGFjZSgnLyonLCAnJylcclxuICAgIC5yZXBsYWNlKCcqLycsICcnKVxyXG4gICAgLnJlcGxhY2UoL1xcbi9nLCAnJylcclxuICAgIC50cmltKCkpO1xyXG5cclxuLyoqXHJcbiAqIFNhdmVzIHRoZSBIaWdoY2hhcnRzIHBhcnQgb2YgYSBjb25maWcgdG8gYSBtYW5pZmVzdCBmaWxlIGluIHRoZSBjYWNoZVxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNhcnRzIHJlbGF0ZWQgY29uZmlndXJhdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBmZXRjaGVkTW9kdWxlcyAtIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIG1hcHBlZCBuYW1lcyBvZlxyXG4gKiBmZXRjaGVkIEhpZ2hjaGFydHMgbW9kdWxlcyB0byB1c2UuXHJcbiAqL1xyXG5jb25zdCBzYXZlQ29uZmlnVG9NYW5pZmVzdCA9IGFzeW5jIChjb25maWcsIGZldGNoZWRNb2R1bGVzKSA9PiB7XHJcbiAgY29uc3QgbmV3TWFuaWZlc3QgPSB7XHJcbiAgICB2ZXJzaW9uOiBjb25maWcudmVyc2lvbixcclxuICAgIG1vZHVsZXM6IGZldGNoZWRNb2R1bGVzIHx8IHt9XHJcbiAgfTtcclxuXHJcbiAgLy8gVXBkYXRlIGNhY2hlIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IG1vZHVsZXNcclxuICBjYWNoZS5hY3RpdmVNYW5pZmVzdCA9IG5ld01hbmlmZXN0O1xyXG5cclxuICBsb2coNCwgJ1tjYWNoZV0gd3JpdGluZyBuZXcgbWFuaWZlc3QnKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIHdyaXRlRmlsZVN5bmMoXHJcbiAgICAgIGpvaW4oY2FjaGVQYXRoLCAnbWFuaWZlc3QuanNvbicpLFxyXG4gICAgICBKU09OLnN0cmluZ2lmeShuZXdNYW5pZmVzdCksXHJcbiAgICAgICd1dGY4J1xyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbG9nKDEsIGBbY2FjaGVdIEVycm9yIHdyaXRpbmcgY2FjaGUgbWFuaWZlc3Q6ICR7ZXJyb3J9LmApO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBGZXRjaGVzIGEgc2luZ2xlIHNjcmlwdC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHNjcmlwdCAtIEEgcGF0aCB0byBzY3JpcHQgdG8gZ2V0LlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcHJveHlBZ2VudCAtIFRoZSBwcm94eSBhZ2VudCB0byB1c2UgZm9yIGEgcmVxdWVzdC5cclxuICovXHJcbmNvbnN0IGZldGNoU2NyaXB0ID0gYXN5bmMgKHNjcmlwdCwgcHJveHlBZ2VudCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgcmlkIG9mIHRoZSAuanMgZnJvbSB0aGUgY3VzdG9tIHN0cmluZ3NcclxuICAgIGlmIChzY3JpcHQuZW5kc1dpdGgoJy5qcycpKSB7XHJcbiAgICAgICAgc2NyaXB0ID0gc2NyaXB0LnN1YnN0cmluZygwLCBzY3JpcHQubGVuZ3RoIC0gMyk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9nKDQsIGBbY2FjaGVdIEZldGNoaW5nIHNjcmlwdCAtICR7c2NyaXB0fS5qc2ApO1xyXG5cclxuICAgIC8vIElmIGV4aXN0cywgYWRkIHByb3h5IGFnZW50IHRvIHJlcXVlc3Qgb3B0aW9uc1xyXG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSBwcm94eUFnZW50XHJcbiAgICAgID8ge1xyXG4gICAgICAgICAgYWdlbnQ6IHByb3h5QWdlbnQsXHJcbiAgICAgICAgICB0aW1lb3V0OiArcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9USU1FT1VUJ10gfHwgNTAwMFxyXG4gICAgICAgIH1cclxuICAgICAgOiB7fTtcclxuXHJcbiAgICAvLyBGZXRjaCB0aGUgc2NyaXB0XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3NjcmlwdH0uanNgLCByZXF1ZXN0T3B0aW9ucyk7XHJcblxyXG4gICAgLy8gSWYgT0ssIHJldHVybiBpdHMgdGV4dCByZXByZXNlbnRhdGlvblxyXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDIwMCkge1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGV4dDtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyBgJHtyZXNwb25zZS5zdGF0dXNDb2RlfWA7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZygxLCBgW2NhY2hlXSBFcnJvciBmZXRjaGluZyBzY3JpcHQgJHtzY3JpcHR9LmpzOiAke2Vycm9yfS5gKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGVzIHRoZSBIaWdoY2hhcnRzIGNhY2hlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNhcnRzIHJlbGF0ZWQgY29uZmlndXJhdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VQYXRoIC0gQSBwYXRoIHRvIHRoZSBmaWxlIHdoZXJlIHNhdmUgdXBkYXRlZCBzb3VyY2VzLlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIG1hcHBlZCBuYW1lcyBvZiBmZXRjaGVkIEhpZ2hjaGFydHNcclxuICogbW9kdWxlcyB0byB1c2UuXHJcbiAqL1xyXG5jb25zdCB1cGRhdGVDYWNoZSA9IGFzeW5jIChjb25maWcsIHNvdXJjZVBhdGgpID0+IHtcclxuICBjb25zdCB7IGNvcmVTY3JpcHRzLCBtb2R1bGVzLCBpbmRpY2F0b3JzLCBzY3JpcHRzOiBjdXN0b21TY3JpcHRzIH0gPSBjb25maWc7XHJcbiAgY29uc3QgaGNWZXJzaW9uID1cclxuICAgIGNvbmZpZy52ZXJzaW9uID09PSAnbGF0ZXN0JyB8fCAhY29uZmlnLnZlcnNpb24gPyAnJyA6IGAke2NvbmZpZy52ZXJzaW9ufS9gO1xyXG5cclxuICBsb2coMywgJ1tjYWNoZV0gVXBkYXRpbmcgY2FjaGUgdG8gSGlnaGNoYXJ0cyAnLCBoY1ZlcnNpb24pO1xyXG5cclxuICAvLyBHYXRoZXIgYWxsIHNjcmlwdHMgdG8gZmV0Y2hcclxuICBjb25zdCBhbGxTY3JpcHRzID0gW1xyXG4gICAgLi4uY29yZVNjcmlwdHMubWFwKChjKSA9PiBgJHtoY1ZlcnNpb259JHtjfWApLFxyXG4gICAgLi4ubW9kdWxlcy5tYXAoKG0pID0+XHJcbiAgICAgIG0gPT09ICdtYXAnID8gYG1hcHMvJHtoY1ZlcnNpb259bW9kdWxlcy8ke219YCA6IGAke2hjVmVyc2lvbn1tb2R1bGVzLyR7bX1gXHJcbiAgICApLFxyXG4gICAgLi4uaW5kaWNhdG9ycy5tYXAoKGkpID0+IGBzdG9jay8ke2hjVmVyc2lvbn1pbmRpY2F0b3JzLyR7aX1gKVxyXG4gIF07XHJcblxyXG4gIC8vIENvbmZpZ3VyZSBwcm94eSBpZiBleGlzdHNcclxuICBsZXQgcHJveHlBZ2VudDtcclxuICBjb25zdCBwcm94eUhvc3QgPSBwcm9jZXNzLmVudlsnUFJPWFlfU0VSVkVSX0hPU1QnXTtcclxuICBjb25zdCBwcm94eVBvcnQgPSBwcm9jZXNzLmVudlsnUFJPWFlfU0VSVkVSX1BPUlQnXTtcclxuXHJcbiAgaWYgKHByb3h5SG9zdCAmJiBwcm94eVBvcnQpIHtcclxuICAgIHByb3h5QWdlbnQgPSBuZXcgSHR0cHNQcm94eUFnZW50KHtcclxuICAgICAgaG9zdDogcHJveHlIb3N0LFxyXG4gICAgICBwb3J0OiArcHJveHlQb3J0XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGZldGNoZWRNb2R1bGVzID0ge307XHJcbiAgdHJ5IHtcclxuICAgIGNhY2hlLnNvdXJjZXMgPSAvLyBUT0RPOiBjb252ZXJ0IHRvIGZvciBsb29wXHJcbiAgICAgIChcclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAuLi5hbGxTY3JpcHRzLm1hcChhc3luYyAoc2NyaXB0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBmZXRjaFNjcmlwdChcclxuICAgICAgICAgICAgICBgJHtjb25maWcuY2RuVVJMIHx8IGNhY2hlLmNkblVSTH0ke3NjcmlwdH1gLFxyXG4gICAgICAgICAgICAgIHByb3h5QWdlbnRcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIGZldGNoZWQgY29ycmVjdGx5LCBzZXQgaXRcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgIGZldGNoZWRNb2R1bGVzW1xyXG4gICAgICAgICAgICAgICAgc2NyaXB0LnJlcGxhY2UoXHJcbiAgICAgICAgICAgICAgICAgIC8oLiopXFwvfCguKiltb2R1bGVzXFwvfHN0b2NrXFwvKC4qKWluZGljYXRvcnNcXC98bWFwc1xcLyguKiltb2R1bGVzXFwvL2dpLFxyXG4gICAgICAgICAgICAgICAgICAnJ1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgIF0gPSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgLi4uY3VzdG9tU2NyaXB0cy5tYXAoKHNjcmlwdCkgPT4gZmV0Y2hTY3JpcHQoc2NyaXB0LCBwcm94eUFnZW50KSlcclxuICAgICAgICBdKVxyXG4gICAgICApLmpvaW4oJztcXG4nKTtcclxuICAgIGV4dHJhY3RWZXJzaW9uKCk7XHJcblxyXG4gICAgLy8gU2F2ZSB0aGUgZmV0Y2hlZCBtb2R1bGVzIGludG8gY2FjaGVzJyBzb3VyY2UgSlNPTlxyXG4gICAgd3JpdGVGaWxlU3luYyhzb3VyY2VQYXRoLCBjYWNoZS5zb3VyY2VzKTtcclxuICAgIHJldHVybiBmZXRjaGVkTW9kdWxlcztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbG9nKDEsICdbY2FjaGVdIFVuYWJsZSB0byB1cGRhdGUgbG9jYWwgSGlnaGNoYXJ0cyBjYWNoZS4nKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlVmVyc2lvbiA9IGFzeW5jIChuZXdWZXJzaW9uKSA9PlxyXG4gIGFwcGxpZWRDb25maWdcclxuICAgID8gYXdhaXQgY2hlY2tDYWNoZShcclxuICAgICAgICBPYmplY3QuYXNzaWduKGFwcGxpZWRDb25maWcsIHtcclxuICAgICAgICAgIHZlcnNpb246IG5ld1ZlcnNpb25cclxuICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgICA6IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIEZldGNoZXMgYW55IG1pc3NpbmcgSGlnaGNoYXJ0cyBhbmQgZGVwZW5kZW5jaWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBIaWdoY2FydHMgcmVsYXRlZCBjb25maWd1cmF0aW9uIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBjaGVja0NhY2hlID0gYXN5bmMgKGNvbmZpZykgPT4ge1xyXG4gIGxldCBmZXRjaGVkTW9kdWxlcztcclxuICAvLyBQcmVwYXJlIHBhdGhzIHRvIG1hbmlmZXN0IGFuZCBzb3VyY2VzIGZyb20gdGhlIC5jYWNoZSBmb2xkZXJcclxuICBjb25zdCBtYW5pZmVzdFBhdGggPSBqb2luKGNhY2hlUGF0aCwgJ21hbmlmZXN0Lmpzb24nKTtcclxuICBjb25zdCBzb3VyY2VQYXRoID0gam9pbihjYWNoZVBhdGgsICdzb3VyY2VzLmpzJyk7XHJcblxyXG4gIC8vIFRPRE86IGRlYWwgd2l0aCB0cnlpbmcgdG8gc3dpdGNoIHRvIHRoZSBydW5uaW5nIHZlcnNpb25cclxuICAvLyBjb25zdCBhY3RpdmVWZXJzaW9uID0gYXBwbGllZENvbmZpZyA/IGFwcGxpZWRDb25maWcudmVyc2lvbiA6IGZhbHNlO1xyXG5cclxuICBhcHBsaWVkQ29uZmlnID0gY29uZmlnO1xyXG5cclxuICAvLyBDcmVhdGUgdGhlIC5jYWNoZSBkZXN0aW5hdGlvbiBpZiBpdCBkb2Vzbid0IGV4aXN0IGFscmVhZHlcclxuICAhZXhpc3RzU3luYyhjYWNoZVBhdGgpICYmIG1rZGlyU3luYyhjYWNoZVBhdGgpO1xyXG5cclxuICAvLyBMb2FkIHRoZSAuY2FjaGUgbWFuaWZlc3RcclxuICBpZiAoZXhpc3RzU3luYyhtYW5pZmVzdFBhdGgpKSB7XHJcbiAgICBsZXQgcmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgIC8vIFJlYWQgdGhlIG1hbmlmZXN0IEpTT05cclxuICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShyZWFkRmlsZVN5bmMobWFuaWZlc3RQYXRoKSk7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIG1vZHVsZXMgaXMgYW4gYXJyYXksIGlmIHNvLCB3ZSByZXdyaXRlIGl0IHRvIGEgbWFwIHRvIG1ha2VcclxuICAgIC8vIGl0IGVhc2llciB0byByZXNvbHZlIG1vZHVsZXMuXHJcbiAgICBpZiAobWFuaWZlc3QubW9kdWxlcyAmJiBBcnJheS5pc0FycmF5KG1hbmlmZXN0Lm1vZHVsZXMpKSB7XHJcbiAgICAgIGNvbnN0IG1vZHVsZU1hcCA9IHt9O1xyXG4gICAgICBtYW5pZmVzdC5tb2R1bGVzLmZvckVhY2goKG0pID0+IChtb2R1bGVNYXBbbV0gPSAxKSk7XHJcbiAgICAgIG1hbmlmZXN0Lm1vZHVsZXMgPSBtb2R1bGVNYXA7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBtb2R1bGVzLCBjb3JlU2NyaXB0cywgaW5kaWNhdG9ycyB9ID0gY29uZmlnO1xyXG4gICAgY29uc3QgbnVtYmVyT2ZNb2R1bGVzID1cclxuICAgICAgbW9kdWxlcy5sZW5ndGggKyBjb3JlU2NyaXB0cy5sZW5ndGggKyBpbmRpY2F0b3JzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBDb21wYXJlIHRoZSBsb2FkZWQgY29uZmlnIHdpdGggdGhlIGNvbnRlbnRzIGluIC5jYWNoZS5cclxuICAgIC8vIElmIHRoZXJlIGFyZSBjaGFuZ2VzLCBmZXRjaCByZXF1ZXN0ZWQgbW9kdWxlcyBhbmQgcHJvZHVjdHMsXHJcbiAgICAvLyBhbmQgYmFrZSB0aGVtIGludG8gYSBnaWFudCBibG9iLiBTYXZlIHRoZSBibG9iLlxyXG4gICAgaWYgKG1hbmlmZXN0LnZlcnNpb24gIT09IGNvbmZpZy52ZXJzaW9uKSB7XHJcbiAgICAgIGxvZygzLCAnW2NhY2hlXSBIaWdoY2hhcnRzIHZlcnNpb24gbWlzbWF0Y2ggaW4gY2FjaGUsIG5lZWQgdG8gcmUtZmV0Y2guJyk7XHJcbiAgICAgIHJlcXVlc3RVcGRhdGUgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhtYW5pZmVzdC5tb2R1bGVzIHx8IHt9KS5sZW5ndGggIT09IG51bWJlck9mTW9kdWxlcykge1xyXG4gICAgICBsb2coXHJcbiAgICAgICAgMyxcclxuICAgICAgICAnW2NhY2hlXSBDYWNoZSBhbmQgcmVxdWVzdGVkIG1vZHVsZXMgZG9lcyBub3QgbWF0Y2gsIG5lZWQgdG8gcmUtZmV0Y2guJ1xyXG4gICAgICApO1xyXG4gICAgICByZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIENoZWNrIGVhY2ggbW9kdWxlLCBpZiBhbnl0aGluZyBpcyBtaXNzaW5nIHJlZmV0Y2ggZXZlcnl0aGluZ1xyXG4gICAgICByZXF1ZXN0VXBkYXRlID0gKGNvbmZpZy5tb2R1bGVzIHx8IFtdKS5zb21lKChtb2R1bGVOYW1lKSA9PiB7XHJcbiAgICAgICAgaWYgKCFtYW5pZmVzdC5tb2R1bGVzW21vZHVsZU5hbWVdKSB7XHJcbiAgICAgICAgICBsb2coXHJcbiAgICAgICAgICAgIDMsXHJcbiAgICAgICAgICAgIGBbY2FjaGVdIFRoZSAke21vZHVsZU5hbWV9IG1pc3NpbmcgaW4gY2FjaGUsIG5lZWQgdG8gcmUtZmV0Y2guYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlcXVlc3RVcGRhdGUpIHtcclxuICAgICAgZmV0Y2hlZE1vZHVsZXMgPSBhd2FpdCB1cGRhdGVDYWNoZShjb25maWcsIHNvdXJjZVBhdGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbG9nKDMsICdbY2FjaGVdIERlcGVuZGVuY3kgY2FjaGUgaXMgdXAgdG8gZGF0ZSwgcHJvY2VlZGluZy4nKTtcclxuXHJcbiAgICAgIC8vIExvYWQgdGhlIHNvdXJjZXNcclxuICAgICAgY2FjaGUuc291cmNlcyA9IHJlYWRGaWxlU3luYyhzb3VyY2VQYXRoLCAndXRmOCcpO1xyXG5cclxuICAgICAgLy8gR2V0IGN1cnJlbnQgbW9kdWxlcyBtYXBcclxuICAgICAgZmV0Y2hlZE1vZHVsZXMgPSBtYW5pZmVzdC5tb2R1bGVzO1xyXG4gICAgICBleHRyYWN0VmVyc2lvbigpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBTbyB3ZSBkb24ndCBoYXZlIG9uZSB5ZXQsIHdoaWNoIG1lYW5zIHdlIG5lZWQgdG8gZmV0Y2ggZXZlcnl0aGluZ1xyXG4gICAgbG9nKDMsICdbY2FjaGVdIEZldGNoaW5nIGFuZCBjYWNoaW5nIEhpZ2hjaGFydHMgZGVwZW5kZW5jaWVzLicpO1xyXG4gICAgZmV0Y2hlZE1vZHVsZXMgPSBhd2FpdCB1cGRhdGVDYWNoZShjb25maWcsIHNvdXJjZVBhdGgpO1xyXG4gIH1cclxuXHJcbiAgLy8gRmluYWxseSwgc2F2ZSB0aGUgbmV3IG1hbmlmZXN0LCB3aGljaCBpcyBiYXNpY2FsbHkgb3VyIGN1cnJlbnQgY29uZmlnXHJcbiAgLy8gaW4gYSBzbGlnaHRseSBkaWZmZXJlbnQgZm9ybWF0XHJcbiAgYXdhaXQgc2F2ZUNvbmZpZ1RvTWFuaWZlc3QoY29uZmlnLCBmZXRjaGVkTW9kdWxlcyk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY2hlY2tDYWNoZSxcclxuICB1cGRhdGVWZXJzaW9uLFxyXG4gIGdldENhY2hlOiAoKSA9PiBjYWNoZSxcclxuICBoaWdoY2hhcnRzOiAoKSA9PiBjYWNoZS5zb3VyY2VzLFxyXG4gIHZlcnNpb246ICgpID0+IGNhY2hlLmhjVmVyc2lvblxyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCBwdXBwZXRlZXIgZnJvbSAncHVwcGV0ZWVyJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0ICogYXMgdXJsIGZyb20gJ3VybCc7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHBhdGggZnJvbSAnbm9kZTpwYXRoJztcclxuXHJcbi8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTE0NjMzMjhcclxuLy8gTm90IGlkZWFsIC0gbGVhdmVzIHRyYXNoIGluIHRoZSBGU1xyXG5pbXBvcnQgeyByYW5kb21CeXRlcyB9IGZyb20gJ25vZGU6Y3J5cHRvJztcclxuY29uc3QgUkFORE9NX1BJRCA9IHJhbmRvbUJ5dGVzKDY0KS50b1N0cmluZygnYmFzZTY0dXJsJyk7XHJcbmNvbnN0IFBVUFBFVEVFUl9ESVIgPSBwYXRoLmpvaW4oJ3RtcCcsIGBwdXBwZXRlZXItJHtSQU5ET01fUElEfWApO1xyXG5jb25zdCBEQVRBX0RJUiA9IHBhdGguam9pbihQVVBQRVRFRVJfRElSLCAncHJvZmlsZScpO1xyXG5cclxuLy8gVGhlIG1pbmltYWwgYXJncyB0byBzcGVlZCB1cCB0aGUgYnJvd3NlclxyXG5jb25zdCBtaW5pbWFsQXJncyA9IFtcclxuICBgLS11c2VyLWRhdGEtZGlyPSR7REFUQV9ESVJ9YCxcclxuICAnLS1hdXRvcGxheS1wb2xpY3k9dXNlci1nZXN0dXJlLXJlcXVpcmVkJyxcclxuICAnLS1kaXNhYmxlLWJhY2tncm91bmQtbmV0d29ya2luZycsXHJcbiAgJy0tZGlzYWJsZS1iYWNrZ3JvdW5kLXRpbWVyLXRocm90dGxpbmcnLFxyXG4gICctLWRpc2FibGUtYmFja2dyb3VuZGluZy1vY2NsdWRlZC13aW5kb3dzJyxcclxuICAnLS1kaXNhYmxlLWJyZWFrcGFkJyxcclxuICAnLS1kaXNhYmxlLWNsaWVudC1zaWRlLXBoaXNoaW5nLWRldGVjdGlvbicsXHJcbiAgJy0tZGlzYWJsZS1jb21wb25lbnQtdXBkYXRlJyxcclxuICAnLS1kaXNhYmxlLWRlZmF1bHQtYXBwcycsXHJcbiAgJy0tZGlzYWJsZS1kZXYtc2htLXVzYWdlJyxcclxuICAnLS1kaXNhYmxlLWRvbWFpbi1yZWxpYWJpbGl0eScsXHJcbiAgJy0tZGlzYWJsZS1leHRlbnNpb25zJyxcclxuICAnLS1kaXNhYmxlLWZlYXR1cmVzPUF1ZGlvU2VydmljZU91dE9mUHJvY2VzcycsXHJcbiAgJy0tZGlzYWJsZS1oYW5nLW1vbml0b3InLFxyXG4gICctLWRpc2FibGUtaXBjLWZsb29kaW5nLXByb3RlY3Rpb24nLFxyXG4gICctLWRpc2FibGUtbm90aWZpY2F0aW9ucycsXHJcbiAgJy0tZGlzYWJsZS1vZmZlci1zdG9yZS11bm1hc2tlZC13YWxsZXQtY2FyZHMnLFxyXG4gICctLWRpc2FibGUtcG9wdXAtYmxvY2tpbmcnLFxyXG4gICctLWRpc2FibGUtcHJpbnQtcHJldmlldycsXHJcbiAgJy0tZGlzYWJsZS1wcm9tcHQtb24tcmVwb3N0JyxcclxuICAnLS1kaXNhYmxlLXJlbmRlcmVyLWJhY2tncm91bmRpbmcnLFxyXG4gICctLWRpc2FibGUtc2Vzc2lvbi1jcmFzaGVkLWJ1YmJsZScsXHJcbiAgJy0tZGlzYWJsZS1zZXR1aWQtc2FuZGJveCcsXHJcbiAgJy0tZGlzYWJsZS1zcGVlY2gtYXBpJyxcclxuICAnLS1kaXNhYmxlLXN5bmMnLFxyXG4gICctLWhpZGUtY3Jhc2gtcmVzdG9yZS1idWJibGUnLFxyXG4gICctLWhpZGUtc2Nyb2xsYmFycycsXHJcbiAgJy0taWdub3JlLWdwdS1ibGFja2xpc3QnLFxyXG4gICctLW1ldHJpY3MtcmVjb3JkaW5nLW9ubHknLFxyXG4gICctLW11dGUtYXVkaW8nLFxyXG4gICctLW5vLWRlZmF1bHQtYnJvd3Nlci1jaGVjaycsXHJcbiAgJy0tbm8tZmlyc3QtcnVuJyxcclxuICAnLS1uby1waW5ncycsXHJcbiAgJy0tbm8tc2FuZGJveCcsXHJcbiAgJy0tbm8tenlnb3RlJyxcclxuICAnLS1wYXNzd29yZC1zdG9yZT1iYXNpYycsXHJcbiAgJy0tdXNlLW1vY2sta2V5Y2hhaW4nXHJcbl07XHJcblxyXG5jb25zdCBfX2Rpcm5hbWUgPSB1cmwuZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuJywgaW1wb3J0Lm1ldGEudXJsKSk7XHJcblxyXG5jb25zdCB0ZW1wbGF0ZSA9IGZzLnJlYWRGaWxlU3luYyhcclxuICBfX2Rpcm5hbWUgKyAnLy4uL3RlbXBsYXRlcy90ZW1wbGF0ZS5odG1sJyxcclxuICAndXRmOCdcclxuKTtcclxuXHJcbmxldCBicm93c2VyO1xyXG5cclxuZXhwb3J0IGNvbnN0IG5ld1BhZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgaWYgKCFicm93c2VyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gIGNvbnN0IHAgPSBhd2FpdCBicm93c2VyLm5ld1BhZ2UoKTtcclxuXHJcbiAgYXdhaXQgcC5zZXRDb250ZW50KHRlbXBsYXRlKTtcclxuICBhd2FpdCBwLmFkZFNjcmlwdFRhZyh7IHBhdGg6IF9fZGlybmFtZSArICcvLi4vLmNhY2hlL3NvdXJjZXMuanMnIH0pO1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gIGF3YWl0IHAuZXZhbHVhdGUoKCkgPT4gd2luZG93LnNldHVwSGlnaGNoYXJ0cygpKTtcclxuXHJcbiAgcC5vbigncGFnZWVycm9yJywgYXN5bmMgKGVycikgPT4ge1xyXG4gICAgLy8gVE9ETzogQ29uc2lkZXIgYWRkaW5nIGEgc3dpdGNoIGhlcmUgdGhhdCB0dXJucyBvbiBsb2coMCkgbG9nZ2luZ1xyXG4gICAgLy8gb24gcGFnZSBlcnJvcnMuXHJcbiAgICBsb2coMSwgJ1twYWdlIGVycm9yXScsIGVycik7XHJcbiAgICBhd2FpdCBwLiRldmFsKFxyXG4gICAgICAnI2NvbnRhaW5lcicsXHJcbiAgICAgIChlbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICBpZiAod2luZG93Ll9kaXNwbGF5RXJyb3JzKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGVycm9yTWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGA8aDE+Q2hhcnQgaW5wdXQgZGF0YSBlcnJvcjwvaDE+JHtlcnIudG9TdHJpbmcoKX1gXHJcbiAgICApO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGUgPSBhc3luYyAocHVwcGV0ZWVyQXJncykgPT4ge1xyXG4gIGNvbnN0IGFsbEFyZ3MgPSBbLi4ubWluaW1hbEFyZ3MsIC4uLihwdXBwZXRlZXJBcmdzIHx8IFtdKV07XHJcblxyXG4gIC8vIENyZWF0ZSBhIGJyb3dzZXJcclxuICBpZiAoIWJyb3dzZXIpIHtcclxuICAgIGxldCB0cnlDb3VudCA9IDA7XHJcblxyXG4gICAgY29uc3Qgb3BlbiA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBsb2coXHJcbiAgICAgICAgICAzLFxyXG4gICAgICAgICAgJ1ticm93c2VyXSBhdHRlbXB0aW5nIHRvIGdldCBhIGJyb3dzZXIgaW5zdGFuY2UgKHRyeScsXHJcbiAgICAgICAgICB0cnlDb3VudCArICcpJ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGJyb3dzZXIgPSBhd2FpdCBwdXBwZXRlZXIubGF1bmNoKHtcclxuICAgICAgICAgIGhlYWRsZXNzOiAnbmV3JyxcclxuICAgICAgICAgIGFyZ3M6IGFsbEFyZ3MsXHJcbiAgICAgICAgICB1c2VyRGF0YURpcjogJy4vdG1wLydcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGxvZygwLCAnW2Jyb3dzZXJdJywgZSk7XHJcbiAgICAgICAgaWYgKCsrdHJ5Q291bnQgPCAyNSkge1xyXG4gICAgICAgICAgbG9nKDMsICdbYnJvd3Nlcl0gZmFpbGVkOicsIGUpO1xyXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc3BvbnNlKSA9PiBzZXRUaW1lb3V0KHJlc3BvbnNlLCA0MDAwKSk7XHJcbiAgICAgICAgICBhd2FpdCBvcGVuKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxvZygwLCAnTWF4IHJldHJpZXMgcmVhY2hlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBvcGVuKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGxvZygwLCAnW2Jyb3dzZXJdIFVuYWJsZSB0byBvcGVuIGJyb3dzZXInKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghYnJvd3Nlcikge1xyXG4gICAgICBsb2coMCwgJ1ticm93c2VyXSBVbmFibGUgdG8gb3BlbiBicm93c2VyJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJldHVybiBhIGJyb3dzZXIgcHJvbWlzZVxyXG4gIHJldHVybiBicm93c2VyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldCA9IGFzeW5jICgpID0+IHtcclxuICBpZiAoIWJyb3dzZXIpIHtcclxuICAgIHRocm93ICdubyB2YWxpZCBicm93c2VyIGhhcyBiZWVuIGNyZWF0ZWQnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGJyb3dzZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2xvc2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgcmV0dXJuIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBnZXQsXHJcbiAgY2xvc2UsXHJcbiAgbmV3UGFnZVxyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8vIFRPRE86IHJlbW92ZSB0aGlzIHRlbXAgYmVuY2htYXJrIHN0dWZmLiBJIGhhZCB0aGlzIGlkZWEgb2YgZG9pbmcgYSBnZW5lcmFsIGJlbmNobWFya2luZ1xyXG4vLyBzeXN0ZW0sIGJ1dCBpdCBhZGRzIHNvIG11Y2ggYmxvYXQgaW4gdGhlIGNvZGUgdGhhdCBpdCBzaG91bGRuJ3QgYmUgdGhlcmUuXHJcblxyXG5pbXBvcnQgYmVuY2htYXJrIGZyb20gJy4vYmVuY2htYXJrLmpzJztcclxuaW1wb3J0IGNhY2hlIGZyb20gJy4vY2FjaGUuanMnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcbmltcG9ydCBzdmdUZW1wbGF0ZSBmcm9tICcuLy4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMnO1xyXG5cclxuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0ICogYXMgdXJsIGZyb20gJ3VybCc7XHJcblxyXG5jb25zdCBfX2Jhc2VkaXIgPSB1cmwuZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuJywgaW1wb3J0Lm1ldGEudXJsKSk7XHJcblxyXG4vLyBjb25zdCBqc29uVGVtcGxhdGUgPSByZXF1aXJlKCcuLy4uL3RlbXBsYXRlcy9qc29uX2V4cG9ydC9qc29uX2V4cG9ydC5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGNsaXAgcmVnaW9uIGZvciB0aGUgY2hhcnQgRE9NIG5vZGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYWdlIC0gQSBwYWdlIG9mIGEgYnJvd3NlciBpbnN0YW5jZS5cclxuICogQHJldHVybiB7b2JqZWN0fSAtIEEgY2xpcHBlZCByZWdpb24uXHJcbiAqL1xyXG5jb25zdCBnZXRDbGlwUmVnaW9uID0gKHBhZ2UpID0+XHJcbiAgcGFnZS4kZXZhbCgnI2NoYXJ0LWNvbnRhaW5lcicsIChlbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4LFxyXG4gICAgICB5LFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgaGVpZ2h0OiBNYXRoLnRydW5jKGhlaWdodCA+IDEgPyBoZWlnaHQgOiA1MDApXHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuLyoqXHJcbiAqIFJhc3Rlcml6ZXMgdGhlIHBhZ2UgdG8gYW4gaW1hZ2UgKFBORyBvciBKUEVHKVxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgYSByZXN1bHQgaW1hZ2UuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZyAtIFRoZSB0eXBlIG9mIGVuY29kaW5nIHVzZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGlwIC0gVGhlIGNsaXAgcmVnaW9uLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgc2NyZWVuc2hvdC5cclxuICovXHJcbmNvbnN0IGNyZWF0ZUltYWdlID0gYXN5bmMgKHBhZ2UsIHR5cGUsIGVuY29kaW5nLCBjbGlwKSA9PlxyXG4gIGF3YWl0IFByb21pc2UucmFjZShbXHJcbiAgICBwYWdlLnNjcmVlbnNob3Qoe1xyXG4gICAgICB0eXBlLFxyXG4gICAgICBlbmNvZGluZyxcclxuICAgICAgY2xpcFxyXG4gICAgfSksXHJcbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoJ1Jhc3Rlcml6YXRpb24gdGltZW91dCcpKSwgMTUwMClcclxuICAgIClcclxuICBdKTtcclxuXHJcbi8qKlxyXG4gKiBUdXJucyBwYWdlIGludG8gYSBQREYuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYWdlIC0gQSBwYWdlIG9mIGEgYnJvd3NlciBpbnN0YW5jZS5cclxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgYSBjaGFydC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIGEgY2hhcnQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZyAtIFRoZSB0eXBlIG9mIGVuY29kaW5nIHVzZWQuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBBIGJ1ZmZlciB3aXRoIFBERiByZXByZXNlbnRhdGlvbi5cclxuICovXHJcbmNvbnN0IGNyZWF0ZVBERiA9IGFzeW5jIChwYWdlLCBoZWlnaHQsIHdpZHRoLCBlbmNvZGluZykgPT5cclxuICBhd2FpdCBwYWdlLnBkZih7XHJcbiAgICAvLyBUaGlzIHdpbGwgcmVtb3ZlIGFuIGV4dHJhIGVtcHR5IHBhZ2UgaW4gUERGIGV4cG9ydHNcclxuICAgIGhlaWdodDogaGVpZ2h0ICsgMSxcclxuICAgIHdpZHRoLFxyXG4gICAgZW5jb2RpbmdcclxuICB9KTtcclxuXHJcbi8qKlxyXG4gKiBFeHBvcnRzIGFzIGEgU1ZHLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBUaGUgb3V0ZXJIVE1MIGVsZW1lbnQgd2l0aCB0aGUgU1ZHIHJlcHJlc2VudGF0aW9uLlxyXG4gKi9cclxuY29uc3QgY3JlYXRlU1ZHID0gYXN5bmMgKHBhZ2UpID0+XHJcbiAgYXdhaXQgcGFnZS4kZXZhbChcclxuICAgICcjY29udGFpbmVyIHN2ZzpmaXJzdC1vZi10eXBlJyxcclxuICAgIChlbGVtZW50KSA9PiBlbGVtZW50Lm91dGVySFRNTFxyXG4gICk7XHJcblxyXG4vKiogTG9hZCBjb25maWcgaW50byBhIHBhZ2UgYW5kIHJlbmRlciBhIGNoYXJ0ICovXHJcbmNvbnN0IHNldEFzQ29uZmlnID0gYXN5bmMgKHBhZ2UsIGNoYXJ0LCBvcHRpb25zKSA9PlxyXG4gIGF3YWl0IHBhZ2UuZXZhbHVhdGUoXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgIChjaGFydCwgb3B0aW9ucykgPT4gd2luZG93LnRyaWdnZXJFeHBvcnQoY2hhcnQsIG9wdGlvbnMpLFxyXG4gICAgY2hhcnQsXHJcbiAgICBvcHRpb25zXHJcbiAgKTtcclxuXHJcbi8qKiBMb2FkIFNWRyBpbnRvIGEgcGFnZSAqL1xyXG4vLyBjb25zdCBzZXRBc1NWRyA9IGFzeW5jIChwYWdlLCBzdmdTdHIpID0+IHRydWU7XHJcblxyXG4vKipcclxuICogRG9lcyBhbiBleHBvcnQgZm9yIGEgZ2l2ZW4gYnJvd3Nlci5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGJyb3dzZXIgLSBBIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjaGFydCAtIENoYXJ0J3Mgb3B0aW9ucy5cclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBUaGUgZGF0YSByZXR1cm5lZCBmcm9tIG9uZSBvZiB0aGUgbWV0aG9kcyBmb3IgZXhwb3J0aW5nXHJcbiAqIGEgc3BlY2lmaWMgdHlwZSBvZiBhbiBpbWFnZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChwYWdlLCBjaGFydCwgb3B0aW9ucykgPT4ge1xyXG4gIC8qKlxyXG4gICAqIEtlZXBzIHRyYWNrIG9mIGFsbCByZXNvdXJjZXMgYWRkZWQgb24gdGhlIHBhZ2Ugd2l0aCBhZGRYWFhUYWcuIGV0Y1xyXG4gICAqIEl0J3MgVklUQUwgdGhhdCBhbGwgYWRkZWQgcmVzb3VyY2VzIGVuZHMgdXAgaGVyZSBzbyB3ZSBjYW4gY2xlYXIgdGhpbmdzXHJcbiAgICogb3V0IHdoZW4gZG9pbmcgYSBuZXcgZXhwb3J0IGluIHRoZSBzYW1lIHBhZ2UhXHJcbiAgICovXHJcbiAgY29uc3QgaW5qZWN0ZWRSZXNvdXJjZXMgPSBbXTtcclxuXHJcbiAgLyoqIENsZWFyIG91dCBhbGwgc3RhdGUgc2V0IG9uIHRoZSBwYWdlIHdpdGggYWRkU2NyaXB0VGFnL2FkZFN0eWxlVGFnLiAqL1xyXG4gIGNvbnN0IGNsZWFySW5qZWN0ZWQgPSBhc3luYyAocGFnZSkgPT4ge1xyXG4gICAgZm9yIChjb25zdCByZXMgb2YgaW5qZWN0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgYXdhaXQgcmVzLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldCBhbGwgQ1NTIGFuZCBzY3JpcHQgdGFnc1xyXG4gICAgYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XHJcbiAgICAgIC8vL1xyXG4gICAgICAvLyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgLy8gSGlnaGNoYXJ0cy5zZXRPcHRpb25zT2JqID0ge307XHJcbiAgICAgIC8vL1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgY29uc3QgWywgLi4uc2NyaXB0c1RvUmVtb3ZlXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgIGNvbnN0IFssIC4uLnN0eWxlc1RvUmVtb3ZlXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdHlsZScpO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgY29uc3QgWy4uLmxpbmtzVG9SZW1vdmVdID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpbmsnKTtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0YWdzXHJcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBbXHJcbiAgICAgICAgLi4uc2NyaXB0c1RvUmVtb3ZlLFxyXG4gICAgICAgIC4uLnN0eWxlc1RvUmVtb3ZlLFxyXG4gICAgICAgIC4uLmxpbmtzVG9SZW1vdmVcclxuICAgICAgXSkge1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBleHBvcnRCZW5jaCA9IGJlbmNobWFyaygnUHVwcGV0ZWVyJyk7XHJcblxyXG4gICAgbG9nKDQsICdbZXhwb3J0XSBEZXRlcm1pbmluZyBleHBvcnQgcGF0aC4nKTtcclxuXHJcbiAgICBjb25zdCBleHBvcnRPcHRpb25zID0gb3B0aW9ucy5leHBvcnQ7XHJcblxyXG4gICAgLy8gRm9yY2UgYSByQUZcclxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHVwcGV0ZWVyL3B1cHBldGVlci9pc3N1ZXMvNzUwN1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7fSkpO1xyXG5cclxuICAgIC8vIERlY2lkZSB3aGV0aGVyIGRpc3BsYXkgZXJyb3Igb3IgZGViYnVnZXIgd3JhcHBlciBhcm91bmQgaXRcclxuICAgIGNvbnN0IGRpc3BsYXlFcnJvcnMgPVxyXG4gICAgICBleHBvcnRPcHRpb25zPy5vcHRpb25zPy5jaGFydD8uZGlzcGxheUVycm9ycyAmJlxyXG4gICAgICBjYWNoZS5nZXRDYWNoZSgpLmFjdGl2ZU1hbmlmZXN0Lm1vZHVsZXMuZGVidWdnZXI7XHJcblxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKChkKSA9PiAod2luZG93Ll9kaXNwbGF5RXJyb3JzID0gZCksIGRpc3BsYXlFcnJvcnMpO1xyXG5cclxuICAgIGNvbnN0IHN2Z0JlbmNoID0gYmVuY2htYXJrKCdTVkcgaGFuZGxpbmcnKTtcclxuXHJcbiAgICBsZXQgaXNTVkc7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBjaGFydC5pbmRleE9mICYmXHJcbiAgICAgIChjaGFydC5pbmRleE9mKCc8c3ZnJykgPj0gMCB8fCBjaGFydC5pbmRleE9mKCc8P3htbCcpID49IDApXHJcbiAgICApIHtcclxuICAgICAgLy8gU1ZHIElOUFVUIEhBTkRMSU5HXHJcblxyXG4gICAgICBsb2coNCwgJ1tleHBvcnRdIFRyZWF0aW5nIGFzIFNWRy4nKTtcclxuXHJcbiAgICAgIC8vIElmIGlucHV0IGlzIGFsc28gc3ZnLCBqdXN0IHJldHVybiBpdFxyXG4gICAgICBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAnc3ZnJykge1xyXG4gICAgICAgIHJldHVybiBjaGFydDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXNTVkcgPSB0cnVlO1xyXG4gICAgICBjb25zdCBzZXRQYWdlQmVuY2ggPSBiZW5jaG1hcmsoJ1NldHRpbmcgY29udGVudCcpO1xyXG4gICAgICBhd2FpdCBwYWdlLnNldENvbnRlbnQoc3ZnVGVtcGxhdGUoY2hhcnQpKTtcclxuICAgICAgc2V0UGFnZUJlbmNoKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBKU09OIENvbmZpZyBoYW5kbGluZ1xyXG5cclxuICAgICAgbG9nKDQsICdbZXhwb3J0XSBUcmVhdGluZyBhcyBjb25maWcuJyk7XHJcblxyXG4gICAgICAvLyBOZWVkIHRvIHBlcmZvcm0gc3RyYWlnaHQgaW5qZWN0XHJcbiAgICAgIGlmIChleHBvcnRPcHRpb25zLnN0ckluaikge1xyXG4gICAgICAgIC8vIEluamVjdGlvbiBiYXNlZCBjb25maWd1cmF0aW9uIGV4cG9ydFxyXG4gICAgICAgIGNvbnN0IHNldFBhZ2VCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyBwYWdlIGNvbnRlbnQgKGluamVjdCknKTtcclxuXHJcbiAgICAgICAgYXdhaXQgc2V0QXNDb25maWcoXHJcbiAgICAgICAgICBwYWdlLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBjaGFydDoge1xyXG4gICAgICAgICAgICAgIGhlaWdodDogZXhwb3J0T3B0aW9ucy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IGV4cG9ydE9wdGlvbnMud2lkdGhcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG9wdGlvbnNcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBzZXRQYWdlQmVuY2goKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBCYXNpYyBjb25maWd1cmF0aW9uIGV4cG9ydFxyXG5cclxuICAgICAgICBjaGFydC5jaGFydC5oZWlnaHQgPSBleHBvcnRPcHRpb25zLmhlaWdodDtcclxuICAgICAgICBjaGFydC5jaGFydC53aWR0aCA9IGV4cG9ydE9wdGlvbnMud2lkdGg7XHJcblxyXG4gICAgICAgIGNvbnN0IHNldENvbnRlbnRCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyBwYWdlIGNvbnRlbnQgKGNvbmZpZyknKTtcclxuICAgICAgICBhd2FpdCBzZXRBc0NvbmZpZyhwYWdlLCBjaGFydCwgb3B0aW9ucyk7XHJcbiAgICAgICAgc2V0Q29udGVudEJlbmNoKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdmdCZW5jaCgpO1xyXG4gICAgY29uc3QgcmVzQmVuY2ggPSBiZW5jaG1hcmsoJ0FwcGx5aW5nIHJlc291cmNlcycpO1xyXG5cclxuICAgIC8vIFVzZSByZXNvdXJjZXNcclxuICAgIGNvbnN0IHJlc291cmNlcyA9IG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXM7XHJcbiAgICBpZiAocmVzb3VyY2VzKSB7XHJcbiAgICAgIC8vIExvYWQgY3VzdG9tIEpTIGNvZGVcclxuICAgICAgaWYgKHJlc291cmNlcy5qcykge1xyXG4gICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goXHJcbiAgICAgICAgICBhd2FpdCBwYWdlLmFkZFNjcmlwdFRhZyh7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlc291cmNlcy5qc1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMb2FkIHNjcmlwdHMgZnJvbSBhbGwgY3VzdG9tIGZpbGVzXHJcbiAgICAgIGlmIChyZXNvdXJjZXMuZmlsZXMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgcmVzb3VyY2VzLmZpbGVzKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBpc0xvY2FsID0gIWZpbGUuc3RhcnRzV2l0aCgnaHR0cCcpID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGVhY2ggY3VzdG9tIHNjcmlwdCBmcm9tIHJlc291cmNlcycgZmlsZXNcclxuICAgICAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcclxuICAgICAgICAgICAgICBhd2FpdCBwYWdlLmFkZFNjcmlwdFRhZyhcclxuICAgICAgICAgICAgICAgIGlzTG9jYWxcclxuICAgICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZWFkRmlsZVN5bmMoZmlsZSwgJ3V0ZjgnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB1cmw6IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBjYXRjaCAobm90aWNlKSB7XHJcbiAgICAgICAgICAgIGxvZyg0LCAnW2V4cG9ydF0gSlMgZmlsZSBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjc3NCZW5jaCA9IGJlbmNobWFyaygnTG9hZGluZyBjc3MnKTtcclxuXHJcbiAgICAgIC8vIExvYWQgQ1NTXHJcbiAgICAgIGlmIChyZXNvdXJjZXMuY3NzKSB7XHJcbiAgICAgICAgbGV0IGNzc0ltcG9ydHMgPSByZXNvdXJjZXMuY3NzLm1hdGNoKC9AaW1wb3J0XFxzKihbXjtdKik7L2cpO1xyXG4gICAgICAgIGlmIChjc3NJbXBvcnRzKSB7XHJcbiAgICAgICAgICAvLyBIYW5kbGUgY3NzIHNlY3Rpb25cclxuICAgICAgICAgIGZvciAobGV0IGNzc0ltcG9ydFBhdGggb2YgY3NzSW1wb3J0cykge1xyXG4gICAgICAgICAgICBpZiAoY3NzSW1wb3J0UGF0aCkge1xyXG4gICAgICAgICAgICAgIGNzc0ltcG9ydFBhdGggPSBjc3NJbXBvcnRQYXRoXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgndXJsKCcsICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ0BpbXBvcnQnLCAnJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLzsvLCAnJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCkvZywgJycpXHJcbiAgICAgICAgICAgICAgICAudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBBZGQgZWFjaCBjdXN0b20gY3NzIGZyb20gcmVzb3VyY2VzXHJcbiAgICAgICAgICAgICAgaWYgKGNzc0ltcG9ydFBhdGguc3RhcnRzV2l0aCgnaHR0cCcpKSB7XHJcbiAgICAgICAgICAgICAgICBpbmplY3RlZFJlc291cmNlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBhd2FpdCBwYWdlLmFkZFN0eWxlVGFnKHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IGNzc0ltcG9ydFBhdGhcclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dGaWxlUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpbmplY3RlZFJlc291cmNlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBhd2FpdCBwYWdlLmFkZFN0eWxlVGFnKHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLmpvaW4oX19iYXNlZGlyLCBjc3NJbXBvcnRQYXRoKVxyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSBDU1Mgc2VjdGlvbiB3aWxsIGJlIGNvbnRlbnQgYnkgbm93XHJcbiAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcclxuICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU3R5bGVUYWcoe1xyXG4gICAgICAgICAgICBjb250ZW50OiByZXNvdXJjZXMuY3NzLnJlcGxhY2UoL0BpbXBvcnRcXHMqKFteO10qKTsvZywgJycpIHx8ICcgJ1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjc3NCZW5jaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc0JlbmNoKCk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSByZWFsIGNoYXJ0IHNpemVcclxuICAgIGNvbnN0IHNpemUgPSBpc1NWR1xyXG4gICAgICA/IGF3YWl0IHBhZ2UuJGV2YWwoXHJcbiAgICAgICAgICAnI2NoYXJ0LWNvbnRhaW5lciBzdmc6Zmlyc3Qtb2YtdHlwZScsXHJcbiAgICAgICAgICBhc3luYyAoZWxlbWVudCwgc2NhbGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBjaGFydEhlaWdodDogZWxlbWVudC5oZWlnaHQuYmFzZVZhbC52YWx1ZSAqIHNjYWxlLFxyXG4gICAgICAgICAgICAgIGNoYXJ0V2lkdGg6IGVsZW1lbnQud2lkdGguYmFzZVZhbC52YWx1ZSAqIHNjYWxlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcGFyc2VGbG9hdChleHBvcnRPcHRpb25zLnNjYWxlKVxyXG4gICAgICAgIClcclxuICAgICAgOiBhd2FpdCBwYWdlLmV2YWx1YXRlKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgY29uc3QgeyBjaGFydEhlaWdodCwgY2hhcnRXaWR0aCB9ID0gd2luZG93LkhpZ2hjaGFydHMuY2hhcnRzWzBdO1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2hhcnRIZWlnaHQsXHJcbiAgICAgICAgICAgIGNoYXJ0V2lkdGhcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY29uc3QgdnBCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyB2aWV3cG9ydCcpO1xyXG5cclxuICAgIC8vIFNldCBmaW5hbCBoZWlnaHQgYW5kIHdpZHRoIGZvciB2aWV3cG9ydFxyXG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBNYXRoLmNlaWwoc2l6ZT8uY2hhcnRIZWlnaHQgfHwgZXhwb3J0T3B0aW9ucy5oZWlnaHQpO1xyXG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IE1hdGguY2VpbChzaXplPy5jaGFydFdpZHRoIHx8IGV4cG9ydE9wdGlvbnMud2lkdGgpO1xyXG5cclxuICAgIC8vIFNldCB0aGUgdmlld3BvcnQgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAvLyBOT1RFOiB0aGUgY2FsbCB0byBzZXRWaWV3cG9ydCBpcyBleHBlbnNpdmUgLSBjYW4gd2UgZ2V0IGF3YXkgd2l0aCBvbmx5XHJcbiAgICAvLyBjYWxsaW5nIGl0IG9uY2UsIGUuZy4gbW92aW5nIHRoaXMgb25lIGludG8gdGhlIGlzU1ZHIGNvbmRpdGlvbiBiZWxvdz9cclxuICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQoe1xyXG4gICAgICBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0LFxyXG4gICAgICB3aWR0aDogdmlld3BvcnRXaWR0aCxcclxuICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IGlzU1ZHID8gMSA6IHBhcnNlRmxvYXQoZXhwb3J0T3B0aW9ucy5zY2FsZSlcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFByZXBhcmUgYSB6b29tIGNhbGxiYWNrIGZvciB0aGUgbmV4dCBldmFsdWF0ZSBjYWxsXHJcbiAgICBjb25zdCB6b29tQ2FsbGJhY2sgPSBpc1NWR1xyXG4gICAgICA/IC8vIEluIGNhc2Ugb2YgU1ZHIHRoZSB6b29tIG11c3QgYmUgc2V0IGRpcmVjdGx5IGZvciBib2R5XHJcbiAgICAgICAgKHNjYWxlKSA9PiB7XHJcbiAgICAgICAgICAvLyBTZXQgdGhlIHpvb20gYXMgc2NhbGVcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS56b29tID0gc2NhbGU7XHJcblxyXG4gICAgICAgICAgLy8gU2V0IHRoZSBtYXJnaW4gdG8gMHB4XHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gJzBweCc7XHJcbiAgICAgICAgfVxyXG4gICAgICA6IC8vIE5vIG5lZWQgZm9yIHN1Y2ggc2NhbGUgbWFuaXB1bGF0aW9uIGluIGNhc2Ugb2Ygb3RoZXIgdHlwZXMgb2YgZXhwb3J0c1xyXG4gICAgICAgICgpID0+IHtcclxuICAgICAgICAgIC8vIFJlc2V0IHRoZSB6b29tIGZvciBvdGhlciBleHBvcnRzIHRoYW4gdG8gU1ZHc1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSAxO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgLy8gU2V0IHRoZSB6b29tIGFjY29yZGluZ2x5XHJcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKHpvb21DYWxsYmFjaywgcGFyc2VGbG9hdChleHBvcnRPcHRpb25zLnNjYWxlKSk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBjbGlwIHJlZ2lvbiBmb3IgdGhlIHBhZ2VcclxuICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCwgeCwgeSB9ID0gYXdhaXQgZ2V0Q2xpcFJlZ2lvbihwYWdlKTtcclxuXHJcbiAgICBpZiAoIWlzU1ZHKSB7XHJcbiAgICAgIC8vIFNldCB0aGUgZmluYWwgdmlld3BvcnQgbm93IHRoYXQgd2UgaGF2ZSB0aGUgcmVhbCBoZWlnaHRcclxuICAgICAgYXdhaXQgcGFnZS5zZXRWaWV3cG9ydCh7XHJcbiAgICAgICAgd2lkdGg6IE1hdGgucm91bmQod2lkdGgpLFxyXG4gICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQpLFxyXG4gICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHZwQmVuY2goKTtcclxuXHJcbiAgICBsZXQgZGF0YTtcclxuXHJcbiAgICBjb25zdCBleHBCZW5jaG1hcmsgPSBiZW5jaG1hcmsoJ1Jhc3Rlcml6aW5nIGNoYXJ0Jyk7XHJcblxyXG4gICAgLy8gUkFTVEVSSVpBVElPTlxyXG4gICAgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgLy8gU1ZHXHJcbiAgICAgIGRhdGEgPSBhd2FpdCBjcmVhdGVTVkcocGFnZSk7XHJcbiAgICB9IGVsc2UgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3BuZycgfHwgZXhwb3J0T3B0aW9ucy50eXBlID09PSAnanBlZycpIHtcclxuICAgICAgLy8gUE5HIG9yIEpQRUdcclxuICAgICAgZGF0YSA9IGF3YWl0IGNyZWF0ZUltYWdlKHBhZ2UsIGV4cG9ydE9wdGlvbnMudHlwZSwgJ2Jhc2U2NCcsIHtcclxuICAgICAgICB3aWR0aDogdmlld3BvcnRXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0LFxyXG4gICAgICAgIHgsXHJcbiAgICAgICAgeVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAncGRmJykge1xyXG4gICAgICAvLyBQREZcclxuICAgICAgZGF0YSA9IGF3YWl0IGNyZWF0ZVBERihwYWdlLCB2aWV3cG9ydEhlaWdodCwgdmlld3BvcnRXaWR0aCwgJ2Jhc2U2NCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgYFVuc3VwcG9ydGVkIG91dHB1dCBmb3JtYXQgJHtleHBvcnRPcHRpb25zLnR5cGV9YDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZXN0cm95IG9sZCBjaGFydHMgYWZ0ZXIgdGhlIGV4cG9ydCBpcyBkb25lXHJcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgIGNvbnN0IG9sZENoYXJ0cyA9IEhpZ2hjaGFydHMuY2hhcnRzO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaW4gYW55IGFscmVhZHkgZXhpc3RpbmcgY2hhcnRzXHJcbiAgICAgIGlmIChvbGRDaGFydHMubGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gRGVzdHJveSBvbGQgY2hhcnRzXHJcbiAgICAgICAgZm9yIChjb25zdCBvbGRDaGFydCBvZiBvbGRDaGFydHMpIHtcclxuICAgICAgICAgIG9sZENoYXJ0ICYmIG9sZENoYXJ0LmRlc3Ryb3koKTtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgSGlnaGNoYXJ0cy5jaGFydHMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGV4cEJlbmNobWFyaygpO1xyXG4gICAgZXhwb3J0QmVuY2goKTtcclxuXHJcbiAgICBhd2FpdCBjbGVhckluamVjdGVkKHBhZ2UpO1xyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBhd2FpdCBjbGVhckluamVjdGVkKHBhZ2UpO1xyXG4gICAgbG9nKDEsIGBbZXhwb3J0XSBFcnJvciBlbmNvdW50ZXJlZCBkdXJpbmcgZXhwb3J0OiAke2Vycm9yfWApO1xyXG5cclxuICAgIHJldHVybiBlcnJvcjtcclxuICB9XHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIyLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5jb25zdCB0aW1lcnMgPSB7fTtcclxuXHJcbi8vIFRPRE86IFJlYWQgZnJvbSBjb25maWdcclxubGV0IGVuYWJsZWQgPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChpZCkgPT4ge1xyXG4gIGlmICghZW5hYmxlZCkge1xyXG4gICAgcmV0dXJuICgpID0+IHt9O1xyXG4gIH1cclxuXHJcbiAgdGltZXJzW2lkXSA9IG5ldyBEYXRlKCk7XHJcbiAgcmV0dXJuICgpID0+IHtcclxuICAgIGxvZyhcclxuICAgICAgMyxcclxuICAgICAgYFtiZW5jaG1hcmtdIC0gJHtpZH06ICR7bmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aW1lcnNbaWRdLmdldFRpbWUoKX1tc2BcclxuICAgICk7XHJcbiAgfTtcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgY3NzVGVtcGxhdGUgZnJvbSAnLi9jc3MuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKGNoYXJ0KSA9PiBgXHJcbjwhRE9DVFlQRSBodG1sPlxyXG48aHRtbCBsYW5nPSdlbi1VUyc+XHJcbiAgPGhlYWQ+XHJcbiAgICA8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD11dGYtOFwiPlxyXG4gICAgPHRpdGxlPkhpZ2hjYXJ0cyBFeHBvcnQ8L3RpdGxlPlxyXG4gIDwvaGVhZD5cclxuICA8c3R5bGU+XHJcbiAgICAke2Nzc1RlbXBsYXRlKCl9XHJcbiAgPC9zdHlsZT5cclxuICA8Ym9keT5cclxuICAgIDxkaXYgaWQ9XCJjaGFydC1jb250YWluZXJcIj5cclxuICAgICAgJHtjaGFydH1cclxuICAgIDwvZGl2PlxyXG4gIDwvYm9keT5cclxuPC9odG1sPlxyXG5cclxuYDtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyBleGlzdHNTeW5jLCByZWFkRmlsZVN5bmMsIHByb21pc2VzIGFzIGZzUHJvbWlzZXMgfSBmcm9tICdmcyc7XHJcblxyXG5pbXBvcnQgcHJvbXB0cyBmcm9tICdwcm9tcHRzJztcclxuXHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuXHJcbmltcG9ydCB7IG1lcmdlQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vdXRpbHMuanMnO1xyXG5pbXBvcnQgeyBwcm9tcHRzQ29uZmlnIH0gZnJvbSAnLi9zY2hlbWFzL2NvbmZpZy5qcyc7XHJcblxyXG4vKipcclxuICogTG9hZHMgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSBKU09OIGZpbGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVXBkYXRlZCBvcHRpb25zIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBsb2FkQ29uZmlnRmlsZSA9IGFzeW5jIChvcHRpb25zKSA9PiB7XHJcbiAgY29uc3QgY29uZmlnRmlsZSA9IG9wdGlvbnMuY3VzdG9tQ29kZSAmJiBvcHRpb25zLmN1c3RvbUNvZGUubG9hZENvbmZpZztcclxuICB0cnkge1xyXG4gICAgLy8gQW4gYWRkaXRpb25hbCBjb25maWcgZmlsZVxyXG4gICAgaWYgKGNvbmZpZ0ZpbGUpIHtcclxuICAgICAgLy8gUmV0dXJuIG9wdGlvbnMgdXBkYXRlZCB3aXRoIHRoZSBwcm9wZXJ0aWVzIGZyb20gdGhlIGxvYWRlZCBKU09OIGZpbGVcclxuICAgICAgb3B0aW9ucyA9IG1lcmdlQ29uZmlnT3B0aW9ucyhcclxuICAgICAgICBvcHRpb25zLFxyXG4gICAgICAgIEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGNvbmZpZ0ZpbGUpKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiB1cGRhdGVkIG9wdGlvbnNcclxuICAgIHJldHVybiBvcHRpb25zO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBsb2coMSwgYFtjb25maWddIFVuYWJsZSB0byBsb2FkIGNvbmZpZyBmcm9tIHRoZSAke2NvbmZpZ0ZpbGV9OiAke2Vycm9yfWApO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZWN1cnNpdmVseSBzZXRzIGEgcHJvcGVydHkgaW4gYSBjb3JyZWN0IGluZGVudGF0aW9uIGxldmVsIGJhc2VkIG9uIHRoZVxyXG4gKiBhcnJheSBvZiBuZXN0ZWQgcHJvcGVydGllcyBuYW1lcy5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9iamVjdFRvVXBkYXRlIC0gT2JqZWN0IHdoZXJlIGEgcHJvcGVydHkgbXVzdCBiZSBzZXQgb24gYVxyXG4gKiBjb3JyZWN0IGxldmVsLlxyXG4gKiBAcGFyYW0gIHtzdHJpbmdbXX1uZXN0ZWROYW1lcyAtIEFycmF5IG9mIG5hc3RlZCBuYW1lcyB0aGF0IGluZGljYXRlc1xyXG4gKiBpbmRlbnRhdGlvbiBsZXZlbC5cclxuICogQHBhcmFtIHthbnl9IHZhbHVlIC0gQSB2YWx1ZSB0byBhc3NpZ24gdG8gdGhlIHByb3BlcnR5LlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVXBkYXRlZCBvcHRpb25zIG9iamVjdC5cclxuICovXHJcbmNvbnN0IHJlY3Vyc2l2ZVByb3BzID0gKG9iamVjdFRvVXBkYXRlLCBuZXN0ZWROYW1lcywgdmFsdWUpID0+IHtcclxuICB3aGlsZSAobmVzdGVkTmFtZXMubGVuZ3RoID4gMSkge1xyXG4gICAgY29uc3QgcHJvcE5hbWUgPSBuZXN0ZWROYW1lcy5zaGlmdCgpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIHByb3BlcnR5IGluIG9iamVjdCBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3RUb1VwZGF0ZSwgcHJvcE5hbWUpKSB7XHJcbiAgICAgIG9iamVjdFRvVXBkYXRlW3Byb3BOYW1lXSA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGwgZnVuY3Rpb24gYWdhaW4gaWYgdGhlcmUgc3RpbGwgbmFtZXMgdG8gZ29cclxuICAgIG9iamVjdFRvVXBkYXRlW3Byb3BOYW1lXSA9IHJlY3Vyc2l2ZVByb3BzKFxyXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0pLFxyXG4gICAgICBuZXN0ZWROYW1lcyxcclxuICAgICAgdmFsdWVcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIG9iamVjdFRvVXBkYXRlO1xyXG4gIH1cclxuXHJcbiAgLy8gQXNzaWduIHRoZSBmaW5hbCB2YWx1ZVxyXG4gIG9iamVjdFRvVXBkYXRlW25lc3RlZE5hbWVzWzBdXSA9IHZhbHVlO1xyXG4gIHJldHVybiBvYmplY3RUb1VwZGF0ZTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBEaXNwbGF5cyBhIHByb21wdCBmb3IgdGhlIG1hbnVhbCBjb25maWd1cmF0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnRmlsZU5hbWUgLSBUaGUgbmFtZSBvZiBhIGNvbmZpZ3VyYXRpb24gZmlsZS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBtYW51YWxDb25maWd1cmF0aW9uID0gYXN5bmMgKGNvbmZpZ0ZpbGVOYW1lKSA9PiB7XHJcbiAgLy8gUHJlcGFyZSBhIGNvbmZpZyBvYmplY3RcclxuICBsZXQgY29uZmlnRmlsZSA9IHt9O1xyXG5cclxuICAvLyBDaGVjayBpZiBwcm92aWRlZCBjb25maWcgZmlsZSBleGlzdHNcclxuICBpZiAoZXhpc3RzU3luYyhjb25maWdGaWxlTmFtZSkpIHtcclxuICAgIGNvbmZpZ0ZpbGUgPSBKU09OLnBhcnNlKHJlYWRGaWxlU3luYyhjb25maWdGaWxlTmFtZSwgJ3V0ZjgnKSk7XHJcbiAgfVxyXG5cclxuICAvLyBRdWVzdGlvbiBhYm91dCBhIGNvbmZpZ3VyYXRpb24gY2F0ZWdvcnlcclxuICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChwLCBjYXRlZ29yaWVzKSA9PiB7XHJcbiAgICBsZXQgcXVlc3Rpb25zQ291bnRlciA9IDA7XHJcbiAgICBsZXQgYWxsUXVlc3Rpb25zID0gW107XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpbiB0aGUgbWFudWFsQ29uZmlnIG9iamVjdFxyXG4gICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIGNhdGVnb3JpZXMpIHtcclxuICAgICAgLy8gTWFyayBlYWNoIG9wdGlvbiB3aXRoIGEgc2VjdGlvblxyXG4gICAgICBwcm9tcHRzQ29uZmlnW3NlY3Rpb25dID0gcHJvbXB0c0NvbmZpZ1tzZWN0aW9uXS5tYXAoKG9wdGlvbikgPT4gKHtcclxuICAgICAgICAuLi5vcHRpb24sXHJcbiAgICAgICAgc2VjdGlvblxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICAvLyBDb2xsZWN0IHRoZSBxdWVzdGlvbnNcclxuICAgICAgYWxsUXVlc3Rpb25zID0gWy4uLmFsbFF1ZXN0aW9ucywgLi4ucHJvbXB0c0NvbmZpZ1tzZWN0aW9uXV07XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgcHJvbXB0cyhhbGxRdWVzdGlvbnMsIHtcclxuICAgICAgb25TdWJtaXQ6IGFzeW5jIChwcm9tcHQsIGFuc3dlcikgPT4ge1xyXG4gICAgICAgIC8vIEdldCB0aGUgZGVmYXVsdCBtb2R1bGVzXHJcbiAgICAgICAgaWYgKHByb21wdC5uYW1lID09PSAnbW9kdWxlcycpIHtcclxuICAgICAgICAgIGFuc3dlciA9IGFuc3dlci5sZW5ndGhcclxuICAgICAgICAgICAgPyBhbnN3ZXIubWFwKChtb2R1bGUpID0+IHByb21wdC5jaG9pY2VzW21vZHVsZV0pXHJcbiAgICAgICAgICAgIDogcHJvbXB0LmNob2ljZXM7XHJcblxyXG4gICAgICAgICAgY29uZmlnRmlsZVtwcm9tcHQuc2VjdGlvbl1bcHJvbXB0Lm5hbWVdID0gYW5zd2VyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25maWdGaWxlW3Byb21wdC5zZWN0aW9uXSA9IHJlY3Vyc2l2ZVByb3BzKFxyXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBjb25maWdGaWxlW3Byb21wdC5zZWN0aW9uXSB8fCB7fSksXHJcbiAgICAgICAgICAgIHByb21wdC5uYW1lLnNwbGl0KCcuJyksXHJcbiAgICAgICAgICAgIGFuc3dlclxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgrK3F1ZXN0aW9uc0NvdW50ZXIgPT09IGFsbFF1ZXN0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGZzUHJvbWlzZXMud3JpdGVGaWxlKFxyXG4gICAgICAgICAgICAgIGNvbmZpZ0ZpbGVOYW1lLFxyXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGNvbmZpZ0ZpbGUsIG51bGwsIDIpLFxyXG4gICAgICAgICAgICAgICd1dGY4J1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgbG9nKDEsIGBbY29uZmlnXSBFcnJvciB3aGlsZSBjcmVhdGluZyBjb25maWcuanNvbjogJHtlcnJvcn1gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgLy8gRmluZCB0aGUgY2F0ZWdvcmllc1xyXG4gIGNvbnN0IGNob2ljZXMgPSBPYmplY3Qua2V5cyhwcm9tcHRzQ29uZmlnKS5tYXAoKGNob2ljZSkgPT4gKHtcclxuICAgIHRpdGxlOiBgJHtjaG9pY2V9IG9wdGlvbnNgLFxyXG4gICAgdmFsdWU6IGNob2ljZVxyXG4gIH0pKTtcclxuXHJcbiAgLy8gQ2F0ZWdvcnkgcHJvbXB0XHJcbiAgcmV0dXJuIHByb21wdHMoXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdtdWx0aXNlbGVjdCcsXHJcbiAgICAgIG5hbWU6ICdjYXRlZ29yeScsXHJcbiAgICAgIG1lc3NhZ2U6ICdXaGljaCBjYXRlZ29yeSBkbyB5b3Ugd2FudCB0byBjb25maWd1cmU/JyxcclxuICAgICAgaGludDogJ1NwYWNlOiBTZWxlY3Qgc3BlY2lmaWMsIEE6IFNlbGVjdCBhbGwsIEVudGVyOiBDb25maXJtLicsXHJcbiAgICAgIGluc3RydWN0aW9uczogJycsXHJcbiAgICAgIGNob2ljZXNcclxuICAgIH0sXHJcbiAgICB7IG9uU3VibWl0IH1cclxuICApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEluaXRzIGRlZmF1bHQgb3B0aW9ucyByZWN1cnNpdmVseS5cclxuICpcclxuICogQHBhcmFtIHthbnl9IGl0ZW1zIC0gSXRlbXMgdG8gdXBkYXRlIG9wdGlvbnMgZnJvbS5cclxuICogQHJldHVybiB7b2JqZWN0fSAtIFVwZGF0ZWQgb3B0aW9ucyBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaW5pdERlZmF1bHRPcHRpb25zID0gKGl0ZW1zKSA9PiB7XHJcbiAgbGV0IG9wdGlvbnMgPSB7fTtcclxuICBmb3IgKGNvbnN0IFtuYW1lLCBpdGVtXSBvZiBPYmplY3QuZW50cmllcyhpdGVtcykpIHtcclxuICAgIG9wdGlvbnNbbmFtZV0gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaXRlbSwgJ3ZhbHVlJylcclxuICAgICAgPyBpdGVtLnZhbHVlXHJcbiAgICAgIDogaW5pdERlZmF1bHRPcHRpb25zKGl0ZW0pO1xyXG4gIH1cclxuICByZXR1cm4gb3B0aW9ucztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplcyBvcHRpb25zIGZvciB0aGUgYHN0YXJ0RXhwb3J0YCBtZXRob2QgYnkgbWVyZ2luZyB1c2VyIG9wdGlvbnNcclxuICogd2l0aCB0aGUgZGVmYXVsdCBvcHRpb25zIGFuZCBwb29sIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSBleHBvcnRPcHRpb25zIC0gVXNlciBvcHRpb25zIGZvciBleHBvcnRpbmcuXHJcbiAqIEBwYXJhbSB7YW55fSBwb29sT3B0aW9ucyAtIE9wdGlvbnMgb2YgdGhlIHBvb2wgd2hpY2ggaXMgdXNlZCBmb3IgZXhwb3J0LlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVXNlciBvcHRpb25zIG1lcmdlZCB3aXRoIGRlZmF1bHQgb3B0aW9ucy5cclxuICovXHJcbmV4cG9ydCBjb25zdCBpbml0RXhwb3J0U2V0dGluZ3MgPSAoZXhwb3J0T3B0aW9ucywgcG9vbE9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gIGxldCBvcHRpb25zID0ge307XHJcblxyXG4gIGlmIChleHBvcnRPcHRpb25zLnN2Zykge1xyXG4gICAgb3B0aW9ucyA9IHBvb2xPcHRpb25zOyAvLyBkZWZhdWx0IHBvb2xPcHRpb25zXHJcbiAgICBvcHRpb25zLmV4cG9ydC50eXBlID0gZXhwb3J0T3B0aW9ucy50eXBlIHx8IGV4cG9ydE9wdGlvbnMuZXhwb3J0LnR5cGU7XHJcbiAgICBvcHRpb25zLmV4cG9ydC5zY2FsZSA9IGV4cG9ydE9wdGlvbnMuc2NhbGUgfHwgZXhwb3J0T3B0aW9ucy5leHBvcnQuc2NhbGU7XHJcbiAgICBvcHRpb25zLmV4cG9ydC5vdXRmaWxlID0gZXhwb3J0T3B0aW9ucy5vdXRmaWxlIHx8IGV4cG9ydE9wdGlvbnMuZXhwb3J0Lm91dGZpbGU7XHJcbiAgICBvcHRpb25zLnBheWxvYWQgPSB7XHJcbiAgICAgIHN2ZzogZXhwb3J0T3B0aW9ucy5zdmdcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIG9wdGlvbnMgPSBtZXJnZUNvbmZpZ09wdGlvbnMoXHJcbiAgICAgIHBvb2xPcHRpb25zLFxyXG4gICAgICBleHBvcnRPcHRpb25zLFxyXG4gICAgICAvLyBPbWl0IGdvaW5nIGRvd24gcmVjdXJzaXZlbHkgd2l0aCB0aGUgYmVsb3dzXHJcbiAgICAgIFsnb3B0aW9ucycsICdnbG9iYWxPcHRpb25zJywgJ3RoZW1lT3B0aW9ucycsICdyZXNvdXJjZXMnXVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wdGlvbnMuZXhwb3J0Lm91dGZpbGUgPSBvcHRpb25zLmV4cG9ydD8ub3V0ZmlsZSB8fCBgY2hhcnQuJHtvcHRpb25zLmV4cG9ydD8udHlwZSB8fCAncG5nJ31gO1xyXG4gIHJldHVybiBvcHRpb25zO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbG9hZENvbmZpZ0ZpbGUsXHJcbiAgbWFudWFsQ29uZmlndXJhdGlvbixcclxuICBpbml0RGVmYXVsdE9wdGlvbnMsXHJcbiAgaW5pdEV4cG9ydFNldHRpbmdzXHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgcmVhZEZpbGUsIHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJztcclxuXHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgcG9zdFdvcmsgfSBmcm9tICcuL3Bvb2wuanMnO1xyXG5pbXBvcnQge1xyXG4gIGNsZWFyVGV4dCxcclxuICBmaXhUeXBlLFxyXG4gIGhhbmRsZVJlc291cmNlcyxcclxuICBpc0NvcnJlY3RKU09OLFxyXG4gIG9wdGlvbnNTdHJpbmdpZnksXHJcbiAgcm91bmROdW1iZXIsXHJcbiAgdG9Cb29sZWFuLFxyXG4gIHdyYXBBcm91bmRcclxufSBmcm9tICcuL3V0aWxzLmpzJztcclxuaW1wb3J0IHsgaW5pdEV4cG9ydFNldHRpbmdzIH0gZnJvbSAnLi9jb25maWcuanMnO1xyXG5cclxubGV0IGFsbG93Q29kZUV4ZWN1dGlvbiA9IGZhbHNlO1xyXG5cclxubGV0IHBvb2xPcHRpb25zID0ge307XHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gZm9yIGNob29zaW5nIGNoYXJ0IHNpemUgYW5kIHNjYWxlIGJhc2VkIG9uIG9wdGlvbnMgcHJpb3JpdGl6YXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gQW4gb2JqZWN0IHdpdGggdXBkYXRlZCBzaXplIGFuZCBzY2FsZSBmb3IgYSBjaGFydC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBmaW5kQ2hhcnRTaXplID0gKG9wdGlvbnMpID0+IHtcclxuICBjb25zdCB7IGNoYXJ0LCBleHBvcnRpbmcgfSA9XHJcbiAgICBvcHRpb25zLmV4cG9ydD8ub3B0aW9ucyB8fCBpc0NvcnJlY3RKU09OKG9wdGlvbnMuZXhwb3J0Py5pbnN0cik7XHJcblxyXG4gIC8vIFNlZSBpZiBnbG9iYWxPcHRpb25zIGhvbGRzIGNoYXJ0IG9yIGV4cG9ydGluZyBzaXplXHJcbiAgY29uc3QgZ2xvYmFsT3B0aW9ucyA9IGlzQ29ycmVjdEpTT04ob3B0aW9ucy5leHBvcnQ/Lmdsb2JhbE9wdGlvbnMpO1xyXG5cclxuICAvLyBTZWN1cmUgc2NhbGUgdmFsdWVcclxuICBsZXQgc2NhbGUgPSByb3VuZE51bWJlcihcclxuICAgIG9wdGlvbnMuZXhwb3J0Py5zY2FsZSB8fFxyXG4gICAgICBleHBvcnRpbmc/LnNjYWxlIHx8XHJcbiAgICAgIGdsb2JhbE9wdGlvbnM/LmV4cG9ydGluZz8uc2NhbGUgfHxcclxuICAgICAgb3B0aW9ucy5leHBvcnQ/LmRlZmF1bHRTY2FsZSB8fFxyXG4gICAgICAxXHJcbiAgKTtcclxuXHJcbiAgaWYgKHNjYWxlID4gNSkge1xyXG4gICAgc2NhbGUgPSA1O1xyXG4gIH0gZWxzZSBpZiAoc2NhbGUgPCAwLjEpIHtcclxuICAgIHNjYWxlID0gMTtcclxuICB9XHJcblxyXG4gIC8vIEZpbmQgY2hhcnQgc2l6ZSBhbmQgc2NhbGVcclxuICByZXR1cm4ge1xyXG4gICAgaGVpZ2h0OlxyXG4gICAgICBvcHRpb25zLmV4cG9ydD8uaGVpZ2h0IHx8XHJcbiAgICAgIGV4cG9ydGluZz8uc291cmNlSGVpZ2h0IHx8XHJcbiAgICAgIGNoYXJ0Py5oZWlnaHQgfHxcclxuICAgICAgZ2xvYmFsT3B0aW9ucz8uZXhwb3J0aW5nPy5zb3VyY2VIZWlnaHQgfHxcclxuICAgICAgZ2xvYmFsT3B0aW9ucz8uY2hhcnQ/LmhlaWdodCB8fFxyXG4gICAgICBvcHRpb25zLmV4cG9ydD8uZGVmYXVsdEhlaWdodCB8fFxyXG4gICAgICA0MDAsXHJcbiAgICB3aWR0aDpcclxuICAgICAgb3B0aW9ucy5leHBvcnQ/LndpZHRoIHx8XHJcbiAgICAgIGV4cG9ydGluZz8uc291cmNlV2lkdGggfHxcclxuICAgICAgY2hhcnQ/LndpZHRoIHx8XHJcbiAgICAgIGdsb2JhbE9wdGlvbnM/LmV4cG9ydGluZz8uc291cmNlV2lkdGggfHxcclxuICAgICAgZ2xvYmFsT3B0aW9ucz8uY2hhcnQ/LndpZHRoIHx8XHJcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py5kZWZhdWx0V2lkdGggfHxcclxuICAgICAgNjAwLFxyXG4gICAgc2NhbGVcclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIGZvciBmaW5hbCBvcHRpb25zIHByZXBhcmF0aW9uIGJlZm9yZSBleHBvcnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY2hhcnRKc29uIC0gQ2hhcnQgSlNPTi5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZW5kQ2FsbGJhY2sgLSBUaGUgZW5kIGNhbGxiYWNrLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3ZnIC0gVGhlIFNWRyByZXByZXNlbnRhdGlvbi5cclxuICovXHJcbmNvbnN0IGRvRXhwb3J0ID0gKG9wdGlvbnMsIGNoYXJ0SnNvbiwgZW5kQ2FsbGJhY2ssIHN2ZykgPT4ge1xyXG4gIGxldCB7IGV4cG9ydDogZXhwb3J0T3B0aW9ucywgY3VzdG9tQ29kZTogY3VzdG9tQ29kZU9wdGlvbnMgfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgY29uc3QgYWxsb3dDb2RlRXhlY3V0aW9uU2NvcGVkID0gKFxyXG4gICAgICAgIHR5cGVvZiBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb24gPT09ICdib29sZWFuJyA/XHJcbiAgICAgICAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmFsbG93Q29kZUV4ZWN1dGlvbiA6IGFsbG93Q29kZUV4ZWN1dGlvblxyXG4gICAgKTtcclxuXHJcbiAgaWYgKCFjdXN0b21Db2RlT3B0aW9ucykge1xyXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMgPSBvcHRpb25zLmN1c3RvbUNvZGUgPSB7fTtcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzID09PSAnc3RyaW5nJykge1xyXG4gICAgLy8gUHJvY2VzcyByZXNvdXJjZXNcclxuICAgIG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXMgPSBoYW5kbGVSZXNvdXJjZXMoXHJcbiAgICAgIG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXMsXHJcbiAgICAgIHRvQm9vbGVhbihvcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dGaWxlUmVzb3VyY2VzKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIElmIHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gZmxhZyBpc24ndCBzZXQsIHdlIHNob3VsZCByZWZ1c2UgdGhlIHVzYWdlXHJcbiAgLy8gb2YgY2FsbGJhY2ssIHJlc291cmNlcywgYW5kIGN1c3RvbSBjb2RlLiBBZGRpdGlvbmFsbHksIHRoZSB3b3JrZXIgd2lsbFxyXG4gIC8vIHJlZnVzZSB0byBydW4gYXJiaXRyYXJ5IEphdmFTY3JpcHQuIFByaW9yaXRpemVkIHNob3VsZCBiZSB0aGUgc2NvcGVkXHJcbiAgLy8gb3B0aW9uLCB0aGVuIHdlIHNob3VsZCB0YWtlIGEgbG9vayBhdCB0aGUgb3ZlcmFsbCBwb29sIG9wdGlvbi5cclxuICBpZiAoIWFsbG93Q29kZUV4ZWN1dGlvblNjb3BlZCAmJiBjdXN0b21Db2RlT3B0aW9ucykge1xyXG4gICAgaWYgKFxyXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayB8fFxyXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5yZXNvdXJjZXMgfHxcclxuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY3VzdG9tQ29kZVxyXG4gICAgKSB7XHJcbiAgICAgIC8vIFNlbmQgYmFjayBhIGZyaWVuZGx5IG1lc3NhZ2Ugc2F5aW5nIHRoYXQgdGhlIGV4cG9ydGVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgLy8gdGhlc2Ugc2V0dGluZ3MuXHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgZW5kQ2FsbGJhY2sgJiZcclxuICAgICAgICBlbmRDYWxsYmFjayhmYWxzZSwge1xyXG4gICAgICAgICAgZXJyb3I6IHRydWUsXHJcbiAgICAgICAgICBtZXNzYWdlOiBjbGVhclRleHQoXHJcbiAgICAgICAgICAgIGBUaGUgY2FsbGJhY2ssIHJlc291cmNlcyBhbmQgY3VzdG9tQ29kZSBoYXZlIGJlZW4gZGlzYWJsZWQgZm9yIHRoaXNcclxuICAgICAgICAgICAgc2VydmVyLmBcclxuICAgICAgICAgIClcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlc2V0IGFsbCBhZGRpdGlvbmFsIGN1c3RvbSBjb2RlXHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xyXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMucmVzb3VyY2VzID0gZmFsc2U7XHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jdXN0b21Db2RlID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBDbGVhbiBwcm9wZXJ0aWVzIHRvIGtlZXAgaXQgbGVhbiBhbmQgbWVhblxyXG4gIGlmIChjaGFydEpzb24pIHtcclxuICAgIGNoYXJ0SnNvbi5jaGFydCA9IGNoYXJ0SnNvbi5jaGFydCB8fCB7fTtcclxuICAgIGNoYXJ0SnNvbi5leHBvcnRpbmcgPSBjaGFydEpzb24uZXhwb3J0aW5nIHx8IHt9O1xyXG4gICAgY2hhcnRKc29uLmV4cG9ydGluZy5lbmFibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBleHBvcnRPcHRpb25zLmNvbnN0ciA9IGV4cG9ydE9wdGlvbnMuY29uc3RyIHx8ICdjaGFydCc7XHJcbiAgZXhwb3J0T3B0aW9ucy50eXBlID0gZml4VHlwZShleHBvcnRPcHRpb25zLnR5cGUsIGV4cG9ydE9wdGlvbnMub3V0ZmlsZSk7XHJcbiAgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3N2ZycpIHtcclxuICAgIGV4cG9ydE9wdGlvbnMud2lkdGggPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIFByZXBhcmUgZ2xvYmFsIGFuZCB0aGVtZSBvcHRpb25zXHJcbiAgWydnbG9iYWxPcHRpb25zJywgJ3RoZW1lT3B0aW9ucyddLmZvckVhY2goKG9wdGlvbnNOYW1lKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoZXhwb3J0T3B0aW9ucyAmJiBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHR5cGVvZiBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdLmVuZHNXaXRoKCcuanNvbicpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSA9IGlzQ29ycmVjdEpTT04oXHJcbiAgICAgICAgICAgIHJlYWRGaWxlU3luYyhleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSwgJ3V0ZjgnKSxcclxuICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0gPSBpc0NvcnJlY3RKU09OKFxyXG4gICAgICAgICAgICBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSxcclxuICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID0ge307XHJcbiAgICAgIGxvZygxLCBgW2NoYXJ0XSBUaGUgJHtvcHRpb25zTmFtZX0gbm90IGZvdW5kLmApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBQcmVwYXJlIGN1c3RvbUNvZGVcclxuICBpZiAoY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dDb2RlRXhlY3V0aW9uKSB7XHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jdXN0b21Db2RlID0gd3JhcEFyb3VuZChcclxuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY3VzdG9tQ29kZSxcclxuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dGaWxlUmVzb3VyY2VzXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IHRoZSBjYWxsYmFja1xyXG4gIGlmIChcclxuICAgIGN1c3RvbUNvZGVPcHRpb25zICYmXHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayAmJlxyXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2s/LmluZGV4T2YoJ3snKSA8IDBcclxuICApIHtcclxuICAgIC8vIFRoZSBhbGxvd0ZpbGVSZXNvdXJjZXMgaXMgYWx3YXlzIHNldCB0byBmYWxzZSBmb3IgSFRUUCByZXF1ZXN0cyB0byBhdm9pZFxyXG4gICAgLy8gaW5qZWN0aW5nIGFyYml0cmFyeSBmaWxlcyBmcm9tIHRoZSBmc1xyXG4gICAgaWYgKGN1c3RvbUNvZGVPcHRpb25zLmFsbG93RmlsZVJlc291cmNlcykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrID0gcmVhZEZpbGVTeW5jKFxyXG4gICAgICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2ssXHJcbiAgICAgICAgICAndXRmOCdcclxuICAgICAgICApO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGxvZygyLCBgW2NoYXJ0XSBFcnJvciBsb2FkaW5nIGNhbGxiYWNrOiAke2Vycm9yfS5gKTtcclxuICAgICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2l6ZSBzZWFyY2hcclxuICBvcHRpb25zLmV4cG9ydCA9IHtcclxuICAgIC4uLm9wdGlvbnMuZXhwb3J0LFxyXG4gICAgLi4uZmluZENoYXJ0U2l6ZShvcHRpb25zKVxyXG4gIH07XHJcblxyXG4gIC8vIFBvc3QgdGhlIHdvcmsgdG8gdGhlIHBvb2xcclxuICBwb3N0V29yayhleHBvcnRPcHRpb25zLnN0ckluaiB8fCBjaGFydEpzb24gfHwgc3ZnLCBvcHRpb25zKVxyXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4gZW5kQ2FsbGJhY2socmVzdWx0KSlcclxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgbG9nKDAsICdbY2hhcnRdIFdoZW4gcG9zdGluZyB3b3JrOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGVuZENhbGxiYWNrKGZhbHNlLCBlcnJvcik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiBmb3Igc3RyYWlnaHQgaW5qZWN0aW5nIHRoZSBjb2RlLlxyXG4gKiBEYW5nZXJvdXMgYW5kIG11c3QgYmUgdXNlZCBkZWxpYmVyYXRlbHkgYnkgc29tZW9uZSB3aG8gc2V0cyB1cCBhIHNlcnZlclxyXG4gKiAoc2VlICAtLWFsbG93Q29kZUV4ZWN1dGlvbikuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRDYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gZXhwb3J0aW5nIGlzIGRvbmUuXHJcbiAqL1xyXG5jb25zdCBkb1N0cmFpZ2h0SW5qZWN0ID0gKG9wdGlvbnMsIGVuZENhbGxiYWNrKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBzdHJJbmo7XHJcbiAgICBsZXQgaW5zdHIgPSBvcHRpb25zLmV4cG9ydC5pbnN0ciB8fCBvcHRpb25zLmV4cG9ydC5vcHRpb25zO1xyXG5cclxuICAgIGlmICh0eXBlb2YgaW5zdHIgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIC8vIFRyeSB0byBzdHJpbmdpZnkgb3B0aW9uc1xyXG4gICAgICBzdHJJbmogPSBpbnN0ciA9IG9wdGlvbnNTdHJpbmdpZnkoXHJcbiAgICAgICAgaW5zdHIsXHJcbiAgICAgICAgb3B0aW9ucy5jdXN0b21Db2RlPy5hbGxvd0NvZGVFeGVjdXRpb25cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHN0ckluaiA9IGluc3RyLnJlcGxhY2VBbGwoL1xcdHxcXG58XFxyL2csICcnKS50cmltKCk7XHJcblxyXG4gICAgLy8gR2V0IHJpZCBvZiB0aGUgO1xyXG4gICAgaWYgKHN0cklualtzdHJJbmoubGVuZ3RoIC0gMV0gPT09ICc7Jykge1xyXG4gICAgICBzdHJJbmogPSBzdHJJbmouc3Vic3RyaW5nKDAsIHN0ckluai5sZW5ndGggLSAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTYXZlIGFzIHN0cmlnaHQgaW5qZWN0IHN0cmluZ1xyXG4gICAgb3B0aW9ucy5leHBvcnQuc3RySW5qID0gc3RySW5qO1xyXG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGZhbHNlLCBlbmRDYWxsYmFjayk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBjbGVhclRleHQoXHJcbiAgICAgIGBNYWxmb3JtZWQgaW5wdXQgZGV0ZWN0ZWQgZm9yICR7b3B0aW9ucy5leHBvcnQ/LnJlcXVlc3RJZCB8fCAnPyd9OlxyXG4gICAgICBQbGVhc2UgbWFrZSBzdXJlIHRoYXQgeW91ciBKU09OL0phdmFTY3JpcHQgb3B0aW9uc1xyXG4gICAgICBhcmUgc2VudCB1c2luZyB0aGUgXCJvcHRpb25zXCIgYXR0cmlidXRlLCBhbmQgdGhhdCBpZiB5b3UncmUgdXNpbmdcclxuICAgICAgU1ZHLCBpdCBpcyB1bmVzY2FwZWQuYFxyXG4gICAgKTtcclxuXHJcbiAgICBsb2coMSwgbWVzc2FnZSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBlbmRDYWxsYmFjayAmJlxyXG4gICAgICBlbmRDYWxsYmFjayhcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgICAgIG1lc3NhZ2VcclxuICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBQcmVwYXJlcyBhbiBpbnB1dCBiZWZvcmUgZXhwb3J0aW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nVG9FeHBvcnQgLSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgU1ZHL2V4cG9ydCBvcHRpb25zLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZW5kQ2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGV4cG9ydGluZyBpcyBkb25lLlxyXG4gKi9cclxuY29uc3QgZXhwb3J0QXNTdHJpbmcgPSAoc3RyaW5nVG9FeHBvcnQsIG9wdGlvbnMsIGVuZENhbGxiYWNrKSA9PiB7XHJcbiAgY29uc3QgeyBhbGxvd0NvZGVFeGVjdXRpb24gfSA9IG9wdGlvbnMuY3VzdG9tQ29kZTtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgaXQgaXMgU1ZHXHJcbiAgaWYgKFxyXG4gICAgc3RyaW5nVG9FeHBvcnQuaW5kZXhPZignPHN2ZycpID49IDAgfHxcclxuICAgIHN0cmluZ1RvRXhwb3J0LmluZGV4T2YoJzw/eG1sJykgPj0gMFxyXG4gICkge1xyXG4gICAgbG9nKDQsICdbY2hhcnRdIFBhcnNpbmcgaW5wdXQgYXMgU1ZHLicpO1xyXG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGZhbHNlLCBlbmRDYWxsYmFjaywgc3RyaW5nVG9FeHBvcnQpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIFRyeSB0byBwYXJzZSB0byBKU09OIGFuZCBjYWxsIHRoZSBkb0V4cG9ydCBmdW5jdGlvblxyXG4gICAgY29uc3QgY2hhcnRKU09OID0gSlNPTi5wYXJzZShzdHJpbmdUb0V4cG9ydC5yZXBsYWNlQWxsKC9cXHR8XFxufFxcci9nLCAnICcpKTtcclxuXHJcbiAgICAvLyBJZiBhIGNvcnJlY3QgSlNPTiwgZG8gdGhlIGV4cG9ydFxyXG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGNoYXJ0SlNPTiwgZW5kQ2FsbGJhY2spO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAvLyBOb3QgYSB2YWxpZCBKU09OXHJcbiAgICBpZiAodG9Cb29sZWFuKGFsbG93Q29kZUV4ZWN1dGlvbikpIHtcclxuICAgICAgcmV0dXJuIGRvU3RyYWlnaHRJbmplY3Qob3B0aW9ucywgZW5kQ2FsbGJhY2spO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gRG8gbm90IGFsbG93IHN0cmFpZ2h0IGluamVjdGlvbiB3aXRob3V0IHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gZmxhZ1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIGVuZENhbGxiYWNrICYmXHJcbiAgICAgICAgZW5kQ2FsbGJhY2soZmFsc2UsIHtcclxuICAgICAgICAgIGVycm9yOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogY2xlYXJUZXh0KFxyXG4gICAgICAgICAgICBgT25seSBKU09OIGNvbmZpZ3VyYXRpb25zIGFuZCBTVkcgaXMgYWxsb3dlZCBmb3IgdGhpcyBzZXJ2ZXIuIElmXHJcbiAgICAgICAgICAgIHRoaXMgaXMgeW91ciBzZXJ2ZXIsIEphdmFTY3JpcHQgZXhwb3J0aW5nIGNhbiBiZSBlbmFibGVkIGJ5IHN0YXJ0aW5nXHJcbiAgICAgICAgICAgIHRoZSBzZXJ2ZXIgd2l0aCB0aGUgLS1hbGxvd0NvZGVFeGVjdXRpb24gZmxhZy5gXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogU3RhcnRzIGFuIGV4cG9ydGluZyBwcm9jZXNzXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyAtIFNldHRpbmdzIGZvciBleHBvcnQuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGVuZENhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBleHBvcnRpbmcgaXMgZG9uZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBzdGFydEV4cG9ydDogYXN5bmMgKHNldHRpbmdzLCBlbmRDYWxsYmFjaykgPT4ge1xyXG4gICAgLy8gU3RhcnRpbmcgZXhwb3J0aW5nIHByb2Nlc3MgbWVzc2FnZVxyXG4gICAgbG9nKDQsICdbY2hhcnRdIFN0YXJ0aW5nIGV4cG9ydGluZyBwcm9jZXNzLicpO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgb3B0aW9uc1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IGluaXRFeHBvcnRTZXR0aW5ncyhzZXR0aW5ncywgcG9vbE9wdGlvbnMpO1xyXG5cclxuICAgIC8vIEdldCB0aGUgZXhwb3J0IG9wdGlvbnNcclxuICAgIGNvbnN0IGV4cG9ydE9wdGlvbnMgPSBvcHRpb25zLmV4cG9ydDtcclxuXHJcbiAgICAvLyBJZiBTVkcgaXMgYW4gaW5wdXQgKGFyZ3VtZW50IGNhbiBiZSBzZW50IG9ubHkgYnkgdGhlIHJlcXVlc3QpXHJcbiAgICBpZiAob3B0aW9ucy5wYXlsb2FkPy5zdmcgJiYgb3B0aW9ucy5wYXlsb2FkLnN2ZyAhPT0gJycpIHtcclxuICAgICAgcmV0dXJuIGV4cG9ydEFzU3RyaW5nKG9wdGlvbnMucGF5bG9hZC5zdmcudHJpbSgpLCBvcHRpb25zLCBlbmRDYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXhwb3J0IHVzaW5nIG9wdGlvbnMgZnJvbSB0aGUgZmlsZVxyXG4gICAgaWYgKGV4cG9ydE9wdGlvbnMuaW5maWxlICYmIGV4cG9ydE9wdGlvbnMuaW5maWxlLmxlbmd0aCkge1xyXG4gICAgICBsb2coNCwgJ1tjaGFydF0gQXR0ZW1wdGluZyB0byBleHBvcnQgZnJvbSBhbiBpbnB1dCBmaWxlLicpO1xyXG5cclxuICAgICAgLy8gVHJ5IHRvIHJlYWQgdGhlIGZpbGVcclxuICAgICAgcmV0dXJuIHJlYWRGaWxlKGV4cG9ydE9wdGlvbnMuaW5maWxlLCAndXRmOCcsIChlcnJvciwgaW5maWxlKSA9PiB7XHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICByZXR1cm4gbG9nKDEsIGBbY2hhcnRdIEVycm9yIGxvYWRpbmcgaW5wdXQgZmlsZTogJHtlcnJvcn0uYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxyXG4gICAgICAgIG9wdGlvbnMuZXhwb3J0Lmluc3RyID0gaW5maWxlO1xyXG4gICAgICAgIHJldHVybiBleHBvcnRBc1N0cmluZyhcclxuICAgICAgICAgIG9wdGlvbnMuZXhwb3J0Lmluc3RyLnRyaW0oKSxcclxuICAgICAgICAgIG9wdGlvbnMsXHJcbiAgICAgICAgICBlbmRDYWxsYmFja1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4cG9ydCB3aXRoIG9wdGlvbnMgZnJvbSB0aGUgcmF3IHJlcHJlc2VudGF0aW9uXHJcbiAgICBpZiAoXHJcbiAgICAgIChleHBvcnRPcHRpb25zLmluc3RyICYmIGV4cG9ydE9wdGlvbnMuaW5zdHIgIT09ICcnKSB8fFxyXG4gICAgICAoZXhwb3J0T3B0aW9ucy5vcHRpb25zICYmIGV4cG9ydE9wdGlvbnMub3B0aW9ucyAhPT0gJycpXHJcbiAgICApIHtcclxuICAgICAgbG9nKDQsICdbY2hhcnRdIEF0dGVtcHRpbmcgdG8gZXhwb3J0IGZyb20gYSByYXcgaW5wdXQuJyk7XHJcblxyXG4gICAgICAvLyBQZXJmb3JtIGEgZGlyZWN0IGluamVjdCB3aGVuIGZvcmNlZFxyXG4gICAgICBpZiAodG9Cb29sZWFuKG9wdGlvbnMuY3VzdG9tQ29kZT8uYWxsb3dDb2RlRXhlY3V0aW9uKSkge1xyXG4gICAgICAgIHJldHVybiBkb1N0cmFpZ2h0SW5qZWN0KG9wdGlvbnMsIGVuZENhbGxiYWNrKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRWl0aGVyIHRyeSB0byBwYXJzZSB0byBKU09OIGZpcnN0IG9yIGRvIHRoZSBkaXJlY3QgZXhwb3J0XHJcbiAgICAgIHJldHVybiB0eXBlb2YgZXhwb3J0T3B0aW9ucy5pbnN0ciA9PT0gJ3N0cmluZydcclxuICAgICAgICA/IGV4cG9ydEFzU3RyaW5nKGV4cG9ydE9wdGlvbnMuaW5zdHIudHJpbSgpLCBvcHRpb25zLCBlbmRDYWxsYmFjaylcclxuICAgICAgICA6IGRvRXhwb3J0KFxyXG4gICAgICAgICAgICBvcHRpb25zLFxyXG4gICAgICAgICAgICBleHBvcnRPcHRpb25zLmluc3RyIHx8IGV4cG9ydE9wdGlvbnMub3B0aW9ucyxcclxuICAgICAgICAgICAgZW5kQ2FsbGJhY2tcclxuICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gaW5wdXQgc3BlY2lmaWVkLCBwYXNzIGFuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIGNhbGxiYWNrXHJcbiAgICBsb2coXHJcbiAgICAgIDEsXHJcbiAgICAgIGNsZWFyVGV4dChcclxuICAgICAgICBgW2NoYXJ0XSBObyBpbnB1dCBzcGVjaWZpZWQuXHJcbiAgICAgICAgJHtKU09OLnN0cmluZ2lmeShleHBvcnRPcHRpb25zLCB1bmRlZmluZWQsICcgICcpfS5gXHJcbiAgICAgIClcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgZW5kQ2FsbGJhY2sgJiZcclxuICAgICAgZW5kQ2FsbGJhY2soZmFsc2UsIHtcclxuICAgICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiAnTm8gaW5wdXQgc3BlY2lmaWVkLidcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfSxcclxuICBnZXRBbGxvd0NvZGVFeGVjdXRpb246ICgpID0+IGFsbG93Q29kZUV4ZWN1dGlvbixcclxuICBzZXRBbGxvd0NvZGVFeGVjdXRpb246ICh2YWx1ZSkgPT4ge1xyXG4gICAgYWxsb3dDb2RlRXhlY3V0aW9uID0gdG9Cb29sZWFuKHZhbHVlKTtcclxuICB9LFxyXG4gIHNldFBvb2xPcHRpb25zOiAob3B0aW9ucykgPT4ge1xyXG4gICAgcG9vbE9wdGlvbnMgPSBvcHRpb25zO1xyXG4gIH0sXHJcbiAgZmluZENoYXJ0U2l6ZVxyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcclxuaW1wb3J0IHsgUG9vbCB9IGZyb20gJ3Rhcm4nO1xyXG5pbXBvcnQge1xyXG4gIGNsb3NlLFxyXG4gIG5ld1BhZ2UgYXMgYnJvd3Nlck5ld1BhZ2UsXHJcbiAgY3JlYXRlIGFzIGNyZWF0ZUJyb3dzZXJcclxufSBmcm9tICcuL2Jyb3dzZXIuanMnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcblxyXG5pbXBvcnQgcHVwcGV0ZWVyRXhwb3J0IGZyb20gJy4vZXhwb3J0LmpzJztcclxuaW1wb3J0IGNoYXJ0IGZyb20gJy4vY2hhcnQuanMnO1xyXG5cclxubGV0IHBlcmZvcm1lZEV4cG9ydHMgPSAwO1xyXG5sZXQgZXhwb3J0QXR0ZW1wdHMgPSAwO1xyXG5sZXQgdGltZVNwZW50ID0gMDtcclxubGV0IGRyb3BwZWRFeHBvcnRzID0gMDtcclxubGV0IHNwZW50QXZlcmFnZSA9IDA7XHJcbmxldCBwb29sQ29uZmlnID0ge307XHJcblxyXG4vLyBUaGUgcG9vbCBpbnN0YW5jZVxyXG5sZXQgcG9vbCA9IGZhbHNlO1xyXG5cclxuLy8gQ3VzdG9tIHB1cHBldGVlciBhcmd1bWVudHNcclxubGV0IHB1cHBldGVlckFyZ3M7XHJcblxyXG5jb25zdCBmYWN0b3J5ID0ge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgd29ya2VyLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7b2JqZWN0fSAtIEFuIG9iamVjdCB3aXRoIHRoZSBpZCBvZiBhIHJlc291cmNlLCB0aGUgd29yayBjb3VudCBhbmRcclxuICAgKiBhIHJlZmVyZW5jZSB0byB0aGUgYnJvd3NlciBwYWdlLlxyXG4gICAqL1xyXG4gIGNyZWF0ZTogYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgaWQgPSB1dWlkKCk7XHJcbiAgICBsZXQgcGFnZSA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0IHMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBwYWdlID0gYXdhaXQgYnJvd3Nlck5ld1BhZ2UoKTtcclxuXHJcbiAgICAgIGlmICghcGFnZSB8fCBwYWdlLmlzQ2xvc2VkKCkpIHtcclxuICAgICAgICB0aHJvdyAnaW52YWxpZCBwYWdlJztcclxuICAgICAgfVxyXG5cclxuICAgICAgbG9nKFxyXG4gICAgICAgIDMsXHJcbiAgICAgICAgYFtwb29sXSBTdWNjZXNzZnVsbHkgY3JlYXRlZCBhIHdvcmtlciAke2lkfSAtIHRvb2sgJHtcclxuICAgICAgICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc1xyXG4gICAgICAgIH0gbXMuYFxyXG4gICAgICApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgYFtwb29sXSBFcnJvciBjcmVhdGluZyBhIG5ldyBwYWdlIGluIHBvb2wgZW50cnkgY3JlYXRpb24hICR7ZXJyb3J9YFxyXG4gICAgICApO1xyXG5cclxuICAgICAgdGhyb3cgJ0Vycm9yIGNyZWF0aW5nIHBhZ2UnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkLFxyXG4gICAgICBwYWdlLFxyXG4gICAgICAvLyBUcnkgdG8gZGlzdHJpYnV0ZSB0aGUgaW5pdGlhbCB3b3JrIGNvdW50XHJcbiAgICAgIHdvcmtDb3VudDogTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKHBvb2xDb25maWcud29ya0xpbWl0IC8gMikpXHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIFZhbGlkYXRlcyBhIHdvcmtlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB3b3JrZXJIYW5kbGUgLSBBIGJyb3dzZXIncyBpbnN0YW5jZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IC0gQm9vbCB0aGF0IGluZGljYXRlcyBpZiBhIHJlc291cmNlIGlzIHZhbGlkIG9yIG5vdC5cclxuICAgKi9cclxuICB2YWxpZGF0ZTogKHdvcmtlckhhbmRsZSkgPT4ge1xyXG4gICAgaWYgKFxyXG4gICAgICBwb29sQ29uZmlnLndvcmtMaW1pdCAmJlxyXG4gICAgICArK3dvcmtlckhhbmRsZS53b3JrQ291bnQgPiBwb29sQ29uZmlnLndvcmtMaW1pdFxyXG4gICAgKSB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICAzLFxyXG4gICAgICAgIGBbcG9vbF0gV29ya2VyIGZhaWxlZCB2YWxpZGF0aW9uOmAsXHJcbiAgICAgICAgYGV4Y2VlZGVkIHdvcmsgbGltaXQgKGxpbWl0IGlzICR7cG9vbENvbmZpZy53b3JrTGltaXR9KWBcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveXMgYSB3b3JrZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gd29ya2VySGFuZGxlIC0gQSBicm93c2VyJ3MgaW5zdGFuY2UuXHJcbiAgICovXHJcbiAgZGVzdHJveTogKHdvcmtlckhhbmRsZSkgPT4ge1xyXG4gICAgbG9nKDMsIGBbcG9vbF0gRGVzdHJveWluZyBwb29sIGVudHJ5ICR7d29ya2VySGFuZGxlLmlkfS5gKTtcclxuXHJcbiAgICBpZiAod29ya2VySGFuZGxlLnBhZ2UpIHtcclxuICAgICAgLy8gV2UgZG9uJ3QgcmVhbGx5IG5lZWQgdG8gd2FpdCBhcm91bmQgZm9yIHRoaXMuXHJcbiAgICAgIHdvcmtlckhhbmRsZS5wYWdlLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gTG9nZ2VyIGZ1bmN0aW9uXHJcbiAgbG9nOiAobWVzc2FnZSwgbG9nTGV2ZWwpID0+IGNvbnNvbGUubG9nKGAke2xvZ0xldmVsfTogJHttZXNzYWdlfWApXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0cyB0aGUgcG9vbCBvZiByZXNvdXJjZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBQb29sIGNvbmZpZ3VyYXRpb24gYWxvbmcgd2l0aCBjdXN0b20gcHVwcGV0ZWVyXHJcbiAqIGFyZ3VtZW50cyBmb3IgdGhlIHB1cHBldGVlci5sYXVuY2ggZnVuY3Rpb24uXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaW5pdCA9IGFzeW5jIChjb25maWcpID0+IHtcclxuICAvLyBUaGUgbmV3ZXN0IHB1cHBldGVlciBhcmd1bWVudHMgZm9yIHRoZSBicm93c2VyIGNyZWF0aW9uXHJcbiAgcHVwcGV0ZWVyQXJncyA9IGNvbmZpZy5wdXBwZXRlZXJBcmdzO1xyXG5cclxuICAvLyBXYWl0IHVudGlsIHdlJ3ZlIHN1Y2Vzc2Z1bGx5IGNyZWF0ZWQgYSBicm93c2VyIGluc3RhbmNlLlxyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBjcmVhdGVCcm93c2VyKHB1cHBldGVlckFyZ3MpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGxvZygwLCAnW3Bvb2x8YnJvd3Nlcl0nLCBlKTtcclxuICB9XHJcblxyXG4gIC8vIEZvciB0aGUgbW9kdWxlIHNjb3BlIHVzYWdlXHJcbiAgcG9vbENvbmZpZyA9IGNvbmZpZyAmJiBjb25maWcucG9vbCA/IHsgLi4uY29uZmlnLnBvb2wgfSA6IHt9O1xyXG5cclxuICBsb2coXHJcbiAgICAzLFxyXG4gICAgJ1twb29sXSBJbml0aWFsaXppbmcgcG9vbDonLFxyXG4gICAgYG1pbiAke3Bvb2xDb25maWcuaW5pdGlhbFdvcmtlcnN9LCBtYXggJHtwb29sQ29uZmlnLm1heFdvcmtlcnN9LmBcclxuICApO1xyXG5cclxuICBpZiAocG9vbCkge1xyXG4gICAgcmV0dXJuIGxvZyhcclxuICAgICAgNCxcclxuICAgICAgJ1twb29sXSBBbHJlYWR5IGluaXRpYWxpemVkLCBwbGVhc2Uga2lsbCBpdCBiZWZvcmUgY3JlYXRpbmcgYSBuZXcgb25lLidcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBBdHRhY2ggcHJvY2VzcycgZXhpdCBsaXN0ZW5lcnNcclxuICBpZiAocG9vbENvbmZpZy5saXN0ZW5Ub1Byb2Nlc3NFeGl0cykge1xyXG4gICAgYXR0YWNoUHJvY2Vzc0V4aXRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBDcmVhdGUgYSBwb29sIGFsb25nIHdpdGggYSBtaW5pbWFsIG51bWJlciBvZiByZXNvdXJjZXNcclxuICAgIHBvb2wgPSBuZXcgUG9vbCh7XHJcbiAgICAgIC8vIEdldCB0aGUgY3JlYXRlL3ZhbGlkYXRlL2Rlc3Ryb3kvbG9nIGZ1bmN0aW9uc1xyXG4gICAgICAuLi5mYWN0b3J5LFxyXG4gICAgICBtaW46IHBvb2xDb25maWcuaW5pdGlhbFdvcmtlcnMsXHJcbiAgICAgIG1heDogcG9vbENvbmZpZy5tYXhXb3JrZXJzLFxyXG4gICAgICBjcmVhdGVSZXRyeUludGVydmFsTWlsbGlzOiAyMDAsXHJcbiAgICAgIGNyZWF0ZVRpbWVvdXRNaWxsaXM6IHBvb2xDb25maWcuYWNxdWlyZVRpbWVvdXQsXHJcbiAgICAgIGFjcXVpcmVUaW1lb3V0TWlsbGlzOiBwb29sQ29uZmlnLmFjcXVpcmVUaW1lb3V0LFxyXG4gICAgICBkZXN0cm95VGltZW91dE1pbGxpczogcG9vbENvbmZpZy5hY3F1aXJlVGltZW91dCxcclxuICAgICAgaWRsZVRpbWVvdXRNaWxsaXM6IHBvb2xDb25maWcudGltZW91dFRocmVzaG9sZCxcclxuICAgICAgcmVhcEludGVydmFsTWlsbGlzOiAxMDAwLCAvLyBwb29sQ29uZmlnLnJlYXBlciA/IDEyMDAwMCA6IDAsIGZvciBub3dcclxuICAgICAgcHJvcGFnYXRlQ3JlYXRlRXJyb3I6IGZhbHNlXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTZXQgZXZlbnRzXHJcbiAgICBwb29sLm9uKCdjcmVhdGVGYWlsJywgKGV2ZW50SWQsIGVycikgPT4ge1xyXG4gICAgICBsb2coMSwgYFtwb29sXSBFcnJvciB3aGVuIGNyZWF0aW5nIHdvcmtlciBvZiBhbiBldmVudCBpZCAke2V2ZW50SWR9OmAsIGVycik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwb29sLm9uKCdhY3F1aXJlRmFpbCcsIChldmVudElkLCBlcnIpID0+IHtcclxuICAgICAgbG9nKDEsIGBbcG9vbF0gRXJyb3Igd2hlbiBhY3F1aXJpbmcgd29ya2VyIG9mIGFuIGV2ZW50IGlkICR7ZXZlbnRJZH06YCwgZXJyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHBvb2wub24oJ2Rlc3Ryb3lGYWlsJywgKGV2ZW50SWQsIHJlc291cmNlLCBlcnIpID0+IHtcclxuICAgICAgbG9nKDEsIGBbcG9vbF0gRXJyb3Igd2hlbiBkZXN0cm95aW5nIHdvcmtlciBvZiBhbiBpZCAke3Jlc291cmNlLmlkfSwgZXZlbnQgaWQgJHtldmVudElkfTpgLCBlcnIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcG9vbC5vbigncmVsZWFzZScsIChyZXNvdXJjZSkgPT4ge1xyXG4gICAgICBsb2coNCwgYFtwb29sXSBSZWxlYXNpbmcgYSB3b3JrZXIgb2YgYW4gaWQgJHtyZXNvdXJjZS5pZH1gKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHBvb2wub24oJ2Rlc3Ryb3lTdWNjZXNzJywgKGV2ZW50SWQsIHJlc291cmNlKSA9PiB7XHJcbiAgICAgIGxvZyg0LCBgW3Bvb2xdIERlc3Ryb3llZCBhIHdvcmtlciBvZiBhbiBpZCAke3Jlc291cmNlLmlkfWApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgaW5pdGlhbFJlc291cmNlcyA9IFtdO1xyXG4gICAgLy8gQ3JlYXRlIGFuIGluaXRpYWwgbnVtYmVyIG9mIHJlc291cmNlc1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb29sQ29uZmlnLmluaXRpYWxXb3JrZXJzOyBpKyspIHtcclxuICAgICAgaW5pdGlhbFJlc291cmNlcy5wdXNoKGF3YWl0IHBvb2wuYWNxdWlyZSgpLnByb21pc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbGVhc2UgdGhlIGluaXRpYWwgbnVtYmVyIG9mIHJlc291cmNlcyBiYWNrIHRvIHRoZSBwb29sXHJcbiAgICBpbml0aWFsUmVzb3VyY2VzLmZvckVhY2goKHJlc291cmNlKSA9PiB7XHJcbiAgICAgIHBvb2wucmVsZWFzZShyZXNvdXJjZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsb2coXHJcbiAgICAgIDMsXHJcbiAgICAgIGBbcG9vbF0gVGhlIHBvb2wgaXMgcmVhZHkgd2l0aCAke3Bvb2xDb25maWcuaW5pdGlhbFdvcmtlcnN9IGluaXRpYWwgcmVzb3VyY2VzIHdhaXRpbmcuYFxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbG9nKDEsIGBbcG9vbF0gQ291bGRuJ3QgY3JlYXRlIHRoZSB3b3JrZXIgcG9vbCAke2Vycm9yfWApO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEF0dGFjaGVzIHByb2Nlc3MnIGV4aXQgbGlzdGVuZXJzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFByb2Nlc3NFeGl0TGlzdGVuZXJzKCkge1xyXG4gIGxvZyg0LCAnW3Bvb2xdIEF0dGFjaGluZyBleGl0IGxpc3RlbmVycyB0byB0aGUgcHJvY2Vzcy4nKTtcclxuXHJcbiAgLy8gS2lsbCBhbGwgcG9vbCByZXNvdXJjZXMgb24gZXhpdFxyXG4gIHByb2Nlc3Mub24oJ2V4aXQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBraWxsQWxsKCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEhhbmRsZXIgZm9yIHRoZSBTSUdJTlRcclxuICBwcm9jZXNzLm9uKCdTSUdJTlQnLCAobmFtZSwgY29kZSkgPT4ge1xyXG4gICAgbG9nKDQsIGBUaGUgJHtuYW1lfSBldmVudCB3aXRoIGNvZGU6ICR7Y29kZX0uYCk7XHJcbiAgICBwcm9jZXNzLmV4aXQoMSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEhhbmRsZXIgZm9yIHRoZSBTSUdURVJNXHJcbiAgcHJvY2Vzcy5vbignU0lHVEVSTScsIChuYW1lLCBjb2RlKSA9PiB7XHJcbiAgICBsb2coNCwgYFRoZSAke25hbWV9IGV2ZW50IHdpdGggY29kZTogJHtjb2RlfS5gKTtcclxuICAgIHByb2Nlc3MuZXhpdCgxKTtcclxuICB9KTtcclxuXHJcbiAgLy8gSGFuZGxlciBmb3IgdGhlIHVuY2F1Z2h0RXhjZXB0aW9uXHJcbiAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCBhc3luYyAoZXJyb3IsIG5hbWUpID0+IHtcclxuICAgIGxvZyg0LCBgVGhlICR7bmFtZX0gZXJyb3IsIG1lc3NhZ2U6ICR7ZXJyb3IubWVzc2FnZX0uYCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBLaWxscyB0aGUgcG9vbCBhbmQgZmx1c2ggdGhlIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24ga2lsbEFsbCgpIHtcclxuICBsb2coMywgJ1twb29sXSBLaWxsaW5nIGFsbCB3b3JrZXJzLicpO1xyXG5cclxuICBjaGFydC5zZXRQb29sT3B0aW9ucyh7fSk7XHJcblxyXG4gIC8vIENsb3NlIGJyb3dzZXIgaW5zdGFuY2VcclxuICB0cnkge1xyXG4gICAgYXdhaXQgY2xvc2UoKTtcclxuICB9IGNhdGNoIHtcclxuICAgIC8vIGlmIHRoZSBicm93c2VyIGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLFxyXG4gICAgLy8gc2tpcCB0aGUgcmVzdCBvZiB0aGlzIGZ1bmN0aW9uXHJcbiAgICBsb2coNCwgXCJbcG9vbF0gV29ya2VyIGhhcyBhbHJlYWR5IGJlZW4ga2lsbGVkLlwiKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIFJldHVybiB0cnVlIHdoZW4gcG9vbCBpcyBhbHJlYWR5IGRlYWRcclxuICBpZiAoIXBvb2wpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gRGVzdHJveSB0aGUgcG9vbFxyXG4gIHJldHVybiBwb29sLmRlc3Ryb3koKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBvc3RzIHdvcmsgdG8gdGhlIHBvb2wuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjaGFydCAtIENoYXJ0J3Mgb3B0aW9ucy5cclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcG9zdFdvcmsgPSBhc3luYyAoY2hhcnQsIG9wdGlvbnMpID0+IHtcclxuICBsZXQgd29ya2VySGFuZGxlO1xyXG5cclxuICAvLyBIYW5kbGUgZmFpbCBjb25kaXRpb25zXHJcbiAgY29uc3QgZmFpbCA9IChtc2cpID0+IHtcclxuICAgICsrZHJvcHBlZEV4cG9ydHM7XHJcblxyXG4gICAgaWYgKHdvcmtlckhhbmRsZSkge1xyXG4gICAgICBwb29sLnJlbGVhc2Uod29ya2VySGFuZGxlKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyAnSW4gcG9vbC5wb3N0V29yazogJyArIG1zZztcclxuICB9O1xyXG5cclxuICBsb2coNCwgJ1twb29sXSBXb3JrIHJlY2VpdmVkLCBzdGFydGluZyB0byBwcm9jZXNzLicpO1xyXG5cclxuICBpZiAocG9vbENvbmZpZy5iZW5jaG1hcmtpbmcpIHtcclxuICAgIGdldFBvb2xJbmZvKCk7XHJcbiAgfVxyXG5cclxuICArK2V4cG9ydEF0dGVtcHRzO1xyXG5cclxuICBpZiAoIXBvb2wpIHtcclxuICAgIGxvZygxLCAnW3Bvb2xdIFdvcmsgcmVjZWl2ZWQsIGJ1dCBwb29sIGhhcyBub3QgYmVlbiBzdGFydGVkLicpO1xyXG4gICAgcmV0dXJuIGZhaWwoJ1Bvb2wgaXMgbm90IGluaXRlZCBidXQgd29yayB3YXMgcG9zdGVkIHRvIGl0IScpO1xyXG4gIH1cclxuXHJcbiAgLy8gQWNxdWlyZSB0aGUgd29ya2VyIGFsb25nIHdpdGggdGhlIGlkIG9mIHJlc291cmNlIGFuZCB3b3JrIGNvdW50XHJcbiAgdHJ5IHtcclxuICAgIGxvZyg0LCAnW3Bvb2xdIEFjcXVpcmluZyB3b3JrZXInKTtcclxuICAgIHdvcmtlckhhbmRsZSA9IGF3YWl0IHBvb2wuYWNxdWlyZSgpLnByb21pc2U7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBmYWlsKGBbcG9vbF0gRXJyb3Igd2hlbiBhY3F1aXJpbmcgYXZhaWxhYmxlIGVudHJ5OiAke2Vycm9yfWApO1xyXG4gIH1cclxuXHJcbiAgbG9nKDQsICdbcG9vbF0gQWNxdWlyZWQgd29ya2VyIGhhbmRsZScpO1xyXG5cclxuICBpZiAoIXdvcmtlckhhbmRsZS5wYWdlKSB7XHJcbiAgICByZXR1cm4gZmFpbCgnUmVzb2x2ZWQgd29ya2VyIHBhZ2UgaXMgaW52YWxpZDogcG9vbCBzZXR1cCBpcyB3b25reScpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIFNhdmUgdGhlIHN0YXJ0IHRpbWVcclxuICAgIGxldCB3b3JrU3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICBsb2coNCwgYFtwb29sXSBTdGFydGluZyB3b3JrIG9uIHBvb2wgZW50cnkgJHt3b3JrZXJIYW5kbGUuaWR9LmApO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gYW4gZXhwb3J0IG9uIGEgcHVwcGV0ZWVyIGxldmVsXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXBwZXRlZXJFeHBvcnQod29ya2VySGFuZGxlLnBhZ2UsIGNoYXJ0LCBvcHRpb25zKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBpdCdzIGFuIGVycm9yXHJcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgLy8gVE9ETzogSWYgdGhlIGV4cG9ydCBmYWlsZWQgYmVjYXVzZSBwdXBwZXRlZXIgdGltZWQgb3V0LCB3ZSBuZWVkIHRvIGZvcmNlIGtpbGwgdGhlIHdvcmtlciBzbyB3ZSBnZXQgYSBuZXcgcGFnZS4gVGhhdCBuZWVkcyB0byBiZSBoYW5kbGVkIGJldHRlciB0aGFuIHRoaXMgaGFjay5cclxuICAgICAgaWYgKHJlc3VsdC5tZXNzYWdlID09PSAnUmFzdGVyaXphdGlvbiB0aW1lb3V0Jykge1xyXG4gICAgICAgIHdvcmtlckhhbmRsZS5wYWdlLmNsb3NlKCk7XHJcbiAgICAgICAgd29ya2VySGFuZGxlLnBhZ2UgPSBhd2FpdCBicm93c2VyTmV3UGFnZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFpbChyZXN1bHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbGVhc2UgdGhlIHJlc291cmNlIGJhY2sgdG8gdGhlIHBvb2xcclxuICAgIHBvb2wucmVsZWFzZSh3b3JrZXJIYW5kbGUpO1xyXG5cclxuICAgIC8vIFVzZWQgZm9yIHN0YXRpc3RpY3MgaW4gYXZlcmFnZVRpbWUgYW5kIHByb2Nlc3NlZFdvcmtDb3VudCwgd2hpY2hcclxuICAgIC8vIGluIHR1cm4gaXMgdXNlZCBieSB0aGUgL2hlYWx0aCByb3V0ZS5cclxuICAgIGNvbnN0IHdvcmtFbmQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIGNvbnN0IGV4cG9ydFRpbWUgPSB3b3JrRW5kIC0gd29ya1N0YXJ0O1xyXG4gICAgdGltZVNwZW50ICs9IGV4cG9ydFRpbWU7XHJcbiAgICBzcGVudEF2ZXJhZ2UgPSB0aW1lU3BlbnQgLyArK3BlcmZvcm1lZEV4cG9ydHM7XHJcblxyXG4gICAgbG9nKDQsIGBbcG9vbF0gV29yayBjb21wbGV0ZWQgaW4gJHtleHBvcnRUaW1lfSBtcy5gKTtcclxuXHJcbiAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSByZXN1bHRcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgb3B0aW9uc1xyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgZmFpbChgRXJyb3IgdHJ5aW5nIHRvIHBlcmZvcm0gcHVwcGV0ZWVyIGV4cG9ydDogJHtlcnJvcn0uYCk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIHBvb2wuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9vbCgpIHtcclxuICByZXR1cm4gcG9vbDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFBvb2xJbmZvSlNPTiA9ICgpID0+ICh7XHJcbiAgbWluOiBwb29sLm1pbixcclxuICBtYXg6IHBvb2wubWF4LFxyXG4gIHNpemU6IHBvb2wuc2l6ZSxcclxuICBhdmFpbGFibGU6IHBvb2wuYXZhaWxhYmxlLFxyXG4gIGJvcnJvd2VkOiBwb29sLmJvcnJvd2VkLFxyXG4gIHBlbmRpbmc6IHBvb2wucGVuZGluZyxcclxuICBzcGFyZVJlc291cmNlQ2FwYWNpdHk6IHBvb2wuc3BhcmVSZXNvdXJjZUNhcGFjaXR5XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIHBvb2wncyBpbmZvcm1hdGlvbi5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb29sSW5mbygpIHtcclxuICBjb25zdCB7XHJcbiAgICBtaW4sXHJcbiAgICBtYXgsXHJcbiAgICBzaXplLFxyXG4gICAgYXZhaWxhYmxlLFxyXG4gICAgYm9ycm93ZWQsXHJcbiAgICBwZW5kaW5nLFxyXG4gICAgc3BhcmVSZXNvdXJjZUNhcGFjaXR5XHJcbiAgfSA9IHBvb2w7XHJcblxyXG4gIGxvZyg0LCBgW3Bvb2xdIFRoZSBtaW5pbXVtIG51bWJlciBvZiByZXNvdXJjZXMgYWxsb3dlZCBieSBwb29sOiAke21pbn0uYCk7XHJcbiAgbG9nKDQsIGBbcG9vbF0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc291cmNlcyBhbGxvd2VkIGJ5IHBvb2w6ICR7bWF4fS5gKTtcclxuICBsb2coXHJcbiAgICA0LFxyXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIGFsbCByZXNvdXJjZXMgaW4gcG9vbCAoZnJlZSBvciBpbiB1c2UpOiAke3NpemV9LmBcclxuICApO1xyXG4gIGxvZyhcclxuICAgIDQsXHJcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGN1cnJlbnRseSBhdmFpbGFibGU6ICR7YXZhaWxhYmxlfS5gXHJcbiAgKTtcclxuICBsb2coXHJcbiAgICA0LFxyXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0aGF0IGFyZSBjdXJyZW50bHkgYWNxdWlyZWQ6ICR7Ym9ycm93ZWR9LmBcclxuICApO1xyXG4gIGxvZyhcclxuICAgIDQsXHJcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgY2FsbGVycyB3YWl0aW5nIHRvIGFjcXVpcmUgYSByZXNvdXJjZTogJHtwZW5kaW5nfS5gXHJcbiAgKTtcclxuICBsb2coXHJcbiAgICA0LFxyXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIGhvdyBtYW55IG1vcmUgcmVzb3VyY2VzIGNhbiB0aGUgcG9vbCBtYW5hZ2UvY3JlYXRlOiAke3NwYXJlUmVzb3VyY2VDYXBhY2l0eX0uYFxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBpbml0LFxyXG4gIGtpbGxBbGwsXHJcbiAgcG9zdFdvcmssXHJcbiAgZ2V0UG9vbCxcclxuICBnZXRQb29sSW5mbyxcclxuICBnZXRQb29sSW5mb0pTT04sXHJcbiAgd29ya0F0dGVtcHRzOiAoKSA9PiBleHBvcnRBdHRlbXB0cyxcclxuICBkcm9wcGVkV29yazogKCkgPT4gZHJvcHBlZEV4cG9ydHMsXHJcbiAgYXZlcmFnZVRpbWU6ICgpID0+IHNwZW50QXZlcmFnZSxcclxuICBwcm9jZXNzZWRXb3JrQ291bnQ6ICgpID0+IHBlcmZvcm1lZEV4cG9ydHNcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi4vLi4vY2FjaGUuanMnO1xyXG5pbXBvcnQgcG9vbCBmcm9tICcuLi8uLi9wb29sLmpzJztcclxuXHJcbmNvbnN0IHBhY2thZ2VWZXJzaW9uID0gcHJvY2Vzcy5lbnYubnBtX3BhY2thZ2VfdmVyc2lvbjtcclxuY29uc3Qgc2VydmVyU3RhcnRUaW1lID0gbmV3IERhdGUoKTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIHRoZSAvaGVhbHRoIHJvdXRlIHdoaWNoIG91dHB1dHMgYmFzaWMgc3RhdHMgZm9yIHRoZSBzZXJ2ZXJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChhcHApID0+XHJcbiAgIWFwcFxyXG4gICAgPyBmYWxzZVxyXG4gICAgOiBhcHAuZ2V0KCcvaGVhbHRoJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgICAgICBzdGF0dXM6ICdPSycsXHJcbiAgICAgICAgICBib290VGltZTogc2VydmVyU3RhcnRUaW1lLFxyXG4gICAgICAgICAgdXB0aW1lOlxyXG4gICAgICAgICAgICBNYXRoLmZsb29yKFxyXG4gICAgICAgICAgICAgIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNlcnZlclN0YXJ0VGltZS5nZXRUaW1lKCkpIC8gMTAwMCAvIDYwXHJcbiAgICAgICAgICAgICkgKyAnIG1pbnV0ZXMnLFxyXG4gICAgICAgICAgdmVyc2lvbjogcGFja2FnZVZlcnNpb24sXHJcbiAgICAgICAgICBoaWdoY2hhcnRzVmVyc2lvbjogY2FjaGUudmVyc2lvbigpLFxyXG4gICAgICAgICAgYXZlcmFnZVByb2Nlc3NpbmdUaW1lOiBwb29sLmF2ZXJhZ2VUaW1lKCksXHJcbiAgICAgICAgICBwZXJmb3JtZWRFeHBvcnRzOiBwb29sLnByb2Nlc3NlZFdvcmtDb3VudCgpLFxyXG4gICAgICAgICAgZmFpbGVkRXhwb3J0czogcG9vbC5kcm9wcGVkV29yaygpLFxyXG4gICAgICAgICAgZXhwb3J0QXR0ZW1wdHM6IHBvb2wud29ya0F0dGVtcHRzKCksXHJcbiAgICAgICAgICBzdWNlc3NSYXRpbzogKHBvb2wucHJvY2Vzc2VkV29ya0NvdW50KCkgLyBwb29sLndvcmtBdHRlbXB0cygpKSAqIDEwMCxcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbmFtZWQtYXMtZGVmYXVsdC1tZW1iZXJcclxuICAgICAgICAgIHBvb2w6IHBvb2wuZ2V0UG9vbEluZm9KU09OKClcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gJ3V1aWQnO1xyXG5cclxuaW1wb3J0IGNoYXJ0IGZyb20gJy4uLy4uL2NoYXJ0LmpzJztcclxuaW1wb3J0IHsgaW5pdERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJztcclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi4vLi4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHtcclxuICBjbGVhclRleHQsXHJcbiAgZml4VHlwZSxcclxuICBpc0NvcnJlY3RKU09OLFxyXG4gIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQsXHJcbiAgbWVyZ2VDb25maWdPcHRpb25zLFxyXG4gIG9wdGlvbnNTdHJpbmdpZnksXHJcbiAgbWVhc3VyZVRpbWVcclxufSBmcm9tICcuLi8uLi91dGlscy5qcyc7XHJcbmltcG9ydCB7IGRlZmF1bHRDb25maWcgfSBmcm9tICcuLi8uLi9zY2hlbWFzL2NvbmZpZy5qcyc7XHJcblxyXG4vLyBSZXZlcnNlZCBNSU1FIHR5cGVzXHJcbmNvbnN0IHJldmVyc2VkTWltZSA9IHtcclxuICBwbmc6ICdpbWFnZS9wbmcnLFxyXG4gIGpwZWc6ICdpbWFnZS9qcGVnJyxcclxuICBnaWY6ICdpbWFnZS9naWYnLFxyXG4gIHBkZjogJ2FwcGxpY2F0aW9uL3BkZicsXHJcbiAgc3ZnOiAnaW1hZ2Uvc3ZnK3htbCdcclxufTtcclxuXHJcbi8vIFRoZSByZXF1ZXN0cyBjb3VudGVyXHJcbmxldCByZXF1ZXN0c0NvdW50ZXIgPSAwO1xyXG5cclxuY29uc3QgYmVuY2htYXJrID0gZmFsc2U7XHJcblxyXG4vLyBUaGUgYXJyYXkgb2YgY2FsbGJhY2tzIHRvIGNhbGwgYmVmb3JlIGEgcmVxdWVzdFxyXG5jb25zdCBiZWZvcmVSZXF1ZXN0ID0gW107XHJcblxyXG4vLyBUaGUgYXJyYXkgb2YgY2FsbGJhY2tzIHRvIGNhbGwgYWZ0ZXIgYSByZXF1ZXN0XHJcbmNvbnN0IGFmdGVyUmVxdWVzdCA9IFtdO1xyXG5cclxuLyoqXHJcbiAqIENhbGxzIGNhbGxiYWNrcy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gY2FsbGJhY2tzIC0gQW4gYXJyYXkgb2YgY2FsbGJhY2tzLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0LlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgLSBUaGUgcmVzcG9uc2UuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgdG8gc2VuZCB0byBjYWxsYmFja3MuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBUaGUgcmVzdWx0IGZyb20gYSBjYWxsYmFjay5cclxuICovXHJcbmNvbnN0IGRvQ2FsbGJhY2tzID0gKGNhbGxiYWNrcywgcmVxdWVzdCwgcmVzcG9uc2UsIGRhdGEpID0+IHtcclxuICBsZXQgcmVzdWx0ID0gdHJ1ZTtcclxuICBjb25zdCB7IGlkLCB1bmlxdWVJZCwgdHlwZSwgYm9keSB9ID0gZGF0YTtcclxuXHJcbiAgY2FsbGJhY2tzLnNvbWUoKGNhbGxiYWNrKSA9PiB7XHJcbiAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgbGV0IGNhbGxSZXNwb25zZSA9IGNhbGxiYWNrKHJlcXVlc3QsIHJlc3BvbnNlLCBpZCwgdW5pcXVlSWQsIHR5cGUsIGJvZHkpO1xyXG5cclxuICAgICAgaWYgKGNhbGxSZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIGNhbGxSZXNwb25zZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgIHJlc3VsdCA9IGNhbGxSZXNwb25zZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG4vKipcclxuICogSGFuZGxlcyBhbiBleHBvcnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSAtIFRoZSByZXNwb25zZS5cclxuICovXHJcbmNvbnN0IGV4cG9ydEhhbmRsZXIgPSAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAvLyBTdGFydCBjb3VudGluZyB0aW1lXHJcbiAgY29uc3Qgc3RvcENvdW50ZXIgPSBtZWFzdXJlVGltZSgpO1xyXG5cclxuICAvLyBHZXQgZGVmYXVsdCBvcHRpb25zIGZyb20gdGhlIGNvbmZpZ1xyXG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gaW5pdERlZmF1bHRPcHRpb25zKGRlZmF1bHRDb25maWcpO1xyXG5cclxuICAvLyBJbml0IGRlZmF1bHQgb3B0aW9uc1xyXG4gIGlmIChiZW5jaG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKCdJbml0IGRlZmF1bHQgb3B0aW9uczonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBib2R5ID0gcmVxdWVzdC5ib2R5O1xyXG4gIGNvbnN0IGlkID0gKytyZXF1ZXN0c0NvdW50ZXI7XHJcbiAgY29uc3QgdW5pcXVlSWQgPSB1dWlkKCkucmVwbGFjZSgvLS9nLCAnJyk7XHJcbiAgbGV0IHR5cGUgPSBmaXhUeXBlKGJvZHkudHlwZSk7XHJcblxyXG4gIC8vIEZpeCB0eXBlXHJcbiAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgY29uc29sZS5sb2coJ0ZpeCB0eXBlOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICB9XHJcblxyXG4gIC8vIFRocm93ICdCYWQgUmVxdWVzdCcgaWYgdGhlcmUncyBubyBib2R5XHJcbiAgaWYgKCFib2R5KSB7XHJcbiAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuc2VuZChcclxuICAgICAgY2xlYXJUZXh0KFxyXG4gICAgICAgIGBCb2R5IGlzIHJlcXVpcmVkLiBTZW5kaW5nIGEgYm9keT8gTWFrZSBzdXJlIHlvdXIgQ29udGVudC10eXBlIGhlYWRlclxyXG4gICAgICAgIGlzIGNvcnJlY3QuIEFjY2VwdGVkIGlzIGFwcGxpY2F0aW9uL2pzb24gYW5kIG11bHRpcGFydC9mb3JtLWRhdGEuYFxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gQWxsIG9mIHRoZSBiZWxvdyBjYW4gYmUgdXNlZFxyXG4gIGxldCBpbnN0ciA9IGlzQ29ycmVjdEpTT04oYm9keS5pbmZpbGUgfHwgYm9keS5vcHRpb25zIHx8IGJvZHkuZGF0YSk7XHJcblxyXG4gIC8vIElzIGNvcnJlY3QgSlNPTlxyXG4gIGlmIChiZW5jaG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKCdJcyBjb3JyZWN0IEpTT046Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gVGhyb3cgJ0JhZCBSZXF1ZXN0JyBpZiB0aGVyZSdzIG5vIEpTT04gb3IgU1ZHIHRvIGV4cG9ydFxyXG4gIGlmICghaW5zdHIgJiYgIWJvZHkuc3ZnKSB7XHJcbiAgICBsb2coXHJcbiAgICAgIDIsXHJcbiAgICAgIGNsZWFyVGV4dChcclxuICAgICAgICBgUmVxdWVzdCAke3VuaXF1ZUlkfSBmcm9tICR7XHJcbiAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddIHx8IHJlcXVlc3QuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzXHJcbiAgICAgICAgfSB3YXMgaW5jb3JyZWN0LiBDaGVjayB5b3VyIHBheWxvYWQuYFxyXG4gICAgICApXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKFxyXG4gICAgICBjbGVhclRleHQoXHJcbiAgICAgICAgYE5vIGNvcnJlY3QgY2hhcnQgZGF0YSBmb3VuZC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgYXJlIHVzaW5nXHJcbiAgICAgICAgYXBwbGljYXRpb24vanNvbiBvciBtdWx0aXBhcnQvZm9ybS1kYXRhIGhlYWRlcnMsIGFuZCB0aGF0IHRoZSBjaGFydFxyXG4gICAgICAgIGRhdGEgaXMgaW4gdGhlICdpbmZpbGUnLCAnb3B0aW9ucycgb3IgJ2RhdGEnIGF0dHJpYnV0ZSBpZiBzZW5kaW5nXHJcbiAgICAgICAgSlNPTiBvciBpbiB0aGUgJ3N2ZycgaWYgc2VuZGluZyBTVkcuYFxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgbGV0IGNhbGxSZXNwb25zZSA9IGZhbHNlO1xyXG5cclxuICAvLyBDYWxsIHRoZSBiZWZvcmUgcmVxdWVzdCBmdW5jdGlvbnNcclxuICBjYWxsUmVzcG9uc2UgPSBkb0NhbGxiYWNrcyhiZWZvcmVSZXF1ZXN0LCByZXF1ZXN0LCByZXNwb25zZSwge1xyXG4gICAgaWQsXHJcbiAgICB1bmlxdWVJZCxcclxuICAgIHR5cGUsXHJcbiAgICBib2R5XHJcbiAgfSk7XHJcblxyXG4gIC8vIERvIGNhbGxiYWNrc1xyXG4gIGlmIChiZW5jaG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKCdEbyBjYWxsYmFja3M6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gQmxvY2sgdGhlIHJlcXVlc3QgaWYgb25lIG9mIGEgY2FsbGJhY2tzIGZhaWxlZFxyXG4gIGlmIChjYWxsUmVzcG9uc2UgIT09IHRydWUpIHtcclxuICAgIHJldHVybiByZXNwb25zZS5zZW5kKGNhbGxSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBsZXQgY29ubmVjdGlvbkFib3J0ZWQgPSBmYWxzZTtcclxuXHJcbiAgLy8gSW4gY2FzZSB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQsIGZvcmNlIHRvIGFib3J0IGZ1cnRoZXIgYWN0aW9uc1xyXG4gIHJlcXVlc3Quc29ja2V0Lm9uKCdjbG9zZScsICgpID0+IHtcclxuICAgIGNvbm5lY3Rpb25BYm9ydGVkID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgbG9nKDQsIGBbZXhwb3J0XSBHb3QgYW4gaW5jb21pbmcgSFRUUCByZXF1ZXN0ICR7dW5pcXVlSWR9LmApO1xyXG5cclxuICBib2R5LmNvbnN0ciA9ICh0eXBlb2YgYm9keS5jb25zdHIgPT09ICdzdHJpbmcnICYmIGJvZHkuY29uc3RyKSB8fCAnY2hhcnQnO1xyXG5cclxuICAvLyBHYXRoZXIgYW5kIG9yZ2FuaXplIG9wdGlvbnMgZnJvbSB0aGUgcGF5bG9hZFxyXG4gIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xyXG4gICAgZXhwb3J0OiB7XHJcbiAgICAgIGluc3RyLFxyXG4gICAgICB0eXBlLFxyXG4gICAgICBjb25zdHI6IGJvZHkuY29uc3RyWzBdLnRvTG93ZXJDYXNlKCkgKyBib2R5LmNvbnN0ci5zdWJzdHIoMSksXHJcbiAgICAgIGhlaWdodDogYm9keS5oZWlnaHQsXHJcbiAgICAgIHdpZHRoOiBib2R5LndpZHRoLFxyXG4gICAgICBzY2FsZTogYm9keS5zY2FsZSB8fCBkZWZhdWx0T3B0aW9ucy5leHBvcnQuc2NhbGUsXHJcbiAgICAgIGdsb2JhbE9wdGlvbnM6IGlzQ29ycmVjdEpTT04oYm9keS5nbG9iYWxPcHRpb25zLCB0cnVlKSxcclxuICAgICAgdGhlbWVPcHRpb25zOiBpc0NvcnJlY3RKU09OKGJvZHkudGhlbWVPcHRpb25zLCB0cnVlKVxyXG4gICAgfSxcclxuICAgIGN1c3RvbUNvZGU6IHtcclxuICAgICAgYWxsb3dDb2RlRXhlY3V0aW9uOiBjaGFydC5nZXRBbGxvd0NvZGVFeGVjdXRpb24oKSxcclxuICAgICAgYWxsb3dGaWxlUmVzb3VyY2VzOiBmYWxzZSxcclxuICAgICAgcmVzb3VyY2VzOiBpc0NvcnJlY3RKU09OKGJvZHkucmVzb3VyY2VzLCB0cnVlKSxcclxuICAgICAgY2FsbGJhY2s6IGJvZHkuY2FsbGJhY2ssXHJcbiAgICAgIGN1c3RvbUNvZGU6IGJvZHkuY3VzdG9tQ29kZVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIE9yZ2FuaXplIG9wdGlvbnNcclxuICBpZiAoYmVuY2htYXJrKSB7XHJcbiAgICBjb25zb2xlLmxvZygnT3JnYW5pemUgb3B0aW9uczonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgfVxyXG5cclxuICBpZiAoaW5zdHIpIHtcclxuICAgIC8vIFN0cmluZ2lmeSBKU09OIHdpdGggb3B0aW9uc1xyXG4gICAgcmVxdWVzdE9wdGlvbnMuZXhwb3J0Lmluc3RyID0gb3B0aW9uc1N0cmluZ2lmeShcclxuICAgICAgaW5zdHIsXHJcbiAgICAgIHJlcXVlc3RPcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dDb2RlRXhlY3V0aW9uXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFN0cmluZ2lmeSBKU09OIHdpdGggb3B0aW9uc1xyXG4gICAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnU3RyaW5naWZ5IEpTT04gd2l0aCBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE1lcmdlIHRoZSByZXF1ZXN0IG9wdGlvbnMgaW50byBkZWZhdWx0IG9uZXNcclxuICBjb25zdCBvcHRpb25zID0gbWVyZ2VDb25maWdPcHRpb25zKGRlZmF1bHRPcHRpb25zLCByZXF1ZXN0T3B0aW9ucyk7XHJcblxyXG4gIC8vIE1lcmdlIGNvbmZpZyBvcHRpb25zXHJcbiAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgY29uc29sZS5sb2coJ01lcmdlIGNvbmZpZyBvcHRpb25zOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICB9XHJcblxyXG4gIC8vIFNhdmUgdGhlIEpTT04gaWYgZXhpc3RzXHJcbiAgb3B0aW9ucy5leHBvcnQub3B0aW9ucyA9IGluc3RyO1xyXG5cclxuICAvLyBMYXN0bHksIGFkZCB0aGUgc2VydmVyIHNwZWNpZmljIGFyZ3VtZW50cyBpbnRvIG9wdGlvbnMgYXMgcGF5bG9hZFxyXG4gIG9wdGlvbnMucGF5bG9hZCA9IHtcclxuICAgIHN2ZzogYm9keS5zdmcgfHwgZmFsc2UsXHJcbiAgICBiNjQ6IGJvZHkuYjY0IHx8IGZhbHNlLFxyXG4gICAgZGF0YU9wdGlvbnM6IGlzQ29ycmVjdEpTT04oYm9keS5kYXRhT3B0aW9ucywgdHJ1ZSksXHJcbiAgICBub0Rvd25sb2FkOiBib2R5Lm5vRG93bmxvYWQgfHwgZmFsc2UsXHJcbiAgICByZXF1ZXN0SWQ6IHVuaXF1ZUlkXHJcbiAgfTtcclxuXHJcbiAgLy8gU2V0dGluZyBwYXlsb2FkXHJcbiAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgY29uc29sZS5sb2coJ1NldHRpbmcgcGF5bG9hZDonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgfVxyXG5cclxuICAvLyBUZXN0IHhsaW5rOmhyZWYgZWxlbWVudHMgZnJvbSBwYXlsb2FkJ3MgU1ZHXHJcbiAgaWYgKGJvZHkuc3ZnICYmIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQob3B0aW9ucy5wYXlsb2FkLnN2ZykpIHtcclxuICAgIHJldHVybiByZXNwb25zZVxyXG4gICAgICAuc3RhdHVzKDQwMClcclxuICAgICAgLnNlbmQoXHJcbiAgICAgICAgJ1NWRyBwb3RlbnRpYWxseSBjb250YWluIGF0IGxlYXN0IG9uZSBmb3JiaWRkZW4gVVJMIGluIHhsaW5rOmhyZWYgZWxlbWVudC4nXHJcbiAgICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBVUkwgcmFuZ2VcclxuICBpZiAoYmVuY2htYXJrKSB7XHJcbiAgICBjb25zb2xlLmxvZygnQ2hlY2sgVVJMIHJhbmdlOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICB9XHJcblxyXG4gIC8vIFN0YXJ0IHRoZSBleHBvcnQgcHJvY2Vzc1xyXG4gIGNoYXJ0LnN0YXJ0RXhwb3J0KG9wdGlvbnMsIChpbmZvLCBlcnJvcikgPT4ge1xyXG4gICAgLy8gUmVtb3ZlIHRoZSBjbG9zZSBldmVudCBmcm9tIHRoZSBzb2NrZXRcclxuICAgIHJlcXVlc3Quc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygnY2xvc2UnKTtcclxuXHJcbiAgICAvLyBBZnRlciBQdXBwZXRlZXIgZXhwb3J0aW5nXHJcbiAgICBpZiAoYmVuY2htYXJrKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdBZnRlciBQdXBwZXRlZXIgZXhwb3J0aW5nOicsIHN0b3BDb3VudGVyKCksICdtcy4nLCAnXFxuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCwgZG8gbm90aGluZ1xyXG4gICAgaWYgKGNvbm5lY3Rpb25BYm9ydGVkKSB7XHJcbiAgICAgIHJldHVybiBsb2coXHJcbiAgICAgICAgMyxcclxuICAgICAgICBjbGVhclRleHQoXHJcbiAgICAgICAgICBgW2V4cG9ydF0gVGhlIGNsaWVudCBjbG9zZWQgdGhlIGNvbm5lY3Rpb24gYmVmb3JlIHRoZSBjaGFydCB3YXMgZG9uZVxyXG4gICAgICAgICAgcHJvY2Vzc2luZy5gXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIGVycm9yLCByZXR1cm4gaXRcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBsb2coXHJcbiAgICAgICAgMSxcclxuICAgICAgICBjbGVhclRleHQoXHJcbiAgICAgICAgICBgW2V4cG9ydF0gV29yazogJHt1bmlxdWVJZH0gY291bGQgbm90IGJlIGNvbXBsZXRlZCwgc2VuZGluZzpcclxuICAgICAgICAgICR7ZXJyb3J9YFxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLnNlbmQoZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgZGF0YSBpcyBtaXNzaW5nLCByZXR1cm4gdGhlIGVycm9yXHJcbiAgICBpZiAoIWluZm8gfHwgIWluZm8uZGF0YSkge1xyXG4gICAgICBsb2coXHJcbiAgICAgICAgMSxcclxuICAgICAgICBjbGVhclRleHQoXHJcbiAgICAgICAgICBgW2V4cG9ydF0gVW5leHBlY3RlZCByZXR1cm4gZnJvbSBjaGFydCBnZW5lcmF0aW9uLCBwbGVhc2UgY2hlY2sgeW91clxyXG4gICAgICAgICAgZGF0YSBSZXF1ZXN0OiAke3VuaXF1ZUlkfSBpcyAke2luZm8uZGF0YX0uYFxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlXHJcbiAgICAgICAgLnN0YXR1cyg0MDApXHJcbiAgICAgICAgLnNlbmQoXHJcbiAgICAgICAgICAnVW5leHBlY3RlZCByZXR1cm4gZnJvbSBjaGFydCBnZW5lcmF0aW9uLCBwbGVhc2UgY2hlY2sgeW91ciBkYXRhLidcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgdHlwZSBmcm9tIG9wdGlvbnNcclxuICAgIHR5cGUgPSBpbmZvLm9wdGlvbnMuZXhwb3J0LnR5cGU7XHJcblxyXG4gICAgLy8gVGhlIGFmdGVyIHJlcXVlc3QgY2FsbGJhY2tzXHJcbiAgICBkb0NhbGxiYWNrcyhhZnRlclJlcXVlc3QsIHJlcXVlc3QsIHJlc3BvbnNlLCB7IGlkLCBib2R5OiBpbmZvLmRhdGEgfSk7XHJcblxyXG4gICAgaWYgKGluZm8uZGF0YSkge1xyXG4gICAgICAvLyBJZiBvbmx5IGJhc2U2NCBpcyByZXF1aXJlZCwgcmV0dXJuIGl0XHJcbiAgICAgIGlmIChib2R5LmI2NCkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGlzIGFscmVhZHkgYmFzZTY0IG9yIGEgcmF3IFNWR1xyXG4gICAgICAgIGlmICh0eXBlID09PSAncGRmJykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoXHJcbiAgICAgICAgICAgIEJ1ZmZlci5mcm9tKGluZm8uZGF0YSwgJ3V0ZjgnKS50b1N0cmluZygnYmFzZTY0JylcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKGluZm8uZGF0YSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNldCBjb3JyZWN0IGNvbnRlbnQgdHlwZVxyXG4gICAgICByZXNwb25zZS5oZWFkZXIoJ0NvbnRlbnQtVHlwZScsIHJldmVyc2VkTWltZVt0eXBlXSB8fCAnaW1hZ2UvcG5nJyk7XHJcblxyXG4gICAgICAvLyBEZWNpZGUgd2hldGhlciB0byBkb3dubG9hZCBvciBub3QgY2hhcnQgZmlsZVxyXG4gICAgICBpZiAoIWJvZHkubm9Eb3dubG9hZCkge1xyXG4gICAgICAgIHJlc3BvbnNlLmF0dGFjaG1lbnQoXHJcbiAgICAgICAgICBgJHtyZXF1ZXN0LnBhcmFtcy5maWxlbmFtZSB8fCAnY2hhcnQnfS4ke3R5cGUgfHwgJ3BuZyd9YFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIFNWRywgcmV0dXJuIHBsYWluIGNvbnRlbnRcclxuICAgICAgcmV0dXJuIHR5cGUgPT09ICdzdmcnXHJcbiAgICAgICAgPyByZXNwb25zZS5zZW5kKGluZm8uZGF0YSlcclxuICAgICAgICA6IHJlc3BvbnNlLnNlbmQoQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JykpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKGFwcCkgPT4ge1xyXG4gIGFwcC5wb3N0KCcvJywgZXhwb3J0SGFuZGxlcik7XHJcbiAgYXBwLnBvc3QoJy86ZmlsZW5hbWUnLCBleHBvcnRIYW5kbGVyKTtcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmc1Byb21pc2VzIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgeyBwb3NpeCB9IGZyb20gJ3BhdGgnO1xyXG5cclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcclxuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XHJcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XHJcblxyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi9sb2dnZXIuanMnO1xyXG5pbXBvcnQgcmF0ZUxpbWl0IGZyb20gJy4vcmF0ZV9saW1pdC5qcyc7XHJcbmltcG9ydCB7IF9fZGlybmFtZSB9IGZyb20gJy4uL3V0aWxzLmpzJztcclxuXHJcbmltcG9ydCBoZWFsdGhSb3V0ZSBmcm9tICcuL3JvdXRlcy9oZWFsdGguanMnO1xyXG5pbXBvcnQgZXhwb3J0Um91dGVzIGZyb20gJy4vcm91dGVzL2V4cG9ydC5qcyc7XHJcbmltcG9ydCB2c3dpdGNoUm91dGUgZnJvbSAnLi9yb3V0ZXMvY2hhbmdlLWhjLXZlcnNpb24uanMnO1xyXG5pbXBvcnQgdWlSb3V0ZSBmcm9tICcuL3JvdXRlcy91aS5qcyc7XHJcblxyXG4vLyBDcmVhdGUgZXhwcmVzcyBhcHBcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuLy8gRGlzYWJsZSB0aGUgWC1Qb3dlcmVkLUJ5IGhlYWRlclxyXG5hcHAuZGlzYWJsZSgneC1wb3dlcmVkLWJ5Jyk7XHJcblxyXG4vLyBFbmFibGUgQ09SUyBzdXBwb3J0XHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcbi8vIEVuYWJsZSBwYXJzaW5nIG9mIGZvcm0gZGF0YSAoZmlsZXMpIHdpdGggTXVsdGVyIHBhY2thZ2VcclxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5tZW1vcnlTdG9yYWdlKCk7XHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XHJcbiAgICBzdG9yYWdlLFxyXG4gICAgbGltaXRzOiB7XHJcbiAgICAgICAgZmllbGRzU2l6ZTogJzUwTUInXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuYXBwLnVzZSh1cGxvYWQuYW55KCkpO1xyXG5cclxuLy8gRW5hYmxlIGJvZHkgcGFyc2VyXHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKHsgbGltaXQ6ICc1MG1iJyB9KSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUsIGxpbWl0OiAnNTBtYicgfSkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSwgbGltaXQ6ICc1MG1iJyB9KSk7XHJcblxyXG4vKipcclxuICogRXJyb3IgaGFuZGxlciBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGVycm9yIC0gQW4gZXJyb3Igb2JqZWN0LlxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IC0gQW4gZXJyb3IgbWVzc2FnZS5cclxuICovXHJcbmNvbnN0IGVycm9ySGFuZGxlciA9IChlcnJvcikgPT4gbG9nKDEsIGBbc2VydmVyXSBTb2NrZXQgZXJyb3I6ICR7ZXJyb3J9YCk7XHJcblxyXG4vKipcclxuICogQXR0YWNoZXMgZXJyb3IgaGFuZGxlcnMgZm9yIGEgc2VydmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gc2VydmVyIC0gVGhlIGh0dHAvaHR0cHMgc2VydmVyLlxyXG4gKi9cclxuY29uc3QgYXR0YWNoRXJyb3JIYW5kbGVycyA9IChzZXJ2ZXIpID0+IHtcclxuICBzZXJ2ZXIub24oJ2NsaWVudEVycm9yJywgZXJyb3JIYW5kbGVyKTtcclxuICBzZXJ2ZXIub24oJ2Vycm9yJywgZXJyb3JIYW5kbGVyKTtcclxuICBzZXJ2ZXIub24oJ2Nvbm5lY3Rpb24nLCAoc29ja2V0KSA9PlxyXG4gICAgc29ja2V0Lm9uKCdlcnJvcicsIChlcnJvcikgPT4gZXJyb3JIYW5kbGVyKGVycm9yLCBzb2NrZXQpKVxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc3RhcnQgPSBhc3luYyAoc2VydmVyQ29uZmlnKSA9PiB7XHJcbiAgLy8gU3RvcCBpZiBub3QgZW5hYmxlZFxyXG4gIGlmICghc2VydmVyQ29uZmlnLmVuYWJsZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gLy8gR2V0IHRoZSBwb29sXHJcbiAgLy8gY29uc3QgcG9vbCA9IGdldFBvb2woKTtcclxuXHJcbiAgLy8gLy8gVHJ5IHRvIGNyZWF0ZSBicm93c2VyIGluc3RhbmNlIGJlZm9yZSBzdGFydGluZyB0aGUgc2VydmVyXHJcbiAgLy8gY29uc3QgcmVzb3VyY2UgPSBhd2FpdCBwb29sLmFjcXVpcmUoKTtcclxuXHJcbiAgLy8gLy8gSWYgbm90IGZvdW5kLCB0aHJvdyBhbiBlcnJvclxyXG4gIC8vIGlmICghcmVzb3VyY2UuYnJvd3Nlcikge1xyXG4gIC8vICAgbG9nKDEsIGBbczplcnZlcl0gQ291bGQgbm90IGFjcXVpcmUgYnJvd3NlciBpbnN0YW5jZS5gKTtcclxuICAvLyAgIHByb2Nlc3MuZXhpdCgxKTtcclxuICAvLyB9XHJcblxyXG4gIC8vIC8vIFJlbGVhc2UgdGhlIHJlc291cmNlXHJcbiAgLy8gcG9vbC5yZWxlYXNlKHJlc291cmNlKTtcclxuXHJcbiAgLy8gTGlzdGVuIEhUVFAgc2VydmVyXHJcbiAgaWYgKCFzZXJ2ZXJDb25maWcuc3NsLmVuYWJsZSAmJiAhc2VydmVyQ29uZmlnLnNzbC5mb3JjZSkge1xyXG4gICAgLy8gTWFpbiBzZXJ2ZXIgaW5zdGFuY2UgKEhUVFApXHJcbiAgICBjb25zdCBodHRwU2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcclxuICAgIC8vIEF0dGFjaCBlcnJvciBoYW5kbGVycyBhbmQgbGlzdGVuIHRvIHRoZSBzZXJ2ZXJcclxuICAgIGF0dGFjaEVycm9ySGFuZGxlcnMoaHR0cFNlcnZlcik7XHJcbiAgICAvLyBMaXN0ZW5cclxuICAgIGh0dHBTZXJ2ZXIubGlzdGVuKHNlcnZlckNvbmZpZy5wb3J0LCBzZXJ2ZXJDb25maWcuaG9zdCk7XHJcblxyXG4gICAgbG9nKFxyXG4gICAgICAzLFxyXG4gICAgICBgW3NlcnZlcl0gU3RhcnRlZCBIVFRQIHNlcnZlciBvbiAke3NlcnZlckNvbmZpZy5ob3N0fToke3NlcnZlckNvbmZpZy5wb3J0fS5gXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gTGlzdGVuIEhUVFBTIHNlcnZlclxyXG4gIGlmIChzZXJ2ZXJDb25maWcuc3NsLmVuYWJsZSkge1xyXG4gICAgLy8gU2V0IHVwIGFuIFNTTCBzZXJ2ZXIgYWxzb1xyXG4gICAgbGV0IGtleSwgY2VydDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBHZXQgdGhlIFNTTCBrZXlcclxuICAgICAga2V5ID0gYXdhaXQgZnNQcm9taXNlcy5yZWFkRmlsZShcclxuICAgICAgICBwb3NpeC5qb2luKHNlcnZlckNvbmZpZy5zc2wuY2VydFBhdGgsICdzZXJ2ZXIua2V5JyksXHJcbiAgICAgICAgJ3V0ZjgnXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIFNTTCBjZXJ0aWZpY2F0ZVxyXG4gICAgICBjZXJ0ID0gYXdhaXQgZnNQcm9taXNlcy5yZWFkRmlsZShcclxuICAgICAgICBwb3NpeC5qb2luKHNlcnZlckNvbmZpZy5zc2wuY2VydFBhdGgsICdzZXJ2ZXIuY3J0JyksXHJcbiAgICAgICAgJ3V0ZjgnXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2coXHJcbiAgICAgICAgMSxcclxuICAgICAgICBgW3NlcnZlcl0gVW5hYmxlIHRvIGxvYWQga2V5L2NlcnRpZmljYXRlIGZyb20gJHtzZXJ2ZXJDb25maWcuc3NsLmNlcnRQYXRofS5gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGtleSAmJiBjZXJ0KSB7XHJcbiAgICAgIC8vIE1haW4gc2VydmVyIGluc3RhbmNlIChIVFRQUylcclxuICAgICAgY29uc3QgaHR0cHNTZXJ2ZXIgPSBodHRwcy5jcmVhdGVTZXJ2ZXIoYXBwKTtcclxuICAgICAgLy8gQXR0YWNoIGVycm9yIGhhbmRsZXJzIGFuZCBsaXN0ZW4gdG8gdGhlIHNlcnZlclxyXG4gICAgICBhdHRhY2hFcnJvckhhbmRsZXJzKGh0dHBzU2VydmVyKTtcclxuICAgICAgLy8gTGlzdGVuXHJcbiAgICAgIGh0dHBzU2VydmVyLmxpc3RlbihzZXJ2ZXJDb25maWcuc3NsLnBvcnQsIHNlcnZlckNvbmZpZy5ob3N0KTtcclxuXHJcbiAgICAgIGxvZyhcclxuICAgICAgICAzLFxyXG4gICAgICAgIGBbc2VydmVyXSBTdGFydGVkIEhUVFBTIHNlcnZlciBvbiAke3NlcnZlckNvbmZpZy5ob3N0fToke3NlcnZlckNvbmZpZy5zc2wucG9ydH0uYFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHVwIHN0YXRpYyBmb2xkZXIncyByb3V0ZVxyXG4gIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMocG9zaXguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpO1xyXG5cclxuICAvLyBTZXQgdXAgcm91dGVzXHJcbiAgaGVhbHRoUm91dGUoYXBwKTtcclxuICBleHBvcnRSb3V0ZXMoYXBwKTtcclxuICB1aVJvdXRlKGFwcCk7XHJcbiAgdnN3aXRjaFJvdXRlKGFwcCk7XHJcblxyXG4gIC8vIEVuYWJsZSB0aGUgcmF0ZSBsaW1pdGVyIGlmIGNvbmZpZyBzYXlzIHNvXHJcbiAgaWYgKFxyXG4gICAgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZyAmJlxyXG4gICAgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZy5lbmFibGUgJiZcclxuICAgICFbMCwgTmFOXS5pbmNsdWRlcyhzZXJ2ZXJDb25maWcucmF0ZUxpbWl0aW5nLm1heFJlcXVlc3RzKVxyXG4gICkge1xyXG4gICAgcmF0ZUxpbWl0KGFwcCwgc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZyk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGV4cHJlc3MgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0RXhwcmVzcyA9ICgpID0+IHtcclxuICByZXR1cm4gZXhwcmVzcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBhcHAgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0QXBwID0gKCkgPT4ge1xyXG4gIHJldHVybiBhcHA7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhIG1pZGRsZXdhcmUgdG8gdGhlIHNlcnZlci5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IHBhdGggLSBBbiBlbmRwb2ludCBwYXRoIHRvIGFkZCBtaWRkbGV3YXJlcyB0by5cclxuICogQHBhcmFtIHtBcnJheX0gbWlkZGxld2FyZXMgLSBBbiB1bmxpbWl0ZWQgbnVtYmVyIG9mIG1pZGRsZXdhcmVzIHRvIHVzZVxyXG4gKiBhZ2FpbnN0IHRoZSBzcGVjaWZpYyBlbmRwb2ludC5cclxuICovXHJcbmV4cG9ydCBjb25zdCB1c2UgPSAocGF0aCwgLi4ubWlkZGxld2FyZXMpID0+IHtcclxuICBhcHAudXNlKHBhdGgsIC4uLm1pZGRsZXdhcmVzKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgZ2V0IHJvdXRlIHRvIHRoZSBzZXJ2ZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXRoIC0gQW4gZW5kcG9pbnQgcGF0aCB0byBhZGQgbWlkZGxld2FyZXMgdG8uXHJcbiAqIEBwYXJhbSB7QXJyYXl9IG1pZGRsZXdhcmVzIC0gQW4gdW5saW1pdGVkIG51bWJlciBvZiBtaWRkbGV3YXJlcyB0byB1c2VcclxuICogYWdhaW5zdCB0aGUgc3BlY2lmaWMgZW5kcG9pbnQgZm9yIEdFVCBtZXRob2QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0ID0gKHBhdGgsIC4uLm1pZGRsZXdhcmVzKSA9PiB7XHJcbiAgYXBwLmdldChwYXRoLCAuLi5taWRkbGV3YXJlcyk7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhIHBvc3Qgcm91dGUgdG8gdGhlIHNlcnZlci5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IHBhdGggLSBBbiBlbmRwb2ludCBwYXRoIHRvIGFkZCBtaWRkbGV3YXJlcyB0by5cclxuICogQHBhcmFtIHtBcnJheX0gbWlkZGxld2FyZXMgLSBBbiB1bmxpbWl0ZWQgbnVtYmVyIG9mIG1pZGRsZXdhcmVzIHRvIHVzZVxyXG4gKiBhZ2FpbnN0IHRoZSBzcGVjaWZpYyBlbmRwb2ludCBmb3IgUE9TVCBtZXRob2QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcG9zdCA9IChwYXRoLCAuLi5taWRkbGV3YXJlcykgPT4ge1xyXG4gIGFwcC5wb3N0KHBhdGgsIC4uLm1pZGRsZXdhcmVzKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBGb3JjZWZ1bGx5IGVuYWJsZXMgcmF0ZSBsaW1pdGluZy5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGxpbWl0Q29uZmlnIC0gVGhlIG9wdGlvbnMgb2JqZWN0IGZvciB0aGUgcmF0ZSBsaW1pdGVyXHJcbiAqIGNvbmZpZ3VyYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW5hYmxlUmF0ZUxpbWl0aW5nID0gKGxpbWl0Q29uZmlnKSA9PiB7XHJcbiAgcmV0dXJuIHJhdGVMaW1pdChhcHAsIGxpbWl0Q29uZmlnKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBzdGFydCxcclxuICBnZXRFeHByZXNzLFxyXG4gIGdldEFwcCxcclxuICB1c2UsXHJcbiAgZ2V0LFxyXG4gIHBvc3QsXHJcbiAgZW5hYmxlUmF0ZUxpbWl0aW5nXHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5cclxuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vLi4vdXRpbHMuanMnO1xyXG4vKipcclxuICogQWRkcyB0aGUgLyByb3V0ZSBmb3IgYSBVSSB3aGVuIGVuYWJsZWQgZm9yIHRoZSBleHBvcnQgc2VydmVyXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCAoYXBwKSA9PlxyXG4gICFhcHBcclxuICAgID8gZmFsc2VcclxuICAgIDogYXBwLmdldCgnLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIHJlc3BvbnNlLnNlbmRGaWxlKGpvaW4oX19kaXJuYW1lLCAncHVibGljJywgJ2luZGV4Lmh0bWwnKSk7XHJcbiAgICAgIH0pO1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCBjYWNoZSBmcm9tICcuLi8uLi9jYWNoZS5qcyc7XHJcblxyXG4vKipcclxuICogQWRkcyBhIHJvdXRlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hhbmdlIHRoZSBIQyB2ZXJzaW9uIG9uIHRoZSBzZXJ2ZXJcclxuICogVE9ETzogQWRkIGF1dGggdG9rZW4gYW5kIGNvbm5lY3QgdG8gQVBJXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCAoYXBwKSA9PlxyXG4gICFhcHBcclxuICAgID8gZmFsc2VcclxuICAgIDogYXBwLnBvc3QoJy9jaGFuZ2UtaGMtdmVyc2lvbi86bmV3VmVyc2lvbicsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN0b2tlbiA9IHByb2Nlc3MuZW52LkhJR0hDSEFSVFNfQURNSU5fVE9LRU47XHJcblxyXG4gICAgICAgIGlmICghY3Rva2VuIHx8ICFjdG9rZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgICAgICAgIGVycm9yOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOlxyXG4gICAgICAgICAgICAgICdTZXJ2ZXIgbm90IGNvbmZpZ3VyZWQgdG8gZG8gcnVuLXRpbWUgdmVyc2lvbiBjaGFuZ2VzOiBISUdIQ0hBUlRTX0FETUlOX1RPS0VOIG5vdCBzZXQnXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5nZXQoJ2hjLWF1dGgnKTtcclxuXHJcbiAgICAgICAgaWYgKCF0b2tlbiB8fCB0b2tlbiAhPT0gY3Rva2VuKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgICAgICAgIGVycm9yOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBvciBtaXNzaW5nIHRva2VuOiBzZXQgdG9rZW4gaW4gdGhlIGhjLWF1dGggaGVhZGVyJ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBuZXdWZXJzaW9uID0gcmVxdWVzdC5wYXJhbXMubmV3VmVyc2lvbjtcclxuXHJcbiAgICAgICAgaWYgKG5ld1ZlcnNpb24pIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tbmFtZWQtYXMtZGVmYXVsdC1tZW1iZXJcclxuICAgICAgICAgICAgYXdhaXQgY2FjaGUudXBkYXRlVmVyc2lvbihuZXdWZXJzaW9uKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgICAgICAgICAgZXJyb3I6IHRydWUsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXNwb25zZS5zZW5kKHtcclxuICAgICAgICAgICAgdmVyc2lvbjogY2FjaGUudmVyc2lvbigpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgICAgICAgIGVycm9yOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnTm8gbmV3IHZlcnNpb24gc3VwcGxpZWQnXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8vIEFkZCB0aGUgbWFpbiBkaXJlY3RvcnkgaW4gdGhlIGdsb2JhbCBvYmplY3RcclxuaW1wb3J0ICdjb2xvcnMnO1xyXG5cclxuaW1wb3J0IHNlcnZlciwgeyBzdGFydCB9IGZyb20gJy4vc2VydmVyL3NlcnZlci5qcyc7XHJcbmltcG9ydCBjaGFydCwgeyBmaW5kQ2hhcnRTaXplIH0gZnJvbSAnLi9jaGFydC5qcyc7XHJcbmltcG9ydCB7IGxvZywgc2V0TG9nTGV2ZWwsIGVuYWJsZUZpbGVMb2dnaW5nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5pbXBvcnQgeyBraWxsQWxsLCBpbml0IH0gZnJvbSAnLi9wb29sLmpzJztcclxuaW1wb3J0IHsgaW5pdERlZmF1bHRPcHRpb25zLCBsb2FkQ29uZmlnRmlsZSB9IGZyb20gJy4vY29uZmlnLmpzJztcclxuaW1wb3J0IHsgY2hlY2tDYWNoZSB9IGZyb20gJy4vY2FjaGUuanMnO1xyXG5pbXBvcnQgeyBtZXJnZUNvbmZpZ09wdGlvbnMgfSBmcm9tICcuL3V0aWxzLmpzJztcclxuaW1wb3J0IHsgZGVmYXVsdENvbmZpZyB9IGZyb20gJy4vc2NoZW1hcy9jb25maWcuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIHNlcnZlcixcclxuICBsb2csXHJcbiAgZmluZENoYXJ0U2l6ZSxcclxuICBzdGFydEV4cG9ydDogY2hhcnQuc3RhcnRFeHBvcnQsXHJcbiAgc3RhcnRTZXJ2ZXI6IHN0YXJ0LFxyXG4gIGtpbGxQb29sOiBraWxsQWxsLFxyXG4gIGluaXRQb29sOiBhc3luYyAob3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGluaXREZWZhdWx0T3B0aW9ucyhkZWZhdWx0Q29uZmlnKTtcclxuXHJcbiAgICAvLyBMb2FkIGFuIG9wdGlvbmFsIGNvbmZpZyBmaWxlXHJcbiAgICBvcHRpb25zID0gYXdhaXQgbG9hZENvbmZpZ0ZpbGUobWVyZ2VDb25maWdPcHRpb25zKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gcGVyIGV4cG9ydCBtb2R1bGUgc2NvcGVcclxuICAgIGNoYXJ0LnNldEFsbG93Q29kZUV4ZWN1dGlvbihcclxuICAgICAgb3B0aW9ucy5jdXN0b21Db2RlICYmIG9wdGlvbnMuY3VzdG9tQ29kZS5hbGxvd0NvZGVFeGVjdXRpb25cclxuICAgICk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBsb2cgbGV2ZWxcclxuICAgIHNldExvZ0xldmVsKG9wdGlvbnMubG9nZ2luZyAmJiBwYXJzZUludChvcHRpb25zLmxvZ2dpbmcubGV2ZWwpKTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGxvZyBmaWxlIHBhdGggYW5kIG5hbWVcclxuICAgIGlmIChvcHRpb25zLmxvZ2dpbmcgJiYgb3B0aW9ucy5sb2dnaW5nLmRlc3QpIHtcclxuICAgICAgZW5hYmxlRmlsZUxvZ2dpbmcoXHJcbiAgICAgICAgb3B0aW9ucy5sb2dnaW5nLmRlc3QsXHJcbiAgICAgICAgb3B0aW9ucy5sb2dnaW5nLmZpbGUgfHwgJ2hpZ2hjaGFydHMtZXhwb3J0LXNlcnZlci5sb2cnXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgY2FjaGUgbmVlZHMgdG8gYmUgdXBkYXRlZFxyXG4gICAgYXdhaXQgY2hlY2tDYWNoZShvcHRpb25zLmhpZ2hjaGFydHMgfHwgeyB2ZXJzaW9uOiAnbGF0ZXN0JyB9KTtcclxuXHJcbiAgICAvLyBJbml0IHRoZSBwb29sXHJcbiAgICBhd2FpdCBpbml0KHtcclxuICAgICAgcG9vbDogb3B0aW9ucy5wb29sIHx8IHtcclxuICAgICAgICBpbml0aWFsV29ya2VyczogMSxcclxuICAgICAgICBtYXhXb3JrZXJzOiAxXHJcbiAgICAgIH0sXHJcbiAgICAgIHB1cHBldGVlckFyZ3M6IG9wdGlvbnMucHVwcGV0ZWVyPy5hcmdzIHx8IFtdXHJcbiAgICB9KTtcclxuXHJcbiAgICBjaGFydC5zZXRQb29sT3B0aW9ucyhvcHRpb25zKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gdXBkYXRlZCBvcHRpb25zXHJcbiAgICByZXR1cm4gb3B0aW9ucztcclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJkZWZhdWx0Q29uZmlnIiwicHVwcGV0ZWVyIiwiYXJncyIsInZhbHVlIiwidHlwZSIsImRlc2NyaXB0aW9uIiwiaGlnaGNoYXJ0cyIsInZlcnNpb24iLCJlbnZMaW5rIiwiY2RuVVJMIiwiY29yZVNjcmlwdHMiLCJtb2R1bGVzIiwiaW5kaWNhdG9ycyIsInNjcmlwdHMiLCJleHBvcnQiLCJpbmZpbGUiLCJpbnN0ciIsIm9wdGlvbnMiLCJvdXRmaWxlIiwiY29uc3RyIiwiZGVmYXVsdEhlaWdodCIsImRlZmF1bHRXaWR0aCIsImRlZmF1bHRTY2FsZSIsImhlaWdodCIsIndpZHRoIiwic2NhbGUiLCJnbG9iYWxPcHRpb25zIiwidGhlbWVPcHRpb25zIiwiYmF0Y2giLCJjdXN0b21Db2RlIiwiYWxsb3dDb2RlRXhlY3V0aW9uIiwiYWxsb3dGaWxlUmVzb3VyY2VzIiwiY2FsbGJhY2siLCJyZXNvdXJjZXMiLCJsb2FkQ29uZmlnIiwiY3JlYXRlQ29uZmlnIiwic2VydmVyIiwiZW5hYmxlIiwiY2xpTmFtZSIsImhvc3QiLCJwb3J0Iiwic3NsIiwiZm9yY2UiLCJjZXJ0UGF0aCIsInJhdGVMaW1pdGluZyIsIm1heFJlcXVlc3RzIiwic2tpcEtleSIsInNraXBUb2tlbiIsInBvb2wiLCJpbml0aWFsV29ya2VycyIsIm1heFdvcmtlcnMiLCJ3b3JrTGltaXQiLCJxdWV1ZVNpemUiLCJ0aW1lb3V0VGhyZXNob2xkIiwiYWNxdWlyZVRpbWVvdXQiLCJyZWFwZXIiLCJiZW5jaG1hcmtpbmciLCJsaXN0ZW5Ub1Byb2Nlc3NFeGl0cyIsInBheWxvYWQiLCJsb2dnaW5nIiwibGV2ZWwiLCJmaWxlIiwiZGVzdCIsInVpIiwicm91dGUiLCJvdGhlciIsIm5vTG9nbyIsImpvaW4iLCJuZXN0ZWRBcmdzIiwiZW52VmFycyIsImluaXRDb25maWciLCJvYmoiLCJwcm9wQ2hhaW4iLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImsiLCJpbmNsdWRlcyIsImVudHJ5IiwibnVtRW52VmFsIiwiaXRlbSIsInByb2Nlc3MiLCJlbnYiLCJmaW5kIiwiZWwiLCJpbmRleE9mIiwic3BsaXQiLCJwdXNoIiwibmFtZSIsInN1YnN0cmluZyIsInRvQ29uc29sZSIsInRvRmlsZSIsInBhdGhDcmVhdGVkIiwibGV2ZWxzRGVzYyIsInRpdGxlIiwiY29sb3IiLCJsaXN0ZW5lcnMiLCJrZXkiLCJvcHRpb24iLCJlbnRyaWVzIiwibG9nIiwibmV3TGV2ZWwiLCJ0ZXh0cyIsImxlbmd0aCIsInByZWZpeCIsIkRhdGUiLCJ0b1N0cmluZyIsInRyaW0iLCJmbiIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJhcHBlbmRGaWxlIiwiY29uY2F0IiwiZXJyb3IiLCJjb25zb2xlIiwiYXBwbHkiLCJ1bmRlZmluZWQiLCJfX2Rpcm5hbWUiLCJmaWxlVVJMVG9QYXRoIiwiVVJMIiwiZG9jdW1lbnQiLCJyZXF1aXJlIiwicGF0aFRvRmlsZVVSTCIsIl9fZmlsZW5hbWUiLCJocmVmIiwiX2RvY3VtZW50Q3VycmVudFNjcmlwdCIsInNyYyIsImJhc2VVUkkiLCJjbGVhclRleHQiLCJ0ZXh0IiwicnVsZSIsInJlcGxhY2VyIiwicmVwbGFjZUFsbCIsImZpeFR5cGUiLCJmb3JtYXRzIiwib3V0VHlwZSIsInBvcCIsInQiLCJpc0NvcnJlY3RKU09OIiwiZGF0YSIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJkZWVwQ29weSIsImNvcHkiLCJBcnJheSIsImlzQXJyYXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtZXJnZUNvbmZpZ09wdGlvbnMiLCJuZXdPcHRpb25zIiwiYWJzb2x1dGVQcm9wcyIsIm1lcmdlZE9wdGlvbnMiLCJvcHRpb25zU3RyaW5naWZ5IiwiYWxsb3dGdW5jdGlvbnMiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJ0b0Jvb2xlYW4iLCJ3cmFwQXJvdW5kIiwicmVhZEZpbGVTeW5jIiwicmVwbGFjZSIsInJhdGVMaW1pdCIsImFwcCIsImxpbWl0Q29uZmlnIiwibXNnIiwicmF0ZU9wdGlvbnMiLCJtYXgiLCJ3aW5kb3ciLCJkZWxheSIsInRydXN0UHJveHkiLCJsaW1pdGVyIiwid2luZG93TXMiLCJkZWxheU1zIiwiaGFuZGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm1hdCIsImpzb24iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImRlZmF1bHQiLCJza2lwIiwicXVlcnkiLCJhY2Nlc3NfdG9rZW4iLCJ1c2UiLCJhc3luYyIsImZldGNoIiwidXJsIiwicmVxdWVzdE9wdGlvbnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb3RvY29sIiwiaHR0cHMiLCJodHRwIiwiZ2V0UHJvdG9jb2wiLCJnZXQiLCJyZXMiLCJvbiIsImNodW5rIiwiY2FjaGVQYXRoIiwiY2FjaGUiLCJhY3RpdmVNYW5pZmVzdCIsInNvdXJjZXMiLCJoY1ZlcnNpb24iLCJhcHBsaWVkQ29uZmlnIiwiZXh0cmFjdFZlcnNpb24iLCJzdWJzdHIiLCJmZXRjaFNjcmlwdCIsInNjcmlwdCIsInByb3h5QWdlbnQiLCJhZ2VudCIsInRpbWVvdXQiLCJzdGF0dXNDb2RlIiwidXBkYXRlQ2FjaGUiLCJzb3VyY2VQYXRoIiwiY3VzdG9tU2NyaXB0cyIsImFsbFNjcmlwdHMiLCJtYXAiLCJjIiwibSIsImkiLCJwcm94eUhvc3QiLCJwcm94eVBvcnQiLCJIdHRwc1Byb3h5QWdlbnQiLCJmZXRjaGVkTW9kdWxlcyIsImFsbCIsIndyaXRlRmlsZVN5bmMiLCJjaGVja0NhY2hlIiwibWFuaWZlc3RQYXRoIiwicmVxdWVzdFVwZGF0ZSIsIm1hbmlmZXN0IiwibW9kdWxlTWFwIiwibnVtYmVyT2ZNb2R1bGVzIiwic29tZSIsIm1vZHVsZU5hbWUiLCJuZXdNYW5pZmVzdCIsInNhdmVDb25maWdUb01hbmlmZXN0IiwiY2FjaGUkMSIsIm5ld1ZlcnNpb24iLCJhc3NpZ24iLCJSQU5ET01fUElEIiwicmFuZG9tQnl0ZXMiLCJQVVBQRVRFRVJfRElSIiwicGF0aCIsIm1pbmltYWxBcmdzIiwidGVtcGxhdGUiLCJmcyIsImJyb3dzZXIiLCJuZXdQYWdlIiwicCIsInNldENvbnRlbnQiLCJhZGRTY3JpcHRUYWciLCJldmFsdWF0ZSIsInNldHVwSGlnaGNoYXJ0cyIsImVyciIsIiRldmFsIiwiZWxlbWVudCIsImVycm9yTWVzc2FnZSIsIl9kaXNwbGF5RXJyb3JzIiwiaW5uZXJIVE1MIiwiY2xvc2UiLCJfX2Jhc2VkaXIiLCJzZXRBc0NvbmZpZyIsInBhZ2UiLCJjaGFydCIsInRyaWdnZXJFeHBvcnQiLCJwdXBwZXRlZXJFeHBvcnQiLCJpbmplY3RlZFJlc291cmNlcyIsImNsZWFySW5qZWN0ZWQiLCJkaXNwb3NlIiwic2NyaXB0c1RvUmVtb3ZlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzdHlsZXNUb1JlbW92ZSIsImxpbmtzVG9SZW1vdmUiLCJyZW1vdmUiLCJleHBvcnRCZW5jaCIsImV4cG9ydE9wdGlvbnMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkaXNwbGF5RXJyb3JzIiwiZGVidWdnZXIiLCJkIiwic3ZnQmVuY2giLCJpc1NWRyIsInNldFBhZ2VCZW5jaCIsInN2Z1RlbXBsYXRlIiwic3RySW5qIiwic2V0Q29udGVudEJlbmNoIiwicmVzQmVuY2giLCJqcyIsImNvbnRlbnQiLCJmaWxlcyIsImlzTG9jYWwiLCJub3RpY2UiLCJjc3NCZW5jaCIsImNzcyIsImNzc0ltcG9ydHMiLCJtYXRjaCIsImNzc0ltcG9ydFBhdGgiLCJhZGRTdHlsZVRhZyIsInNpemUiLCJjaGFydEhlaWdodCIsImJhc2VWYWwiLCJjaGFydFdpZHRoIiwicGFyc2VGbG9hdCIsIkhpZ2hjaGFydHMiLCJjaGFydHMiLCJ2cEJlbmNoIiwidmlld3BvcnRIZWlnaHQiLCJNYXRoIiwiY2VpbCIsInZpZXdwb3J0V2lkdGgiLCJzZXRWaWV3cG9ydCIsImRldmljZVNjYWxlRmFjdG9yIiwiem9vbUNhbGxiYWNrIiwiYm9keSIsInN0eWxlIiwiem9vbSIsIm1hcmdpbiIsIngiLCJ5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidHJ1bmMiLCJnZXRDbGlwUmVnaW9uIiwicm91bmQiLCJleHBCZW5jaG1hcmsiLCJvdXRlckhUTUwiLCJjcmVhdGVTVkciLCJlbmNvZGluZyIsImNsaXAiLCJyYWNlIiwic2NyZWVuc2hvdCIsInNldFRpbWVvdXQiLCJFcnJvciIsImNyZWF0ZUltYWdlIiwicGRmIiwiY3JlYXRlUERGIiwib2xkQ2hhcnRzIiwib2xkQ2hhcnQiLCJkZXN0cm95Iiwic2hpZnQiLCJpbml0RGVmYXVsdE9wdGlvbnMiLCJpdGVtcyIsInBvb2xPcHRpb25zIiwiZmluZENoYXJ0U2l6ZSIsImV4cG9ydGluZyIsInByZWNpc2lvbiIsIm11bHRpcGxpZXIiLCJwb3ciLCJyb3VuZE51bWJlciIsInNvdXJjZUhlaWdodCIsInNvdXJjZVdpZHRoIiwiZG9FeHBvcnQiLCJjaGFydEpzb24iLCJlbmRDYWxsYmFjayIsInN2ZyIsImN1c3RvbUNvZGVPcHRpb25zIiwiYWxsb3dDb2RlRXhlY3V0aW9uU2NvcGVkIiwiYWxsb3dlZFByb3BzIiwiaGFuZGxlZFJlc291cmNlcyIsImNvcnJlY3RSZXNvdXJjZXMiLCJwcm9wTmFtZSIsImhhbmRsZVJlc291cmNlcyIsImVuYWJsZWQiLCJvcHRpb25zTmFtZSIsInBvc3RXb3JrIiwidGhlbiIsInJlc3VsdCIsImNhdGNoIiwiZG9TdHJhaWdodEluamVjdCIsInJlcXVlc3RJZCIsImV4cG9ydEFzU3RyaW5nIiwic3RyaW5nVG9FeHBvcnQiLCJjaGFydEpTT04iLCJzdGFydEV4cG9ydCIsInNldHRpbmdzIiwiaW5pdEV4cG9ydFNldHRpbmdzIiwicmVhZEZpbGUiLCJnZXRBbGxvd0NvZGVFeGVjdXRpb24iLCJzZXRBbGxvd0NvZGVFeGVjdXRpb24iLCJzZXRQb29sT3B0aW9ucyIsInB1cHBldGVlckFyZ3MiLCJwZXJmb3JtZWRFeHBvcnRzIiwiZXhwb3J0QXR0ZW1wdHMiLCJ0aW1lU3BlbnQiLCJkcm9wcGVkRXhwb3J0cyIsInNwZW50QXZlcmFnZSIsInBvb2xDb25maWciLCJmYWN0b3J5IiwiY3JlYXRlIiwiaWQiLCJ1dWlkIiwicyIsImdldFRpbWUiLCJicm93c2VyTmV3UGFnZSIsImlzQ2xvc2VkIiwid29ya0NvdW50IiwicmFuZG9tIiwidmFsaWRhdGUiLCJ3b3JrZXJIYW5kbGUiLCJsb2dMZXZlbCIsImluaXQiLCJhbGxBcmdzIiwidHJ5Q291bnQiLCJvcGVuIiwibGF1bmNoIiwiaGVhZGxlc3MiLCJ1c2VyRGF0YURpciIsImUiLCJjcmVhdGVCcm93c2VyIiwia2lsbEFsbCIsImNvZGUiLCJleGl0IiwiUG9vbCIsIm1pbiIsImNyZWF0ZVJldHJ5SW50ZXJ2YWxNaWxsaXMiLCJjcmVhdGVUaW1lb3V0TWlsbGlzIiwiYWNxdWlyZVRpbWVvdXRNaWxsaXMiLCJkZXN0cm95VGltZW91dE1pbGxpcyIsImlkbGVUaW1lb3V0TWlsbGlzIiwicmVhcEludGVydmFsTWlsbGlzIiwicHJvcGFnYXRlQ3JlYXRlRXJyb3IiLCJldmVudElkIiwicmVzb3VyY2UiLCJpbml0aWFsUmVzb3VyY2VzIiwiYWNxdWlyZSIsInByb21pc2UiLCJyZWxlYXNlIiwiZmFpbCIsImdldFBvb2xJbmZvIiwid29ya1N0YXJ0IiwiZXhwb3J0VGltZSIsImF2YWlsYWJsZSIsImJvcnJvd2VkIiwicGVuZGluZyIsInNwYXJlUmVzb3VyY2VDYXBhY2l0eSIsInBvb2wkMSIsInBhY2thZ2VWZXJzaW9uIiwibnBtX3BhY2thZ2VfdmVyc2lvbiIsInNlcnZlclN0YXJ0VGltZSIsInJldmVyc2VkTWltZSIsInBuZyIsImpwZWciLCJnaWYiLCJyZXF1ZXN0c0NvdW50ZXIiLCJiZWZvcmVSZXF1ZXN0IiwiYWZ0ZXJSZXF1ZXN0IiwiZG9DYWxsYmFja3MiLCJjYWxsYmFja3MiLCJ1bmlxdWVJZCIsImNhbGxSZXNwb25zZSIsImV4cG9ydEhhbmRsZXIiLCJzdGFydCIsImhydGltZSIsImJpZ2ludCIsIm1lYXN1cmVUaW1lIiwiZGVmYXVsdE9wdGlvbnMiLCJoZWFkZXJzIiwiY29ubmVjdGlvbiIsInJlbW90ZUFkZHJlc3MiLCJjb25uZWN0aW9uQWJvcnRlZCIsInNvY2tldCIsInRvTG93ZXJDYXNlIiwiYjY0IiwiZGF0YU9wdGlvbnMiLCJub0Rvd25sb2FkIiwiaXBSZWdFeCIsImluZm8iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJCdWZmZXIiLCJmcm9tIiwiaGVhZGVyIiwiYXR0YWNobWVudCIsInBhcmFtcyIsImZpbGVuYW1lIiwiZXhwcmVzcyIsImRpc2FibGUiLCJjb3JzIiwic3RvcmFnZSIsIm11bHRlciIsIm1lbW9yeVN0b3JhZ2UiLCJ1cGxvYWQiLCJsaW1pdHMiLCJmaWVsZHNTaXplIiwiYW55IiwiYm9keVBhcnNlciIsImxpbWl0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZXJyb3JIYW5kbGVyIiwiYXR0YWNoRXJyb3JIYW5kbGVycyIsInNlcnZlckNvbmZpZyIsImh0dHBTZXJ2ZXIiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJjZXJ0IiwiZnNQcm9taXNlcyIsInBvc2l4IiwiaHR0cHNTZXJ2ZXIiLCJzdGF0aWMiLCJib290VGltZSIsInVwdGltZSIsImZsb29yIiwiaGlnaGNoYXJ0c1ZlcnNpb24iLCJhdmVyYWdlUHJvY2Vzc2luZ1RpbWUiLCJmYWlsZWRFeHBvcnRzIiwic3VjZXNzUmF0aW8iLCJoZWFsdGhSb3V0ZSIsInBvc3QiLCJleHBvcnRSb3V0ZXMiLCJzZW5kRmlsZSIsInVpUm91dGUiLCJjdG9rZW4iLCJISUdIQ0hBUlRTX0FETUlOX1RPS0VOIiwidG9rZW4iLCJ2c3dpdGNoUm91dGUiLCJOYU4iLCJnZXRFeHByZXNzIiwiZ2V0QXBwIiwibWlkZGxld2FyZXMiLCJlbmFibGVSYXRlTGltaXRpbmciLCJpbmRleCIsInN0YXJ0U2VydmVyIiwia2lsbFBvb2wiLCJpbml0UG9vbCIsImNvbmZpZ0ZpbGUiLCJsb2FkQ29uZmlnRmlsZSIsInBhcnNlSW50IiwibG9nRGVzdCIsImxvZ0ZpbGUiLCJlbmFibGVGaWxlTG9nZ2luZyJdLCJtYXBwaW5ncyI6IjZ1QkFpQkFBLEVBQU9DLFNBSUEsTUFBTUMsRUFBZ0IsQ0FDM0JDLFVBQVcsQ0FDVEMsS0FBTSxDQUNKQyxNQUFPLEdBQ1BDLEtBQU0sV0FDTkMsWUFBYSw2Q0FHakJDLFdBQVksQ0FDVkMsUUFBUyxDQUNQSixNQUFPLFNBQ1BLLFFBQVMscUJBQ1RKLEtBQU0sU0FDTkMsWUFBYSw4QkFF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
