"use strict";require("colors");var e=require("fs"),t=require("path"),o=require("cors"),r=require("express"),i=require("multer"),n=require("http"),s=require("https"),a=require("dotenv"),l=require("express-rate-limit"),c=require("url"),p=require("https-proxy-agent"),d=require("uuid"),u=require("tarn"),h=require("puppeteer"),g=require("node:path"),m=require("node:crypto");require("prompts");var f="undefined"!=typeof document?document.currentScript:null;function v(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var y=v(c);a.config();const b={puppeteer:{args:{value:[],type:"string[]",description:"Array of arguments to send to puppeteer."}},highcharts:{version:{value:"latest",envLink:"HIGHCHARTS_VERSION",type:"string",description:"Highcharts version to use."},cdnURL:{value:"https://code.highcharts.com/",envLink:"HIGHCHARTS_CDN",type:"string",description:"The CDN URL of Highcharts scripts to use."},coreScripts:{envLink:"HIGHCHARTS_CORE_SCRIPTS",value:["highcharts","highcharts-more","highcharts-3d"],type:"string[]",description:"Highcharts core scripts to fetch."},modules:{envLink:"HIGHCHARTS_MODULES",value:["stock","map","gantt","exporting","export-data","parallel-coordinates","accessibility","annotations-advanced","boost-canvas","boost","data","draggable-points","static-scale","broken-axis","heatmap","tilemap","timeline","treemap","treegraph","item-series","drilldown","histogram-bellcurve","bullet","funnel","funnel3d","pyramid3d","networkgraph","pareto","pattern-fill","pictorial","price-indicator","sankey","arc-diagram","dependency-wheel","series-label","solid-gauge","sonification","stock-tools","streamgraph","sunburst","variable-pie","variwide","vector","venn","windbarb","wordcloud","xrange","no-data-to-display","drag-panes","debugger","dumbbell","lollipop","cylinder","organization","dotplot","marker-clusters","hollowcandlestick","heikinashi"],type:"string[]",description:"Highcharts modules to fetch."},indicators:{envLink:"HIGHCHARTS_INDICATORS",value:["indicators-all"],type:"string[]",description:"Highcharts indicators to fetch."},scripts:{value:["https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js","https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.34/moment-timezone-with-data.min.js"],type:"string[]",description:"Additional direct scripts/optional dependencies (e.g. moment.js)."},forceFetch:{envLink:"HIGHCHARTS_FORCE_FETCH",value:!1,type:"boolean",description:"Should all the scripts be refetched after rerunning the server."}},export:{infile:{value:!1,type:"string",description:"The input file name along with a type (json or svg). It can be a correct JSON or SVG file."},instr:{value:!1,type:"string",description:"An input in a form of a stringified JSON or SVG file. Overrides the --infile."},options:{value:!1,type:"string",description:"An alias for the --instr option."},outfile:{value:!1,type:"string",description:"The output filename along with a type (jpeg, png, pdf or svg). Ignores the --type flag."},type:{envLink:"EXPORT_DEFAULT_TYPE",value:"png",type:"string",description:"The format of the file to export to. Can be jpeg, png, pdf or svg."},constr:{envLink:"EXPORT_DEFAULT_CONSTR",value:"chart",type:"string",description:"The constructor to use. Can be chart, stockChart, mapChart or ganttChart."},defaultHeight:{envLink:"EXPORT_DEFAULT_HEIGHT",value:400,type:"number",description:"The default height of the exported chart. Used when not found any value set."},defaultWidth:{envLink:"EXPORT_DEFAULT_WIDTH",value:600,type:"number",description:"The default width of the exported chart. Used when not found any value set."},defaultScale:{envLink:"EXPORT_DEFAULT_SCALE",value:1,type:"number",description:"The default scale of the exported chart. Ranges between 1 and 5."},height:{type:"number",value:!1,description:"The default height of the exported chart. Overrides the option in the chart settings."},width:{type:"number",value:!1,description:"The width of the exported chart. Overrides the option in the chart settings."},scale:{value:!1,type:"number",description:"The scale of the exported chart. Ranges between 1 and 5."},globalOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with options to be passed into the Highcharts.setOptions."},themeOptions:{value:!1,type:"string",description:"A stringified JSON or a filename with theme options to be passed into the Highcharts.setOptions."},batch:{value:!1,type:"string",description:'Starts a batch job. A string that contains input/output pairs: "in=out;in=out;..".'},rasterizationTimeout:{envLink:"EXPORT_RASTERIZATION_TIMEOUT",value:1500,type:"number",description:"The number of milliseconds to wait for rendering a webpage."}},customCode:{allowCodeExecution:{envLink:"HIGHCHARTS_ALLOW_CODE_EXECUTION",value:!1,type:"boolean",description:"If set to true, allow for the execution of arbitrary code when exporting."},allowFileResources:{envLink:"HIGHCHARTS_ALLOW_FILE_RESOURCES",value:!0,type:"boolean",description:"Allow injecting resources from the filesystem. Has no effect when running as a server."},customCode:{value:!1,type:"string",description:"A function to be called before chart initialization. Can be a filename with the js extension."},callback:{value:!1,type:"string",description:"A JavaScript file with a function to run on construction."},resources:{value:!1,type:"string",description:"An additional resource in a form of stringified JSON. It can contain files, js and css sections."},loadConfig:{value:!1,type:"string",description:"A file that contains a pre-defined config to use."},createConfig:{value:!1,type:"string",description:"Allows to set options through a prompt and save in a provided config file."}},server:{enable:{envLink:"HIGHCHARTS_SERVER_ENABLE",value:!1,type:"boolean",cliName:"enableServer",description:"If set to true, starts a server on 0.0.0.0."},host:{envLink:"HIGHCHARTS_SERVER_HOST",value:"0.0.0.0",type:"string",description:"The hostname of the server. Also starts a server listening on the supplied hostname."},port:{envLink:"HIGHCHARTS_SERVER_PORT",value:7801,type:"number",description:"The port to use for the server. Defaults to 7801."},ssl:{enable:{envLink:"HIGHCHARTS_SERVER_SSL_ENABLE",value:!1,type:"boolean",cliName:"enableSsl",description:"Enables the SSL protocol."},force:{envLink:"HIGHCHARTS_SERVER_SSL_FORCE",value:!1,type:"boolean",cliName:"sslForced",description:"If set to true, forces the server to only serve over HTTPS."},port:{envLink:"HIGHCHARTS_SERVER_SSL_PORT",value:443,type:"number",cliName:"sslPort",description:"The port on which to run the SSL server."},certPath:{envLink:"HIGHCHARTS_SSL_CERT_PATH",value:"",type:"string",description:"The path to the SSL certificate/key."}},rateLimiting:{enable:{envLink:"HIGHCHARTS_RATE_LIMIT_ENABLE",value:!1,type:"boolean",cliName:"enableRateLimiting",description:"Enables rate limiting."},maxRequests:{envLink:"HIGHCHARTS_RATE_LIMIT_MAX",value:10,type:"number",description:"Max requests allowed in a one minute."},window:{envLink:"HIGHCHARTS_RATE_LIMIT_WINDOW",value:1,type:"number",description:"The time window in minutes for rate limiting."},delay:{envLink:"HIGHCHARTS_RATE_LIMIT_DELAY",value:0,type:"number",description:"The amount to delay each successive request before hitting the max."},trustProxy:{envLink:"HIGHCHARTS_RATE_LIMIT_TRUST_PROXY",value:!1,type:"boolean",description:"Set this to true if behind a load balancer."},skipKey:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_KEY",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipToken argument."},skipToken:{envLink:"HIGHCHARTS_RATE_LIMIT_SKIP_TOKEN",value:"",type:"number|string",description:"Allows bypassing the rate limiter and should be provided with skipKey argument."}}},pool:{minWorkers:{envLink:"HIGHCHARTS_POOL_MIN_WORKERS",value:4,type:"number",description:"The number of initial workers to spawn."},maxWorkers:{envLink:"HIGHCHARTS_POOL_MAX_WORKERS",value:8,type:"number",description:"The number of max workers to spawn."},workLimit:{envLink:"HIGHCHARTS_POOL_WORK_LIMIT",value:40,type:"number",description:"The pieces of work that can be performed before restarting process."},acquireTimeout:{envLink:"HIGHCHARTS_POOL_ACQUIRE_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds to wait for acquiring a resource."},createTimeout:{envLink:"HIGHCHARTS_POOL_CREATE_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds to wait for creating a resource."},destroyTimeout:{envLink:"HIGHCHARTS_POOL_DESTROY_TIMEOUT",value:5e3,type:"number",description:"The number of milliseconds to wait for destroying a resource."},idleTimeout:{envLink:"HIGHCHARTS_POOL_IDLE_TIMEOUT",value:3e4,type:"number",description:"The number of milliseconds after an idle resource is destroyed."},createRetryInterval:{envLink:"HIGHCHARTS_POOL_CREATE_RETRY_INTERVAL",value:200,type:"number",description:"The number of milliseconds after the create process is retried in case of fail."},reaperInterval:{envLink:"HIGHCHARTS_POOL_REAPER_INTERVAL",value:1e3,type:"number",description:"The number of milliseconds after the check for idle resources to destroy is triggered."},benchmarking:{envLink:"HIGHCHARTS_POOL_BENCHMARKING",value:!1,type:"boolean",description:"Enable benchmarking."},listenToProcessExits:{envLink:"HIGHCHARTS_POOL_LISTEN_TO_PROCESS_EXITS",value:!0,type:"boolean",description:"Set to false in order to skip attaching process.exit handlers."}},logging:{level:{envLink:"HIGHCHARTS_LOG_LEVEL",value:4,type:"number",cliName:"logLevel",description:"The log level (0: silent, 1: error, 2: warning, 3: notice, 4: verbose)."},file:{envLink:"HIGHCHARTS_LOG_FILE",value:"highcharts-export-server.log",type:"string",cliName:"logFile",description:"A name of a log file. The --logDest also needs to be set to enable file logging."},dest:{envLink:"HIGHCHARTS_LOG_DEST",value:"log/",type:"string",cliName:"logDest",description:"The path to store log files. Also enables file logging."}},ui:{enable:{envLink:"HIGHCHARTS_UI_ENABLE",value:!1,type:"boolean",cliName:"enableUi",description:"Enables the UI for the export server."},route:{envLink:"HIGHCHARTS_UI_ROUTE",value:"/",type:"string",cliName:"uiRoute",description:"The route to attach the UI to."}},other:{noLogo:{envLink:"HIGHCHARTS_NO_LOGO",value:!1,type:"boolean",description:"Skip printing the logo on a startup. Will be replaced by a simple text."}},payload:{}};b.puppeteer.args.value.join(","),b.highcharts.version.value,b.highcharts.cdnURL.value,b.highcharts.modules.value,b.highcharts.scripts.value.join(","),b.highcharts.forceFetch.value,b.export.type.value,b.export.constr.value,b.export.defaultHeight.value,b.export.defaultWidth.value,b.export.defaultScale.value,b.export.rasterizationTimeout.value,b.customCode.allowCodeExecution.value,b.customCode.allowFileResources.value,b.server.enable.value,b.server.host.value,b.server.port.value,b.server.ssl.enable.value,b.server.ssl.force.value,b.server.ssl.port.value,b.server.ssl.certPath.value,b.server.rateLimiting.enable.value,b.server.rateLimiting.maxRequests.value,b.server.rateLimiting.window.value,b.server.rateLimiting.delay.value,b.server.rateLimiting.trustProxy.value,b.server.rateLimiting.skipKey.value,b.server.rateLimiting.skipToken.value,b.pool.minWorkers.value,b.pool.maxWorkers.value,b.pool.workLimit.value,b.pool.acquireTimeout.value,b.pool.createTimeout.value,b.pool.destroyTimeout.value,b.pool.idleTimeout.value,b.pool.createRetryInterval.value,b.pool.reaperInterval.value,b.pool.benchmarking.value,b.pool.listenToProcessExits.value,b.logging.level.value,b.logging.file.value,b.logging.dest.value,b.ui.enable.value,b.ui.route.value,b.other.noLogo.value;const w=["options","globalOptions","themeOptions","resources","payload"],T={},x=(e,t="")=>{Object.keys(e).forEach((o=>{if(!["puppeteer","highcharts"].includes(o)){const r=e[o];void 0===r.value?x(r,`${t}.${o}`):T[r.cliName||o]=`${t}.${o}`.substring(1)}}))};x(b);let k={toConsole:!0,toFile:!1,pathCreated:!1,levelsDesc:[{title:"error",color:"red"},{title:"warning",color:"yellow"},{title:"notice",color:"blue"},{title:"verbose",color:"gray"}],listeners:[]};for(const[e,t]of Object.entries(b.logging))k[e]=t.value;const S=(...t)=>{const[o,...r]=t,{level:i,levelsDesc:n}=k;if(0===o||o>i||i>n.length)return;const s=`${(new Date).toString().split("(")[0].trim()} [${n[o-1].title}] -`;k.listeners.forEach((e=>{e(s,r.join(" "))})),k.toFile&&(k.pathCreated||(!e.existsSync(k.dest)&&e.mkdirSync(k.dest),k.pathCreated=!0),e.appendFile(`${k.dest}${k.file}`,[s].concat(r).join(" ")+"\n",(e=>{e&&(console.log(`[logger] Unable to write to log file: ${e}`),k.toFile=!1)}))),k.toConsole&&console.log.apply(void 0,[s.toString()[k.levelsDesc[o-1].color]].concat(r))},R=c.fileURLToPath(new URL("../.","undefined"==typeof document?require("url").pathToFileURL(__filename).href:f&&f.src||new URL("index.cjs",document.baseURI).href)),H=(e,t=/\s\s+/g,o=" ")=>e.replaceAll(t,o).trim(),E=(e,t)=>{const o=["png","jpeg","pdf","svg"];if(t){const r=t.split(".").pop();o.includes(r)&&e!==r&&(e=r)}return{"image/png":"png","image/jpeg":"jpeg","application/pdf":"pdf","image/svg+xml":"svg"}[e]||o.find((t=>t===e))||"png"},L=(t=!1,o)=>{const r=["js","css","files"];let i=t,n=!1;if(o&&t.endsWith(".json"))try{t?t&&t.endsWith(".json")?i=O(e.readFileSync(t,"utf8")):(i=O(t),!0===i&&(i=O(e.readFileSync("resources.json","utf8")))):i=O(e.readFileSync("resources.json","utf8"))}catch(e){return S(3,"[cli] No resources found.")}else i=O(t),o||delete i.files;for(const e in i)r.includes(e)?n||(n=!0):delete i[e];return n?(i.files&&(i.files=i.files.map((e=>e.trim())),(!i.files||i.files.length<=0)&&delete i.files),i):S(3,"[cli] No resources found.")};function O(e,t){try{const o=JSON.parse("string"!=typeof e?JSON.stringify(e):e);return"string"!=typeof o&&t?JSON.stringify(o):o}catch(e){return!1}}const C=e=>{if(null===e||"object"!=typeof e)return e;const t=Array.isArray(e)?[]:{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=C(e[o]));return t},_=(e,t)=>JSON.stringify(e,((e,o)=>("string"==typeof o&&((o=o.trim()).startsWith("function(")||o.startsWith("function ("))&&o.endsWith("}")&&(o=t?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:void 0),"function"==typeof o?`EXP_FUN${(o+"").replaceAll(/\n|\t|\r/g," ")}EXP_FUN`:o))).replaceAll(/"EXP_FUN|EXP_FUN"/g,"");function I(){console.log("Usage of CLI arguments:".bold,"\n------",`\nFor more detailed information visit readme at: ${"https://github.com/highcharts/node-export-server#readme".bold.yellow}.`);const e=t=>{for(const[o,r]of Object.entries(t))if(Object.prototype.hasOwnProperty.call(r,"value")){let e=`  --${r.cliName||o} ${("<"+r.type+">").green} `;if(e.length<48)for(let t=e.length;t<48;t++)e+=".";console.log(e,r.description,`[Default: ${r.value.toString().bold}]`.blue)}else e(r)};Object.keys(b).forEach((t=>{["puppeteer","highcharts"].includes(t)||(console.log(`\n${t.toUpperCase()}`.red),e(b[t]))})),console.log("\n")}const A=e=>!["false","undefined","null","NaN","0",""].includes(e)&&!!e,$=(t,o)=>{if(t&&"string"==typeof t)return(t=t.trim()).endsWith(".js")?!!o&&$(e.readFileSync(t,"utf8")):t.startsWith("function()")||t.startsWith("function ()")||t.startsWith("()=>")||t.startsWith("() =>")?`(${t})()`:t.replace(/;$/,"")};var j=(e,t)=>{const o="Too many requests, you have been rate limited. Please try again later.",r={max:t.maxRequests||30,window:t.window||1,delay:t.delay||0,trustProxy:t.trustProxy||!1,skipKey:t.skipKey||!1,skipToken:t.skipToken||!1};r.trustProxy&&e.enable("trust proxy");const i=l({windowMs:60*r.window*1e3,max:r.max,delayMs:r.delay,handler:(e,t)=>{t.format({json:()=>{t.status(429).send({message:o})},default:()=>{t.status(429).send(o)}})},skip:e=>!1!==r.skipKey&&!1!==r.skipToken&&e.query.key===r.skipKey&&e.query.access_token===r.skipToken&&(S(4,"[rate-limiting] Skipping rate limiter."),!0)});e.use(i),S(3,H(`[rate-limiting] Enabled rate limiting: ${r.max} requests\n      per ${r.window} minute per IP, trusting proxy:\n      ${r.trustProxy}.`))};async function P(e,t={}){return new Promise(((o,r)=>{const i=(e=>e.startsWith("https")?s:n)(e);i.get(e,t,(e=>{let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{t||r("Nothing was fetched from the URL."),e.text=t,o(e)}))})).on("error",(e=>{r(e)}))}))}a.config();const N=t.join(R,".cache"),F={cdnURL:"https://code.highcharts.com/",activeManifest:{},sources:"",hcVersion:""};let U=!1;const G=()=>F.hcVersion=F.sources.substr(0,F.sources.indexOf("*/")).replace("/*","").replace("*/","").replace(/\n/g,"").trim(),W=async(e,t)=>{try{e.endsWith(".js")&&(e=e.substring(0,e.length-3)),S(4,`[cache] Fetching script - ${e}.js`);const o=t?{agent:t,timeout:+process.env.PROXY_SERVER_TIMEOUT||5e3}:{},r=await P(`${e}.js`,o);if(200===r.statusCode)return r.text;throw`${r.statusCode}`}catch(t){throw S(1,`[cache] Error fetching script ${e}.js: ${t}.`),t}},q=async(t,o)=>{const{coreScripts:r,modules:i,indicators:n,scripts:s}=t,a="latest"!==t.version&&t.version?`${t.version}/`:"";S(3,"[cache] Updating cache to Highcharts ",a);const l=[...r.map((e=>`${a}${e}`)),...i.map((e=>"map"===e?`maps/${a}modules/${e}`:`${a}modules/${e}`)),...n.map((e=>`stock/${a}indicators/${e}`))];let c;const d=process.env.PROXY_SERVER_HOST,u=process.env.PROXY_SERVER_PORT;d&&u&&(c=new p({host:d,port:+u}));const h={};try{return F.sources=(await Promise.all([...l.map((async e=>{const o=await W(`${t.cdnURL||F.cdnURL}${e}`,c);return"string"==typeof o&&(h[e.replace(/(.*)\/|(.*)modules\/|stock\/(.*)indicators\/|maps\/(.*)modules\//gi,"")]=1),o})),...s.map((e=>W(e,c)))])).join(";\n"),G(),e.writeFileSync(o,F.sources),h}catch(e){S(1,"[cache] Unable to update local Highcharts cache.")}},M=async o=>{let r;const i=t.join(N,"manifest.json"),n=t.join(N,"sources.js");if(U=o,!e.existsSync(N)&&e.mkdirSync(N),!e.existsSync(i)||o.forceFetch)S(3,"[cache] Fetching and caching Highcharts dependencies."),r=await q(o,n);else{let t=!1;const s=JSON.parse(e.readFileSync(i));if(s.modules&&Array.isArray(s.modules)){const e={};s.modules.forEach((t=>e[t]=1)),s.modules=e}const{modules:a,coreScripts:l,indicators:c}=o,p=a.length+l.length+c.length;s.version!==o.version?(S(3,"[cache] Highcharts version mismatch in cache, need to re-fetch."),t=!0):Object.keys(s.modules||{}).length!==p?(S(3,"[cache] Cache and requested modules does not match, need to re-fetch."),t=!0):t=(o.modules||[]).some((e=>{if(!s.modules[e])return S(3,`[cache] The ${e} missing in cache, need to re-fetch.`),!0})),t?r=await q(o,n):(S(3,"[cache] Dependency cache is up to date, proceeding."),F.sources=e.readFileSync(n,"utf8"),r=s.modules,G())}await(async(o,r)=>{const i={version:o.version,modules:r||{}};F.activeManifest=i,S(4,"[cache] writing new manifest");try{e.writeFileSync(t.join(N,"manifest.json"),JSON.stringify(i),"utf8")}catch(e){S(1,`[cache] Error writing cache manifest: ${e}.`)}})(o,r)};var D=async e=>!!U&&await M(Object.assign(U,{version:e})),V=()=>F,J=()=>F.hcVersion;const z=m.randomBytes(64).toString("base64url"),X=g.join("tmp",`puppeteer-${z}`),K=[`--user-data-dir=${g.join(X,"profile")}`,"--autoplay-policy=user-gesture-required","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-update","--disable-default-apps","--disable-dev-shm-usage","--disable-domain-reliability","--disable-extensions","--disable-features=AudioServiceOutOfProcess","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-notifications","--disable-offer-store-unmasked-wallet-cards","--disable-popup-blocking","--disable-print-preview","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-session-crashed-bubble","--disable-setuid-sandbox","--disable-speech-api","--disable-sync","--hide-crash-restore-bubble","--hide-scrollbars","--ignore-gpu-blacklist","--metrics-recording-only","--mute-audio","--no-default-browser-check","--no-first-run","--no-pings","--no-sandbox","--no-zygote","--password-store=basic","--use-mock-keychain"],B=y.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:f&&f.src||new URL("index.cjs",document.baseURI).href)),Y=e.readFileSync(B+"/../templates/template.html","utf8");let Q;const Z=async e=>{await e.setContent(Y),await e.addScriptTag({path:B+"/../.cache/sources.js"}),await e.evaluate((()=>window.setupHighcharts())),e.on("pageerror",(async t=>{S(1,"[page error]",t),await e.$eval("#container",((e,t)=>{window._displayErrors&&(e.innerHTML=t)}),`<h1>Chart input data error</h1>${t.toString()}`)}))},ee=async()=>{if(!Q)return!1;const e=await Q.newPage();return await e.setCacheEnabled(!1),await Z(e),e},te=async(e,t=!1)=>{try{t?(await e.goto("about:blank"),await Z(e)):await e.$eval("body",(e=>e.innerHTML='<div id="chart-container"><div id="container"></div></div>'))}catch(e){S(3,"[browser] Could not clear page")}},oe=async()=>{Q.connected&&await Q.close()};const re=y.fileURLToPath(new URL(".","undefined"==typeof document?require("url").pathToFileURL(__filename).href:f&&f.src||new URL("index.cjs",document.baseURI).href)),ie=async(e,t,o)=>await e.evaluate(((e,t)=>window.triggerExport(e,t)),t,o);var ne=async(o,r,i)=>{const n=[],s=async e=>{for(const e of n)await e.dispose();await e.evaluate((()=>{const[,...e]=document.getElementsByTagName("script"),[,...t]=document.getElementsByTagName("style"),[...o]=document.getElementsByTagName("link");for(const r of[...e,...t,...o])r.remove()}))};try{const a=()=>{};S(4,"[export] Determining export path.");const l=i.export;await o.evaluate((()=>requestAnimationFrame((()=>{}))));const c=l?.options?.chart?.displayErrors&&V().activeManifest.modules.debugger;await o.evaluate((e=>window._displayErrors=e),c);const p=()=>{};let d;if(r.indexOf&&(r.indexOf("<svg")>=0||r.indexOf("<?xml")>=0)){if(S(4,"[export] Treating as SVG."),"svg"===l.type)return r;d=!0;const e=()=>{};await o.setContent((e=>`\n<!DOCTYPE html>\n<html lang='en-US'>\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n    <title>Highcarts Export</title>\n  </head>\n  <style>\n    \n\nhtml, body {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#table-div, #sliders, #datatable, #controls, .ld-row {\n  display: none;\n  height: 0;\n}\n\n#chart-container {\n  box-sizing: border-box;\n  margin: 0;\n  overflow: auto;\n  font-size: 0;\n}\n\n#chart-container > figure, div {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n\n\n  </style>\n  <body>\n    <div id="chart-container">\n      ${e}\n    </div>\n  </body>\n</html>\n\n`)(r)),e()}else if(S(4,"[export] Treating as config."),l.strInj){const e=()=>{};await ie(o,{chart:{height:l.height,width:l.width}},i),e()}else{r.chart.height=l.height,r.chart.width=l.width;const e=()=>{};await ie(o,r,i),e()}p();const u=()=>{},h=i.customCode.resources;if(h){if(h.js&&n.push(await o.addScriptTag({content:h.js})),h.files)for(const t of h.files)try{const r=!t.startsWith("http");n.push(await o.addScriptTag(r?{content:e.readFileSync(t,"utf8")}:{url:t}))}catch(e){S(4,"[export] JS file not found.")}const r=()=>{};if(h.css){let e=h.css.match(/@import\s*([^;]*);/g);if(e)for(let r of e)r&&(r=r.replace("url(","").replace("@import","").replace(/"/g,"").replace(/'/g,"").replace(/;/,"").replace(/\)/g,"").trim(),r.startsWith("http")?n.push(await o.addStyleTag({url:r})):i.customCode.allowFileResources&&n.push(await o.addStyleTag({path:t.join(re,r)})));n.push(await o.addStyleTag({content:h.css.replace(/@import\s*([^;]*);/g,"")||" "}))}r()}u();const g=d?await o.$eval("#chart-container svg:first-of-type",(async(e,t)=>({chartHeight:e.height.baseVal.value*t,chartWidth:e.width.baseVal.value*t})),parseFloat(l.scale)):await o.evaluate((async()=>{const{chartHeight:e,chartWidth:t}=window.Highcharts.charts[0];return{chartHeight:e,chartWidth:t}})),m=()=>{},f=Math.ceil(g?.chartHeight||l.height),v=Math.ceil(g?.chartWidth||l.width);await o.setViewport({height:f,width:v,deviceScaleFactor:d?1:parseFloat(l.scale)});const y=d?e=>{document.body.style.zoom=e,document.body.style.margin="0px"}:()=>{document.body.style.zoom=1};await o.evaluate(y,parseFloat(l.scale));const{height:b,width:w,x:T,y:x}=await(e=>e.$eval("#chart-container",(e=>{const{x:t,y:o,width:r,height:i}=e.getBoundingClientRect();return{x:t,y:o,width:r,height:Math.trunc(i>1?i:500)}})))(o);let k;d||await o.setViewport({width:Math.round(w),height:Math.round(b),deviceScaleFactor:parseFloat(l.scale)}),m();const R=()=>{};if("svg"===l.type)k=await(async e=>await e.$eval("#container svg:first-of-type",(e=>e.outerHTML)))(o);else if("png"===l.type||"jpeg"===l.type)k=await(async(e,t,o,r,i)=>Promise.race([e.screenshot({type:t,encoding:o,clip:r,omitBackground:"png"==t}),new Promise(((e,t)=>setTimeout((()=>t(new Error("Rasterization timeout"))),i||1500)))]))(o,l.type,"base64",{width:v,height:f,x:T,y:x},l.rasterizationTimeout);else{if("pdf"!==l.type)throw`Unsupported output format ${l.type}`;k=await(async(e,t,o,r)=>await e.pdf({height:t+1,width:o,encoding:r}))(o,f,v,"base64")}return await o.evaluate((()=>{if("undefined"!=typeof Highcharts){const e=Highcharts.charts;if(Array.isArray(e)&&e.length)for(const t of e)t&&t.destroy(),Highcharts.charts.shift()}})),R(),a(),await s(o),k}catch(e){return await s(o),S(1,`[export] Error encountered during export: ${e}`),e}};let se,ae=0,le=0,ce=0,pe=0,de=0,ue={},he=!1;const ge={create:async()=>{const e=d.v4();let t=!1;const o=(new Date).getTime();try{if(t=await ee(),!t||t.isClosed())throw"[pool] Invalid page";S(3,`[pool] Successfully created a worker ${e} - took ${(new Date).getTime()-o} ms.`)}catch(e){throw S(1,`[pool] Error creating a new page in pool entry creation! ${e}`),"Error creating page"}return{id:e,page:t,workCount:Math.round(Math.random()*(ue.workLimit/2))}},validate:async e=>ue.workLimit&&++e.workCount>ue.workLimit?(S(3,"[pool] Worker failed validation:",`exceeded work limit (limit is ${ue.workLimit})`),!1):(await te(e.page,!0),!0),destroy:e=>{S(3,`[pool] Destroying pool entry ${e.id}.`),e.page&&e.page.close()},log:(e,t)=>console.log(`${t}: ${e}`)},me=async e=>{se=e.puppeteerArgs;try{await(async e=>{const t=[...K,...e||[]];if(!Q){let e=0;const o=async()=>{try{S(3,"[browser] attempting to get a browser instance (try",e+")"),Q=await h.launch({headless:"new",args:t,userDataDir:"./tmp/"})}catch(t){S(0,"[browser]",t),++e<25?(S(3,"[browser] failed:",t),await new Promise((e=>setTimeout(e,4e3))),await o()):S(0,"Max retries reached")}};try{await o()}catch(e){return S(0,"[browser] Unable to open browser"),!1}if(!Q)return S(0,"[browser] Unable to open browser"),!1}return Q})(se)}catch(e){S(0,"[pool|browser]",e)}if(ue=e&&e.pool?{...e.pool}:{},S(3,"[pool] Initializing pool:",`min ${ue.minWorkers}, max ${ue.maxWorkers}.`),he)return S(4,"[pool] Already initialized, please kill it before creating a new one.");ue.listenToProcessExits&&(S(4,"[pool] Attaching exit listeners to the process."),process.on("exit",(async()=>{await fe()})),process.on("SIGINT",((e,t)=>{S(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("SIGTERM",((e,t)=>{S(4,`The ${e} event with code: ${t}.`),process.exit(1)})),process.on("uncaughtException",(async(e,t)=>{S(4,`The ${t} error, message: ${e.message}.`)}))),parseInt(ue.minWorkers)>parseInt(ue.maxWorkers)&&(ue.minWorkers=ue.maxWorkers);try{he=new u.Pool({...ge,min:parseInt(ue.minWorkers),max:parseInt(ue.maxWorkers),acquireTimeoutMillis:ue.acquireTimeout,createTimeoutMillis:ue.createTimeout,destroyTimeoutMillis:ue.destroyTimeout,idleTimeoutMillis:ue.idleTimeout,createRetryIntervalMillis:ue.createRetryInterval,reapIntervalMillis:ue.reaperInterval,propagateCreateError:!1}),he.on("createFail",((e,t)=>{S(1,`[pool] Error when creating worker of an event id ${e}:`,t)})),he.on("acquireFail",((e,t)=>{S(1,`[pool] Error when acquiring worker of an event id ${e}:`,t)})),he.on("destroyFail",((e,t,o)=>{S(1,`[pool] Error when destroying worker of an id ${t.id}, event id ${e}:`,o)})),he.on("release",(async e=>{await te(e.page,!1),S(4,`[pool] Releasing a worker of an id ${e.id}`)})),he.on("destroySuccess",((e,t)=>{S(4,`[pool] Destroyed a worker of an id ${t.id}`)}));const e=[];for(let t=0;t<ue.minWorkers;t++)try{const t=await he.acquire().promise;e.push(t)}catch(e){S(1,`[pool] Couldn't create an initial resource ${e}`)}e.forEach((e=>{he.release(e)})),S(3,`[pool] The pool is ready with ${ue.minWorkers} initial resources waiting.`)}catch(e){throw S(1,`[pool] Couldn't create the worker pool ${e}`),e}};async function fe(){return S(3,"[pool] Killing all workers."),he.destroyed?(await oe(),!0):(await he.destroy(),await oe(),!0)}const ve=async(e,t)=>{let o;const r=e=>{throw++pe,o&&he.release(o),"In pool.postWork: "+e};if(S(4,"[pool] Work received, starting to process."),ue.benchmarking&&ye(),++le,!he)return S(1,"[pool] Work received, but pool has not been started."),r("Pool is not inited but work was posted to it!");try{S(4,"[pool] Acquiring worker"),o=await he.acquire().promise}catch(e){return r(`[pool] Error when acquiring available entry: ${e}`)}if(S(4,"[pool] Acquired worker handle"),!o.page)return r("Resolved worker page is invalid: pool setup is wonky");try{let i=(new Date).getTime();S(4,`[pool] Starting work on pool entry ${o.id}.`);const n=await ne(o.page,e,t);if(n instanceof Error)return"Rasterization timeout"===n.message&&(o.page.close(),o.page=await ee()),r(n);he.release(o);const s=(new Date).getTime()-i;return ce+=s,de=ce/++ae,S(4,`[pool] Work completed in ${s} ms.`),{data:n,options:t}}catch(e){r(`Error trying to perform puppeteer export: ${e}.`)}};function ye(){const{min:e,max:t,size:o,available:r,borrowed:i,pending:n,spareResourceCapacity:s}=he;S(4,`[pool] The minimum number of resources allowed by pool: ${e}.`),S(4,`[pool] The maximum number of resources allowed by pool: ${t}.`),S(4,`[pool] The number of all resources in pool (free or in use): ${o}.`),S(4,`[pool] The number of resources that are currently available: ${r}.`),S(4,`[pool] The number of resources that are currently acquired: ${i}.`),S(4,`[pool] The number of callers waiting to acquire a resource: ${n}.`),S(4,`[pool] The number of how many more resources can the pool manage/create: ${s}.`)}var be=()=>({min:he.min,max:he.max,size:he.size,available:he.available,borrowed:he.borrowed,pending:he.pending,spareResourceCapacity:he.spareResourceCapacity}),we=()=>le,Te=()=>pe,xe=()=>de,ke=()=>ae;const Se=JSON.parse(e.readFileSync(t.join(R,"package.json"))),Re=new Date;let He={};const Ee=()=>He,Le=(e,t,o=[])=>{const r=C(e);for(const[e,n]of Object.entries(t))r[e]="object"!=typeof(i=n)||Array.isArray(i)||null===i||o.includes(e)||void 0===r[e]?void 0!==n?n:r[e]:Le(r[e],n,o);var i;return r};function Oe(e,t={},o=""){Object.keys(e).forEach((r=>{const i=e[r],n=t&&t[r];let s;void 0===i.value?Oe(i,n,`${o}.${r}`):(void 0!==n&&(i.value=n),i.envLink&&("boolean"===i.type?i.value=A([process.env[i.envLink],i.value].find((e=>e||"false"===e))):"number"===i.type?(s=+process.env[i.envLink],i.value=s>=0?s:i.value):i.type.indexOf("]")>=0&&process.env[i.envLink]?i.value=process.env[i.envLink].split(","):i.value=process.env[i.envLink]||i.value))}))}function Ce(e){let t={};for(const[o,r]of Object.entries(e))t[o]=Object.prototype.hasOwnProperty.call(r,"value")?r.value:Ce(r);return t}let _e=!1;const Ie=async(t,o)=>{S(4,"[chart] Starting exporting process.");const r=((e,t={})=>{let o={};return e.svg?(o=C(t),o.export.type=e.type||e.export.type,o.export.scale=e.scale||e.export.scale,o.export.outfile=e.outfile||e.export.outfile,o.payload={svg:e.svg}):o=Le(t,e,w),o.export.outfile=o.export?.outfile||`chart.${o.export?.type||"png"}`,o})(t,Ee()),i=r.export;return r.payload?.svg&&""!==r.payload.svg?Pe(r.payload.svg.trim(),r,o):i.infile&&i.infile.length?(S(4,"[chart] Attempting to export from an input file."),e.readFile(i.infile,"utf8",((e,t)=>e?S(1,`[chart] Error loading input file: ${e}.`):(r.export.instr=t,Pe(r.export.instr.trim(),r,o))))):i.instr&&""!==i.instr||i.options&&""!==i.options?(S(4,"[chart] Attempting to export from a raw input."),A(r.customCode?.allowCodeExecution)?je(r,o):"string"==typeof i.instr?Pe(i.instr.trim(),r,o):$e(r,i.instr||i.options,o)):(S(1,H(`[chart] No input specified.\n      ${JSON.stringify(i,void 0,"  ")}.`)),o&&o(!1,{error:!0,message:"No input specified."}))},Ae=e=>{const{chart:t,exporting:o}=e.export?.options||O(e.export?.instr),r=O(e.export?.globalOptions);let i=e.export?.scale||o?.scale||r?.exporting?.scale||e.export?.defaultScale||1;i=Math.max(.1,Math.min(i,5)),i=((e,t=1)=>{const o=Math.pow(10,t||0);return Math.round(+e*o)/o})(i,2);const n={height:e.export?.height||o?.sourceHeight||t?.height||r?.exporting?.sourceHeight||r?.chart?.height||e.export?.defaultHeight||400,width:e.export?.width||o?.sourceWidth||t?.width||r?.exporting?.sourceWidth||r?.chart?.width||e.export?.defaultWidth||600,scale:i};for(var[s,a]of Object.entries(n))n[s]="string"==typeof a?+a.replace(/px|%/gi,""):a;return n},$e=(t,o,r,i)=>{let{export:n,customCode:s}=t;const a="boolean"==typeof s.allowCodeExecution?s.allowCodeExecution:_e;if(s){if(a)if("string"==typeof t.customCode.resources)t.customCode.resources=L(t.customCode.resources,A(t.customCode.allowFileResources));else if(!t.customCode.resources)try{const o=e.readFileSync("resources.json","utf8");t.customCode.resources=L(o,A(t.customCode.allowFileResources))}catch(e){S(3,"[chart] The default resources.json file not found.")}}else s=t.customCode={};if(!a&&s){if(s.callback||s.resources||s.customCode)return r&&r(!1,{error:!0,message:H("The callback, resources and customCode have been disabled for this\n            server.")});s.callback=!1,s.resources=!1,s.customCode=!1}if(o&&(o.chart=o.chart||{},o.exporting=o.exporting||{},o.exporting.enabled=!1),n.constr=n.constr||"chart",n.type=E(n.type,n.outfile),"svg"===n.type&&(n.width=!1),["globalOptions","themeOptions"].forEach((t=>{try{n&&n[t]&&("string"==typeof n[t]&&n[t].endsWith(".json")?n[t]=O(e.readFileSync(n[t],"utf8"),!0):n[t]=O(n[t],!0))}catch(e){n[t]={},S(1,`[chart] The ${t} not found.`)}})),s.allowCodeExecution&&(s.customCode=$(s.customCode,s.allowFileResources)),s&&s.callback&&s.callback?.indexOf("{")<0)if(s.allowFileResources)try{s.callback=e.readFileSync(s.callback,"utf8")}catch(e){S(2,`[chart] Error loading callback: ${e}.`),s.callback=!1}else s.callback=!1;t.export={...t.export,...Ae(t)},ve(n.strInj||o||i,t).then((e=>r(e))).catch((e=>(S(0,"[chart] When posting work:",e),r(!1,e))))},je=(e,t)=>{try{let o,r=e.export.instr||e.export.options;return"string"!=typeof r&&(o=r=_(r,e.customCode?.allowCodeExecution)),o=r.replaceAll(/\t|\n|\r/g,"").trim(),";"===o[o.length-1]&&(o=o.substring(0,o.length-1)),e.export.strInj=o,$e(e,!1,t)}catch(o){const r=H(`Malformed input detected for ${e.export?.requestId||"?"}:\n      Please make sure that your JSON/JavaScript options\n      are sent using the "options" attribute, and that if you're using\n      SVG, it is unescaped.`);return S(1,r),t&&t(!1,JSON.stringify({error:!0,message:r}))}},Pe=(e,t,o)=>{const{allowCodeExecution:r}=t.customCode;if(e.indexOf("<svg")>=0||e.indexOf("<?xml")>=0)return S(4,"[chart] Parsing input as SVG."),$e(t,!1,o,e);try{const r=JSON.parse(e.replaceAll(/\t|\n|\r/g," "));return $e(t,r,o)}catch(e){return A(r)?je(t,o):o&&o(!1,{error:!0,message:H("Only JSON configurations and SVG is allowed for this server. If\n            this is your server, JavaScript exporting can be enabled by starting\n            the server with the --allowCodeExecution flag.")})}},Ne={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",pdf:"application/pdf",svg:"image/svg+xml"};let Fe=0;const Ue=[],Ge=[],We=(e,t,o,r)=>{let i=!0;const{id:n,uniqueId:s,type:a,body:l}=r;return e.some((e=>{if(e){let r=e(t,o,n,s,a,l);return void 0!==r&&!0!==r&&(i=r),!0}})),i},qe=(e,t)=>{(()=>{const e=process.hrtime.bigint()})();const o=Ee(),r=e.body,i=++Fe,n=d.v4().replace(/-/g,"");let s=E(r.type);if(!r)return t.status(400).send(H("Body is required. Sending a body? Make sure your Content-type header\n        is correct. Accepted is application/json and multipart/form-data."));let a=O(r.infile||r.options||r.data);if(!a&&!r.svg)return S(2,H(`Request ${n} from ${e.headers["x-forwarded-for"]||e.connection.remoteAddress} was incorrect. Check your payload.`)),t.status(400).send(H("No correct chart data found. Please make sure you are using\n        application/json or multipart/form-data headers, and that the chart\n        data is in the 'infile', 'options' or 'data' attribute if sending\n        JSON or in the 'svg' if sending SVG."));let l=!1;if(l=We(Ue,e,t,{id:i,uniqueId:n,type:s,body:r}),!0!==l)return t.send(l);let c=!1;e.socket.on("close",(()=>{c=!0})),S(4,`[export] Got an incoming HTTP request ${n}.`),r.constr="string"==typeof r.constr&&r.constr||"chart";const p={export:{instr:a,type:s,constr:r.constr[0].toLowerCase()+r.constr.substr(1),height:r.height,width:r.width,scale:r.scale||o.export.scale,globalOptions:O(r.globalOptions,!0),themeOptions:O(r.themeOptions,!0)},customCode:{allowCodeExecution:_e,allowFileResources:!1,resources:O(r.resources,!0),callback:r.callback,customCode:r.customCode}};a&&(p.export.instr=_(a,p.customCode.allowCodeExecution));const u=Le(o,p);if(u.export.options=a,u.payload={svg:r.svg||!1,b64:r.b64||!1,dataOptions:O(r.dataOptions,!0),noDownload:r.noDownload||!1,requestId:n},r.svg&&(h=u.payload.svg,["localhost","(10).(.*).(.*).(.*)","(127).(.*).(.*).(.*)","(172).(1[6-9]|2[0-9]|3[0-1]).(.*).(.*)","(192).(168).(.*).(.*)"].some((e=>h.match(`xlink:href="(?:(http://|https://))?${e}`)))))return t.status(400).send("SVG potentially contain at least one forbidden URL in xlink:href element.");var h;Ie(u,((o,a)=>(e.socket.removeAllListeners("close"),c?S(3,H("[export] The client closed the connection before the chart was done\n          processing.")):a?(S(1,H(`[export] Work: ${n} could not be completed, sending:\n          ${a}`)),t.status(400).send(a.message)):o&&o.data?(s=o.options.export.type,We(Ge,e,t,{id:i,body:o.data}),o.data?r.b64?"pdf"===s||"svg"==s?t.send(Buffer.from(o.data,"utf8").toString("base64")):t.send(o.data):(t.header("Content-Type",Ne[s]||"image/png"),r.noDownload||t.attachment(`${e.params.filename||e.body.filename||"chart"}.${s||"png"}`),"svg"===s?t.send(o.data):t.send(Buffer.from(o.data,"base64"))):void 0):(S(1,H(`[export] Unexpected return from chart generation, please check your\n          data Request: ${n} is ${o.data}.`)),t.status(400).send("Unexpected return from chart generation, please check your data.")))))};const Me=r();Me.disable("x-powered-by"),Me.use(o());const De=i.memoryStorage(),Ve=i({storage:De,limits:{fieldSize:52428800}});Me.use(r.json({limit:52428800})),Me.use(r.urlencoded({extended:!0,limit:52428800})),Me.use(Ve.none());const Je=e=>S(1,`[server] Socket error: ${e}`),ze=e=>{e.on("clientError",Je),e.on("error",Je),e.on("connection",(e=>e.on("error",(e=>Je(e)))))},Xe=async o=>{if(!o.enable)return!1;if(!o.ssl.enable&&!o.ssl.force){const e=n.createServer(Me);ze(e),e.listen(o.port,o.host),S(3,`[server] Started HTTP server on ${o.host}:${o.port}.`)}if(o.ssl.enable){let r,i;try{r=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.key"),"utf8"),i=await e.promises.readFile(t.posix.join(o.ssl.certPath,"server.crt"),"utf8")}catch(e){S(1,`[server] Unable to load key/certificate from ${o.ssl.certPath}.`)}if(r&&i){const e=s.createServer(Me);ze(e),e.listen(o.ssl.port,o.host),S(3,`[server] Started HTTPS server on ${o.host}:${o.ssl.port}.`)}}o.rateLimiting&&o.rateLimiting.enable&&![0,NaN].includes(o.rateLimiting.maxRequests)&&j(Me,o.rateLimiting),Me.use(r.static(t.posix.join(R,"public"))),(e=>{!!e&&e.get("/health",((e,t)=>{t.send({status:"OK",bootTime:Re,uptime:Math.floor(((new Date).getTime()-Re.getTime())/1e3/60)+" minutes",version:Se.version,highchartsVersion:J(),averageProcessingTime:xe(),performedExports:ke(),failedExports:Te(),exportAttempts:we(),sucessRatio:ke()/we()*100,pool:be()})}))})(Me),(e=>{e.post("/",qe),e.post("/:filename",qe)})(Me),(e=>{!!e&&e.get("/",((e,o)=>{o.sendFile(t.join(R,"public","index.html"))}))})(Me),(e=>{!!e&&e.post("/change_hc_version/:newVersion",(async(e,t)=>{const o=process.env.HIGHCHARTS_ADMIN_TOKEN;if(!o||!o.length)return t.send({error:!0,message:"Server not configured to do run-time version changes: HIGHCHARTS_ADMIN_TOKEN not set"});const r=e.get("hc-auth");if(!r||r!==o)return t.send({error:!0,message:"Invalid or missing token: set token in the hc-auth header"});const i=e.params.newVersion;if(i){try{await D(i)}catch(e){t.send({error:!0,message:e})}t.send({version:J()})}else t.send({error:!0,message:"No new version supplied"})}))})(Me)};var Ke={startServer:Xe,getExpress:()=>r,getApp:()=>Me,use:(e,...t)=>{Me.use(e,...t)},get:(e,...t)=>{Me.get(e,...t)},post:(e,...t)=>{Me.post(e,...t)},enableRateLimiting:e=>j(Me,e)},Be={log:S,mapToNewConfig:e=>{const t={};for(const[o,r]of Object.entries(e)){const e=T[o]?T[o].split("."):[];e.reduce(((t,o,i)=>t[o]=e.length-1===i?r:t[o]||{}),t)}return t},setOptions:(t,o)=>(o?.length&&(He=function(t){const o=t.findIndex((e=>"loadConfig"===e.replace(/-/g,"")));if(o>-1&&t[o+1]){const r=t[o+1];try{if(r&&r.endsWith(".json"))return JSON.parse(e.readFileSync(r))}catch(e){S(1,`[config] Unable to load config from the ${r}: ${e}`)}}return{}}(o)),Oe(b,He),He=Ce(b),t&&(He=Le(He,t,w)),o?.length&&(He=function(e,t,o){for(let o=0;o<t.length;o++){let r=t[o].replace(/-/g,"");const i=T[r]?T[r].split("."):[];i.reduce(((n,s,a)=>(i.length-1===a&&void 0!==n[s]&&(t[++o]?n[s]=t[o]||n[s]:(console.log(`Missing argument value for ${r}!`.red,"\n"),e=I())),n[s])),e)}return e}(He,o)),He),singleExport:t=>{t.export.instr=t.export.instr||t.export.options,Ie(t,((t,o)=>{o&&(S(1,`[cli] ${o.message}`),process.exit(1));const{outfile:r,type:i}=t.options.export;e.writeFileSync(r||`chart.${i}`,"svg"!==i?Buffer.from(t.data,"base64"):t.data),fe()}))},startExport:Ie,batchExport:t=>{const o=[];for(let r of t.export.batch.split(";"))r=r.split("="),2===r.length&&o.push(new Promise(((o,i)=>{Ie({...t,export:{...t.export,infile:r[0],outfile:r[1]}},((t,r)=>{if(r)return i(r);e.writeFileSync(t.options.export.outfile,Buffer.from(t.data,"base64")),o()}))})));Promise.all(o).then((()=>{fe()})).catch((e=>{S(1,`[chart] Error encountered during batch export: ${e}`),fe()}))},server:Ke,startServer:Xe,killPool:fe,initPool:async(e={})=>{var t,o;return t=e.customCode&&e.customCode.allowCodeExecution,_e=A(t),(o=e.logging&&parseInt(e.logging.level))>=0&&o<=k.levelsDesc.length&&(k.level=o),e.logging&&e.logging.dest&&((e,t)=>{if(k={...k,dest:e||k.dest,file:t||k.file,toFile:!0},0===k.dest.length)return S(1,"[logger] File logging init: no path supplied.");k.dest.endsWith("/")||(k.dest+="/")})(e.logging.dest,e.logging.file||"highcharts-export-server.log"),await M(e.highcharts||{version:"latest"}),await me({pool:e.pool||{minWorkers:1,maxWorkers:1},puppeteerArgs:e.puppeteer?.args||[]}),e}};module.exports=Be;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9saWIvc2NoZW1hcy9jb25maWcuanMiLCIuLi9saWIvbG9nZ2VyLmpzIiwiLi4vbGliL3V0aWxzLmpzIiwiLi4vbGliL3NlcnZlci9yYXRlX2xpbWl0LmpzIiwiLi4vbGliL2ZldGNoLmpzIiwiLi4vbGliL2NhY2hlLmpzIiwiLi4vbGliL2Jyb3dzZXIuanMiLCIuLi9saWIvZXhwb3J0LmpzIiwiLi4vbGliL2JlbmNobWFyay5qcyIsIi4uL3RlbXBsYXRlcy9zdmdfZXhwb3J0L3N2Z19leHBvcnQuanMiLCIuLi9saWIvcG9vbC5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL2hlYWx0aC5qcyIsIi4uL2xpYi9jb25maWcuanMiLCIuLi9saWIvY2hhcnQuanMiLCIuLi9saWIvc2VydmVyL3JvdXRlcy9leHBvcnQuanMiLCIuLi9saWIvc2VydmVyL3NlcnZlci5qcyIsIi4uL2xpYi9zZXJ2ZXIvcm91dGVzL3VpLmpzIiwiLi4vbGliL3NlcnZlci9yb3V0ZXMvY2hhbmdlX2hjX3ZlcnNpb24uanMiLCIuLi9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLyBMb2FkIC5lbnYgaW50byBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuZG90ZW52LmNvbmZpZygpO1xyXG5cclxuLy8gVGhpcyBpcyB0aGUgY29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCBhbGwgb3B0aW9ucyBhbmQgdGhlaXIgZGVmYXVsdCB2YWx1ZXMsXHJcbi8vIGFsc28gZnJvbSB0aGUgLmVudiBmaWxlIGlmIG9uZSBleGlzdHNcclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XHJcbiAgcHVwcGV0ZWVyOiB7XHJcbiAgICBhcmdzOiB7XHJcbiAgICAgIHZhbHVlOiBbXSxcclxuICAgICAgdHlwZTogJ3N0cmluZ1tdJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdBcnJheSBvZiBhcmd1bWVudHMgdG8gc2VuZCB0byBwdXBwZXRlZXIuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgaGlnaGNoYXJ0czoge1xyXG4gICAgdmVyc2lvbjoge1xyXG4gICAgICB2YWx1ZTogJ2xhdGVzdCcsXHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1ZFUlNJT04nLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIHZlcnNpb24gdG8gdXNlLidcclxuICAgIH0sXHJcbiAgICBjZG5VUkw6IHtcclxuICAgICAgdmFsdWU6ICdodHRwczovL2NvZGUuaGlnaGNoYXJ0cy5jb20vJyxcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQ0ROJyxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIENETiBVUkwgb2YgSGlnaGNoYXJ0cyBzY3JpcHRzIHRvIHVzZS4nXHJcbiAgICB9LFxyXG4gICAgY29yZVNjcmlwdHM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQ09SRV9TQ1JJUFRTJyxcclxuICAgICAgdmFsdWU6IFsnaGlnaGNoYXJ0cycsICdoaWdoY2hhcnRzLW1vcmUnLCAnaGlnaGNoYXJ0cy0zZCddLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nW10nLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0hpZ2hjaGFydHMgY29yZSBzY3JpcHRzIHRvIGZldGNoLidcclxuICAgIH0sXHJcbiAgICBtb2R1bGVzOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX01PRFVMRVMnLFxyXG4gICAgICB2YWx1ZTogW1xyXG4gICAgICAgICdzdG9jaycsXHJcbiAgICAgICAgJ21hcCcsXHJcbiAgICAgICAgJ2dhbnR0JyxcclxuICAgICAgICAnZXhwb3J0aW5nJyxcclxuICAgICAgICAnZXhwb3J0LWRhdGEnLFxyXG4gICAgICAgICdwYXJhbGxlbC1jb29yZGluYXRlcycsXHJcbiAgICAgICAgJ2FjY2Vzc2liaWxpdHknLFxyXG4gICAgICAgICdhbm5vdGF0aW9ucy1hZHZhbmNlZCcsXHJcbiAgICAgICAgJ2Jvb3N0LWNhbnZhcycsXHJcbiAgICAgICAgJ2Jvb3N0JyxcclxuICAgICAgICAnZGF0YScsXHJcbiAgICAgICAgJ2RyYWdnYWJsZS1wb2ludHMnLFxyXG4gICAgICAgICdzdGF0aWMtc2NhbGUnLFxyXG4gICAgICAgICdicm9rZW4tYXhpcycsXHJcbiAgICAgICAgJ2hlYXRtYXAnLFxyXG4gICAgICAgICd0aWxlbWFwJyxcclxuICAgICAgICAndGltZWxpbmUnLFxyXG4gICAgICAgICd0cmVlbWFwJyxcclxuICAgICAgICAndHJlZWdyYXBoJyxcclxuICAgICAgICAnaXRlbS1zZXJpZXMnLFxyXG4gICAgICAgICdkcmlsbGRvd24nLFxyXG4gICAgICAgICdoaXN0b2dyYW0tYmVsbGN1cnZlJyxcclxuICAgICAgICAnYnVsbGV0JyxcclxuICAgICAgICAnZnVubmVsJyxcclxuICAgICAgICAnZnVubmVsM2QnLFxyXG4gICAgICAgICdweXJhbWlkM2QnLFxyXG4gICAgICAgICduZXR3b3JrZ3JhcGgnLFxyXG4gICAgICAgICdwYXJldG8nLFxyXG4gICAgICAgICdwYXR0ZXJuLWZpbGwnLFxyXG4gICAgICAgICdwaWN0b3JpYWwnLFxyXG4gICAgICAgICdwcmljZS1pbmRpY2F0b3InLFxyXG4gICAgICAgICdzYW5rZXknLFxyXG4gICAgICAgICdhcmMtZGlhZ3JhbScsXHJcbiAgICAgICAgJ2RlcGVuZGVuY3ktd2hlZWwnLFxyXG4gICAgICAgICdzZXJpZXMtbGFiZWwnLFxyXG4gICAgICAgICdzb2xpZC1nYXVnZScsXHJcbiAgICAgICAgJ3NvbmlmaWNhdGlvbicsXHJcbiAgICAgICAgJ3N0b2NrLXRvb2xzJyxcclxuICAgICAgICAnc3RyZWFtZ3JhcGgnLFxyXG4gICAgICAgICdzdW5idXJzdCcsXHJcbiAgICAgICAgJ3ZhcmlhYmxlLXBpZScsXHJcbiAgICAgICAgJ3Zhcml3aWRlJyxcclxuICAgICAgICAndmVjdG9yJyxcclxuICAgICAgICAndmVubicsXHJcbiAgICAgICAgJ3dpbmRiYXJiJyxcclxuICAgICAgICAnd29yZGNsb3VkJyxcclxuICAgICAgICAneHJhbmdlJyxcclxuICAgICAgICAnbm8tZGF0YS10by1kaXNwbGF5JyxcclxuICAgICAgICAnZHJhZy1wYW5lcycsXHJcbiAgICAgICAgJ2RlYnVnZ2VyJyxcclxuICAgICAgICAnZHVtYmJlbGwnLFxyXG4gICAgICAgICdsb2xsaXBvcCcsXHJcbiAgICAgICAgJ2N5bGluZGVyJyxcclxuICAgICAgICAnb3JnYW5pemF0aW9uJyxcclxuICAgICAgICAnZG90cGxvdCcsXHJcbiAgICAgICAgJ21hcmtlci1jbHVzdGVycycsXHJcbiAgICAgICAgJ2hvbGxvd2NhbmRsZXN0aWNrJyxcclxuICAgICAgICAnaGVpa2luYXNoaSdcclxuICAgICAgXSxcclxuICAgICAgdHlwZTogJ3N0cmluZ1tdJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIG1vZHVsZXMgdG8gZmV0Y2guJ1xyXG4gICAgfSxcclxuICAgIGluZGljYXRvcnM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfSU5ESUNBVE9SUycsXHJcbiAgICAgIHZhbHVlOiBbJ2luZGljYXRvcnMtYWxsJ10sXHJcbiAgICAgIHR5cGU6ICdzdHJpbmdbXScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyBpbmRpY2F0b3JzIHRvIGZldGNoLidcclxuICAgIH0sXHJcbiAgICBzY3JpcHRzOiB7XHJcbiAgICAgIHZhbHVlOiBbXHJcbiAgICAgICAgJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21vbWVudC5qcy8yLjI5LjQvbW9tZW50Lm1pbi5qcycsXHJcbiAgICAgICAgJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21vbWVudC10aW1lem9uZS8wLjUuMzQvbW9tZW50LXRpbWV6b25lLXdpdGgtZGF0YS5taW4uanMnXHJcbiAgICAgIF0sXHJcbiAgICAgIHR5cGU6ICdzdHJpbmdbXScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBZGRpdGlvbmFsIGRpcmVjdCBzY3JpcHRzL29wdGlvbmFsIGRlcGVuZGVuY2llcyAoZS5nLiBtb21lbnQuanMpLidcclxuICAgIH0sXHJcbiAgICBmb3JjZUZldGNoOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0ZPUkNFX0ZFVENIJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdTaG91bGQgYWxsIHRoZSBzY3JpcHRzIGJlIHJlZmV0Y2hlZCBhZnRlciByZXJ1bm5pbmcgdGhlIHNlcnZlci4nXHJcbiAgICB9XHJcbiAgfSxcclxuICBleHBvcnQ6IHtcclxuICAgIGluZmlsZToge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIGlucHV0IGZpbGUgbmFtZSBhbG9uZyB3aXRoIGEgdHlwZSAoanNvbiBvciBzdmcpLiBJdCBjYW4gYmUgYSBjb3JyZWN0IEpTT04gb3IgU1ZHIGZpbGUuJ1xyXG4gICAgfSxcclxuICAgIGluc3RyOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBbiBpbnB1dCBpbiBhIGZvcm0gb2YgYSBzdHJpbmdpZmllZCBKU09OIG9yIFNWRyBmaWxlLiBPdmVycmlkZXMgdGhlIC0taW5maWxlLidcclxuICAgIH0sXHJcbiAgICBvcHRpb25zOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnQW4gYWxpYXMgZm9yIHRoZSAtLWluc3RyIG9wdGlvbi4nXHJcbiAgICB9LFxyXG4gICAgb3V0ZmlsZToge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIG91dHB1dCBmaWxlbmFtZSBhbG9uZyB3aXRoIGEgdHlwZSAoanBlZywgcG5nLCBwZGYgb3Igc3ZnKS4gSWdub3JlcyB0aGUgLS10eXBlIGZsYWcuJ1xyXG4gICAgfSxcclxuICAgIHR5cGU6IHtcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX1RZUEUnLFxyXG4gICAgICB2YWx1ZTogJ3BuZycsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIGZvcm1hdCBvZiB0aGUgZmlsZSB0byBleHBvcnQgdG8uIENhbiBiZSBqcGVnLCBwbmcsIHBkZiBvciBzdmcuJ1xyXG4gICAgfSxcclxuICAgIGNvbnN0cjoge1xyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfQ09OU1RSJyxcclxuICAgICAgdmFsdWU6ICdjaGFydCcsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIGNvbnN0cnVjdG9yIHRvIHVzZS4gQ2FuIGJlIGNoYXJ0LCBzdG9ja0NoYXJ0LCBtYXBDaGFydCBvciBnYW50dENoYXJ0LidcclxuICAgIH0sXHJcbiAgICBkZWZhdWx0SGVpZ2h0OiB7XHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfREVGQVVMVF9IRUlHSFQnLFxyXG4gICAgICB2YWx1ZTogNDAwLFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBkZWZhdWx0IGhlaWdodCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIFVzZWQgd2hlbiBub3QgZm91bmQgYW55IHZhbHVlIHNldC4nXHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdFdpZHRoOiB7XHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfREVGQVVMVF9XSURUSCcsXHJcbiAgICAgIHZhbHVlOiA2MDAsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIGRlZmF1bHQgd2lkdGggb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LiBVc2VkIHdoZW4gbm90IGZvdW5kIGFueSB2YWx1ZSBzZXQuJ1xyXG4gICAgfSxcclxuICAgIGRlZmF1bHRTY2FsZToge1xyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0RFRkFVTFRfU0NBTEUnLFxyXG4gICAgICB2YWx1ZTogMSxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgZGVmYXVsdCBzY2FsZSBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIFJhbmdlcyBiZXR3ZWVuIDEgYW5kIDUuJ1xyXG4gICAgfSxcclxuICAgIGhlaWdodDoge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIGRlZmF1bHQgaGVpZ2h0IG9mIHRoZSBleHBvcnRlZCBjaGFydC4gT3ZlcnJpZGVzIHRoZSBvcHRpb24gaW4gdGhlIGNoYXJ0IHNldHRpbmdzLidcclxuICAgIH0sXHJcbiAgICB3aWR0aDoge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIHdpZHRoIG9mIHRoZSBleHBvcnRlZCBjaGFydC4gT3ZlcnJpZGVzIHRoZSBvcHRpb24gaW4gdGhlIGNoYXJ0IHNldHRpbmdzLidcclxuICAgIH0sXHJcbiAgICBzY2FsZToge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBzY2FsZSBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQuIFJhbmdlcyBiZXR3ZWVuIDEgYW5kIDUuJ1xyXG4gICAgfSxcclxuICAgIGdsb2JhbE9wdGlvbnM6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0Egc3RyaW5naWZpZWQgSlNPTiBvciBhIGZpbGVuYW1lIHdpdGggb3B0aW9ucyB0byBiZSBwYXNzZWQgaW50byB0aGUgSGlnaGNoYXJ0cy5zZXRPcHRpb25zLidcclxuICAgIH0sXHJcbiAgICB0aGVtZU9wdGlvbnM6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0Egc3RyaW5naWZpZWQgSlNPTiBvciBhIGZpbGVuYW1lIHdpdGggdGhlbWUgb3B0aW9ucyB0byBiZSBwYXNzZWQgaW50byB0aGUgSGlnaGNoYXJ0cy5zZXRPcHRpb25zLidcclxuICAgIH0sXHJcbiAgICBiYXRjaDoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnU3RhcnRzIGEgYmF0Y2ggam9iLiBBIHN0cmluZyB0aGF0IGNvbnRhaW5zIGlucHV0L291dHB1dCBwYWlyczogXCJpbj1vdXQ7aW49b3V0Oy4uXCIuJ1xyXG4gICAgfSxcclxuICAgIHJhc3Rlcml6YXRpb25UaW1lb3V0OiB7XHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfUkFTVEVSSVpBVElPTl9USU1FT1VUJyxcclxuICAgICAgdmFsdWU6IDE1MDAsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIHJlbmRlcmluZyBhIHdlYnBhZ2UuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgY3VzdG9tQ29kZToge1xyXG4gICAgYWxsb3dDb2RlRXhlY3V0aW9uOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0FMTE9XX0NPREVfRVhFQ1VUSU9OJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdJZiBzZXQgdG8gdHJ1ZSwgYWxsb3cgZm9yIHRoZSBleGVjdXRpb24gb2YgYXJiaXRyYXJ5IGNvZGUgd2hlbiBleHBvcnRpbmcuJ1xyXG4gICAgfSxcclxuICAgIGFsbG93RmlsZVJlc291cmNlczoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19BTExPV19GSUxFX1JFU09VUkNFUycsXHJcbiAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBbGxvdyBpbmplY3RpbmcgcmVzb3VyY2VzIGZyb20gdGhlIGZpbGVzeXN0ZW0uIEhhcyBubyBlZmZlY3Qgd2hlbiBydW5uaW5nIGFzIGEgc2VydmVyLidcclxuICAgIH0sXHJcbiAgICBjdXN0b21Db2RlOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBiZWZvcmUgY2hhcnQgaW5pdGlhbGl6YXRpb24uIENhbiBiZSBhIGZpbGVuYW1lIHdpdGggdGhlIGpzIGV4dGVuc2lvbi4nXHJcbiAgICB9LFxyXG4gICAgY2FsbGJhY2s6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdBIEphdmFTY3JpcHQgZmlsZSB3aXRoIGEgZnVuY3Rpb24gdG8gcnVuIG9uIGNvbnN0cnVjdGlvbi4nXHJcbiAgICB9LFxyXG4gICAgcmVzb3VyY2VzOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBbiBhZGRpdGlvbmFsIHJlc291cmNlIGluIGEgZm9ybSBvZiBzdHJpbmdpZmllZCBKU09OLiBJdCBjYW4gY29udGFpbiBmaWxlcywganMgYW5kIGNzcyBzZWN0aW9ucy4nXHJcbiAgICB9LFxyXG4gICAgbG9hZENvbmZpZzoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0EgZmlsZSB0aGF0IGNvbnRhaW5zIGEgcHJlLWRlZmluZWQgY29uZmlnIHRvIHVzZS4nXHJcbiAgICB9LFxyXG4gICAgY3JlYXRlQ29uZmlnOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdBbGxvd3MgdG8gc2V0IG9wdGlvbnMgdGhyb3VnaCBhIHByb21wdCBhbmQgc2F2ZSBpbiBhIHByb3ZpZGVkIGNvbmZpZyBmaWxlLidcclxuICAgIH1cclxuICB9LFxyXG4gIHNlcnZlcjoge1xyXG4gICAgZW5hYmxlOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NFUlZFUl9FTkFCTEUnLFxyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgY2xpTmFtZTogJ2VuYWJsZVNlcnZlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnSWYgc2V0IHRvIHRydWUsIHN0YXJ0cyBhIHNlcnZlciBvbiAwLjAuMC4wLidcclxuICAgIH0sXHJcbiAgICBob3N0OiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NFUlZFUl9IT1NUJyxcclxuICAgICAgdmFsdWU6ICcwLjAuMC4wJyxcclxuICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgaG9zdG5hbWUgb2YgdGhlIHNlcnZlci4gQWxzbyBzdGFydHMgYSBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHRoZSBzdXBwbGllZCBob3N0bmFtZS4nXHJcbiAgICB9LFxyXG4gICAgcG9ydDoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfUE9SVCcsXHJcbiAgICAgIHZhbHVlOiA3ODAxLFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgcG9ydCB0byB1c2UgZm9yIHRoZSBzZXJ2ZXIuIERlZmF1bHRzIHRvIDc4MDEuJ1xyXG4gICAgfSxcclxuICAgIHNzbDoge1xyXG4gICAgICBlbmFibGU6IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19TRVJWRVJfU1NMX0VOQUJMRScsXHJcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgICBjbGlOYW1lOiAnZW5hYmxlU3NsJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0VuYWJsZXMgdGhlIFNTTCBwcm90b2NvbC4nXHJcbiAgICAgIH0sXHJcbiAgICAgIGZvcmNlOiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfU0VSVkVSX1NTTF9GT1JDRScsXHJcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgICBjbGlOYW1lOiAnc3NsRm9yY2VkJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAgICdJZiBzZXQgdG8gdHJ1ZSwgZm9yY2VzIHRoZSBzZXJ2ZXIgdG8gb25seSBzZXJ2ZSBvdmVyIEhUVFBTLidcclxuICAgICAgfSxcclxuICAgICAgcG9ydDoge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NFUlZFUl9TU0xfUE9SVCcsXHJcbiAgICAgICAgdmFsdWU6IDQ0MyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBjbGlOYW1lOiAnc3NsUG9ydCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgcG9ydCBvbiB3aGljaCB0byBydW4gdGhlIFNTTCBzZXJ2ZXIuJ1xyXG4gICAgICB9LFxyXG4gICAgICBjZXJ0UGF0aDoge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1NTTF9DRVJUX1BBVEgnLFxyXG4gICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYXRoIHRvIHRoZSBTU0wgY2VydGlmaWNhdGUva2V5LidcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJhdGVMaW1pdGluZzoge1xyXG4gICAgICBlbmFibGU6IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX0VOQUJMRScsXHJcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgICBjbGlOYW1lOiAnZW5hYmxlUmF0ZUxpbWl0aW5nJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0VuYWJsZXMgcmF0ZSBsaW1pdGluZy4nXHJcbiAgICAgIH0sXHJcbiAgICAgIG1heFJlcXVlc3RzOiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9NQVgnLFxyXG4gICAgICAgIHZhbHVlOiAxMCxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ01heCByZXF1ZXN0cyBhbGxvd2VkIGluIGEgb25lIG1pbnV0ZS4nXHJcbiAgICAgIH0sXHJcbiAgICAgIHdpbmRvdzoge1xyXG4gICAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1JBVEVfTElNSVRfV0lORE9XJyxcclxuICAgICAgICB2YWx1ZTogMSxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSB0aW1lIHdpbmRvdyBpbiBtaW51dGVzIGZvciByYXRlIGxpbWl0aW5nLidcclxuICAgICAgfSxcclxuICAgICAgZGVsYXk6IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX0RFTEFZJyxcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAgICdUaGUgYW1vdW50IHRvIGRlbGF5IGVhY2ggc3VjY2Vzc2l2ZSByZXF1ZXN0IGJlZm9yZSBoaXR0aW5nIHRoZSBtYXguJ1xyXG4gICAgICB9LFxyXG4gICAgICB0cnVzdFByb3h5OiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9UUlVTVF9QUk9YWScsXHJcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NldCB0aGlzIHRvIHRydWUgaWYgYmVoaW5kIGEgbG9hZCBiYWxhbmNlci4nXHJcbiAgICAgIH0sXHJcbiAgICAgIHNraXBLZXk6IHtcclxuICAgICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19SQVRFX0xJTUlUX1NLSVBfS0VZJyxcclxuICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcnxzdHJpbmcnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgJ0FsbG93cyBieXBhc3NpbmcgdGhlIHJhdGUgbGltaXRlciBhbmQgc2hvdWxkIGJlIHByb3ZpZGVkIHdpdGggc2tpcFRva2VuIGFyZ3VtZW50LidcclxuICAgICAgfSxcclxuICAgICAgc2tpcFRva2VuOiB7XHJcbiAgICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUkFURV9MSU1JVF9TS0lQX1RPS0VOJyxcclxuICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcnxzdHJpbmcnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgJ0FsbG93cyBieXBhc3NpbmcgdGhlIHJhdGUgbGltaXRlciBhbmQgc2hvdWxkIGJlIHByb3ZpZGVkIHdpdGggc2tpcEtleSBhcmd1bWVudC4nXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIHBvb2w6IHtcclxuICAgIG1pbldvcmtlcnM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9NSU5fV09SS0VSUycsXHJcbiAgICAgIHZhbHVlOiA0LFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgbnVtYmVyIG9mIGluaXRpYWwgd29ya2VycyB0byBzcGF3bi4nXHJcbiAgICB9LFxyXG4gICAgbWF4V29ya2Vyczoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX01BWF9XT1JLRVJTJyxcclxuICAgICAgdmFsdWU6IDgsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgbWF4IHdvcmtlcnMgdG8gc3Bhd24uJ1xyXG4gICAgfSxcclxuICAgIHdvcmtMaW1pdDoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX1dPUktfTElNSVQnLFxyXG4gICAgICB2YWx1ZTogNDAsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIHBpZWNlcyBvZiB3b3JrIHRoYXQgY2FuIGJlIHBlcmZvcm1lZCBiZWZvcmUgcmVzdGFydGluZyBwcm9jZXNzLidcclxuICAgIH0sXHJcbiAgICBhY3F1aXJlVGltZW91dDoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19QT09MX0FDUVVJUkVfVElNRU9VVCcsXHJcbiAgICAgIHZhbHVlOiA1MDAwLFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGFjcXVpcmluZyBhIHJlc291cmNlLidcclxuICAgIH0sXHJcbiAgICBjcmVhdGVUaW1lb3V0OiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfQ1JFQVRFX1RJTUVPVVQnLFxyXG4gICAgICB2YWx1ZTogNTAwMCxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgY3JlYXRpbmcgYSByZXNvdXJjZS4nXHJcbiAgICB9LFxyXG4gICAgZGVzdHJveVRpbWVvdXQ6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9ERVNUUk9ZX1RJTUVPVVQnLFxyXG4gICAgICB2YWx1ZTogNTAwMCxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGZvciBkZXN0cm95aW5nIGEgcmVzb3VyY2UuJ1xyXG4gICAgfSxcclxuICAgIGlkbGVUaW1lb3V0OiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfSURMRV9USU1FT1VUJyxcclxuICAgICAgdmFsdWU6IDMwMDAwLFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGFmdGVyIGFuIGlkbGUgcmVzb3VyY2UgaXMgZGVzdHJveWVkLidcclxuICAgIH0sXHJcbiAgICBjcmVhdGVSZXRyeUludGVydmFsOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfQ1JFQVRFX1JFVFJZX0lOVEVSVkFMJyxcclxuICAgICAgdmFsdWU6IDIwMCxcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhZnRlciB0aGUgY3JlYXRlIHByb2Nlc3MgaXMgcmV0cmllZCBpbiBjYXNlIG9mIGZhaWwuJ1xyXG4gICAgfSxcclxuICAgIHJlYXBlckludGVydmFsOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfUkVBUEVSX0lOVEVSVkFMJyxcclxuICAgICAgdmFsdWU6IDEwMDAsXHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYWZ0ZXIgdGhlIGNoZWNrIGZvciBpZGxlIHJlc291cmNlcyB0byBkZXN0cm95IGlzIHRyaWdnZXJlZC4nXHJcbiAgICB9LFxyXG4gICAgYmVuY2htYXJraW5nOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1BPT0xfQkVOQ0hNQVJLSU5HJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlIGJlbmNobWFya2luZy4nXHJcbiAgICB9LFxyXG4gICAgbGlzdGVuVG9Qcm9jZXNzRXhpdHM6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfUE9PTF9MSVNURU5fVE9fUFJPQ0VTU19FWElUUycsXHJcbiAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdTZXQgdG8gZmFsc2UgaW4gb3JkZXIgdG8gc2tpcCBhdHRhY2hpbmcgcHJvY2Vzcy5leGl0IGhhbmRsZXJzLidcclxuICAgIH1cclxuICB9LFxyXG4gIGxvZ2dpbmc6IHtcclxuICAgIGxldmVsOiB7XHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX0xPR19MRVZFTCcsXHJcbiAgICAgIHZhbHVlOiA0LFxyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgY2xpTmFtZTogJ2xvZ0xldmVsJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1RoZSBsb2cgbGV2ZWwgKDA6IHNpbGVudCwgMTogZXJyb3IsIDI6IHdhcm5pbmcsIDM6IG5vdGljZSwgNDogdmVyYm9zZSkuJ1xyXG4gICAgfSxcclxuICAgIGZpbGU6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfTE9HX0ZJTEUnLFxyXG4gICAgICB2YWx1ZTogJ2hpZ2hjaGFydHMtZXhwb3J0LXNlcnZlci5sb2cnLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgY2xpTmFtZTogJ2xvZ0ZpbGUnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQSBuYW1lIG9mIGEgbG9nIGZpbGUuIFRoZSAtLWxvZ0Rlc3QgYWxzbyBuZWVkcyB0byBiZSBzZXQgdG8gZW5hYmxlIGZpbGUgbG9nZ2luZy4nXHJcbiAgICB9LFxyXG4gICAgZGVzdDoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19MT0dfREVTVCcsXHJcbiAgICAgIHZhbHVlOiAnbG9nLycsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBjbGlOYW1lOiAnbG9nRGVzdCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHBhdGggdG8gc3RvcmUgbG9nIGZpbGVzLiBBbHNvIGVuYWJsZXMgZmlsZSBsb2dnaW5nLidcclxuICAgIH1cclxuICB9LFxyXG4gIHVpOiB7XHJcbiAgICBlbmFibGU6IHtcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfVUlfRU5BQkxFJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGNsaU5hbWU6ICdlbmFibGVVaScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyB0aGUgVUkgZm9yIHRoZSBleHBvcnQgc2VydmVyLidcclxuICAgIH0sXHJcbiAgICByb3V0ZToge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19VSV9ST1VURScsXHJcbiAgICAgIHZhbHVlOiAnLycsXHJcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICBjbGlOYW1lOiAndWlSb3V0ZScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHJvdXRlIHRvIGF0dGFjaCB0aGUgVUkgdG8uJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgb3RoZXI6IHtcclxuICAgIG5vTG9nbzoge1xyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19OT19MT0dPJyxcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlOiAnYm9vbGVhbicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdTa2lwIHByaW50aW5nIHRoZSBsb2dvIG9uIGEgc3RhcnR1cC4gV2lsbCBiZSByZXBsYWNlZCBieSBhIHNpbXBsZSB0ZXh0LidcclxuICAgIH1cclxuICB9LFxyXG4gIHBheWxvYWQ6IHt9XHJcbn07XHJcblxyXG4vLyBUaGUgY29uZmlnIGRlc2NyaXB0aW9ucyBvYmplY3QgZm9yIHRoZSBwcm9tcHRzIGZ1bmN0aW9uYWxpdHkuIEl0IGNvbnRhaW5zXHJcbi8vIGluZm9ybWF0aW9uIGxpa2U6XHJcbi8vICogVHlwZSBvZiBhIHByb21wdFxyXG4vLyAqIE5hbWUgb2YgYW4gb3B0aW9uXHJcbi8vICogU2hvcnQgZGVzY3JpcHRpb24gb2YgYSBjaG9zZW4gb3B0aW9uXHJcbi8vICogSW5pdGlhbCB2YWx1ZVxyXG5leHBvcnQgY29uc3QgcHJvbXB0c0NvbmZpZyA9IHtcclxuICBwdXBwZXRlZXI6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogJ2xpc3QnLFxyXG4gICAgICBuYW1lOiAnYXJncycsXHJcbiAgICAgIG1lc3NhZ2U6ICdQdXBwZXRlZXIgYXJndW1lbnRzJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wdXBwZXRlZXIuYXJncy52YWx1ZS5qb2luKCcsJyksXHJcbiAgICAgIHNlcGFyYXRvcjogJywnXHJcbiAgICB9XHJcbiAgXSxcclxuICBoaWdoY2hhcnRzOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ3ZlcnNpb24nLFxyXG4gICAgICBtZXNzYWdlOiAnSGlnaGNoYXJ0cyB2ZXJzaW9uJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLnZlcnNpb24udmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ2NkblVSTCcsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgdXJsIG9mIENETicsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuaGlnaGNoYXJ0cy5jZG5VUkwudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdtdWx0aXNlbGVjdCcsXHJcbiAgICAgIG5hbWU6ICdtb2R1bGVzJyxcclxuICAgICAgbWVzc2FnZTogJ0F2YWlsYWJsZSBtb2R1bGVzJyxcclxuICAgICAgaW5zdHJ1Y3Rpb25zOiAnU3BhY2U6IFNlbGVjdCBzcGVjaWZpYywgQTogU2VsZWN0IGFsbCwgRW50ZXI6IENvbmZpcm0uJyxcclxuICAgICAgY2hvaWNlczogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLm1vZHVsZXMudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdsaXN0JyxcclxuICAgICAgbmFtZTogJ3NjcmlwdHMnLFxyXG4gICAgICBtZXNzYWdlOiAnQ3VzdG9tIHNjcmlwdHMnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMuc2NyaXB0cy52YWx1ZS5qb2luKCcsJyksXHJcbiAgICAgIHNlcGFyYXRvcjogJywnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ2ZvcmNlRmV0Y2gnLFxyXG4gICAgICBtZXNzYWdlOiAnU2hvdWxkIHJlZmV0Y2ggYWxsIHRoZSBzY3JpcHRzIGFmdGVyIGVhY2ggc2VydmVyIHJlcnVuJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLmZvcmNlRmV0Y2gudmFsdWVcclxuICAgIH1cclxuICBdLFxyXG4gIGV4cG9ydDogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAnc2VsZWN0JyxcclxuICAgICAgbmFtZTogJ3R5cGUnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgdHlwZSBvZiBhIGZpbGUgdG8gZXhwb3J0IHRvJyxcclxuICAgICAgaGludDogYERlZmF1bHQ6ICR7ZGVmYXVsdENvbmZpZy5leHBvcnQudHlwZS52YWx1ZX1gLFxyXG4gICAgICBpbml0aWFsOiAwLFxyXG4gICAgICBjaG9pY2VzOiBbJ3BuZycsICdqcGVnJywgJ3BkZicsICdzdmcnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3NlbGVjdCcsXHJcbiAgICAgIG5hbWU6ICdjb25zdHInLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgY29uc3RydWN0b3IgZm9yIEhpZ2hjaGFydHMgdG8gdXNlJyxcclxuICAgICAgaGludDogYERlZmF1bHQ6ICR7ZGVmYXVsdENvbmZpZy5leHBvcnQuY29uc3RyLnZhbHVlfWAsXHJcbiAgICAgIGluaXRpYWw6IDAsXHJcbiAgICAgIGNob2ljZXM6IFsnY2hhcnQnLCAnc3RvY2tDaGFydCcsICdtYXBDaGFydCcsICdnYW50dENoYXJ0J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnZGVmYXVsdEhlaWdodCcsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgZGVmYXVsdCBmYWxsYmFjayBoZWlnaHQgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5leHBvcnQuZGVmYXVsdEhlaWdodC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdkZWZhdWx0V2lkdGgnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIGRlZmF1bHQgZmFsbGJhY2sgd2lkdGggb2YgdGhlIGV4cG9ydGVkIGNoYXJ0JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5leHBvcnQuZGVmYXVsdFdpZHRoLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ2RlZmF1bHRTY2FsZScsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgZGVmYXVsdCBmYWxsYmFjayBzY2FsZSBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmV4cG9ydC5kZWZhdWx0U2NhbGUudmFsdWUsXHJcbiAgICAgIG1pbjogMC4xLFxyXG4gICAgICBtYXg6IDVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAncmFzdGVyaXphdGlvblRpbWVvdXQnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgcmVuZGVyaW5nIGEgd2VicGFnZScsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuZXhwb3J0LnJhc3Rlcml6YXRpb25UaW1lb3V0LnZhbHVlXHJcbiAgICB9XHJcbiAgXSxcclxuICBjdXN0b21Db2RlOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnYWxsb3dDb2RlRXhlY3V0aW9uJyxcclxuICAgICAgbWVzc2FnZTogJ0FsbG93IHRvIGV4ZWN1dGUgY3VzdG9tIGNvZGUnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmN1c3RvbUNvZGUuYWxsb3dDb2RlRXhlY3V0aW9uLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ2FsbG93RmlsZVJlc291cmNlcycsXHJcbiAgICAgIG1lc3NhZ2U6ICdBbGxvdyBmaWxlIHJlc291cmNlcycsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuY3VzdG9tQ29kZS5hbGxvd0ZpbGVSZXNvdXJjZXMudmFsdWVcclxuICAgIH1cclxuICBdLFxyXG4gIHNlcnZlcjogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ2VuYWJsZScsXHJcbiAgICAgIG1lc3NhZ2U6ICdTdGFydHMgYSBzZXJ2ZXIgb24gMC4wLjAuMCcsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLmVuYWJsZS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICBuYW1lOiAnaG9zdCcsXHJcbiAgICAgIG1lc3NhZ2U6ICdBIGhvc3RuYW1lIG9mIGEgc2VydmVyJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuaG9zdC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdwb3J0JyxcclxuICAgICAgbWVzc2FnZTogJ0EgcG9ydCBvZiBhIHNlcnZlcicsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnBvcnQudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0b2dnbGUnLFxyXG4gICAgICBuYW1lOiAnc3NsLmVuYWJsZScsXHJcbiAgICAgIG1lc3NhZ2U6ICdFbmFibGUgU1NMIHByb3RvY29sJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuc3NsLmVuYWJsZS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdzc2wuZm9yY2UnLFxyXG4gICAgICBtZXNzYWdlOiAnRm9yY2UgdG8gb25seSBzZXJ2ZSBvdmVyIEhUVFBTJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuc3NsLmZvcmNlLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ3NzbC5wb3J0JyxcclxuICAgICAgbWVzc2FnZTogJ1BvcnQgb24gd2hpY2ggdG8gcnVuIHRoZSBTU0wgc2VydmVyJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIuc3NsLnBvcnQudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ3NzbC5jZXJ0UGF0aCcsXHJcbiAgICAgIG1lc3NhZ2U6ICdBIHBhdGggd2hlcmUgdG8gZmluZCB0aGUgU1NMIGNlcnRpZmljYXRlL2tleScsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnNzbC5jZXJ0UGF0aC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcuZW5hYmxlJyxcclxuICAgICAgbWVzc2FnZTogJ0VuYWJsZSByYXRlIGxpbWl0aW5nJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLmVuYWJsZS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcubWF4UmVxdWVzdHMnLFxyXG4gICAgICBtZXNzYWdlOiAnTWF4IHJlcXVlc3RzIGFsbG93ZWQgaW4gYSBvbmUgbWludXRlJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLm1heFJlcXVlc3RzLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy53aW5kb3cnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIHRpbWUgd2luZG93IGluIG1pbnV0ZXMgZm9yIHJhdGUgbGltaXRpbmcnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5yYXRlTGltaXRpbmcud2luZG93LnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ3JhdGVMaW1pdGluZy5kZWxheScsXHJcbiAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgJ1RoZSBhbW91bnQgdG8gZGVsYXkgZWFjaCBzdWNjZXNzaXZlIHJlcXVlc3QgYmVmb3JlIGhpdHRpbmcgdGhlIG1heCcsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5kZWxheS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcudHJ1c3RQcm94eScsXHJcbiAgICAgIG1lc3NhZ2U6ICdTZXQgdGhpcyB0byB0cnVlIGlmIGJlaGluZCBhIGxvYWQgYmFsYW5jZXInLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnNlcnZlci5yYXRlTGltaXRpbmcudHJ1c3RQcm94eS52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICBuYW1lOiAncmF0ZUxpbWl0aW5nLnNraXBLZXknLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgICdBbGxvd3MgYnlwYXNzaW5nIHRoZSByYXRlIGxpbWl0ZXIgYW5kIHNob3VsZCBiZSBwcm92aWRlZCB3aXRoIHNraXBUb2tlbiBhcmd1bWVudCcsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcuc2VydmVyLnJhdGVMaW1pdGluZy5za2lwS2V5LnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgIG5hbWU6ICdyYXRlTGltaXRpbmcuc2tpcFRva2VuJyxcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICAnQWxsb3dzIGJ5cGFzc2luZyB0aGUgcmF0ZSBsaW1pdGVyIGFuZCBzaG91bGQgYmUgcHJvdmlkZWQgd2l0aCBza2lwS2V5IGFyZ3VtZW50JyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5zZXJ2ZXIucmF0ZUxpbWl0aW5nLnNraXBUb2tlbi52YWx1ZVxyXG4gICAgfVxyXG4gIF0sXHJcbiAgcG9vbDogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ21pbldvcmtlcnMnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBpbml0aWFsIHdvcmtlcnMgdG8gc3Bhd24nLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wubWluV29ya2Vycy52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdtYXhXb3JrZXJzJyxcclxuICAgICAgbWVzc2FnZTogJ1RoZSBudW1iZXIgb2YgbWF4IHdvcmtlcnMgdG8gc3Bhd24nLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wubWF4V29ya2Vycy52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICd3b3JrTGltaXQnLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgICdUaGUgcGllY2VzIG9mIHdvcmsgdGhhdCBjYW4gYmUgcGVyZm9ybWVkIGJlZm9yZSByZXN0YXJ0aW5nIGEgcHVwcGV0ZWVyIHByb2Nlc3MnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnBvb2wud29ya0xpbWl0LnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ2FjcXVpcmVUaW1lb3V0JyxcclxuICAgICAgbWVzc2FnZTogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGFjcXVpcmluZyBhIHJlc291cmNlJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmFjcXVpcmVUaW1lb3V0LnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ2NyZWF0ZVRpbWVvdXQnLFxyXG4gICAgICBtZXNzYWdlOiAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgY3JlYXRpbmcgYSByZXNvdXJjZScsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5jcmVhdGVUaW1lb3V0LnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgbmFtZTogJ2Rlc3Ryb3lUaW1lb3V0JyxcclxuICAgICAgbWVzc2FnZTogJ1RoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGRlc3Ryb3lpbmcgYSByZXNvdXJjZScsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5kZXN0cm95VGltZW91dC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdpZGxlVGltZW91dCcsXHJcbiAgICAgIG1lc3NhZ2U6ICdUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhZnRlciBhbiBpZGxlIHJlc291cmNlIGlzIGRlc3Ryb3llZCcsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcucG9vbC5pZGxlVGltZW91dC52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgIG5hbWU6ICdjcmVhdGVSZXRyeUludGVydmFsJyxcclxuICAgICAgbWVzc2FnZTpcclxuICAgICAgICAnVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYWZ0ZXIgdGhlIGNyZWF0ZSBwcm9jZXNzIGlzIHJldHJpZWQgaW4gY2FzZSBvZiBmYWlsJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmNyZWF0ZVJldHJ5SW50ZXJ2YWwudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAncmVhcGVySW50ZXJ2YWwnLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgICdUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhZnRlciB0aGUgY2hlY2sgZm9yIGlkbGUgcmVzb3VyY2VzIHRvIGRlc3Ryb3kgaXMgdHJpZ2dlcmVkJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLnJlYXBlckludGVydmFsLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ2JlbmNobWFya2luZycsXHJcbiAgICAgIG1lc3NhZ2U6ICdTZXQgYmVuY2htYXJraW5nJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmJlbmNobWFya2luZy52YWx1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdsaXN0ZW5Ub1Byb2Nlc3NFeGl0cycsXHJcbiAgICAgIG1lc3NhZ2U6ICdTZXQgdG8gZmFsc2UgaW4gb3JkZXIgdG8gc2tpcCBhdHRhY2hpbmcgcHJvY2Vzcy5leGl0IGhhbmRsZXJzJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5wb29sLmxpc3RlblRvUHJvY2Vzc0V4aXRzLnZhbHVlXHJcbiAgICB9XHJcbiAgXSxcclxuICBsb2dnaW5nOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICBuYW1lOiAnbGV2ZWwnLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgICdUaGUgbG9nIGxldmVsICgwOiBzaWxlbnQsIDE6IGVycm9yLCAyOiB3YXJuaW5nLCAzOiBub3RpY2UsIDQ6IHZlcmJvc2UpJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmxldmVsLnZhbHVlLFxyXG4gICAgICByb3VuZDogMCxcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBtYXg6IDRcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ2ZpbGUnLFxyXG4gICAgICBtZXNzYWdlOlxyXG4gICAgICAgICdBIG5hbWUgb2YgYSBsb2cgZmlsZS4gVGhlIC0tbG9nRGVzdCBhbHNvIG5lZWRzIHRvIGJlIHNldCB0byBlbmFibGUgZmlsZSBsb2dnaW5nJyxcclxuICAgICAgaW5pdGlhbDogZGVmYXVsdENvbmZpZy5sb2dnaW5nLmZpbGUudmFsdWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgbmFtZTogJ2Rlc3QnLFxyXG4gICAgICBtZXNzYWdlOiAnQSBwYXRoIHRvIGxvZyBmaWxlcy4gSXQgZW5hYmxlcyBmaWxlIGxvZ2dpbmcnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLmxvZ2dpbmcuZGVzdC52YWx1ZVxyXG4gICAgfVxyXG4gIF0sXHJcbiAgdWk6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogJ3RvZ2dsZScsXHJcbiAgICAgIG5hbWU6ICdlbmFibGUnLFxyXG4gICAgICBtZXNzYWdlOiAnRW5hYmxlIFVJIGZvciB0aGUgZXhwb3J0IHNlcnZlcicsXHJcbiAgICAgIGluaXRpYWw6IGRlZmF1bHRDb25maWcudWkuZW5hYmxlLnZhbHVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgIG5hbWU6ICdyb3V0ZScsXHJcbiAgICAgIG1lc3NhZ2U6ICdBIHJvdXRlIHRvIGF0dGFjaCB0aGUgVUkgdG8nLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLnVpLnJvdXRlLnZhbHVlXHJcbiAgICB9XHJcbiAgXSxcclxuICBvdGhlcjogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAndG9nZ2xlJyxcclxuICAgICAgbmFtZTogJ25vTG9nbycsXHJcbiAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgJ1NraXAgcHJpbnRpbmcgdGhlIGxvZ28gb24gYSBzdGFydHVwLiBXaWxsIGJlIHJlcGxhY2VkIGJ5IGEgc2ltcGxlIHRleHQnLFxyXG4gICAgICBpbml0aWFsOiBkZWZhdWx0Q29uZmlnLm90aGVyLm5vTG9nby52YWx1ZVxyXG4gICAgfVxyXG4gIF1cclxufTtcclxuXHJcbi8vIEFic29sdXRlIHByb3BzIHRoYXQsIGluIGNhc2Ugb2YgbWVyZ2luZyByZWN1cnNpdmVseSwgbmVlZCB0byBiZSBmb3JjZSBtZXJnZWRcclxuZXhwb3J0IGNvbnN0IGFic29sdXRlUHJvcHMgPSBbXHJcbiAgJ29wdGlvbnMnLFxyXG4gICdnbG9iYWxPcHRpb25zJyxcclxuICAndGhlbWVPcHRpb25zJyxcclxuICAncmVzb3VyY2VzJyxcclxuICAncGF5bG9hZCdcclxuXTtcclxuXHJcbi8vIEFyZ3VtZW50IG5lc3RpbmcgbGV2ZWwgb2YgYWxsIGV4cG9ydCBzZXJ2ZXIgb3B0aW9uc1xyXG5leHBvcnQgY29uc3QgbmVzdGVkQXJncyA9IHt9O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgbmVzdGVkIGFyZ3VtZW50cyBjaGFpbiBmb3IgYWxsIG9wdGlvbnNcclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFRoZSBvYmplY3QgYmFzZWQgb24gd2hpY2ggdGhlIGluaXRpYWwgY29uZmlndXJhdGlvbiBiZVxyXG4gKiBtYWRlLlxyXG4gKiBAcGFyYW0ge3N0cmluZyB9IHByb3BDaGFpbiAtIFJlcXVpcmVkIGZvciBjcmVhdGluZyBhIHN0cmluZyBjaGFpbiBvZlxyXG4gKiBwcm9wZXJ0aWVzIGZvciBuZXN0ZWQgYXJndW1lbnRzLlxyXG4gKi9cclxuY29uc3QgY3JlYXRlTmVzdGVkQXJncyA9IChvYmosIHByb3BDaGFpbiA9ICcnKSA9PiB7XHJcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKChrKSA9PiB7XHJcbiAgICBpZiAoIVsncHVwcGV0ZWVyJywgJ2hpZ2hjaGFydHMnXS5pbmNsdWRlcyhrKSkge1xyXG4gICAgICBjb25zdCBlbnRyeSA9IG9ialtrXTtcclxuICAgICAgaWYgKHR5cGVvZiBlbnRyeS52YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBHbyBkZWVwZXIgaW4gdGhlIG5lc3RlZCBhcmd1bWVudHNcclxuICAgICAgICBjcmVhdGVOZXN0ZWRBcmdzKGVudHJ5LCBgJHtwcm9wQ2hhaW59LiR7a31gKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGNoYWluIG9mIG5lc3RlZCBhcmd1bWVudHNcclxuICAgICAgICBuZXN0ZWRBcmdzW2VudHJ5LmNsaU5hbWUgfHwga10gPSBgJHtwcm9wQ2hhaW59LiR7a31gLnN1YnN0cmluZygxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuY3JlYXRlTmVzdGVkQXJncyhkZWZhdWx0Q29uZmlnKTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyBhcHBlbmRGaWxlLCBleGlzdHNTeW5jLCBta2RpclN5bmMgfSBmcm9tICdmcyc7XHJcblxyXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi9zY2hlbWFzL2NvbmZpZy5qcyc7XHJcblxyXG4vLyBUaGUgZGVmYXVsdCBsb2dnaW5nIGNvbmZpZ1xyXG5sZXQgbG9nZ2luZyA9IHtcclxuICAvLyBGbGFncyBmb3IgbG9nZ2luZyBzdGF0dXNcclxuICB0b0NvbnNvbGU6IHRydWUsXHJcbiAgdG9GaWxlOiBmYWxzZSxcclxuICBwYXRoQ3JlYXRlZDogZmFsc2UsXHJcbiAgLy8gTG9nIGxldmVsc1xyXG4gIGxldmVsc0Rlc2M6IFtcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICdlcnJvcicsXHJcbiAgICAgIGNvbG9yOiAncmVkJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICd3YXJuaW5nJyxcclxuICAgICAgY29sb3I6ICd5ZWxsb3cnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ25vdGljZScsXHJcbiAgICAgIGNvbG9yOiAnYmx1ZSdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAndmVyYm9zZScsXHJcbiAgICAgIGNvbG9yOiAnZ3JheSdcclxuICAgIH1cclxuICBdLFxyXG4gIC8vIExvZyBsaXN0ZW5lcnNcclxuICBsaXN0ZW5lcnM6IFtdXHJcbn07XHJcblxyXG4vLyBHYXRoZXIgaW5pdCBsb2dnaW5nIG9wdGlvbnNcclxuZm9yIChjb25zdCBba2V5LCBvcHRpb25dIG9mIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRDb25maWcubG9nZ2luZykpIHtcclxuICBsb2dnaW5nW2tleV0gPSBvcHRpb24udmFsdWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2dzIGEgbWVzc2FnZS4gQWNjZXB0cyBhIHZhcmlhYmxlIGFtb3VudCBvZiBhcmd1bWVudHMuIEFyZ3VtZW50cyBhZnRlclxyXG4gKiBgbGV2ZWxgIHdpbGwgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIGNvbnNvbGUubG9nLCBhbmQvb3Igd2lsbCBiZSBqb2luZWRcclxuICogYW5kIGFwcGVuZGVkIHRvIHRoZSBsb2cgZmlsZS5cclxuICpcclxuICogQHBhcmFtIHthbnl9IGFyZ3MgLSBBbiBhcnJheSBvZiBhcmd1bWVudHMgd2hlcmUgdGhlIGZpcnN0IGlzIHRoZSBsb2cgbGV2ZWxcclxuICogYW5kIHRoZSByZXN0IGFyZSBzdHJpbmdzIHRvIGJ1aWxkIGEgbWVzc2FnZSB3aXRoLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGxvZyA9ICguLi5hcmdzKSA9PiB7XHJcbiAgY29uc3QgW25ld0xldmVsLCAuLi50ZXh0c10gPSBhcmdzO1xyXG5cclxuICAvLyBDdXJyZW50IGxvZ2dpbmcgb3B0aW9uc1xyXG4gIGNvbnN0IHsgbGV2ZWwsIGxldmVsc0Rlc2MgfSA9IGxvZ2dpbmc7XHJcblxyXG4gIC8vIENoZWNrIGlmIGxvZyBsZXZlbCBpcyB3aXRoaW4gYSBjb3JyZWN0IHJhbmdlXHJcbiAgaWYgKG5ld0xldmVsID09PSAwIHx8IG5ld0xldmVsID4gbGV2ZWwgfHwgbGV2ZWwgPiBsZXZlbHNEZXNjLmxlbmd0aCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IHJpZCBvZiB0aGUgR01UIHRleHQgaW5mb3JtYXRpb25cclxuICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoKS50b1N0cmluZygpLnNwbGl0KCcoJylbMF0udHJpbSgpO1xyXG5cclxuICAvLyBDcmVhdGUgYSBtZXNzYWdlJ3MgcHJlZml4XHJcbiAgY29uc3QgcHJlZml4ID0gYCR7bmV3RGF0ZX0gWyR7bGV2ZWxzRGVzY1tuZXdMZXZlbCAtIDFdLnRpdGxlfV0gLWA7XHJcblxyXG4gIC8vIENhbGwgYXZhaWxhYmxlIGxvZyBsaXN0ZW5lcnNcclxuICBsb2dnaW5nLmxpc3RlbmVycy5mb3JFYWNoKChmbikgPT4ge1xyXG4gICAgZm4ocHJlZml4LCB0ZXh0cy5qb2luKCcgJykpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBMb2cgdG8gZmlsZVxyXG4gIGlmIChsb2dnaW5nLnRvRmlsZSkge1xyXG4gICAgaWYgKCFsb2dnaW5nLnBhdGhDcmVhdGVkKSB7XHJcbiAgICAgIC8vIENyZWF0ZSBpZiBkb2VzIG5vdCBleGlzdFxyXG4gICAgICAhZXhpc3RzU3luYyhsb2dnaW5nLmRlc3QpICYmIG1rZGlyU3luYyhsb2dnaW5nLmRlc3QpO1xyXG5cclxuICAgICAgLy8gV2Ugbm93IGFzc3VtZSB0aGUgcGF0aCBpcyBhdmFpbGFibGUsIGUuZy4gaXQncyB0aGUgcmVzcG9uc2liaWxpdHlcclxuICAgICAgLy8gb2YgdGhlIHVzZXIgdG8gY3JlYXRlIHRoZSBwYXRoIHdpdGggdGhlIGNvcnJlY3QgYWNjZXNzIHJpZ2h0cy5cclxuICAgICAgbG9nZ2luZy5wYXRoQ3JlYXRlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHRoZSBjb250ZW50IHRvIGEgZmlsZVxyXG4gICAgYXBwZW5kRmlsZShcclxuICAgICAgYCR7bG9nZ2luZy5kZXN0fSR7bG9nZ2luZy5maWxlfWAsXHJcbiAgICAgIFtwcmVmaXhdLmNvbmNhdCh0ZXh0cykuam9pbignICcpICsgJ1xcbicsXHJcbiAgICAgIChlcnJvcikgPT4ge1xyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYFtsb2dnZXJdIFVuYWJsZSB0byB3cml0ZSB0byBsb2cgZmlsZTogJHtlcnJvcn1gKTtcclxuICAgICAgICAgIGxvZ2dpbmcudG9GaWxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gTG9nIHRvIGNvbnNvbGVcclxuICBpZiAobG9nZ2luZy50b0NvbnNvbGUpIHtcclxuICAgIGNvbnNvbGUubG9nLmFwcGx5KFxyXG4gICAgICB1bmRlZmluZWQsXHJcbiAgICAgIFtwcmVmaXgudG9TdHJpbmcoKVtsb2dnaW5nLmxldmVsc0Rlc2NbbmV3TGV2ZWwgLSAxXS5jb2xvcl1dLmNvbmNhdCh0ZXh0cylcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNldHMgdGhlIGZpbGUgbG9nZ2luZyBjb25maWd1cmF0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9nRGVzdCAtIEEgcGF0aCB0byBsb2cgdG8uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2dGaWxlIC0gVGhlIG5hbWUgb2YgdGhlIGxvZyBmaWxlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGVuYWJsZUZpbGVMb2dnaW5nID0gKGxvZ0Rlc3QsIGxvZ0ZpbGUpID0+IHtcclxuICAvLyBVcGRhdGUgbG9nZ2luZyBvcHRpb25zXHJcbiAgbG9nZ2luZyA9IHtcclxuICAgIC4uLmxvZ2dpbmcsXHJcbiAgICBkZXN0OiBsb2dEZXN0IHx8IGxvZ2dpbmcuZGVzdCxcclxuICAgIGZpbGU6IGxvZ0ZpbGUgfHwgbG9nZ2luZy5maWxlLFxyXG4gICAgdG9GaWxlOiB0cnVlXHJcbiAgfTtcclxuXHJcbiAgaWYgKGxvZ2dpbmcuZGVzdC5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiBsb2coMSwgJ1tsb2dnZXJdIEZpbGUgbG9nZ2luZyBpbml0OiBubyBwYXRoIHN1cHBsaWVkLicpO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFsb2dnaW5nLmRlc3QuZW5kc1dpdGgoJy8nKSkge1xyXG4gICAgbG9nZ2luZy5kZXN0ICs9ICcvJztcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhIGxvZyBsaXN0ZW5lci5cclxuICpcclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGdldHRpbmcgYSBsb2cgZXZlbnQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbGlzdGVuID0gKGZuKSA9PiB7XHJcbiAgbG9nZ2luZy5saXN0ZW5lcnMucHVzaChmbik7XHJcbn07XHJcblxyXG4vKipcclxuICogU2V0cyB0aGUgY3VycmVudCBsb2cgbGV2ZWwuIExvZyBsZXZlbHMgYXJlOlxyXG4gKiAtIDAgPSBubyBsb2dnaW5nXHJcbiAqIC0gMSA9IGVycm9yXHJcbiAqIC0gMiA9IHdhcm5pbmdcclxuICogLSAzID0gbm90aWNlXHJcbiAqIC0gNCA9IHZlcmJvc2VcclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ9IG5ld0xldmVsIC0gVGhlIG5ldyBsb2cgbGV2ZWwgKDAgLSA0KS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBzZXRMb2dMZXZlbCA9IChuZXdMZXZlbCkgPT4ge1xyXG4gIGlmIChuZXdMZXZlbCA+PSAwICYmIG5ld0xldmVsIDw9IGxvZ2dpbmcubGV2ZWxzRGVzYy5sZW5ndGgpIHtcclxuICAgIGxvZ2dpbmcubGV2ZWwgPSBuZXdMZXZlbDtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogRW5hYmxlcyBvciBkaXNhYmxlcyBsb2dnaW5nIHRvIHRoZSBzdGRvdXQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCAtIFdoZXRoZXIgbG9nIHRvIGNvbnNvbGUgb3Igbm90LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHRvZ2dsZVNURE91dCA9IChlbmFibGVkKSA9PiB7XHJcbiAgbG9nZ2luZy50b0NvbnNvbGUgPSBlbmFibGVkO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGxvZyxcclxuICBlbmFibGVGaWxlTG9nZ2luZyxcclxuICBsaXN0ZW4sXHJcbiAgc2V0TG9nTGV2ZWwsXHJcbiAgdG9nZ2xlU1RET3V0XHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAndXJsJztcclxuaW1wb3J0IHsgam9pbiBhcyBwYXRoZXIgfSBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCB7IGRlZmF1bHRDb25maWcgfSBmcm9tICcuLi9saWIvc2NoZW1hcy9jb25maWcuanMnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcblxyXG5jb25zdCBNQVhfQkFDS09GRl9BVFRFTVBUUyA9IDY7XHJcblxyXG5leHBvcnQgY29uc3QgX19kaXJuYW1lID0gZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuLi8uJywgaW1wb3J0Lm1ldGEudXJsKSk7XHJcblxyXG4vKipcclxuICogQ2xlYXJzIHRleHQgZnJvbSB3aGl0ZXNwYWNlcyB3aXRoIGEgcmVnZXggcnVsZS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHJ1bGUgLSBUaGUgcnVsZSBmb3IgY2xlYXJpbmcgYSBzdHJpbmcsIGRlZmF1bHQgdG8gL1xcc1xccysvZy5cclxuICogQHJldHVybiB7c3RyaW5nfSAtIENsZWFyZWQgdGV4dC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBjbGVhclRleHQgPSAodGV4dCwgcnVsZSA9IC9cXHNcXHMrL2csIHJlcGxhY2VyID0gJyAnKSA9PlxyXG4gIHRleHQucmVwbGFjZUFsbChydWxlLCByZXBsYWNlcikudHJpbSgpO1xyXG5cclxuLyoqXHJcbiAqIERlbGF5cyBjYWxsaW5nIHRoZSBmdW5jdGlvbiBieSB0aW1lIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGJhY2tvZmZcclxuICogYWxnb3JpdGhtLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEEgZnVuY3Rpb24gdG8gdHJ5IHRvIGNhbGwgd2l0aCB0aGUgYmFja29mZiBhbGdvcml0aG1cclxuICogb24uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhdHRlbXB0IC0gVGhlIG51bWJlciBvZiBhbiBhdHRlbXB0LCB3aGVyZSB0aGUgZmlyc3Qgb25lIGlzIDAuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZXhwQmFja29mZiA9IGFzeW5jIChmbiwgYXR0ZW1wdCA9IDAsIC4uLmFyZ3MpID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gVHJ5IHRvIGNhbGwgdGhlIGZ1bmN0aW9uXHJcbiAgICByZXR1cm4gYXdhaXQgZm4oLi4uYXJncyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vIENhbGN1bGF0ZSBkZWxheSBpbiBtc1xyXG4gICAgY29uc3QgZGVsYXlJbk1zID0gMiAqKiBhdHRlbXB0ICogMTAwMDtcclxuXHJcbiAgICAvLyBJZiB0aGUgYXR0ZW1wdCBleGNlZWRzIHRoZSBtYXhpbXVtIGF0dGVtcHRzIG9mIHJlYXBlYXQsIHRocm93IGFuIGVycm9yXHJcbiAgICBpZiAoKythdHRlbXB0ID49IE1BWF9CQUNLT0ZGX0FUVEVNUFRTKSB7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFdhaXQgZ2l2ZW4gYW1vdW50IG9mIHRpbWVcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNwb25zZSkgPT4gc2V0VGltZW91dChyZXNwb25zZSwgZGVsYXlJbk1zKSk7XHJcbiAgICBsb2coXHJcbiAgICAgIDMsXHJcbiAgICAgIGBbcG9vbF0gV2FpdGVkICR7ZGVsYXlJbk1zfW1zIHVudGlsIG5leHQgY2FsbCBmb3IgdGhlIHJlc291cmNlIGlkOiAke2FyZ3NbMF19LmBcclxuICAgICk7XHJcblxyXG4gICAgLy8gVHJ5IGFnYWluXHJcbiAgICByZXR1cm4gZXhwQmFja29mZihmbiwgYXR0ZW1wdCwgLi4uYXJncyk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZpeGVzIHRvIHN1cHBvcnRlZCB0eXBlIGZvcm1hdCBpZiBNSU1FLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFR5cGUgdG8gYmUgY29ycmVjdGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gb3V0ZmlsZSAtIE5hbWUgb2YgdGhlIG91dGZpbGUuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZml4VHlwZSA9ICh0eXBlLCBvdXRmaWxlKSA9PiB7XHJcbiAgLy8gTUlNRSB0eXBlc1xyXG4gIGNvbnN0IG1pbWVUeXBlcyA9IHtcclxuICAgICdpbWFnZS9wbmcnOiAncG5nJyxcclxuICAgICdpbWFnZS9qcGVnJzogJ2pwZWcnLFxyXG4gICAgJ2FwcGxpY2F0aW9uL3BkZic6ICdwZGYnLFxyXG4gICAgJ2ltYWdlL3N2Zyt4bWwnOiAnc3ZnJ1xyXG4gIH07XHJcblxyXG4gIC8vIEZvcm1hdHNcclxuICBjb25zdCBmb3JtYXRzID0gWydwbmcnLCAnanBlZycsICdwZGYnLCAnc3ZnJ107XHJcblxyXG4gIC8vIENoZWNrIGlmIHR5cGUgYW5kIG91dGZpbGUncyBleHRlbnNpb25zIGFyZSB0aGUgc2FtZVxyXG4gIGlmIChvdXRmaWxlKSB7XHJcbiAgICBjb25zdCBvdXRUeXBlID0gb3V0ZmlsZS5zcGxpdCgnLicpLnBvcCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGV4dGVuc2lvbiBoYXMgYSBjb3JyZWN0IHR5cGVcclxuICAgIGlmIChmb3JtYXRzLmluY2x1ZGVzKG91dFR5cGUpICYmIHR5cGUgIT09IG91dFR5cGUpIHtcclxuICAgICAgdHlwZSA9IG91dFR5cGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZXR1cm4gYSBjb3JyZWN0IHR5cGVcclxuICByZXR1cm4gbWltZVR5cGVzW3R5cGVdIHx8IGZvcm1hdHMuZmluZCgodCkgPT4gdCA9PT0gdHlwZSkgfHwgJ3BuZyc7XHJcbn07XHJcblxyXG4vKipcclxuICogSGFuZGxlcyB0aGUgcHJvdmlkZWQgcmVzb3VyY2VzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb3VyY2VzIC0gVGhlIHN0cmluZ2lmaWVkIHJlc291cmNlcy5cclxuICogQHBhcmFtIHtzdHJpbmd9IGFsbG93RmlsZVJlc291cmNlcyAtIERlY2lkZSBpZiByZXNvdXJjZXMgZnJvbSBmaWxlIGFyZVxyXG4gKiBhbGxvd2VkLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGhhbmRsZVJlc291cmNlcyA9IChyZXNvdXJjZXMgPSBmYWxzZSwgYWxsb3dGaWxlUmVzb3VyY2VzKSA9PiB7XHJcbiAgY29uc3QgYWxsb3dlZFByb3BzID0gWydqcycsICdjc3MnLCAnZmlsZXMnXTtcclxuXHJcbiAgbGV0IGhhbmRsZWRSZXNvdXJjZXMgPSByZXNvdXJjZXM7XHJcbiAgbGV0IGNvcnJlY3RSZXNvdXJjZXMgPSBmYWxzZTtcclxuXHJcbiAgLy8gVHJ5IHRvIGxvYWQgcmVzb3VyY2VzIGZyb20gYSBmaWxlXHJcbiAgaWYgKGFsbG93RmlsZVJlc291cmNlcyAmJiByZXNvdXJjZXMuZW5kc1dpdGgoJy5qc29uJykpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghcmVzb3VyY2VzKSB7XHJcbiAgICAgICAgaGFuZGxlZFJlc291cmNlcyA9IGlzQ29ycmVjdEpTT04oXHJcbiAgICAgICAgICByZWFkRmlsZVN5bmMoJ3Jlc291cmNlcy5qc29uJywgJ3V0ZjgnKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSBpZiAocmVzb3VyY2VzICYmIHJlc291cmNlcy5lbmRzV2l0aCgnLmpzb24nKSkge1xyXG4gICAgICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKHJlYWRGaWxlU3luYyhyZXNvdXJjZXMsICd1dGY4JykpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKHJlc291cmNlcyk7XHJcbiAgICAgICAgaWYgKGhhbmRsZWRSZXNvdXJjZXMgPT09IHRydWUpIHtcclxuICAgICAgICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0NvcnJlY3RKU09OKFxyXG4gICAgICAgICAgICByZWFkRmlsZVN5bmMoJ3Jlc291cmNlcy5qc29uJywgJ3V0ZjgnKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKG5vdGljZSkge1xyXG4gICAgICByZXR1cm4gbG9nKDMsIGBbY2xpXSBObyByZXNvdXJjZXMgZm91bmQuYCk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFRyeSB0byBnZXQgSlNPTlxyXG4gICAgaGFuZGxlZFJlc291cmNlcyA9IGlzQ29ycmVjdEpTT04ocmVzb3VyY2VzKTtcclxuXHJcbiAgICAvLyBHZXQgcmlkIG9mIHRoZSBmaWxlcyBzZWN0aW9uXHJcbiAgICBpZiAoIWFsbG93RmlsZVJlc291cmNlcykge1xyXG4gICAgICBkZWxldGUgaGFuZGxlZFJlc291cmNlcy5maWxlcztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEZpbHRlciBmcm9tIHVubmVjZXNzYXJ5IHByb3BlcnRpZXNcclxuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGhhbmRsZWRSZXNvdXJjZXMpIHtcclxuICAgIGlmICghYWxsb3dlZFByb3BzLmluY2x1ZGVzKHByb3BOYW1lKSkge1xyXG4gICAgICBkZWxldGUgaGFuZGxlZFJlc291cmNlc1twcm9wTmFtZV07XHJcbiAgICB9IGVsc2UgaWYgKCFjb3JyZWN0UmVzb3VyY2VzKSB7XHJcbiAgICAgIGNvcnJlY3RSZXNvdXJjZXMgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIGFsbG93ZWQgcHJvcGVydGllcyBpcyBwcmVzZW50XHJcbiAgaWYgKCFjb3JyZWN0UmVzb3VyY2VzKSB7XHJcbiAgICByZXR1cm4gbG9nKDMsIGBbY2xpXSBObyByZXNvdXJjZXMgZm91bmQuYCk7XHJcbiAgfVxyXG5cclxuICAvLyBIYW5kbGUgZmlsZXMgc2VjdGlvblxyXG4gIGlmIChoYW5kbGVkUmVzb3VyY2VzLmZpbGVzKSB7XHJcbiAgICBoYW5kbGVkUmVzb3VyY2VzLmZpbGVzID0gaGFuZGxlZFJlc291cmNlcy5maWxlcy5tYXAoKGl0ZW0pID0+IGl0ZW0udHJpbSgpKTtcclxuICAgIGlmICghaGFuZGxlZFJlc291cmNlcy5maWxlcyB8fCBoYW5kbGVkUmVzb3VyY2VzLmZpbGVzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgIGRlbGV0ZSBoYW5kbGVkUmVzb3VyY2VzLmZpbGVzO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIHJlc291cmNlc1xyXG4gIHJldHVybiBoYW5kbGVkUmVzb3VyY2VzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBwcm92aWRlZCBkYXRhIGlzIG9yIGNhbiBiZSBhIGNvcnJlY3QgSlNPTi5cclxuICpcclxuICogQHBhcmFtIHthbnl9IGRhdGEgLSBEYXRhIHRvIGJlIGNoZWNrZWQuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdG9TdHJpbmcgLSBJZiB0cnVlLCByZXR1cm4gc3RyaW5naWZpZWQgcmVwcmVzZW50YXRpb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNDb3JyZWN0SlNPTihkYXRhLCB0b1N0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBpZiBub3QgYWxyZWFkeSBiZWZvcmUgcGFyc2luZ1xyXG4gICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoXHJcbiAgICAgIHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogZGF0YVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gYSBzdHJpbmdpZmllZCByZXByZXNlbnRhdGlvbiBvZiBhIEpTT04gaWYgcmVxdWlyZWRcclxuICAgIGlmICh0eXBlb2YgcGFyc2VkRGF0YSAhPT0gJ3N0cmluZycgJiYgdG9TdHJpbmcpIHtcclxuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHBhcnNlZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiBhIEpTT05cclxuICAgIHJldHVybiBwYXJzZWREYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIGl0ZW0gaXMgYW4gb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueX0gaXRlbSAtIEl0ZW0gdG8gYmUgY2hlY2tlZC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBpc09iamVjdCA9IChpdGVtKSA9PlxyXG4gIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpdGVtKSAmJiBpdGVtICE9PSBudWxsO1xyXG5cclxuLyoqXHJcbiAqIENoZWNrcyBpZiBzdHJpbmcgY29udGFpbnMgcHJpdmF0ZSByYW5nZSB1cmxzLlxyXG4gKlxyXG4gKiBAZXhwb3J0IHV0aWxzXHJcbiAqIEBwYXJhbSBpdGVtIHtzdHJpbmd9IGl0ZW0gdG8gYmUgY2hlY2tlZFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQgPSAoaXRlbSkgPT4ge1xyXG4gIHJldHVybiBbXHJcbiAgICAnbG9jYWxob3N0JyxcclxuICAgICcoMTApLiguKikuKC4qKS4oLiopJyxcclxuICAgICcoMTI3KS4oLiopLiguKikuKC4qKScsXHJcbiAgICAnKDE3MikuKDFbNi05XXwyWzAtOV18M1swLTFdKS4oLiopLiguKiknLFxyXG4gICAgJygxOTIpLigxNjgpLiguKikuKC4qKSdcclxuICBdLnNvbWUoKGlwUmVnRXgpID0+XHJcbiAgICBpdGVtLm1hdGNoKGB4bGluazpocmVmPVwiKD86KGh0dHA6Ly98aHR0cHM6Ly8pKT8ke2lwUmVnRXh9YClcclxuICApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBkZWVwIGNvcHkgb2YgdGhlIGdpdmVuIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCAtIE9iamVjdCB0byBjb3B5LlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gRGVlcCBjb3B5IG9mIHRoZSBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZGVlcENvcHkgPSAob2JqKSA9PiB7XHJcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xyXG4gICAgcmV0dXJuIG9iajtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvcHkgPSBBcnJheS5pc0FycmF5KG9iaikgPyBbXSA6IHt9O1xyXG5cclxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBjb3B5O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFN0cmluZ2lmaWVzIG9iamVjdCB3aXRoIG9wdGlvbnMuIFBvc3NpYmxlIHRvIHByZXNlcnZlIGZ1bmN0aW9ucyB3aXRoXHJcbiAqIGFsbG93RnVuY3Rpb25zIGZsYWcuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyB0byBzdHJpbmdpZnkuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsb3dGdW5jdGlvbnMgLSBGbGFnIGZvciBrZWVwaW5nIGZ1bmN0aW9ucy5cclxuICovXHJcbmV4cG9ydCBjb25zdCBvcHRpb25zU3RyaW5naWZ5ID0gKG9wdGlvbnMsIGFsbG93RnVuY3Rpb25zKSA9PiB7XHJcbiAgY29uc3QgcmVwbGFjZXJDYWxsYmFjayA9IChuYW1lLCB2YWx1ZSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XHJcblxyXG4gICAgICAvLyBJZiBhbGxvd0Z1bmN0aW9ucyBpcyBzZXQgdG8gdHJ1ZSwgcHJlc2VydmUgZnVuY3Rpb25zXHJcbiAgICAgIGlmIChcclxuICAgICAgICAodmFsdWUuc3RhcnRzV2l0aCgnZnVuY3Rpb24oJykgfHwgdmFsdWUuc3RhcnRzV2l0aCgnZnVuY3Rpb24gKCcpKSAmJlxyXG4gICAgICAgIHZhbHVlLmVuZHNXaXRoKCd9JylcclxuICAgICAgKSB7XHJcbiAgICAgICAgdmFsdWUgPSBhbGxvd0Z1bmN0aW9uc1xyXG4gICAgICAgICAgPyBgRVhQX0ZVTiR7KHZhbHVlICsgJycpLnJlcGxhY2VBbGwoL1xcbnxcXHR8XFxyL2csICcgJyl9RVhQX0ZVTmBcclxuICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICA/IGBFWFBfRlVOJHsodmFsdWUgKyAnJykucmVwbGFjZUFsbCgvXFxufFxcdHxcXHIvZywgJyAnKX1FWFBfRlVOYFxyXG4gICAgICA6IHZhbHVlO1xyXG4gIH07XHJcblxyXG4gIC8vIFN0cmluZ2lmeSBvcHRpb25zIGFuZCBpZiByZXF1aXJlZCwgcmVwbGFjZSBzcGVjaWFsIGZ1bmN0aW9ucyBtYXJrc1xyXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvcHRpb25zLCByZXBsYWNlckNhbGxiYWNrKS5yZXBsYWNlQWxsKFxyXG4gICAgL1wiRVhQX0ZVTnxFWFBfRlVOXCIvZyxcclxuICAgICcnXHJcbiAgKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBQcmludHMgdGhlIGV4cG9ydCBzZXJ2ZXIgbG9nby5cclxuICpcclxuICogQHBhcmFtIHtib29sZWFufSBub0xvZ28gLSBXaGV0aGVyIHRvIGRpc3BsYXkgbG9nbyBvciB0ZXh0LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHByaW50TG9nbyA9IChub0xvZ28pID0+IHtcclxuICAvLyBHZXQgcGFja2FnZSB2ZXJzaW9uIGVpdGhlciBmcm9tIGVudiBvciBmcm9tIHBhY2thZ2UuanNvblxyXG4gIGNvbnN0IHBhY2thZ2VWZXJzaW9uID0gSlNPTi5wYXJzZShcclxuICAgIHJlYWRGaWxlU3luYyhwYXRoZXIoX19kaXJuYW1lLCAncGFja2FnZS5qc29uJykpXHJcbiAgKS52ZXJzaW9uO1xyXG5cclxuICAvLyBQcmludCB0ZXh0IG9ubHlcclxuICBpZiAobm9Mb2dvKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgU3RhcnRpbmcgaGlnaGNoYXJ0cyBleHBvcnQgc2VydmVyIHYke3BhY2thZ2VWZXJzaW9ufS4uLmApO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJpbnQgdGhlIGxvZ29cclxuICBjb25zb2xlLmxvZyhcclxuICAgIHJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnL21zZy9zdGFydHVwLm1zZycpLnRvU3RyaW5nKCkuYm9sZC55ZWxsb3csXHJcbiAgICBgdiR7cGFja2FnZVZlcnNpb259YFxyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICogUHJpbnRzIHRoZSBDTEkgdXNhZ2UuIElmIHJlcXVpcmVkLCBpdCBjYW4gbGlzdCBwcm9wZXJ0aWVzIHJlY3Vyc2l2ZWx5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRVc2FnZSgpIHtcclxuICBjb25zdCBwYWQgPSA0ODtcclxuICBjb25zdCByZWFkbWUgPSAnaHR0cHM6Ly9naXRodWIuY29tL2hpZ2hjaGFydHMvbm9kZS1leHBvcnQtc2VydmVyI3JlYWRtZSc7XHJcblxyXG4gIC8vIERpc3BsYXkgcmVhZG1lIGluZm9ybWF0aW9uXHJcbiAgY29uc29sZS5sb2coXHJcbiAgICAnVXNhZ2Ugb2YgQ0xJIGFyZ3VtZW50czonLmJvbGQsXHJcbiAgICAnXFxuLS0tLS0tJyxcclxuICAgIGBcXG5Gb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiB2aXNpdCByZWFkbWUgYXQ6ICR7cmVhZG1lLmJvbGQueWVsbG93fS5gXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgY3ljbGVDYXRlZ29yaWVzID0gKGNhdGVnb3JpZXMpID0+IHtcclxuICAgIGZvciAoY29uc3QgW25hbWUsIG9wdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoY2F0ZWdvcmllcykpIHtcclxuICAgICAgLy8gSWYgY2F0ZWdvcnkgaGFzIG1vcmUgbGV2ZWxzLCBnbyBmdXJ0aGVyXHJcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbiwgJ3ZhbHVlJykpIHtcclxuICAgICAgICBjeWNsZUNhdGVnb3JpZXMob3B0aW9uKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgZGVzY05hbWUgPSBgICAtLSR7b3B0aW9uLmNsaU5hbWUgfHwgbmFtZX0gJHtcclxuICAgICAgICAgICgnPCcgKyBvcHRpb24udHlwZSArICc+JykuZ3JlZW5cclxuICAgICAgICB9IGA7XHJcbiAgICAgICAgaWYgKGRlc2NOYW1lLmxlbmd0aCA8IHBhZCkge1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IGRlc2NOYW1lLmxlbmd0aDsgaSA8IHBhZDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRlc2NOYW1lICs9ICcuJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERpc3BsYXkgY29ycmVjdGx5IGFsaWduZWQgbWVzc2FnZXNcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGRlc2NOYW1lLFxyXG4gICAgICAgICAgb3B0aW9uLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgYFtEZWZhdWx0OiAke29wdGlvbi52YWx1ZS50b1N0cmluZygpLmJvbGR9XWAuYmx1ZVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBDeWNsZSB0aHJvdWdoIG9wdGlvbnMgb2YgZWFjaCBjYXRlZ29yaWVzIGFuZCBkaXNwbGF5IHRoZSB1c2FnZSBpbmZvXHJcbiAgT2JqZWN0LmtleXMoZGVmYXVsdENvbmZpZykuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcclxuICAgIC8vIE9ubHkgcHVwcGV0ZWVyIGFuZCBoaWdoY2hhcnRzIGNhdGVnb3JpZXMgY2Fubm90IGJlIGNvbmZpZ3VyZWQgdGhyb3VnaCBDTElcclxuICAgIGlmICghWydwdXBwZXRlZXInLCAnaGlnaGNoYXJ0cyddLmluY2x1ZGVzKGNhdGVnb3J5KSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhgXFxuJHtjYXRlZ29yeS50b1VwcGVyQ2FzZSgpfWAucmVkKTtcclxuICAgICAgY3ljbGVDYXRlZ29yaWVzKGRlZmF1bHRDb25maWdbY2F0ZWdvcnldKTtcclxuICAgIH1cclxuICB9KTtcclxuICBjb25zb2xlLmxvZygnXFxuJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSb3VuZHMgbnVtYmVyIHRvIHBhc3NlZCBwcmVjaXNpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIE51bWJlciB0byByb3VuZC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIEEgcHJlY2lzaW9uIG9mIHJvdW5kaW5nLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHJvdW5kTnVtYmVyID0gKHZhbHVlLCBwcmVjaXNpb24gPSAxKSA9PiB7XHJcbiAgY29uc3QgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gfHwgMCk7XHJcbiAgcmV0dXJuIE1hdGgucm91bmQoK3ZhbHVlICogbXVsdGlwbGllcikgLyBtdWx0aXBsaWVyO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENhc3RzIHRoZSBpdGVtIHRvIGJvb2xlYW4uXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSBpdGVtIC0gSXRlbSB0byBiZSBjYXN0LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHRvQm9vbGVhbiA9IChpdGVtKSA9PlxyXG4gIFsnZmFsc2UnLCAndW5kZWZpbmVkJywgJ251bGwnLCAnTmFOJywgJzAnLCAnJ10uaW5jbHVkZXMoaXRlbSlcclxuICAgID8gZmFsc2VcclxuICAgIDogISFpdGVtO1xyXG5cclxuLyoqXHJcbiAqIElmIG5lY2Vzc2FyeSwgcGxhY2VzIGEgY3VzdG9tIGNvZGUgaW5zaWRlIGEgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSBjdXN0b21Db2RlIC0gVGhlIGN1c3RvbUNvZGUuXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgd3JhcEFyb3VuZCA9IChjdXN0b21Db2RlLCBhbGxvd0ZpbGVSZXNvdXJjZXMpID0+IHtcclxuICBpZiAoY3VzdG9tQ29kZSAmJiB0eXBlb2YgY3VzdG9tQ29kZSA9PT0gJ3N0cmluZycpIHtcclxuICAgIGN1c3RvbUNvZGUgPSBjdXN0b21Db2RlLnRyaW0oKTtcclxuXHJcbiAgICBpZiAoY3VzdG9tQ29kZS5lbmRzV2l0aCgnLmpzJykpIHtcclxuICAgICAgcmV0dXJuIGFsbG93RmlsZVJlc291cmNlc1xyXG4gICAgICAgID8gd3JhcEFyb3VuZChyZWFkRmlsZVN5bmMoY3VzdG9tQ29kZSwgJ3V0ZjgnKSlcclxuICAgICAgICA6IGZhbHNlO1xyXG4gICAgfSBlbHNlIGlmIChcclxuICAgICAgY3VzdG9tQ29kZS5zdGFydHNXaXRoKCdmdW5jdGlvbigpJykgfHxcclxuICAgICAgY3VzdG9tQ29kZS5zdGFydHNXaXRoKCdmdW5jdGlvbiAoKScpIHx8XHJcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnKCk9PicpIHx8XHJcbiAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnKCkgPT4nKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiBgKCR7Y3VzdG9tQ29kZX0pKClgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGN1c3RvbUNvZGUucmVwbGFjZSgvOyQvLCAnJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFV0aWxpdHkgdG8gbWVhc3VyZSB0aW1lLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1lYXN1cmVUaW1lID0gKCkgPT4ge1xyXG4gIGNvbnN0IHN0YXJ0ID0gcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCk7XHJcbiAgcmV0dXJuICgpID0+IE51bWJlcihwcm9jZXNzLmhydGltZS5iaWdpbnQoKSAtIHN0YXJ0KSAvIDEwMDAwMDA7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgX19kaXJuYW1lLFxyXG4gIGNsZWFyVGV4dCxcclxuICBleHBCYWNrb2ZmLFxyXG4gIGZpeFR5cGUsXHJcbiAgaGFuZGxlUmVzb3VyY2VzLFxyXG4gIGlzQ29ycmVjdEpTT04sXHJcbiAgaXNPYmplY3QsXHJcbiAgaXNQcml2YXRlUmFuZ2VVcmxGb3VuZCxcclxuICBvcHRpb25zU3RyaW5naWZ5LFxyXG4gIHByaW50TG9nbyxcclxuICBwcmludFVzYWdlLFxyXG4gIHJvdW5kTnVtYmVyLFxyXG4gIHRvQm9vbGVhbixcclxuICB3cmFwQXJvdW5kLFxyXG4gIG1lYXN1cmVUaW1lXHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHJhdGVMaW1pdCBmcm9tICdleHByZXNzLXJhdGUtbGltaXQnO1xyXG5cclxuaW1wb3J0IHsgY2xlYXJUZXh0IH0gZnJvbSAnLi4vdXRpbHMuanMnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuLi9sb2dnZXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIEVuYWJsZXMgcmF0ZSBsaW1pdGluZyBmb3IgYSBnaXZlbiBhcHAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBhcHAgLSBUaGUgZXhwcmVzcyBhcHAuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaW1pdENvbmZpZyAtIFRoZSBvcHRpb25zIGZvciB0aGUgcmF0ZSBsaW1pdGluZy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChhcHAsIGxpbWl0Q29uZmlnKSA9PiB7XHJcbiAgY29uc3QgbXNnID1cclxuICAgICdUb28gbWFueSByZXF1ZXN0cywgeW91IGhhdmUgYmVlbiByYXRlIGxpbWl0ZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJztcclxuXHJcbiAgLy8gT3B0aW9ucyBmb3IgdGhlIHJhdGUgbGltaXRlclxyXG4gIGNvbnN0IHJhdGVPcHRpb25zID0ge1xyXG4gICAgbWF4OiBsaW1pdENvbmZpZy5tYXhSZXF1ZXN0cyB8fCAzMCxcclxuICAgIHdpbmRvdzogbGltaXRDb25maWcud2luZG93IHx8IDEsXHJcbiAgICBkZWxheTogbGltaXRDb25maWcuZGVsYXkgfHwgMCxcclxuICAgIHRydXN0UHJveHk6IGxpbWl0Q29uZmlnLnRydXN0UHJveHkgfHwgZmFsc2UsXHJcbiAgICBza2lwS2V5OiBsaW1pdENvbmZpZy5za2lwS2V5IHx8IGZhbHNlLFxyXG4gICAgc2tpcFRva2VuOiBsaW1pdENvbmZpZy5za2lwVG9rZW4gfHwgZmFsc2VcclxuICB9O1xyXG5cclxuICAvLyBTZXQgaWYgYmVoaW5kIGEgcHJveHlcclxuICBpZiAocmF0ZU9wdGlvbnMudHJ1c3RQcm94eSkge1xyXG4gICAgYXBwLmVuYWJsZSgndHJ1c3QgcHJveHknKTtcclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSBhIGxpbWl0ZXJcclxuICBjb25zdCBsaW1pdGVyID0gcmF0ZUxpbWl0KHtcclxuICAgIHdpbmRvd01zOiByYXRlT3B0aW9ucy53aW5kb3cgKiA2MCAqIDEwMDAsXHJcbiAgICAvLyBMaW1pdCBlYWNoIElQIHRvIDEwMCByZXF1ZXN0cyBwZXIgd2luZG93TXNcclxuICAgIG1heDogcmF0ZU9wdGlvbnMubWF4LFxyXG4gICAgLy8gRGlzYWJsZSBkZWxheWluZywgZnVsbCBzcGVlZCB1bnRpbCB0aGUgbWF4IGxpbWl0IGlzIHJlYWNoZWRcclxuICAgIGRlbGF5TXM6IHJhdGVPcHRpb25zLmRlbGF5LFxyXG4gICAgaGFuZGxlcjogKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIHJlc3BvbnNlLmZvcm1hdCh7XHJcbiAgICAgICAganNvbjogKCkgPT4ge1xyXG4gICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzKDQyOSkuc2VuZCh7IG1lc3NhZ2U6IG1zZyB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IHtcclxuICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyg0MjkpLnNlbmQobXNnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIHNraXA6IChyZXF1ZXN0KSA9PiB7XHJcbiAgICAgIC8vIEFsbG93IGJ5cGFzc2luZyB0aGUgbGltaXRlciBpZiBhIHZhbGlkIGtleS90b2tlbiBoYXMgYmVlbiBzZW50XHJcbiAgICAgIGlmIChcclxuICAgICAgICByYXRlT3B0aW9ucy5za2lwS2V5ICE9PSBmYWxzZSAmJlxyXG4gICAgICAgIHJhdGVPcHRpb25zLnNraXBUb2tlbiAhPT0gZmFsc2UgJiZcclxuICAgICAgICByZXF1ZXN0LnF1ZXJ5LmtleSA9PT0gcmF0ZU9wdGlvbnMuc2tpcEtleSAmJlxyXG4gICAgICAgIHJlcXVlc3QucXVlcnkuYWNjZXNzX3Rva2VuID09PSByYXRlT3B0aW9ucy5za2lwVG9rZW5cclxuICAgICAgKSB7XHJcbiAgICAgICAgbG9nKDQsICdbcmF0ZS1saW1pdGluZ10gU2tpcHBpbmcgcmF0ZSBsaW1pdGVyLicpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gVXNlIGEgbGltaXRlciBhcyBhIG1pZGRsZXdhcmVcclxuICBhcHAudXNlKGxpbWl0ZXIpO1xyXG5cclxuICBsb2coXHJcbiAgICAzLFxyXG4gICAgY2xlYXJUZXh0KFxyXG4gICAgICBgW3JhdGUtbGltaXRpbmddIEVuYWJsZWQgcmF0ZSBsaW1pdGluZzogJHtyYXRlT3B0aW9ucy5tYXh9IHJlcXVlc3RzXHJcbiAgICAgIHBlciAke3JhdGVPcHRpb25zLndpbmRvd30gbWludXRlIHBlciBJUCwgdHJ1c3RpbmcgcHJveHk6XHJcbiAgICAgICR7cmF0ZU9wdGlvbnMudHJ1c3RQcm94eX0uYFxyXG4gICAgKVxyXG4gICk7XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBleHBvcnRzIHR3byBmdW5jdGlvbnM6IGZldGNoIChmb3IgR0VUIHJlcXVlc3RzKSBhbmQgcG9zdCAoZm9yIFBPU1QgcmVxdWVzdHMpLlxyXG4gKi9cclxuXHJcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xyXG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xyXG5cclxuLyoqXHJcbiAqIERldGVybWluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBnaXZlbiBVUkwgKGVpdGhlciBgaHR0cGAgb3IgYGh0dHBzYCkuXHJcbiAqXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCB3aG9zZSBwcm90b2NvbCBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBgaHR0cHNgIG1vZHVsZSBpZiB0aGUgVVJMIHN0YXJ0cyB3aXRoICdodHRwcycsXHJcbiAqIG90aGVyd2lzZSByZXR1cm5zIHRoZSBgaHR0cGAgbW9kdWxlLlxyXG4gKiBAcHJpdmF0ZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBjb25zdCBwcm90b2NvbCA9IGdldFByb3RvY29sKCdodHRwczovL2V4YW1wbGUuY29tJyk7XHJcbiAqIGNvbnNvbGUubG9nKHByb3RvY29sKTsgLy8gT3V0cHV0cyB0aGUgJ2h0dHBzJyBtb2R1bGVcclxuICovXHJcbmNvbnN0IGdldFByb3RvY29sID0gKHVybCkgPT4ge1xyXG4gIHJldHVybiB1cmwuc3RhcnRzV2l0aCgnaHR0cHMnKSA/IGh0dHBzIDogaHR0cDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTZW5kcyBhIEdFVCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgVVJMIHdpdGggb3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb25cclxuICogQGFzeW5jXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHRvIGZldGNoLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RPcHRpb25zPXt9XSAtIE9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9ucyBhbmQgaGVhZGVycy5cclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXNwb25zZSBvYmplY3QuXHJcbiAqIFRoZSByZXNwb25zZSBvYmplY3QgY29udGFpbnMgYSBgLnRleHRgIHByb3BlcnR5IHdpdGggdGhlIHJhdyByZXNwb25zZSBkYXRhLlxyXG4gKiBAdGhyb3dzIHtFcnJvcn0gVGhyb3dzIGFuIGVycm9yIGlmIHRoZSByZXF1ZXN0IGZhaWxzIG9yIGlmIG5vIGRhdGEgaXMgZmV0Y2hlZCBmcm9tIHRoZSBVUkwuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGFzeW5jIGZ1bmN0aW9uIGdldERhdGEoKSB7XHJcbiAqICAgdHJ5IHtcclxuICogICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tL2RhdGEnKTtcclxuICogICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnRleHQpO1xyXG4gKiAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAqICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkYXRhOicsIGVycm9yKTtcclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogZ2V0RGF0YSgpO1xyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2godXJsLCByZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHByb3RvY29sID0gZ2V0UHJvdG9jb2wodXJsKTtcclxuXHJcbiAgICBwcm90b2NvbFxyXG4gICAgICAuZ2V0KHVybCwgcmVxdWVzdE9wdGlvbnMsIChyZXMpID0+IHtcclxuICAgICAgICBsZXQgZGF0YSA9ICcnO1xyXG5cclxuICAgICAgICAvLyBBIGNodW5rIG9mIGRhdGEgaGFzIGJlZW4gcmVjZWl2ZWQuXHJcbiAgICAgICAgcmVzLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XHJcbiAgICAgICAgICBkYXRhICs9IGNodW5rO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUaGUgd2hvbGUgcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWQuXHJcbiAgICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICAgICAgcmVqZWN0KCdOb3RoaW5nIHdhcyBmZXRjaGVkIGZyb20gdGhlIFVSTC4nKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXMudGV4dCA9IGRhdGE7XHJcbiAgICAgICAgICByZXNvbHZlKHJlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcclxuICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbmRzIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgVVJMIHdpdGggdGhlIGdpdmVuIGJvZHkgYW5kIHJlcXVlc3Qgb3B0aW9ucy5cclxuICpcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBhc3luY1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCB0byB3aGljaCB0aGUgcmVxdWVzdCBzaG91bGQgYmUgc2VudC5cclxuICogQHBhcmFtIHtPYmplY3R9IFtib2R5PXt9XSAtIFRoZSBkYXRhIHRvIGJlIHNlbnQgYXMgdGhlIHJlcXVlc3QgYm9keSwgaW4gSlNPTiBmb3JtYXQuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdE9wdGlvbnM9e31dIC0gT3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zIGFuZCBoZWFkZXJzLlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSAtIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcGFyc2VkIEpTT04gcmVzcG9uc2UuXHJcbiAqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIHJlcXVlc3QgZmFpbHMgb3IgaWYgdGhlIHJlc3BvbnNlIGNhbm5vdCBiZSBwYXJzZWQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGFzeW5jIGZ1bmN0aW9uIHNlbmREYXRhKCkge1xyXG4gKiAgIGNvbnN0IGRhdGFUb1NlbmQgPSB7XHJcbiAqICAgICBrZXkxOiAndmFsdWUxJyxcclxuICogICAgIGtleTI6ICd2YWx1ZTInLFxyXG4gKiAgIH07XHJcbiAqICAgdHJ5IHtcclxuICogICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vZGF0YScsIGRhdGFUb1NlbmQpO1xyXG4gKiAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG4gKiAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAqICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGRhdGE6JywgZXJyb3IpO1xyXG4gKiAgIH1cclxuICogfVxyXG4gKlxyXG4gKiBzZW5kRGF0YSgpO1xyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcG9zdCh1cmwsIGJvZHkgPSB7fSwgcmVxdWVzdE9wdGlvbnMgPSB7fSkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBwcm90b2NvbCA9IGdldFByb3RvY29sKHVybCk7XHJcbiAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XHJcblxyXG4gICAgLy8gU2V0IGRlZmF1bHQgaGVhZGVycyBhbmQgbWVyZ2Ugd2l0aCByZXF1ZXN0T3B0aW9uc1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogZGF0YS5sZW5ndGhcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlcXVlc3RPcHRpb25zXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IHJlcSA9IHByb3RvY29sXHJcbiAgICAgIC5yZXF1ZXN0KHVybCwgb3B0aW9ucywgKHJlcykgPT4ge1xyXG4gICAgICAgIGxldCByZXNwb25zZURhdGEgPSAnJztcclxuXHJcbiAgICAgICAgLy8gQSBjaHVuayBvZiBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkLlxyXG4gICAgICAgIHJlcy5vbignZGF0YScsIChjaHVuaykgPT4ge1xyXG4gICAgICAgICAgcmVzcG9uc2VEYXRhICs9IGNodW5rO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUaGUgd2hvbGUgcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWQuXHJcbiAgICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXMudGV4dCA9IHJlc3BvbnNlRGF0YTtcclxuICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICAgLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIC8vIFdyaXRlIHRoZSByZXF1ZXN0IGJvZHkgYW5kIGVuZCB0aGUgcmVxdWVzdC5cclxuICAgIHJlcS53cml0ZShkYXRhKTtcclxuICAgIHJlcS5lbmQoKTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZmV0Y2g7XHJcbmV4cG9ydCB7IGZldGNoLCBwb3N0IH07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLy8gVGhlIGNhY2hlIG1hbmFnZXIgbWFuYWdlcyB0aGUgSGlnaGNoYXJ0cyBsaWJyYXJ5IGFuZCBpdHMgZGVwZW5kZW5jaWVzLlxyXG4vLyBUaGUgY2FjaGUgaXRzZWxmIGlzIHN0b3JlZCBpbiAuY2FjaGUsIGFuZCBpcyBjaGVja2VkIGJ5IHRoZSBjb25maWcgc3lzdGVtXHJcbi8vIGJlZm9yZSBzdGFydGluZyB0aGUgc2VydmljZVxyXG5cclxuaW1wb3J0IHsgZXhpc3RzU3luYywgbWtkaXJTeW5jLCByZWFkRmlsZVN5bmMsIHdyaXRlRmlsZVN5bmMgfSBmcm9tICdmcyc7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuaW1wb3J0IEh0dHBzUHJveHlBZ2VudCBmcm9tICdodHRwcy1wcm94eS1hZ2VudCc7XHJcbmltcG9ydCB7IGZldGNoIH0gZnJvbSAnLi9mZXRjaC5qcyc7XHJcblxyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcbmltcG9ydCB7IF9fZGlybmFtZSB9IGZyb20gJy4uL2xpYi91dGlscy5qcyc7XHJcblxyXG5kb3RlbnYuY29uZmlnKCk7XHJcblxyXG5jb25zdCBjYWNoZVBhdGggPSBqb2luKF9fZGlybmFtZSwgJy5jYWNoZScpO1xyXG5cclxuY29uc3QgY2FjaGUgPSB7XHJcbiAgY2RuVVJMOiAnaHR0cHM6Ly9jb2RlLmhpZ2hjaGFydHMuY29tLycsXHJcbiAgYWN0aXZlTWFuaWZlc3Q6IHt9LFxyXG4gIHNvdXJjZXM6ICcnLFxyXG4gIGhjVmVyc2lvbjogJydcclxufTtcclxuXHJcbi8vIFRPRE86IFRoZSBjb25maWcgc2hvdWxkIGJlIGFjY2Vzc3NpYmxlIGdsb2JhbGx5IHNvIHdlIGRvbid0IGhhdmUgdG8gZG8gdGhpcyBzb3J0IG9mIHRoaW5nLi5cclxubGV0IGFwcGxpZWRDb25maWcgPSBmYWxzZTtcclxuXHJcbi8qKlxyXG4gKiBFeHRyYWN0cyB0aGUgSGlnaGNoYXJ0cyB2ZXJzaW9uIGZyb20gdGhlIGNhY2hlXHJcbiAqL1xyXG5jb25zdCBleHRyYWN0VmVyc2lvbiA9ICgpID0+XHJcbiAgKGNhY2hlLmhjVmVyc2lvbiA9IGNhY2hlLnNvdXJjZXNcclxuICAgIC5zdWJzdHIoMCwgY2FjaGUuc291cmNlcy5pbmRleE9mKCcqLycpKVxyXG4gICAgLnJlcGxhY2UoJy8qJywgJycpXHJcbiAgICAucmVwbGFjZSgnKi8nLCAnJylcclxuICAgIC5yZXBsYWNlKC9cXG4vZywgJycpXHJcbiAgICAudHJpbSgpKTtcclxuXHJcbi8qKlxyXG4gKiBTYXZlcyB0aGUgSGlnaGNoYXJ0cyBwYXJ0IG9mIGEgY29uZmlnIHRvIGEgbWFuaWZlc3QgZmlsZSBpbiB0aGUgY2FjaGVcclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIEhpZ2hjaGFydHMgcmVsYXRlZCBjb25maWd1cmF0aW9uIG9iamVjdC5cclxuICogQHBhcmFtIHtvYmplY3R9IGZldGNoZWRNb2R1bGVzIC0gQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgbWFwcGVkIG5hbWVzIG9mXHJcbiAqIGZldGNoZWQgSGlnaGNoYXJ0cyBtb2R1bGVzIHRvIHVzZS5cclxuICovXHJcbmNvbnN0IHNhdmVDb25maWdUb01hbmlmZXN0ID0gYXN5bmMgKGNvbmZpZywgZmV0Y2hlZE1vZHVsZXMpID0+IHtcclxuICBjb25zdCBuZXdNYW5pZmVzdCA9IHtcclxuICAgIHZlcnNpb246IGNvbmZpZy52ZXJzaW9uLFxyXG4gICAgbW9kdWxlczogZmV0Y2hlZE1vZHVsZXMgfHwge31cclxuICB9O1xyXG5cclxuICAvLyBVcGRhdGUgY2FjaGUgb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgbW9kdWxlc1xyXG4gIGNhY2hlLmFjdGl2ZU1hbmlmZXN0ID0gbmV3TWFuaWZlc3Q7XHJcblxyXG4gIGxvZyg0LCAnW2NhY2hlXSB3cml0aW5nIG5ldyBtYW5pZmVzdCcpO1xyXG5cclxuICB0cnkge1xyXG4gICAgd3JpdGVGaWxlU3luYyhcclxuICAgICAgam9pbihjYWNoZVBhdGgsICdtYW5pZmVzdC5qc29uJyksXHJcbiAgICAgIEpTT04uc3RyaW5naWZ5KG5ld01hbmlmZXN0KSxcclxuICAgICAgJ3V0ZjgnXHJcbiAgICApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBsb2coMSwgYFtjYWNoZV0gRXJyb3Igd3JpdGluZyBjYWNoZSBtYW5pZmVzdDogJHtlcnJvcn0uYCk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZldGNoZXMgYSBzaW5nbGUgc2NyaXB0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2NyaXB0IC0gQSBwYXRoIHRvIHNjcmlwdCB0byBnZXQuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm94eUFnZW50IC0gVGhlIHByb3h5IGFnZW50IHRvIHVzZSBmb3IgYSByZXF1ZXN0LlxyXG4gKi9cclxuY29uc3QgZmV0Y2hTY3JpcHQgPSBhc3luYyAoc2NyaXB0LCBwcm94eUFnZW50KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEdldCByaWQgb2YgdGhlIC5qcyBmcm9tIHRoZSBjdXN0b20gc3RyaW5nc1xyXG4gICAgaWYgKHNjcmlwdC5lbmRzV2l0aCgnLmpzJykpIHtcclxuICAgICAgc2NyaXB0ID0gc2NyaXB0LnN1YnN0cmluZygwLCBzY3JpcHQubGVuZ3RoIC0gMyk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9nKDQsIGBbY2FjaGVdIEZldGNoaW5nIHNjcmlwdCAtICR7c2NyaXB0fS5qc2ApO1xyXG5cclxuICAgIC8vIElmIGV4aXN0cywgYWRkIHByb3h5IGFnZW50IHRvIHJlcXVlc3Qgb3B0aW9uc1xyXG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSBwcm94eUFnZW50XHJcbiAgICAgID8ge1xyXG4gICAgICAgICAgYWdlbnQ6IHByb3h5QWdlbnQsXHJcbiAgICAgICAgICB0aW1lb3V0OiArcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9USU1FT1VUJ10gfHwgNTAwMFxyXG4gICAgICAgIH1cclxuICAgICAgOiB7fTtcclxuXHJcbiAgICAvLyBGZXRjaCB0aGUgc2NyaXB0XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3NjcmlwdH0uanNgLCByZXF1ZXN0T3B0aW9ucyk7XHJcblxyXG4gICAgLy8gSWYgT0ssIHJldHVybiBpdHMgdGV4dCByZXByZXNlbnRhdGlvblxyXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDIwMCkge1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGV4dDtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyBgJHtyZXNwb25zZS5zdGF0dXNDb2RlfWA7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZygxLCBgW2NhY2hlXSBFcnJvciBmZXRjaGluZyBzY3JpcHQgJHtzY3JpcHR9LmpzOiAke2Vycm9yfS5gKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGVzIHRoZSBIaWdoY2hhcnRzIGNhY2hlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNoYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlUGF0aCAtIEEgcGF0aCB0byB0aGUgZmlsZSB3aGVyZSBzYXZlIHVwZGF0ZWQgc291cmNlcy5cclxuICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgdGhhdCBjb250YWlucyBtYXBwZWQgbmFtZXMgb2YgZmV0Y2hlZCBIaWdoY2hhcnRzXHJcbiAqIG1vZHVsZXMgdG8gdXNlLlxyXG4gKi9cclxuY29uc3QgdXBkYXRlQ2FjaGUgPSBhc3luYyAoY29uZmlnLCBzb3VyY2VQYXRoKSA9PiB7XHJcbiAgY29uc3QgeyBjb3JlU2NyaXB0cywgbW9kdWxlcywgaW5kaWNhdG9ycywgc2NyaXB0czogY3VzdG9tU2NyaXB0cyB9ID0gY29uZmlnO1xyXG4gIGNvbnN0IGhjVmVyc2lvbiA9XHJcbiAgICBjb25maWcudmVyc2lvbiA9PT0gJ2xhdGVzdCcgfHwgIWNvbmZpZy52ZXJzaW9uID8gJycgOiBgJHtjb25maWcudmVyc2lvbn0vYDtcclxuXHJcbiAgbG9nKDMsICdbY2FjaGVdIFVwZGF0aW5nIGNhY2hlIHRvIEhpZ2hjaGFydHMgJywgaGNWZXJzaW9uKTtcclxuXHJcbiAgLy8gR2F0aGVyIGFsbCBzY3JpcHRzIHRvIGZldGNoXHJcbiAgY29uc3QgYWxsU2NyaXB0cyA9IFtcclxuICAgIC4uLmNvcmVTY3JpcHRzLm1hcCgoYykgPT4gYCR7aGNWZXJzaW9ufSR7Y31gKSxcclxuICAgIC4uLm1vZHVsZXMubWFwKChtKSA9PlxyXG4gICAgICBtID09PSAnbWFwJyA/IGBtYXBzLyR7aGNWZXJzaW9ufW1vZHVsZXMvJHttfWAgOiBgJHtoY1ZlcnNpb259bW9kdWxlcy8ke219YFxyXG4gICAgKSxcclxuICAgIC4uLmluZGljYXRvcnMubWFwKChpKSA9PiBgc3RvY2svJHtoY1ZlcnNpb259aW5kaWNhdG9ycy8ke2l9YClcclxuICBdO1xyXG5cclxuICAvLyBDb25maWd1cmUgcHJveHkgaWYgZXhpc3RzXHJcbiAgbGV0IHByb3h5QWdlbnQ7XHJcbiAgY29uc3QgcHJveHlIb3N0ID0gcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9IT1NUJ107XHJcbiAgY29uc3QgcHJveHlQb3J0ID0gcHJvY2Vzcy5lbnZbJ1BST1hZX1NFUlZFUl9QT1JUJ107XHJcblxyXG4gIGlmIChwcm94eUhvc3QgJiYgcHJveHlQb3J0KSB7XHJcbiAgICBwcm94eUFnZW50ID0gbmV3IEh0dHBzUHJveHlBZ2VudCh7XHJcbiAgICAgIGhvc3Q6IHByb3h5SG9zdCxcclxuICAgICAgcG9ydDogK3Byb3h5UG9ydFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBmZXRjaGVkTW9kdWxlcyA9IHt9O1xyXG4gIHRyeSB7XHJcbiAgICBjYWNoZS5zb3VyY2VzID0gLy8gVE9ETzogY29udmVydCB0byBmb3IgbG9vcFxyXG4gICAgICAoXHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgLi4uYWxsU2NyaXB0cy5tYXAoYXN5bmMgKHNjcmlwdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZmV0Y2hTY3JpcHQoXHJcbiAgICAgICAgICAgICAgYCR7Y29uZmlnLmNkblVSTCB8fCBjYWNoZS5jZG5VUkx9JHtzY3JpcHR9YCxcclxuICAgICAgICAgICAgICBwcm94eUFnZW50XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBmZXRjaGVkIGNvcnJlY3RseSwgc2V0IGl0XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICBmZXRjaGVkTW9kdWxlc1tcclxuICAgICAgICAgICAgICAgIHNjcmlwdC5yZXBsYWNlKFxyXG4gICAgICAgICAgICAgICAgICAvKC4qKVxcL3woLiopbW9kdWxlc1xcL3xzdG9ja1xcLyguKilpbmRpY2F0b3JzXFwvfG1hcHNcXC8oLiopbW9kdWxlc1xcLy9naSxcclxuICAgICAgICAgICAgICAgICAgJydcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICBdID0gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgIC4uLmN1c3RvbVNjcmlwdHMubWFwKChzY3JpcHQpID0+IGZldGNoU2NyaXB0KHNjcmlwdCwgcHJveHlBZ2VudCkpXHJcbiAgICAgICAgXSlcclxuICAgICAgKS5qb2luKCc7XFxuJyk7XHJcbiAgICBleHRyYWN0VmVyc2lvbigpO1xyXG5cclxuICAgIC8vIFNhdmUgdGhlIGZldGNoZWQgbW9kdWxlcyBpbnRvIGNhY2hlcycgc291cmNlIEpTT05cclxuICAgIHdyaXRlRmlsZVN5bmMoc291cmNlUGF0aCwgY2FjaGUuc291cmNlcyk7XHJcbiAgICByZXR1cm4gZmV0Y2hlZE1vZHVsZXM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZygxLCAnW2NhY2hlXSBVbmFibGUgdG8gdXBkYXRlIGxvY2FsIEhpZ2hjaGFydHMgY2FjaGUuJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVZlcnNpb24gPSBhc3luYyAobmV3VmVyc2lvbikgPT5cclxuICBhcHBsaWVkQ29uZmlnXHJcbiAgICA/IGF3YWl0IGNoZWNrQ2FjaGUoXHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihhcHBsaWVkQ29uZmlnLCB7XHJcbiAgICAgICAgICB2ZXJzaW9uOiBuZXdWZXJzaW9uXHJcbiAgICAgICAgfSlcclxuICAgICAgKVxyXG4gICAgOiBmYWxzZTtcclxuXHJcbi8qKlxyXG4gKiBGZXRjaGVzIGFueSBtaXNzaW5nIEhpZ2hjaGFydHMgYW5kIGRlcGVuZGVuY2llc1xyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gSGlnaGNoYXJ0cyByZWxhdGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNoZWNrQ2FjaGUgPSBhc3luYyAoY29uZmlnKSA9PiB7XHJcbiAgbGV0IGZldGNoZWRNb2R1bGVzO1xyXG4gIC8vIFByZXBhcmUgcGF0aHMgdG8gbWFuaWZlc3QgYW5kIHNvdXJjZXMgZnJvbSB0aGUgLmNhY2hlIGZvbGRlclxyXG4gIGNvbnN0IG1hbmlmZXN0UGF0aCA9IGpvaW4oY2FjaGVQYXRoLCAnbWFuaWZlc3QuanNvbicpO1xyXG4gIGNvbnN0IHNvdXJjZVBhdGggPSBqb2luKGNhY2hlUGF0aCwgJ3NvdXJjZXMuanMnKTtcclxuXHJcbiAgLy8gVE9ETzogZGVhbCB3aXRoIHRyeWluZyB0byBzd2l0Y2ggdG8gdGhlIHJ1bm5pbmcgdmVyc2lvblxyXG4gIC8vIGNvbnN0IGFjdGl2ZVZlcnNpb24gPSBhcHBsaWVkQ29uZmlnID8gYXBwbGllZENvbmZpZy52ZXJzaW9uIDogZmFsc2U7XHJcblxyXG4gIGFwcGxpZWRDb25maWcgPSBjb25maWc7XHJcblxyXG4gIC8vIENyZWF0ZSB0aGUgLmNhY2hlIGRlc3RpbmF0aW9uIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYWxyZWFkeVxyXG4gICFleGlzdHNTeW5jKGNhY2hlUGF0aCkgJiYgbWtkaXJTeW5jKGNhY2hlUGF0aCk7XHJcblxyXG4gIC8vIEZldGNoIGFsbCB0aGUgc2NyaXB0cyBlaXRoZXIgaWYgbWFuaWZlc3QuanNvbiBkb2VzIG5vdCBleGlzdFxyXG4gIC8vIG9yIGlmIHRoZSBmb3JjZUZldGNoIG9wdGlvbiBpcyBlbmFibGVkXHJcbiAgaWYgKCFleGlzdHNTeW5jKG1hbmlmZXN0UGF0aCkgfHwgY29uZmlnLmZvcmNlRmV0Y2gpIHtcclxuICAgIGxvZygzLCAnW2NhY2hlXSBGZXRjaGluZyBhbmQgY2FjaGluZyBIaWdoY2hhcnRzIGRlcGVuZGVuY2llcy4nKTtcclxuICAgIGZldGNoZWRNb2R1bGVzID0gYXdhaXQgdXBkYXRlQ2FjaGUoY29uZmlnLCBzb3VyY2VQYXRoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbGV0IHJlcXVlc3RVcGRhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBSZWFkIHRoZSBtYW5pZmVzdCBKU09OXHJcbiAgICBjb25zdCBtYW5pZmVzdCA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKG1hbmlmZXN0UGF0aCkpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBtb2R1bGVzIGlzIGFuIGFycmF5LCBpZiBzbywgd2UgcmV3cml0ZSBpdCB0byBhIG1hcCB0byBtYWtlXHJcbiAgICAvLyBpdCBlYXNpZXIgdG8gcmVzb2x2ZSBtb2R1bGVzLlxyXG4gICAgaWYgKG1hbmlmZXN0Lm1vZHVsZXMgJiYgQXJyYXkuaXNBcnJheShtYW5pZmVzdC5tb2R1bGVzKSkge1xyXG4gICAgICBjb25zdCBtb2R1bGVNYXAgPSB7fTtcclxuICAgICAgbWFuaWZlc3QubW9kdWxlcy5mb3JFYWNoKChtKSA9PiAobW9kdWxlTWFwW21dID0gMSkpO1xyXG4gICAgICBtYW5pZmVzdC5tb2R1bGVzID0gbW9kdWxlTWFwO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgbW9kdWxlcywgY29yZVNjcmlwdHMsIGluZGljYXRvcnMgfSA9IGNvbmZpZztcclxuICAgIGNvbnN0IG51bWJlck9mTW9kdWxlcyA9XHJcbiAgICAgIG1vZHVsZXMubGVuZ3RoICsgY29yZVNjcmlwdHMubGVuZ3RoICsgaW5kaWNhdG9ycy5sZW5ndGg7XHJcblxyXG4gICAgLy8gQ29tcGFyZSB0aGUgbG9hZGVkIGNvbmZpZyB3aXRoIHRoZSBjb250ZW50cyBpbiAuY2FjaGUuXHJcbiAgICAvLyBJZiB0aGVyZSBhcmUgY2hhbmdlcywgZmV0Y2ggcmVxdWVzdGVkIG1vZHVsZXMgYW5kIHByb2R1Y3RzLFxyXG4gICAgLy8gYW5kIGJha2UgdGhlbSBpbnRvIGEgZ2lhbnQgYmxvYi4gU2F2ZSB0aGUgYmxvYi5cclxuICAgIGlmIChtYW5pZmVzdC52ZXJzaW9uICE9PSBjb25maWcudmVyc2lvbikge1xyXG4gICAgICBsb2coMywgJ1tjYWNoZV0gSGlnaGNoYXJ0cyB2ZXJzaW9uIG1pc21hdGNoIGluIGNhY2hlLCBuZWVkIHRvIHJlLWZldGNoLicpO1xyXG4gICAgICByZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMobWFuaWZlc3QubW9kdWxlcyB8fCB7fSkubGVuZ3RoICE9PSBudW1iZXJPZk1vZHVsZXMpIHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDMsXHJcbiAgICAgICAgJ1tjYWNoZV0gQ2FjaGUgYW5kIHJlcXVlc3RlZCBtb2R1bGVzIGRvZXMgbm90IG1hdGNoLCBuZWVkIHRvIHJlLWZldGNoLidcclxuICAgICAgKTtcclxuICAgICAgcmVxdWVzdFVwZGF0ZSA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBDaGVjayBlYWNoIG1vZHVsZSwgaWYgYW55dGhpbmcgaXMgbWlzc2luZyByZWZldGNoIGV2ZXJ5dGhpbmdcclxuICAgICAgcmVxdWVzdFVwZGF0ZSA9IChjb25maWcubW9kdWxlcyB8fCBbXSkuc29tZSgobW9kdWxlTmFtZSkgPT4ge1xyXG4gICAgICAgIGlmICghbWFuaWZlc3QubW9kdWxlc1ttb2R1bGVOYW1lXSkge1xyXG4gICAgICAgICAgbG9nKFxyXG4gICAgICAgICAgICAzLFxyXG4gICAgICAgICAgICBgW2NhY2hlXSBUaGUgJHttb2R1bGVOYW1lfSBtaXNzaW5nIGluIGNhY2hlLCBuZWVkIHRvIHJlLWZldGNoLmBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXF1ZXN0VXBkYXRlKSB7XHJcbiAgICAgIGZldGNoZWRNb2R1bGVzID0gYXdhaXQgdXBkYXRlQ2FjaGUoY29uZmlnLCBzb3VyY2VQYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxvZygzLCAnW2NhY2hlXSBEZXBlbmRlbmN5IGNhY2hlIGlzIHVwIHRvIGRhdGUsIHByb2NlZWRpbmcuJyk7XHJcblxyXG4gICAgICAvLyBMb2FkIHRoZSBzb3VyY2VzXHJcbiAgICAgIGNhY2hlLnNvdXJjZXMgPSByZWFkRmlsZVN5bmMoc291cmNlUGF0aCwgJ3V0ZjgnKTtcclxuXHJcbiAgICAgIC8vIEdldCBjdXJyZW50IG1vZHVsZXMgbWFwXHJcbiAgICAgIGZldGNoZWRNb2R1bGVzID0gbWFuaWZlc3QubW9kdWxlcztcclxuICAgICAgZXh0cmFjdFZlcnNpb24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEZpbmFsbHksIHNhdmUgdGhlIG5ldyBtYW5pZmVzdCwgd2hpY2ggaXMgYmFzaWNhbGx5IG91ciBjdXJyZW50IGNvbmZpZ1xyXG4gIC8vIGluIGEgc2xpZ2h0bHkgZGlmZmVyZW50IGZvcm1hdFxyXG4gIGF3YWl0IHNhdmVDb25maWdUb01hbmlmZXN0KGNvbmZpZywgZmV0Y2hlZE1vZHVsZXMpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNoZWNrQ2FjaGUsXHJcbiAgdXBkYXRlVmVyc2lvbixcclxuICBnZXRDYWNoZTogKCkgPT4gY2FjaGUsXHJcbiAgaGlnaGNoYXJ0czogKCkgPT4gY2FjaGUuc291cmNlcyxcclxuICB2ZXJzaW9uOiAoKSA9PiBjYWNoZS5oY1ZlcnNpb25cclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgcHVwcGV0ZWVyIGZyb20gJ3B1cHBldGVlcic7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCAqIGFzIHVybCBmcm9tICd1cmwnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ25vZGU6cGF0aCc7XHJcblxyXG4vLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xNDYzMzI4XHJcbi8vIE5vdCBpZGVhbCAtIGxlYXZlcyB0cmFzaCBpbiB0aGUgRlNcclxuaW1wb3J0IHsgcmFuZG9tQnl0ZXMgfSBmcm9tICdub2RlOmNyeXB0byc7XHJcblxyXG5jb25zdCBSQU5ET01fUElEID0gcmFuZG9tQnl0ZXMoNjQpLnRvU3RyaW5nKCdiYXNlNjR1cmwnKTtcclxuY29uc3QgUFVQUEVURUVSX0RJUiA9IHBhdGguam9pbigndG1wJywgYHB1cHBldGVlci0ke1JBTkRPTV9QSUR9YCk7XHJcbmNvbnN0IERBVEFfRElSID0gcGF0aC5qb2luKFBVUFBFVEVFUl9ESVIsICdwcm9maWxlJyk7XHJcblxyXG4vLyBUaGUgbWluaW1hbCBhcmdzIHRvIHNwZWVkIHVwIHRoZSBicm93c2VyXHJcbmNvbnN0IG1pbmltYWxBcmdzID0gW1xyXG4gIGAtLXVzZXItZGF0YS1kaXI9JHtEQVRBX0RJUn1gLFxyXG4gICctLWF1dG9wbGF5LXBvbGljeT11c2VyLWdlc3R1cmUtcmVxdWlyZWQnLFxyXG4gICctLWRpc2FibGUtYmFja2dyb3VuZC1uZXR3b3JraW5nJyxcclxuICAnLS1kaXNhYmxlLWJhY2tncm91bmQtdGltZXItdGhyb3R0bGluZycsXHJcbiAgJy0tZGlzYWJsZS1iYWNrZ3JvdW5kaW5nLW9jY2x1ZGVkLXdpbmRvd3MnLFxyXG4gICctLWRpc2FibGUtYnJlYWtwYWQnLFxyXG4gICctLWRpc2FibGUtY2xpZW50LXNpZGUtcGhpc2hpbmctZGV0ZWN0aW9uJyxcclxuICAnLS1kaXNhYmxlLWNvbXBvbmVudC11cGRhdGUnLFxyXG4gICctLWRpc2FibGUtZGVmYXVsdC1hcHBzJyxcclxuICAnLS1kaXNhYmxlLWRldi1zaG0tdXNhZ2UnLFxyXG4gICctLWRpc2FibGUtZG9tYWluLXJlbGlhYmlsaXR5JyxcclxuICAnLS1kaXNhYmxlLWV4dGVuc2lvbnMnLFxyXG4gICctLWRpc2FibGUtZmVhdHVyZXM9QXVkaW9TZXJ2aWNlT3V0T2ZQcm9jZXNzJyxcclxuICAnLS1kaXNhYmxlLWhhbmctbW9uaXRvcicsXHJcbiAgJy0tZGlzYWJsZS1pcGMtZmxvb2RpbmctcHJvdGVjdGlvbicsXHJcbiAgJy0tZGlzYWJsZS1ub3RpZmljYXRpb25zJyxcclxuICAnLS1kaXNhYmxlLW9mZmVyLXN0b3JlLXVubWFza2VkLXdhbGxldC1jYXJkcycsXHJcbiAgJy0tZGlzYWJsZS1wb3B1cC1ibG9ja2luZycsXHJcbiAgJy0tZGlzYWJsZS1wcmludC1wcmV2aWV3JyxcclxuICAnLS1kaXNhYmxlLXByb21wdC1vbi1yZXBvc3QnLFxyXG4gICctLWRpc2FibGUtcmVuZGVyZXItYmFja2dyb3VuZGluZycsXHJcbiAgJy0tZGlzYWJsZS1zZXNzaW9uLWNyYXNoZWQtYnViYmxlJyxcclxuICAnLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94JyxcclxuICAnLS1kaXNhYmxlLXNwZWVjaC1hcGknLFxyXG4gICctLWRpc2FibGUtc3luYycsXHJcbiAgJy0taGlkZS1jcmFzaC1yZXN0b3JlLWJ1YmJsZScsXHJcbiAgJy0taGlkZS1zY3JvbGxiYXJzJyxcclxuICAnLS1pZ25vcmUtZ3B1LWJsYWNrbGlzdCcsXHJcbiAgJy0tbWV0cmljcy1yZWNvcmRpbmctb25seScsXHJcbiAgJy0tbXV0ZS1hdWRpbycsXHJcbiAgJy0tbm8tZGVmYXVsdC1icm93c2VyLWNoZWNrJyxcclxuICAnLS1uby1maXJzdC1ydW4nLFxyXG4gICctLW5vLXBpbmdzJyxcclxuICAnLS1uby1zYW5kYm94JyxcclxuICAnLS1uby16eWdvdGUnLFxyXG4gICctLXBhc3N3b3JkLXN0b3JlPWJhc2ljJyxcclxuICAnLS11c2UtbW9jay1rZXljaGFpbidcclxuXTtcclxuXHJcbmNvbnN0IF9fZGlybmFtZSA9IHVybC5maWxlVVJMVG9QYXRoKG5ldyBVUkwoJy4nLCBpbXBvcnQubWV0YS51cmwpKTtcclxuXHJcbmNvbnN0IHRlbXBsYXRlID0gZnMucmVhZEZpbGVTeW5jKFxyXG4gIF9fZGlybmFtZSArICcvLi4vdGVtcGxhdGVzL3RlbXBsYXRlLmh0bWwnLFxyXG4gICd1dGY4J1xyXG4pO1xyXG5cclxubGV0IGJyb3dzZXI7XHJcblxyXG5jb25zdCBzZXRQYWdlQ29udGVudCA9IGFzeW5jIChwYWdlKSA9PiB7XHJcbiAgYXdhaXQgcGFnZS5zZXRDb250ZW50KHRlbXBsYXRlKTtcclxuICBhd2FpdCBwYWdlLmFkZFNjcmlwdFRhZyh7IHBhdGg6IF9fZGlybmFtZSArICcvLi4vLmNhY2hlL3NvdXJjZXMuanMnIH0pO1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4gd2luZG93LnNldHVwSGlnaGNoYXJ0cygpKTtcclxuXHJcbiAgcGFnZS5vbigncGFnZWVycm9yJywgYXN5bmMgKGVycikgPT4ge1xyXG4gICAgLy8gVE9ETzogQ29uc2lkZXIgYWRkaW5nIGEgc3dpdGNoIGhlcmUgdGhhdCB0dXJucyBvbiBsb2coMCkgbG9nZ2luZ1xyXG4gICAgLy8gb24gcGFnZSBlcnJvcnMuXHJcbiAgICBsb2coMSwgJ1twYWdlIGVycm9yXScsIGVycik7XHJcbiAgICBhd2FpdCBwYWdlLiRldmFsKFxyXG4gICAgICAnI2NvbnRhaW5lcicsXHJcbiAgICAgIChlbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICBpZiAod2luZG93Ll9kaXNwbGF5RXJyb3JzKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGVycm9yTWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGA8aDE+Q2hhcnQgaW5wdXQgZGF0YSBlcnJvcjwvaDE+JHtlcnIudG9TdHJpbmcoKX1gXHJcbiAgICApO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG5ld1BhZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgaWYgKCFicm93c2VyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gIGNvbnN0IHBhZ2UgPSBhd2FpdCBicm93c2VyLm5ld1BhZ2UoKTtcclxuXHJcbiAgLy8gRGlzYWJsZSBjYWNoZVxyXG4gIGF3YWl0IHBhZ2Uuc2V0Q2FjaGVFbmFibGVkKGZhbHNlKTtcclxuXHJcbiAgLy8gU2V0IHRoZSBjb250ZW50XHJcbiAgYXdhaXQgc2V0UGFnZUNvbnRlbnQocGFnZSk7XHJcbiAgcmV0dXJuIHBhZ2U7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2xlYXJQYWdlID0gYXN5bmMgKHBhZ2UsIGhhcmRSZXNldCA9IGZhbHNlKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChoYXJkUmVzZXQpIHtcclxuICAgICAgLy8gTmF2aWdhdGUgdG8gYWJvdXQ6YmxhbmtcclxuICAgICAgYXdhaXQgcGFnZS5nb3RvKCdhYm91dDpibGFuaycpO1xyXG5cclxuICAgICAgLy8gU2V0IHRoZSBjb250ZW50IGFuZCBhbmQgc2NyaXB0cyBhZ2FpblxyXG4gICAgICBhd2FpdCBzZXRQYWdlQ29udGVudChwYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIENsZWFyIGJvZHkgY29udGVudFxyXG4gICAgICBhd2FpdCBwYWdlLiRldmFsKFxyXG4gICAgICAgICdib2R5JyxcclxuICAgICAgICAoYm9keSkgPT5cclxuICAgICAgICAgIChib2R5LmlubmVySFRNTCA9XHJcbiAgICAgICAgICAgICc8ZGl2IGlkPVwiY2hhcnQtY29udGFpbmVyXCI+PGRpdiBpZD1cImNvbnRhaW5lclwiPjwvZGl2PjwvZGl2PicpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZygzLCAnW2Jyb3dzZXJdIENvdWxkIG5vdCBjbGVhciBwYWdlJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IGFzeW5jIChwdXBwZXRlZXJBcmdzKSA9PiB7XHJcbiAgY29uc3QgYWxsQXJncyA9IFsuLi5taW5pbWFsQXJncywgLi4uKHB1cHBldGVlckFyZ3MgfHwgW10pXTtcclxuXHJcbiAgLy8gQ3JlYXRlIGEgYnJvd3NlclxyXG4gIGlmICghYnJvd3Nlcikge1xyXG4gICAgbGV0IHRyeUNvdW50ID0gMDtcclxuXHJcbiAgICBjb25zdCBvcGVuID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGxvZyhcclxuICAgICAgICAgIDMsXHJcbiAgICAgICAgICAnW2Jyb3dzZXJdIGF0dGVtcHRpbmcgdG8gZ2V0IGEgYnJvd3NlciBpbnN0YW5jZSAodHJ5JyxcclxuICAgICAgICAgIHRyeUNvdW50ICsgJyknXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgYnJvd3NlciA9IGF3YWl0IHB1cHBldGVlci5sYXVuY2goe1xyXG4gICAgICAgICAgaGVhZGxlc3M6ICduZXcnLFxyXG4gICAgICAgICAgYXJnczogYWxsQXJncyxcclxuICAgICAgICAgIHVzZXJEYXRhRGlyOiAnLi90bXAvJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgbG9nKDAsICdbYnJvd3Nlcl0nLCBlKTtcclxuICAgICAgICBpZiAoKyt0cnlDb3VudCA8IDI1KSB7XHJcbiAgICAgICAgICBsb2coMywgJ1ticm93c2VyXSBmYWlsZWQ6JywgZSk7XHJcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzcG9uc2UpID0+IHNldFRpbWVvdXQocmVzcG9uc2UsIDQwMDApKTtcclxuICAgICAgICAgIGF3YWl0IG9wZW4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbG9nKDAsICdNYXggcmV0cmllcyByZWFjaGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IG9wZW4oKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgbG9nKDAsICdbYnJvd3Nlcl0gVW5hYmxlIHRvIG9wZW4gYnJvd3NlcicpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFicm93c2VyKSB7XHJcbiAgICAgIGxvZygwLCAnW2Jyb3dzZXJdIFVuYWJsZSB0byBvcGVuIGJyb3dzZXInKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIGEgYnJvd3NlciBwcm9taXNlXHJcbiAgcmV0dXJuIGJyb3dzZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0ID0gYXN5bmMgKCkgPT4ge1xyXG4gIGlmICghYnJvd3Nlcikge1xyXG4gICAgdGhyb3cgJ05vIHZhbGlkIGJyb3dzZXIgaGFzIGJlZW4gY3JlYXRlZCc7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYnJvd3NlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjbG9zZSA9IGFzeW5jICgpID0+IHtcclxuICAvLyBDbG9zZSB0aGUgYnJvd3NlciB3aGVuIGNvbm5uZWN0ZWRcclxuICBpZiAoYnJvd3Nlci5jb25uZWN0ZWQpIHtcclxuICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbmV3UGFnZSxcclxuICBjbGVhclBhZ2UsXHJcbiAgZ2V0LFxyXG4gIGNsb3NlXHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLy8gVE9ETzogcmVtb3ZlIHRoaXMgdGVtcCBiZW5jaG1hcmsgc3R1ZmYuIEkgaGFkIHRoaXMgaWRlYSBvZiBkb2luZyBhIGdlbmVyYWwgYmVuY2htYXJraW5nXHJcbi8vIHN5c3RlbSwgYnV0IGl0IGFkZHMgc28gbXVjaCBibG9hdCBpbiB0aGUgY29kZSB0aGF0IGl0IHNob3VsZG4ndCBiZSB0aGVyZS5cclxuXHJcbmltcG9ydCBiZW5jaG1hcmsgZnJvbSAnLi9iZW5jaG1hcmsuanMnO1xyXG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZS5qcyc7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHN2Z1RlbXBsYXRlIGZyb20gJy4vLi4vdGVtcGxhdGVzL3N2Z19leHBvcnQvc3ZnX2V4cG9ydC5qcyc7XHJcblxyXG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgKiBhcyB1cmwgZnJvbSAndXJsJztcclxuXHJcbmNvbnN0IF9fYmFzZWRpciA9IHVybC5maWxlVVJMVG9QYXRoKG5ldyBVUkwoJy4nLCBpbXBvcnQubWV0YS51cmwpKTtcclxuXHJcbi8vIGNvbnN0IGpzb25UZW1wbGF0ZSA9IHJlcXVpcmUoJy4vLi4vdGVtcGxhdGVzL2pzb25fZXhwb3J0L2pzb25fZXhwb3J0LmpzJyk7XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgY2xpcCByZWdpb24gZm9yIHRoZSBjaGFydCBET00gbm9kZS5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IHBhZ2UgLSBBIHBhZ2Ugb2YgYSBicm93c2VyIGluc3RhbmNlLlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gQSBjbGlwcGVkIHJlZ2lvbi5cclxuICovXHJcbmNvbnN0IGdldENsaXBSZWdpb24gPSAocGFnZSkgPT5cclxuICBwYWdlLiRldmFsKCcjY2hhcnQtY29udGFpbmVyJywgKGVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHgsXHJcbiAgICAgIHksXHJcbiAgICAgIHdpZHRoLFxyXG4gICAgICBoZWlnaHQ6IE1hdGgudHJ1bmMoaGVpZ2h0ID4gMSA/IGhlaWdodCA6IDUwMClcclxuICAgIH07XHJcbiAgfSk7XHJcblxyXG4vKipcclxuICogUmFzdGVyaXplcyB0aGUgcGFnZSB0byBhbiBpbWFnZSAoUE5HIG9yIEpQRUcpXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYWdlIC0gQSBwYWdlIG9mIGEgYnJvd3NlciBpbnN0YW5jZS5cclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBhIHJlc3VsdCBpbWFnZS5cclxuICogQHBhcmFtIHtzdHJpbmd9IGVuY29kaW5nIC0gVGhlIHR5cGUgb2YgZW5jb2RpbmcgdXNlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IGNsaXAgLSBUaGUgY2xpcCByZWdpb24uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYXN0ZXJpemF0aW9uVGltZW91dCAtIFRoZSByYXN0ZXJpemF0aW9uIHRpbWVvdXRcclxuICogaW4gbWlsbGlzZWNvbmRzLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgc2NyZWVuc2hvdC5cclxuICovXHJcbmNvbnN0IGNyZWF0ZUltYWdlID0gYXN5bmMgKHBhZ2UsIHR5cGUsIGVuY29kaW5nLCBjbGlwLCByYXN0ZXJpemF0aW9uVGltZW91dCkgPT5cclxuICBQcm9taXNlLnJhY2UoW1xyXG4gICAgcGFnZS5zY3JlZW5zaG90KHtcclxuICAgICAgdHlwZSxcclxuICAgICAgZW5jb2RpbmcsXHJcbiAgICAgIGNsaXAsXHJcblxyXG4gICAgICAvLyAjNDQ3LCAjNDYzIC0gYWx3YXlzIHJlbmRlciBvbiBhIHRyYW5zcGFyZW50IHBhZ2UgaWZcclxuICAgICAgLy8gdGhlIGV4cGVjdGVkIHR5cGUgZm9ybWF0IGlzIFBOR1xyXG4gICAgICBvbWl0QmFja2dyb3VuZDogdHlwZSA9PSAncG5nJ1xyXG4gICAgfSksXHJcbiAgICBuZXcgUHJvbWlzZSgoX3Jlc29sdmUsIHJlamVjdCkgPT5cclxuICAgICAgc2V0VGltZW91dChcclxuICAgICAgICAoKSA9PiByZWplY3QobmV3IEVycm9yKCdSYXN0ZXJpemF0aW9uIHRpbWVvdXQnKSksXHJcbiAgICAgICAgcmFzdGVyaXphdGlvblRpbWVvdXQgfHwgMTUwMFxyXG4gICAgICApXHJcbiAgICApXHJcbiAgXSk7XHJcblxyXG4vKipcclxuICogVHVybnMgcGFnZSBpbnRvIGEgUERGLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcGFnZSAtIEEgcGFnZSBvZiBhIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIGEgY2hhcnQuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiBhIGNoYXJ0LlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZW5jb2RpbmcgLSBUaGUgdHlwZSBvZiBlbmNvZGluZyB1c2VkLlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gQSBidWZmZXIgd2l0aCBQREYgcmVwcmVzZW50YXRpb24uXHJcbiAqL1xyXG5jb25zdCBjcmVhdGVQREYgPSBhc3luYyAocGFnZSwgaGVpZ2h0LCB3aWR0aCwgZW5jb2RpbmcpID0+XHJcbiAgYXdhaXQgcGFnZS5wZGYoe1xyXG4gICAgLy8gVGhpcyB3aWxsIHJlbW92ZSBhbiBleHRyYSBlbXB0eSBwYWdlIGluIFBERiBleHBvcnRzXHJcbiAgICBoZWlnaHQ6IGhlaWdodCArIDEsXHJcbiAgICB3aWR0aCxcclxuICAgIGVuY29kaW5nXHJcbiAgfSk7XHJcblxyXG4vKipcclxuICogRXhwb3J0cyBhcyBhIFNWRy5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IHBhZ2UgLSBBIHBhZ2Ugb2YgYSBicm93c2VyIGluc3RhbmNlLlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVGhlIG91dGVySFRNTCBlbGVtZW50IHdpdGggdGhlIFNWRyByZXByZXNlbnRhdGlvbi5cclxuICovXHJcbmNvbnN0IGNyZWF0ZVNWRyA9IGFzeW5jIChwYWdlKSA9PlxyXG4gIGF3YWl0IHBhZ2UuJGV2YWwoXHJcbiAgICAnI2NvbnRhaW5lciBzdmc6Zmlyc3Qtb2YtdHlwZScsXHJcbiAgICAoZWxlbWVudCkgPT4gZWxlbWVudC5vdXRlckhUTUxcclxuICApO1xyXG5cclxuLyoqIExvYWQgY29uZmlnIGludG8gYSBwYWdlIGFuZCByZW5kZXIgYSBjaGFydCAqL1xyXG5jb25zdCBzZXRBc0NvbmZpZyA9IGFzeW5jIChwYWdlLCBjaGFydCwgb3B0aW9ucykgPT5cclxuICBhd2FpdCBwYWdlLmV2YWx1YXRlKFxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAoY2hhcnQsIG9wdGlvbnMpID0+IHdpbmRvdy50cmlnZ2VyRXhwb3J0KGNoYXJ0LCBvcHRpb25zKSxcclxuICAgIGNoYXJ0LFxyXG4gICAgb3B0aW9uc1xyXG4gICk7XHJcblxyXG4vKiogTG9hZCBTVkcgaW50byBhIHBhZ2UgKi9cclxuLy8gY29uc3Qgc2V0QXNTVkcgPSBhc3luYyAocGFnZSwgc3ZnU3RyKSA9PiB0cnVlO1xyXG5cclxuLyoqXHJcbiAqIERvZXMgYW4gZXhwb3J0IGZvciBhIGdpdmVuIGJyb3dzZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBicm93c2VyIC0gQSBicm93c2VyIGluc3RhbmNlLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY2hhcnQgLSBDaGFydCdzIG9wdGlvbnMuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVGhlIGRhdGEgcmV0dXJuZWQgZnJvbSBvbmUgb2YgdGhlIG1ldGhvZHMgZm9yIGV4cG9ydGluZ1xyXG4gKiBhIHNwZWNpZmljIHR5cGUgb2YgYW4gaW1hZ2UuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBhc3luYyAocGFnZSwgY2hhcnQsIG9wdGlvbnMpID0+IHtcclxuICAvKipcclxuICAgKiBLZWVwcyB0cmFjayBvZiBhbGwgcmVzb3VyY2VzIGFkZGVkIG9uIHRoZSBwYWdlIHdpdGggYWRkWFhYVGFnLiBldGNcclxuICAgKiBJdCdzIFZJVEFMIHRoYXQgYWxsIGFkZGVkIHJlc291cmNlcyBlbmRzIHVwIGhlcmUgc28gd2UgY2FuIGNsZWFyIHRoaW5nc1xyXG4gICAqIG91dCB3aGVuIGRvaW5nIGEgbmV3IGV4cG9ydCBpbiB0aGUgc2FtZSBwYWdlIVxyXG4gICAqL1xyXG4gIGNvbnN0IGluamVjdGVkUmVzb3VyY2VzID0gW107XHJcblxyXG4gIC8qKiBDbGVhciBvdXQgYWxsIHN0YXRlIHNldCBvbiB0aGUgcGFnZSB3aXRoIGFkZFNjcmlwdFRhZy9hZGRTdHlsZVRhZy4gKi9cclxuICBjb25zdCBjbGVhckluamVjdGVkID0gYXN5bmMgKHBhZ2UpID0+IHtcclxuICAgIGZvciAoY29uc3QgcmVzIG9mIGluamVjdGVkUmVzb3VyY2VzKSB7XHJcbiAgICAgIGF3YWl0IHJlcy5kaXNwb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzZXQgYWxsIENTUyBhbmQgc2NyaXB0IHRhZ3NcclxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgY29uc3QgWywgLi4uc2NyaXB0c1RvUmVtb3ZlXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgIGNvbnN0IFssIC4uLnN0eWxlc1RvUmVtb3ZlXSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdHlsZScpO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgY29uc3QgWy4uLmxpbmtzVG9SZW1vdmVdID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpbmsnKTtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0YWdzXHJcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBbXHJcbiAgICAgICAgLi4uc2NyaXB0c1RvUmVtb3ZlLFxyXG4gICAgICAgIC4uLnN0eWxlc1RvUmVtb3ZlLFxyXG4gICAgICAgIC4uLmxpbmtzVG9SZW1vdmVcclxuICAgICAgXSkge1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBleHBvcnRCZW5jaCA9IGJlbmNobWFyaygnUHVwcGV0ZWVyJyk7XHJcblxyXG4gICAgbG9nKDQsICdbZXhwb3J0XSBEZXRlcm1pbmluZyBleHBvcnQgcGF0aC4nKTtcclxuXHJcbiAgICBjb25zdCBleHBvcnRPcHRpb25zID0gb3B0aW9ucy5leHBvcnQ7XHJcblxyXG4gICAgLy8gRm9yY2UgYSByQUZcclxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHVwcGV0ZWVyL3B1cHBldGVlci9pc3N1ZXMvNzUwN1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7fSkpO1xyXG5cclxuICAgIC8vIERlY2lkZSB3aGV0aGVyIGRpc3BsYXkgZXJyb3Igb3IgZGViYnVnZXIgd3JhcHBlciBhcm91bmQgaXRcclxuICAgIGNvbnN0IGRpc3BsYXlFcnJvcnMgPVxyXG4gICAgICBleHBvcnRPcHRpb25zPy5vcHRpb25zPy5jaGFydD8uZGlzcGxheUVycm9ycyAmJlxyXG4gICAgICBjYWNoZS5nZXRDYWNoZSgpLmFjdGl2ZU1hbmlmZXN0Lm1vZHVsZXMuZGVidWdnZXI7XHJcblxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKChkKSA9PiAod2luZG93Ll9kaXNwbGF5RXJyb3JzID0gZCksIGRpc3BsYXlFcnJvcnMpO1xyXG5cclxuICAgIGNvbnN0IHN2Z0JlbmNoID0gYmVuY2htYXJrKCdTVkcgaGFuZGxpbmcnKTtcclxuXHJcbiAgICBsZXQgaXNTVkc7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBjaGFydC5pbmRleE9mICYmXHJcbiAgICAgIChjaGFydC5pbmRleE9mKCc8c3ZnJykgPj0gMCB8fCBjaGFydC5pbmRleE9mKCc8P3htbCcpID49IDApXHJcbiAgICApIHtcclxuICAgICAgLy8gU1ZHIElOUFVUIEhBTkRMSU5HXHJcblxyXG4gICAgICBsb2coNCwgJ1tleHBvcnRdIFRyZWF0aW5nIGFzIFNWRy4nKTtcclxuXHJcbiAgICAgIC8vIElmIGlucHV0IGlzIGFsc28gc3ZnLCBqdXN0IHJldHVybiBpdFxyXG4gICAgICBpZiAoZXhwb3J0T3B0aW9ucy50eXBlID09PSAnc3ZnJykge1xyXG4gICAgICAgIHJldHVybiBjaGFydDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXNTVkcgPSB0cnVlO1xyXG4gICAgICBjb25zdCBzZXRQYWdlQmVuY2ggPSBiZW5jaG1hcmsoJ1NldHRpbmcgY29udGVudCcpO1xyXG4gICAgICBhd2FpdCBwYWdlLnNldENvbnRlbnQoc3ZnVGVtcGxhdGUoY2hhcnQpKTtcclxuICAgICAgc2V0UGFnZUJlbmNoKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBKU09OIENvbmZpZyBoYW5kbGluZ1xyXG5cclxuICAgICAgbG9nKDQsICdbZXhwb3J0XSBUcmVhdGluZyBhcyBjb25maWcuJyk7XHJcblxyXG4gICAgICAvLyBOZWVkIHRvIHBlcmZvcm0gc3RyYWlnaHQgaW5qZWN0XHJcbiAgICAgIGlmIChleHBvcnRPcHRpb25zLnN0ckluaikge1xyXG4gICAgICAgIC8vIEluamVjdGlvbiBiYXNlZCBjb25maWd1cmF0aW9uIGV4cG9ydFxyXG4gICAgICAgIGNvbnN0IHNldFBhZ2VCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyBwYWdlIGNvbnRlbnQgKGluamVjdCknKTtcclxuXHJcbiAgICAgICAgYXdhaXQgc2V0QXNDb25maWcoXHJcbiAgICAgICAgICBwYWdlLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBjaGFydDoge1xyXG4gICAgICAgICAgICAgIGhlaWdodDogZXhwb3J0T3B0aW9ucy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IGV4cG9ydE9wdGlvbnMud2lkdGhcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG9wdGlvbnNcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBzZXRQYWdlQmVuY2goKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBCYXNpYyBjb25maWd1cmF0aW9uIGV4cG9ydFxyXG5cclxuICAgICAgICBjaGFydC5jaGFydC5oZWlnaHQgPSBleHBvcnRPcHRpb25zLmhlaWdodDtcclxuICAgICAgICBjaGFydC5jaGFydC53aWR0aCA9IGV4cG9ydE9wdGlvbnMud2lkdGg7XHJcblxyXG4gICAgICAgIGNvbnN0IHNldENvbnRlbnRCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyBwYWdlIGNvbnRlbnQgKGNvbmZpZyknKTtcclxuICAgICAgICBhd2FpdCBzZXRBc0NvbmZpZyhwYWdlLCBjaGFydCwgb3B0aW9ucyk7XHJcbiAgICAgICAgc2V0Q29udGVudEJlbmNoKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdmdCZW5jaCgpO1xyXG4gICAgY29uc3QgcmVzQmVuY2ggPSBiZW5jaG1hcmsoJ0FwcGx5aW5nIHJlc291cmNlcycpO1xyXG5cclxuICAgIC8vIFVzZSByZXNvdXJjZXNcclxuICAgIGNvbnN0IHJlc291cmNlcyA9IG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXM7XHJcbiAgICBpZiAocmVzb3VyY2VzKSB7XHJcbiAgICAgIC8vIExvYWQgY3VzdG9tIEpTIGNvZGVcclxuICAgICAgaWYgKHJlc291cmNlcy5qcykge1xyXG4gICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goXHJcbiAgICAgICAgICBhd2FpdCBwYWdlLmFkZFNjcmlwdFRhZyh7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlc291cmNlcy5qc1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMb2FkIHNjcmlwdHMgZnJvbSBhbGwgY3VzdG9tIGZpbGVzXHJcbiAgICAgIGlmIChyZXNvdXJjZXMuZmlsZXMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgcmVzb3VyY2VzLmZpbGVzKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBpc0xvY2FsID0gIWZpbGUuc3RhcnRzV2l0aCgnaHR0cCcpID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGVhY2ggY3VzdG9tIHNjcmlwdCBmcm9tIHJlc291cmNlcycgZmlsZXNcclxuICAgICAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcclxuICAgICAgICAgICAgICBhd2FpdCBwYWdlLmFkZFNjcmlwdFRhZyhcclxuICAgICAgICAgICAgICAgIGlzTG9jYWxcclxuICAgICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiByZWFkRmlsZVN5bmMoZmlsZSwgJ3V0ZjgnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB1cmw6IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBjYXRjaCAobm90aWNlKSB7XHJcbiAgICAgICAgICAgIGxvZyg0LCAnW2V4cG9ydF0gSlMgZmlsZSBub3QgZm91bmQuJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjc3NCZW5jaCA9IGJlbmNobWFyaygnTG9hZGluZyBjc3MnKTtcclxuXHJcbiAgICAgIC8vIExvYWQgQ1NTXHJcbiAgICAgIGlmIChyZXNvdXJjZXMuY3NzKSB7XHJcbiAgICAgICAgbGV0IGNzc0ltcG9ydHMgPSByZXNvdXJjZXMuY3NzLm1hdGNoKC9AaW1wb3J0XFxzKihbXjtdKik7L2cpO1xyXG4gICAgICAgIGlmIChjc3NJbXBvcnRzKSB7XHJcbiAgICAgICAgICAvLyBIYW5kbGUgY3NzIHNlY3Rpb25cclxuICAgICAgICAgIGZvciAobGV0IGNzc0ltcG9ydFBhdGggb2YgY3NzSW1wb3J0cykge1xyXG4gICAgICAgICAgICBpZiAoY3NzSW1wb3J0UGF0aCkge1xyXG4gICAgICAgICAgICAgIGNzc0ltcG9ydFBhdGggPSBjc3NJbXBvcnRQYXRoXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgndXJsKCcsICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ0BpbXBvcnQnLCAnJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICcnKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLzsvLCAnJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCkvZywgJycpXHJcbiAgICAgICAgICAgICAgICAudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBBZGQgZWFjaCBjdXN0b20gY3NzIGZyb20gcmVzb3VyY2VzXHJcbiAgICAgICAgICAgICAgaWYgKGNzc0ltcG9ydFBhdGguc3RhcnRzV2l0aCgnaHR0cCcpKSB7XHJcbiAgICAgICAgICAgICAgICBpbmplY3RlZFJlc291cmNlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBhd2FpdCBwYWdlLmFkZFN0eWxlVGFnKHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IGNzc0ltcG9ydFBhdGhcclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dGaWxlUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpbmplY3RlZFJlc291cmNlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICBhd2FpdCBwYWdlLmFkZFN0eWxlVGFnKHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLmpvaW4oX19iYXNlZGlyLCBjc3NJbXBvcnRQYXRoKVxyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSBDU1Mgc2VjdGlvbiB3aWxsIGJlIGNvbnRlbnQgYnkgbm93XHJcbiAgICAgICAgaW5qZWN0ZWRSZXNvdXJjZXMucHVzaChcclxuICAgICAgICAgIGF3YWl0IHBhZ2UuYWRkU3R5bGVUYWcoe1xyXG4gICAgICAgICAgICBjb250ZW50OiByZXNvdXJjZXMuY3NzLnJlcGxhY2UoL0BpbXBvcnRcXHMqKFteO10qKTsvZywgJycpIHx8ICcgJ1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjc3NCZW5jaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc0JlbmNoKCk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSByZWFsIGNoYXJ0IHNpemVcclxuICAgIGNvbnN0IHNpemUgPSBpc1NWR1xyXG4gICAgICA/IGF3YWl0IHBhZ2UuJGV2YWwoXHJcbiAgICAgICAgICAnI2NoYXJ0LWNvbnRhaW5lciBzdmc6Zmlyc3Qtb2YtdHlwZScsXHJcbiAgICAgICAgICBhc3luYyAoZWxlbWVudCwgc2NhbGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBjaGFydEhlaWdodDogZWxlbWVudC5oZWlnaHQuYmFzZVZhbC52YWx1ZSAqIHNjYWxlLFxyXG4gICAgICAgICAgICAgIGNoYXJ0V2lkdGg6IGVsZW1lbnQud2lkdGguYmFzZVZhbC52YWx1ZSAqIHNjYWxlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcGFyc2VGbG9hdChleHBvcnRPcHRpb25zLnNjYWxlKVxyXG4gICAgICAgIClcclxuICAgICAgOiBhd2FpdCBwYWdlLmV2YWx1YXRlKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgY29uc3QgeyBjaGFydEhlaWdodCwgY2hhcnRXaWR0aCB9ID0gd2luZG93LkhpZ2hjaGFydHMuY2hhcnRzWzBdO1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2hhcnRIZWlnaHQsXHJcbiAgICAgICAgICAgIGNoYXJ0V2lkdGhcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY29uc3QgdnBCZW5jaCA9IGJlbmNobWFyaygnU2V0dGluZyB2aWV3cG9ydCcpO1xyXG5cclxuICAgIC8vIFNldCBmaW5hbCBoZWlnaHQgYW5kIHdpZHRoIGZvciB2aWV3cG9ydFxyXG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBNYXRoLmNlaWwoc2l6ZT8uY2hhcnRIZWlnaHQgfHwgZXhwb3J0T3B0aW9ucy5oZWlnaHQpO1xyXG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IE1hdGguY2VpbChzaXplPy5jaGFydFdpZHRoIHx8IGV4cG9ydE9wdGlvbnMud2lkdGgpO1xyXG5cclxuICAgIC8vIFNldCB0aGUgdmlld3BvcnQgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAvLyBOT1RFOiB0aGUgY2FsbCB0byBzZXRWaWV3cG9ydCBpcyBleHBlbnNpdmUgLSBjYW4gd2UgZ2V0IGF3YXkgd2l0aCBvbmx5XHJcbiAgICAvLyBjYWxsaW5nIGl0IG9uY2UsIGUuZy4gbW92aW5nIHRoaXMgb25lIGludG8gdGhlIGlzU1ZHIGNvbmRpdGlvbiBiZWxvdz9cclxuICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQoe1xyXG4gICAgICBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0LFxyXG4gICAgICB3aWR0aDogdmlld3BvcnRXaWR0aCxcclxuICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IGlzU1ZHID8gMSA6IHBhcnNlRmxvYXQoZXhwb3J0T3B0aW9ucy5zY2FsZSlcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFByZXBhcmUgYSB6b29tIGNhbGxiYWNrIGZvciB0aGUgbmV4dCBldmFsdWF0ZSBjYWxsXHJcbiAgICBjb25zdCB6b29tQ2FsbGJhY2sgPSBpc1NWR1xyXG4gICAgICA/IC8vIEluIGNhc2Ugb2YgU1ZHIHRoZSB6b29tIG11c3QgYmUgc2V0IGRpcmVjdGx5IGZvciBib2R5XHJcbiAgICAgICAgKHNjYWxlKSA9PiB7XHJcbiAgICAgICAgICAvLyBTZXQgdGhlIHpvb20gYXMgc2NhbGVcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS56b29tID0gc2NhbGU7XHJcblxyXG4gICAgICAgICAgLy8gU2V0IHRoZSBtYXJnaW4gdG8gMHB4XHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gJzBweCc7XHJcbiAgICAgICAgfVxyXG4gICAgICA6IC8vIE5vIG5lZWQgZm9yIHN1Y2ggc2NhbGUgbWFuaXB1bGF0aW9uIGluIGNhc2Ugb2Ygb3RoZXIgdHlwZXMgb2YgZXhwb3J0c1xyXG4gICAgICAgICgpID0+IHtcclxuICAgICAgICAgIC8vIFJlc2V0IHRoZSB6b29tIGZvciBvdGhlciBleHBvcnRzIHRoYW4gdG8gU1ZHc1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSAxO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgLy8gU2V0IHRoZSB6b29tIGFjY29yZGluZ2x5XHJcbiAgICBhd2FpdCBwYWdlLmV2YWx1YXRlKHpvb21DYWxsYmFjaywgcGFyc2VGbG9hdChleHBvcnRPcHRpb25zLnNjYWxlKSk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBjbGlwIHJlZ2lvbiBmb3IgdGhlIHBhZ2VcclxuICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCwgeCwgeSB9ID0gYXdhaXQgZ2V0Q2xpcFJlZ2lvbihwYWdlKTtcclxuXHJcbiAgICBpZiAoIWlzU1ZHKSB7XHJcbiAgICAgIC8vIFNldCB0aGUgZmluYWwgdmlld3BvcnQgbm93IHRoYXQgd2UgaGF2ZSB0aGUgcmVhbCBoZWlnaHRcclxuICAgICAgYXdhaXQgcGFnZS5zZXRWaWV3cG9ydCh7XHJcbiAgICAgICAgd2lkdGg6IE1hdGgucm91bmQod2lkdGgpLFxyXG4gICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQpLFxyXG4gICAgICAgIGRldmljZVNjYWxlRmFjdG9yOiBwYXJzZUZsb2F0KGV4cG9ydE9wdGlvbnMuc2NhbGUpXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHZwQmVuY2goKTtcclxuXHJcbiAgICBsZXQgZGF0YTtcclxuXHJcbiAgICBjb25zdCBleHBCZW5jaG1hcmsgPSBiZW5jaG1hcmsoJ1Jhc3Rlcml6aW5nIGNoYXJ0Jyk7XHJcblxyXG4gICAgLy8gUkFTVEVSSVpBVElPTlxyXG4gICAgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgLy8gU1ZHXHJcbiAgICAgIGRhdGEgPSBhd2FpdCBjcmVhdGVTVkcocGFnZSk7XHJcbiAgICB9IGVsc2UgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3BuZycgfHwgZXhwb3J0T3B0aW9ucy50eXBlID09PSAnanBlZycpIHtcclxuICAgICAgLy8gUE5HIG9yIEpQRUdcclxuICAgICAgZGF0YSA9IGF3YWl0IGNyZWF0ZUltYWdlKFxyXG4gICAgICAgIHBhZ2UsXHJcbiAgICAgICAgZXhwb3J0T3B0aW9ucy50eXBlLFxyXG4gICAgICAgICdiYXNlNjQnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoLFxyXG4gICAgICAgICAgaGVpZ2h0OiB2aWV3cG9ydEhlaWdodCxcclxuICAgICAgICAgIHgsXHJcbiAgICAgICAgICB5XHJcbiAgICAgICAgfSxcclxuICAgICAgICBleHBvcnRPcHRpb25zLnJhc3Rlcml6YXRpb25UaW1lb3V0XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3BkZicpIHtcclxuICAgICAgLy8gUERGXHJcbiAgICAgIGRhdGEgPSBhd2FpdCBjcmVhdGVQREYocGFnZSwgdmlld3BvcnRIZWlnaHQsIHZpZXdwb3J0V2lkdGgsICdiYXNlNjQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IGBVbnN1cHBvcnRlZCBvdXRwdXQgZm9ybWF0ICR7ZXhwb3J0T3B0aW9ucy50eXBlfWA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVzdHJveSBvbGQgY2hhcnRzIGFmdGVyIHRoZSBleHBvcnQgaXMgZG9uZVxyXG4gICAgYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XHJcbiAgICAgIC8vIFdlIGFyZSBub3QgZ3VhcmFudGVlZCB0aGF0IEhpZ2hjaGFydHMgaXMgbG9hZGVkLCBlLGcsIHdoZW4gZG9pbmcgU1ZHXHJcbiAgICAgIC8vIGV4cG9ydHNcclxuICAgICAgaWYgKHR5cGVvZiBIaWdoY2hhcnRzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgIGNvbnN0IG9sZENoYXJ0cyA9IEhpZ2hjaGFydHMuY2hhcnRzO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpbiBhbnkgYWxyZWFkeSBleGlzdGluZyBjaGFydHNcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvbGRDaGFydHMpICYmIG9sZENoYXJ0cy5sZW5ndGgpIHtcclxuICAgICAgICAgIC8vIERlc3Ryb3kgb2xkIGNoYXJ0c1xyXG4gICAgICAgICAgZm9yIChjb25zdCBvbGRDaGFydCBvZiBvbGRDaGFydHMpIHtcclxuICAgICAgICAgICAgb2xkQ2hhcnQgJiYgb2xkQ2hhcnQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICAgICAgSGlnaGNoYXJ0cy5jaGFydHMuc2hpZnQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGV4cEJlbmNobWFyaygpO1xyXG4gICAgZXhwb3J0QmVuY2goKTtcclxuXHJcbiAgICBhd2FpdCBjbGVhckluamVjdGVkKHBhZ2UpO1xyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBhd2FpdCBjbGVhckluamVjdGVkKHBhZ2UpO1xyXG4gICAgbG9nKDEsIGBbZXhwb3J0XSBFcnJvciBlbmNvdW50ZXJlZCBkdXJpbmcgZXhwb3J0OiAke2Vycm9yfWApO1xyXG5cclxuICAgIHJldHVybiBlcnJvcjtcclxuICB9XHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIyLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5jb25zdCB0aW1lcnMgPSB7fTtcclxuXHJcbi8vIFRPRE86IFJlYWQgZnJvbSBjb25maWdcclxubGV0IGVuYWJsZWQgPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChpZCkgPT4ge1xyXG4gIGlmICghZW5hYmxlZCkge1xyXG4gICAgcmV0dXJuICgpID0+IHt9O1xyXG4gIH1cclxuXHJcbiAgdGltZXJzW2lkXSA9IG5ldyBEYXRlKCk7XHJcbiAgcmV0dXJuICgpID0+IHtcclxuICAgIGxvZyhcclxuICAgICAgMyxcclxuICAgICAgYFtiZW5jaG1hcmtdIC0gJHtpZH06ICR7bmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aW1lcnNbaWRdLmdldFRpbWUoKX1tc2BcclxuICAgICk7XHJcbiAgfTtcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgY3NzVGVtcGxhdGUgZnJvbSAnLi9jc3MuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKGNoYXJ0KSA9PiBgXHJcbjwhRE9DVFlQRSBodG1sPlxyXG48aHRtbCBsYW5nPSdlbi1VUyc+XHJcbiAgPGhlYWQ+XHJcbiAgICA8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD11dGYtOFwiPlxyXG4gICAgPHRpdGxlPkhpZ2hjYXJ0cyBFeHBvcnQ8L3RpdGxlPlxyXG4gIDwvaGVhZD5cclxuICA8c3R5bGU+XHJcbiAgICAke2Nzc1RlbXBsYXRlKCl9XHJcbiAgPC9zdHlsZT5cclxuICA8Ym9keT5cclxuICAgIDxkaXYgaWQ9XCJjaGFydC1jb250YWluZXJcIj5cclxuICAgICAgJHtjaGFydH1cclxuICAgIDwvZGl2PlxyXG4gIDwvYm9keT5cclxuPC9odG1sPlxyXG5cclxuYDtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XHJcbmltcG9ydCB7IFBvb2wgfSBmcm9tICd0YXJuJztcclxuaW1wb3J0IHtcclxuICBjbG9zZSxcclxuICBjcmVhdGUgYXMgY3JlYXRlQnJvd3NlcixcclxuICBuZXdQYWdlIGFzIGJyb3dzZXJOZXdQYWdlLFxyXG4gIGNsZWFyUGFnZVxyXG59IGZyb20gJy4vYnJvd3Nlci5qcyc7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuXHJcbmltcG9ydCBwdXBwZXRlZXJFeHBvcnQgZnJvbSAnLi9leHBvcnQuanMnO1xyXG5cclxubGV0IHBlcmZvcm1lZEV4cG9ydHMgPSAwO1xyXG5sZXQgZXhwb3J0QXR0ZW1wdHMgPSAwO1xyXG5sZXQgdGltZVNwZW50ID0gMDtcclxubGV0IGRyb3BwZWRFeHBvcnRzID0gMDtcclxubGV0IHNwZW50QXZlcmFnZSA9IDA7XHJcbmxldCBwb29sQ29uZmlnID0ge307XHJcblxyXG4vLyBUaGUgcG9vbCBpbnN0YW5jZVxyXG5sZXQgcG9vbCA9IGZhbHNlO1xyXG5cclxuLy8gQ3VzdG9tIHB1cHBldGVlciBhcmd1bWVudHNcclxubGV0IHB1cHBldGVlckFyZ3M7XHJcblxyXG5jb25zdCBmYWN0b3J5ID0ge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgd29ya2VyLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7b2JqZWN0fSAtIEFuIG9iamVjdCB3aXRoIHRoZSBpZCBvZiBhIHJlc291cmNlLCB0aGUgd29yayBjb3VudCBhbmRcclxuICAgKiBhIHJlZmVyZW5jZSB0byB0aGUgYnJvd3NlciBwYWdlLlxyXG4gICAqL1xyXG4gIGNyZWF0ZTogYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgaWQgPSB1dWlkKCk7XHJcbiAgICBsZXQgcGFnZSA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0IHMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBwYWdlID0gYXdhaXQgYnJvd3Nlck5ld1BhZ2UoKTtcclxuXHJcbiAgICAgIGlmICghcGFnZSB8fCBwYWdlLmlzQ2xvc2VkKCkpIHtcclxuICAgICAgICB0aHJvdyAnW3Bvb2xdIEludmFsaWQgcGFnZSc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxvZyhcclxuICAgICAgICAzLFxyXG4gICAgICAgIGBbcG9vbF0gU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYSB3b3JrZXIgJHtpZH0gLSB0b29rICR7XHJcbiAgICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNcclxuICAgICAgICB9IG1zLmBcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICAxLFxyXG4gICAgICAgIGBbcG9vbF0gRXJyb3IgY3JlYXRpbmcgYSBuZXcgcGFnZSBpbiBwb29sIGVudHJ5IGNyZWF0aW9uISAke2Vycm9yfWBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHRocm93ICdFcnJvciBjcmVhdGluZyBwYWdlJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZCxcclxuICAgICAgcGFnZSxcclxuICAgICAgLy8gVHJ5IHRvIGRpc3RyaWJ1dGUgdGhlIGluaXRpYWwgd29yayBjb3VudFxyXG4gICAgICB3b3JrQ291bnQ6IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChwb29sQ29uZmlnLndvcmtMaW1pdCAvIDIpKVxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZXMgYSB3b3JrZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gd29ya2VySGFuZGxlIC0gQSBicm93c2VyJ3MgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSAtIEJvb2wgdGhhdCBpbmRpY2F0ZXMgaWYgYSByZXNvdXJjZSBpcyB2YWxpZCBvciBub3QuXHJcbiAgICovXHJcbiAgdmFsaWRhdGU6IGFzeW5jICh3b3JrZXJIYW5kbGUpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgcG9vbENvbmZpZy53b3JrTGltaXQgJiZcclxuICAgICAgKyt3b3JrZXJIYW5kbGUud29ya0NvdW50ID4gcG9vbENvbmZpZy53b3JrTGltaXRcclxuICAgICkge1xyXG4gICAgICBsb2coXHJcbiAgICAgICAgMyxcclxuICAgICAgICBgW3Bvb2xdIFdvcmtlciBmYWlsZWQgdmFsaWRhdGlvbjpgLFxyXG4gICAgICAgIGBleGNlZWRlZCB3b3JrIGxpbWl0IChsaW1pdCBpcyAke3Bvb2xDb25maWcud29ya0xpbWl0fSlgXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhciBwYWdlXHJcbiAgICBhd2FpdCBjbGVhclBhZ2Uod29ya2VySGFuZGxlLnBhZ2UsIHRydWUpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveXMgYSB3b3JrZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gd29ya2VySGFuZGxlIC0gQSBicm93c2VyJ3MgaW5zdGFuY2UuXHJcbiAgICovXHJcbiAgZGVzdHJveTogKHdvcmtlckhhbmRsZSkgPT4ge1xyXG4gICAgbG9nKDMsIGBbcG9vbF0gRGVzdHJveWluZyBwb29sIGVudHJ5ICR7d29ya2VySGFuZGxlLmlkfS5gKTtcclxuXHJcbiAgICBpZiAod29ya2VySGFuZGxlLnBhZ2UpIHtcclxuICAgICAgLy8gV2UgZG9uJ3QgcmVhbGx5IG5lZWQgdG8gd2FpdCBhcm91bmQgZm9yIHRoaXMuXHJcbiAgICAgIHdvcmtlckhhbmRsZS5wYWdlLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gTG9nZ2VyIGZ1bmN0aW9uXHJcbiAgbG9nOiAobWVzc2FnZSwgbG9nTGV2ZWwpID0+IGNvbnNvbGUubG9nKGAke2xvZ0xldmVsfTogJHttZXNzYWdlfWApXHJcbn07XHJcblxyXG4vKipcclxuICogSW5pdHMgdGhlIHBvb2wgb2YgcmVzb3VyY2VzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gUG9vbCBjb25maWd1cmF0aW9uIGFsb25nIHdpdGggY3VzdG9tIHB1cHBldGVlclxyXG4gKiBhcmd1bWVudHMgZm9yIHRoZSBwdXBwZXRlZXIubGF1bmNoIGZ1bmN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGluaXQgPSBhc3luYyAoY29uZmlnKSA9PiB7XHJcbiAgLy8gVGhlIG5ld2VzdCBwdXBwZXRlZXIgYXJndW1lbnRzIGZvciB0aGUgYnJvd3NlciBjcmVhdGlvblxyXG4gIHB1cHBldGVlckFyZ3MgPSBjb25maWcucHVwcGV0ZWVyQXJncztcclxuXHJcbiAgLy8gV2FpdCB1bnRpbCB3ZSd2ZSBzdWNlc3NmdWxseSBjcmVhdGVkIGEgYnJvd3NlciBpbnN0YW5jZS5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgY3JlYXRlQnJvd3NlcihwdXBwZXRlZXJBcmdzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBsb2coMCwgJ1twb29sfGJyb3dzZXJdJywgZSk7XHJcbiAgfVxyXG5cclxuICAvLyBGb3IgdGhlIG1vZHVsZSBzY29wZSB1c2FnZVxyXG4gIHBvb2xDb25maWcgPSBjb25maWcgJiYgY29uZmlnLnBvb2wgPyB7IC4uLmNvbmZpZy5wb29sIH0gOiB7fTtcclxuXHJcbiAgbG9nKFxyXG4gICAgMyxcclxuICAgICdbcG9vbF0gSW5pdGlhbGl6aW5nIHBvb2w6JyxcclxuICAgIGBtaW4gJHtwb29sQ29uZmlnLm1pbldvcmtlcnN9LCBtYXggJHtwb29sQ29uZmlnLm1heFdvcmtlcnN9LmBcclxuICApO1xyXG5cclxuICBpZiAocG9vbCkge1xyXG4gICAgcmV0dXJuIGxvZyhcclxuICAgICAgNCxcclxuICAgICAgJ1twb29sXSBBbHJlYWR5IGluaXRpYWxpemVkLCBwbGVhc2Uga2lsbCBpdCBiZWZvcmUgY3JlYXRpbmcgYSBuZXcgb25lLidcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBBdHRhY2ggcHJvY2VzcycgZXhpdCBsaXN0ZW5lcnNcclxuICBpZiAocG9vbENvbmZpZy5saXN0ZW5Ub1Byb2Nlc3NFeGl0cykge1xyXG4gICAgYXR0YWNoUHJvY2Vzc0V4aXRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIGlmIChwYXJzZUludChwb29sQ29uZmlnLm1pbldvcmtlcnMpID4gcGFyc2VJbnQocG9vbENvbmZpZy5tYXhXb3JrZXJzKSkge1xyXG4gICAgcG9vbENvbmZpZy5taW5Xb3JrZXJzID0gcG9vbENvbmZpZy5tYXhXb3JrZXJzO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIENyZWF0ZSBhIHBvb2wgYWxvbmcgd2l0aCBhIG1pbmltYWwgbnVtYmVyIG9mIHJlc291cmNlc1xyXG4gICAgcG9vbCA9IG5ldyBQb29sKHtcclxuICAgICAgLy8gR2V0IHRoZSBjcmVhdGUvdmFsaWRhdGUvZGVzdHJveS9sb2cgZnVuY3Rpb25zXHJcbiAgICAgIC4uLmZhY3RvcnksXHJcbiAgICAgIG1pbjogcGFyc2VJbnQocG9vbENvbmZpZy5taW5Xb3JrZXJzKSxcclxuICAgICAgbWF4OiBwYXJzZUludChwb29sQ29uZmlnLm1heFdvcmtlcnMpLFxyXG4gICAgICBhY3F1aXJlVGltZW91dE1pbGxpczogcG9vbENvbmZpZy5hY3F1aXJlVGltZW91dCxcclxuICAgICAgY3JlYXRlVGltZW91dE1pbGxpczogcG9vbENvbmZpZy5jcmVhdGVUaW1lb3V0LFxyXG4gICAgICBkZXN0cm95VGltZW91dE1pbGxpczogcG9vbENvbmZpZy5kZXN0cm95VGltZW91dCxcclxuICAgICAgaWRsZVRpbWVvdXRNaWxsaXM6IHBvb2xDb25maWcuaWRsZVRpbWVvdXQsXHJcbiAgICAgIGNyZWF0ZVJldHJ5SW50ZXJ2YWxNaWxsaXM6IHBvb2xDb25maWcuY3JlYXRlUmV0cnlJbnRlcnZhbCxcclxuICAgICAgcmVhcEludGVydmFsTWlsbGlzOiBwb29sQ29uZmlnLnJlYXBlckludGVydmFsLFxyXG4gICAgICBwcm9wYWdhdGVDcmVhdGVFcnJvcjogZmFsc2VcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNldCBldmVudHNcclxuICAgIHBvb2wub24oJ2NyZWF0ZUZhaWwnLCAoZXZlbnRJZCwgZXJyKSA9PiB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICAxLFxyXG4gICAgICAgIGBbcG9vbF0gRXJyb3Igd2hlbiBjcmVhdGluZyB3b3JrZXIgb2YgYW4gZXZlbnQgaWQgJHtldmVudElkfTpgLFxyXG4gICAgICAgIGVyclxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcG9vbC5vbignYWNxdWlyZUZhaWwnLCAoZXZlbnRJZCwgZXJyKSA9PiB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICAxLFxyXG4gICAgICAgIGBbcG9vbF0gRXJyb3Igd2hlbiBhY3F1aXJpbmcgd29ya2VyIG9mIGFuIGV2ZW50IGlkICR7ZXZlbnRJZH06YCxcclxuICAgICAgICBlcnJcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHBvb2wub24oJ2Rlc3Ryb3lGYWlsJywgKGV2ZW50SWQsIHJlc291cmNlLCBlcnIpID0+IHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgYFtwb29sXSBFcnJvciB3aGVuIGRlc3Ryb3lpbmcgd29ya2VyIG9mIGFuIGlkICR7cmVzb3VyY2UuaWR9LCBldmVudCBpZCAke2V2ZW50SWR9OmAsXHJcbiAgICAgICAgZXJyXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwb29sLm9uKCdyZWxlYXNlJywgYXN5bmMgKHJlc291cmNlKSA9PiB7XHJcbiAgICAgIC8vIENsZWFyIHBhZ2VcclxuICAgICAgYXdhaXQgY2xlYXJQYWdlKHJlc291cmNlLnBhZ2UsIGZhbHNlKTtcclxuICAgICAgbG9nKDQsIGBbcG9vbF0gUmVsZWFzaW5nIGEgd29ya2VyIG9mIGFuIGlkICR7cmVzb3VyY2UuaWR9YCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwb29sLm9uKCdkZXN0cm95U3VjY2VzcycsIChldmVudElkLCByZXNvdXJjZSkgPT4ge1xyXG4gICAgICBsb2coNCwgYFtwb29sXSBEZXN0cm95ZWQgYSB3b3JrZXIgb2YgYW4gaWQgJHtyZXNvdXJjZS5pZH1gKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGluaXRpYWxSZXNvdXJjZXMgPSBbXTtcclxuICAgIC8vIENyZWF0ZSBhbiBpbml0aWFsIG51bWJlciBvZiByZXNvdXJjZXNcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9vbENvbmZpZy5taW5Xb3JrZXJzOyBpKyspIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNvdXJjZSA9IGF3YWl0IHBvb2wuYWNxdWlyZSgpLnByb21pc2U7XHJcbiAgICAgICAgaW5pdGlhbFJlc291cmNlcy5wdXNoKHJlc291cmNlKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBsb2coMSwgYFtwb29sXSBDb3VsZG4ndCBjcmVhdGUgYW4gaW5pdGlhbCByZXNvdXJjZSAke2Vycm9yfWApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVsZWFzZSB0aGUgaW5pdGlhbCBudW1iZXIgb2YgcmVzb3VyY2VzIGJhY2sgdG8gdGhlIHBvb2xcclxuICAgIGluaXRpYWxSZXNvdXJjZXMuZm9yRWFjaCgocmVzb3VyY2UpID0+IHtcclxuICAgICAgcG9vbC5yZWxlYXNlKHJlc291cmNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxvZyhcclxuICAgICAgMyxcclxuICAgICAgYFtwb29sXSBUaGUgcG9vbCBpcyByZWFkeSB3aXRoICR7cG9vbENvbmZpZy5taW5Xb3JrZXJzfSBpbml0aWFsIHJlc291cmNlcyB3YWl0aW5nLmBcclxuICAgICk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZygxLCBgW3Bvb2xdIENvdWxkbid0IGNyZWF0ZSB0aGUgd29ya2VyIHBvb2wgJHtlcnJvcn1gKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBBdHRhY2hlcyBwcm9jZXNzJyBleGl0IGxpc3RlbmVycy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hQcm9jZXNzRXhpdExpc3RlbmVycygpIHtcclxuICBsb2coNCwgJ1twb29sXSBBdHRhY2hpbmcgZXhpdCBsaXN0ZW5lcnMgdG8gdGhlIHByb2Nlc3MuJyk7XHJcblxyXG4gIC8vIEtpbGwgYWxsIHBvb2wgcmVzb3VyY2VzIG9uIGV4aXRcclxuICBwcm9jZXNzLm9uKCdleGl0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQga2lsbFBvb2woKTtcclxuICB9KTtcclxuXHJcbiAgLy8gSGFuZGxlciBmb3IgdGhlIFNJR0lOVFxyXG4gIHByb2Nlc3Mub24oJ1NJR0lOVCcsIChuYW1lLCBjb2RlKSA9PiB7XHJcbiAgICBsb2coNCwgYFRoZSAke25hbWV9IGV2ZW50IHdpdGggY29kZTogJHtjb2RlfS5gKTtcclxuICAgIHByb2Nlc3MuZXhpdCgxKTtcclxuICB9KTtcclxuXHJcbiAgLy8gSGFuZGxlciBmb3IgdGhlIFNJR1RFUk1cclxuICBwcm9jZXNzLm9uKCdTSUdURVJNJywgKG5hbWUsIGNvZGUpID0+IHtcclxuICAgIGxvZyg0LCBgVGhlICR7bmFtZX0gZXZlbnQgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xyXG4gICAgcHJvY2Vzcy5leGl0KDEpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBIYW5kbGVyIGZvciB0aGUgdW5jYXVnaHRFeGNlcHRpb25cclxuICBwcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIGFzeW5jIChlcnJvciwgbmFtZSkgPT4ge1xyXG4gICAgbG9nKDQsIGBUaGUgJHtuYW1lfSBlcnJvciwgbWVzc2FnZTogJHtlcnJvci5tZXNzYWdlfS5gKTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEtpbGxzIHRoZSBwb29sIGFuZCBmbHVzaCB0aGUgYnJvd3NlciBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBraWxsUG9vbCgpIHtcclxuICBsb2coMywgJ1twb29sXSBLaWxsaW5nIGFsbCB3b3JrZXJzLicpO1xyXG5cclxuICAvLyBSZXR1cm4gdHJ1ZSB3aGVuIHRoZSBwb29sIGlzIGFscmVhZHkgZGVzdHJveWVkXHJcbiAgaWYgKHBvb2wuZGVzdHJveWVkKSB7XHJcbiAgICAvLyBDbG9zZSB0aGUgYnJvd3NlciBpbnN0YW5jZSBpZiBzdGlsbCBjb25uZWN0ZWRcclxuICAgIGF3YWl0IGNsb3NlKCk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIElmIHN0aWxsIGFsaXZlLCBkZXN0cm95IHRoZSBwb29sIG9mIHBhZ2VzIGJlZm9yZSBjbG9zaW5nIGEgYnJvd3NlclxyXG4gIGF3YWl0IHBvb2wuZGVzdHJveSgpO1xyXG5cclxuICAvLyBDbG9zZSB0aGUgYnJvd3NlciBpbnN0YW5jZVxyXG4gIGF3YWl0IGNsb3NlKCk7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQb3N0cyB3b3JrIHRvIHRoZSBwb29sLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY2hhcnQgLSBDaGFydCdzIG9wdGlvbnMuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHBvc3RXb3JrID0gYXN5bmMgKGNoYXJ0LCBvcHRpb25zKSA9PiB7XHJcbiAgbGV0IHdvcmtlckhhbmRsZTtcclxuXHJcbiAgLy8gSGFuZGxlIGZhaWwgY29uZGl0aW9uc1xyXG4gIGNvbnN0IGZhaWwgPSAobXNnKSA9PiB7XHJcbiAgICArK2Ryb3BwZWRFeHBvcnRzO1xyXG5cclxuICAgIGlmICh3b3JrZXJIYW5kbGUpIHtcclxuICAgICAgcG9vbC5yZWxlYXNlKHdvcmtlckhhbmRsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3cgJ0luIHBvb2wucG9zdFdvcms6ICcgKyBtc2c7XHJcbiAgfTtcclxuXHJcbiAgbG9nKDQsICdbcG9vbF0gV29yayByZWNlaXZlZCwgc3RhcnRpbmcgdG8gcHJvY2Vzcy4nKTtcclxuXHJcbiAgaWYgKHBvb2xDb25maWcuYmVuY2htYXJraW5nKSB7XHJcbiAgICBnZXRQb29sSW5mbygpO1xyXG4gIH1cclxuXHJcbiAgKytleHBvcnRBdHRlbXB0cztcclxuXHJcbiAgaWYgKCFwb29sKSB7XHJcbiAgICBsb2coMSwgJ1twb29sXSBXb3JrIHJlY2VpdmVkLCBidXQgcG9vbCBoYXMgbm90IGJlZW4gc3RhcnRlZC4nKTtcclxuICAgIHJldHVybiBmYWlsKCdQb29sIGlzIG5vdCBpbml0ZWQgYnV0IHdvcmsgd2FzIHBvc3RlZCB0byBpdCEnKTtcclxuICB9XHJcblxyXG4gIC8vIEFjcXVpcmUgdGhlIHdvcmtlciBhbG9uZyB3aXRoIHRoZSBpZCBvZiByZXNvdXJjZSBhbmQgd29yayBjb3VudFxyXG4gIHRyeSB7XHJcbiAgICBsb2coNCwgJ1twb29sXSBBY3F1aXJpbmcgd29ya2VyJyk7XHJcbiAgICB3b3JrZXJIYW5kbGUgPSBhd2FpdCBwb29sLmFjcXVpcmUoKS5wcm9taXNlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gZmFpbChgW3Bvb2xdIEVycm9yIHdoZW4gYWNxdWlyaW5nIGF2YWlsYWJsZSBlbnRyeTogJHtlcnJvcn1gKTtcclxuICB9XHJcblxyXG4gIGxvZyg0LCAnW3Bvb2xdIEFjcXVpcmVkIHdvcmtlciBoYW5kbGUnKTtcclxuXHJcbiAgaWYgKCF3b3JrZXJIYW5kbGUucGFnZSkge1xyXG4gICAgcmV0dXJuIGZhaWwoJ1Jlc29sdmVkIHdvcmtlciBwYWdlIGlzIGludmFsaWQ6IHBvb2wgc2V0dXAgaXMgd29ua3knKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBTYXZlIHRoZSBzdGFydCB0aW1lXHJcbiAgICBsZXQgd29ya1N0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgbG9nKDQsIGBbcG9vbF0gU3RhcnRpbmcgd29yayBvbiBwb29sIGVudHJ5ICR7d29ya2VySGFuZGxlLmlkfS5gKTtcclxuXHJcbiAgICAvLyBQZXJmb3JtIGFuIGV4cG9ydCBvbiBhIHB1cHBldGVlciBsZXZlbFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVwcGV0ZWVyRXhwb3J0KHdvcmtlckhhbmRsZS5wYWdlLCBjaGFydCwgb3B0aW9ucyk7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgaXQncyBhbiBlcnJvclxyXG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgIC8vIFRPRE86IElmIHRoZSBleHBvcnQgZmFpbGVkIGJlY2F1c2UgcHVwcGV0ZWVyIHRpbWVkIG91dCwgd2UgbmVlZCB0byBmb3JjZSBraWxsIHRoZSB3b3JrZXIgc28gd2UgZ2V0IGEgbmV3IHBhZ2UuIFRoYXQgbmVlZHMgdG8gYmUgaGFuZGxlZCBiZXR0ZXIgdGhhbiB0aGlzIGhhY2suXHJcbiAgICAgIGlmIChyZXN1bHQubWVzc2FnZSA9PT0gJ1Jhc3Rlcml6YXRpb24gdGltZW91dCcpIHtcclxuICAgICAgICB3b3JrZXJIYW5kbGUucGFnZS5jbG9zZSgpO1xyXG4gICAgICAgIHdvcmtlckhhbmRsZS5wYWdlID0gYXdhaXQgYnJvd3Nlck5ld1BhZ2UoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhaWwocmVzdWx0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWxlYXNlIHRoZSByZXNvdXJjZSBiYWNrIHRvIHRoZSBwb29sXHJcbiAgICBwb29sLnJlbGVhc2Uod29ya2VySGFuZGxlKTtcclxuXHJcbiAgICAvLyBVc2VkIGZvciBzdGF0aXN0aWNzIGluIGF2ZXJhZ2VUaW1lIGFuZCBwcm9jZXNzZWRXb3JrQ291bnQsIHdoaWNoXHJcbiAgICAvLyBpbiB0dXJuIGlzIHVzZWQgYnkgdGhlIC9oZWFsdGggcm91dGUuXHJcbiAgICBjb25zdCB3b3JrRW5kID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICBjb25zdCBleHBvcnRUaW1lID0gd29ya0VuZCAtIHdvcmtTdGFydDtcclxuICAgIHRpbWVTcGVudCArPSBleHBvcnRUaW1lO1xyXG4gICAgc3BlbnRBdmVyYWdlID0gdGltZVNwZW50IC8gKytwZXJmb3JtZWRFeHBvcnRzO1xyXG5cclxuICAgIGxvZyg0LCBgW3Bvb2xdIFdvcmsgY29tcGxldGVkIGluICR7ZXhwb3J0VGltZX0gbXMuYCk7XHJcblxyXG4gICAgLy8gT3RoZXJ3aXNlIHJldHVybiB0aGUgcmVzdWx0XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIG9wdGlvbnNcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGZhaWwoYEVycm9yIHRyeWluZyB0byBwZXJmb3JtIHB1cHBldGVlciBleHBvcnQ6ICR7ZXJyb3J9LmApO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBwb29sLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvb2woKSB7XHJcbiAgcmV0dXJuIHBvb2w7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQb29sSW5mb0pTT04gPSAoKSA9PiAoe1xyXG4gIG1pbjogcG9vbC5taW4sXHJcbiAgbWF4OiBwb29sLm1heCxcclxuICBzaXplOiBwb29sLnNpemUsXHJcbiAgYXZhaWxhYmxlOiBwb29sLmF2YWlsYWJsZSxcclxuICBib3Jyb3dlZDogcG9vbC5ib3Jyb3dlZCxcclxuICBwZW5kaW5nOiBwb29sLnBlbmRpbmcsXHJcbiAgc3BhcmVSZXNvdXJjZUNhcGFjaXR5OiBwb29sLnNwYXJlUmVzb3VyY2VDYXBhY2l0eVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBwb29sJ3MgaW5mb3JtYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9vbEluZm8oKSB7XHJcbiAgY29uc3Qge1xyXG4gICAgbWluLFxyXG4gICAgbWF4LFxyXG4gICAgc2l6ZSxcclxuICAgIGF2YWlsYWJsZSxcclxuICAgIGJvcnJvd2VkLFxyXG4gICAgcGVuZGluZyxcclxuICAgIHNwYXJlUmVzb3VyY2VDYXBhY2l0eVxyXG4gIH0gPSBwb29sO1xyXG5cclxuICBsb2coNCwgYFtwb29sXSBUaGUgbWluaW11bSBudW1iZXIgb2YgcmVzb3VyY2VzIGFsbG93ZWQgYnkgcG9vbDogJHttaW59LmApO1xyXG4gIGxvZyg0LCBgW3Bvb2xdIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXNvdXJjZXMgYWxsb3dlZCBieSBwb29sOiAke21heH0uYCk7XHJcbiAgbG9nKFxyXG4gICAgNCxcclxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiBhbGwgcmVzb3VyY2VzIGluIHBvb2wgKGZyZWUgb3IgaW4gdXNlKTogJHtzaXplfS5gXHJcbiAgKTtcclxuICBsb2coXHJcbiAgICA0LFxyXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0aGF0IGFyZSBjdXJyZW50bHkgYXZhaWxhYmxlOiAke2F2YWlsYWJsZX0uYFxyXG4gICk7XHJcbiAgbG9nKFxyXG4gICAgNCxcclxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdGhhdCBhcmUgY3VycmVudGx5IGFjcXVpcmVkOiAke2JvcnJvd2VkfS5gXHJcbiAgKTtcclxuICBsb2coXHJcbiAgICA0LFxyXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIGNhbGxlcnMgd2FpdGluZyB0byBhY3F1aXJlIGEgcmVzb3VyY2U6ICR7cGVuZGluZ30uYFxyXG4gICk7XHJcbiAgbG9nKFxyXG4gICAgNCxcclxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiBob3cgbWFueSBtb3JlIHJlc291cmNlcyBjYW4gdGhlIHBvb2wgbWFuYWdlL2NyZWF0ZTogJHtzcGFyZVJlc291cmNlQ2FwYWNpdHl9LmBcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgaW5pdCxcclxuICBraWxsUG9vbCxcclxuICBwb3N0V29yayxcclxuICBnZXRQb29sLFxyXG4gIGdldFBvb2xJbmZvLFxyXG4gIGdldFBvb2xJbmZvSlNPTixcclxuICB3b3JrQXR0ZW1wdHM6ICgpID0+IGV4cG9ydEF0dGVtcHRzLFxyXG4gIGRyb3BwZWRXb3JrOiAoKSA9PiBkcm9wcGVkRXhwb3J0cyxcclxuICBhdmVyYWdlVGltZTogKCkgPT4gc3BlbnRBdmVyYWdlLFxyXG4gIHByb2Nlc3NlZFdvcmtDb3VudDogKCkgPT4gcGVyZm9ybWVkRXhwb3J0c1xyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCBjYWNoZSBmcm9tICcuLi8uLi9jYWNoZS5qcyc7XHJcbmltcG9ydCBwb29sIGZyb20gJy4uLy4uL3Bvb2wuanMnO1xyXG5cclxuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgeyBfX2Rpcm5hbWUgfSBmcm9tICcuLy4uLy4uL3V0aWxzLmpzJztcclxuaW1wb3J0IHsgam9pbiBhcyBwYXRoZXIgfSBmcm9tICdwYXRoJztcclxuXHJcbmNvbnN0IHBrZ0ZpbGUgPSBKU09OLnBhcnNlKFxyXG4gICAgcmVhZEZpbGVTeW5jKHBhdGhlcihfX2Rpcm5hbWUsICdwYWNrYWdlLmpzb24nKSlcclxuICApO1xyXG5cclxuY29uc3Qgc2VydmVyU3RhcnRUaW1lID0gbmV3IERhdGUoKTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIHRoZSAvaGVhbHRoIHJvdXRlIHdoaWNoIG91dHB1dHMgYmFzaWMgc3RhdHMgZm9yIHRoZSBzZXJ2ZXJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChhcHApID0+XHJcbiAgIWFwcFxyXG4gICAgPyBmYWxzZVxyXG4gICAgOiBhcHAuZ2V0KCcvaGVhbHRoJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgICAgICBzdGF0dXM6ICdPSycsXHJcbiAgICAgICAgICBib290VGltZTogc2VydmVyU3RhcnRUaW1lLFxyXG4gICAgICAgICAgdXB0aW1lOlxyXG4gICAgICAgICAgICBNYXRoLmZsb29yKFxyXG4gICAgICAgICAgICAgIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNlcnZlclN0YXJ0VGltZS5nZXRUaW1lKCkpIC8gMTAwMCAvIDYwXHJcbiAgICAgICAgICAgICkgKyAnIG1pbnV0ZXMnLFxyXG4gICAgICAgICAgdmVyc2lvbjogcGtnRmlsZS52ZXJzaW9uLFxyXG4gICAgICAgICAgaGlnaGNoYXJ0c1ZlcnNpb246IGNhY2hlLnZlcnNpb24oKSxcclxuICAgICAgICAgIGF2ZXJhZ2VQcm9jZXNzaW5nVGltZTogcG9vbC5hdmVyYWdlVGltZSgpLFxyXG4gICAgICAgICAgcGVyZm9ybWVkRXhwb3J0czogcG9vbC5wcm9jZXNzZWRXb3JrQ291bnQoKSxcclxuICAgICAgICAgIGZhaWxlZEV4cG9ydHM6IHBvb2wuZHJvcHBlZFdvcmsoKSxcclxuICAgICAgICAgIGV4cG9ydEF0dGVtcHRzOiBwb29sLndvcmtBdHRlbXB0cygpLFxyXG4gICAgICAgICAgc3VjZXNzUmF0aW86IChwb29sLnByb2Nlc3NlZFdvcmtDb3VudCgpIC8gcG9vbC53b3JrQXR0ZW1wdHMoKSkgKiAxMDAsXHJcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLW5hbWVkLWFzLWRlZmF1bHQtbWVtYmVyXHJcbiAgICAgICAgICBwb29sOiBwb29sLmdldFBvb2xJbmZvSlNPTigpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyMywgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCB7IGV4aXN0c1N5bmMsIHJlYWRGaWxlU3luYywgcHJvbWlzZXMgYXMgZnNQcm9taXNlcyB9IGZyb20gJ2ZzJztcclxuXHJcbmltcG9ydCBwcm9tcHRzIGZyb20gJ3Byb21wdHMnO1xyXG5cclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5pbXBvcnQgeyBkZWVwQ29weSwgaXNPYmplY3QsIHByaW50VXNhZ2UsIHRvQm9vbGVhbiB9IGZyb20gJy4vdXRpbHMuanMnO1xyXG5pbXBvcnQge1xyXG4gIGFic29sdXRlUHJvcHMsXHJcbiAgZGVmYXVsdENvbmZpZyxcclxuICBuZXN0ZWRBcmdzLFxyXG4gIHByb21wdHNDb25maWdcclxufSBmcm9tICcuL3NjaGVtYXMvY29uZmlnLmpzJztcclxuXHJcbmxldCBnZW5lcmFsT3B0aW9ucyA9IHt9O1xyXG5cclxuLyoqXHJcbiAqIEdldHRlciBmb3IgdGhlIGdlbmVyYWwgb3B0aW9ucy5cclxuICpcclxuICogQHJldHVybiB7b2JqZWN0fSAtIEdlbmVyYWwgb3B0aW9ucyBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0T3B0aW9ucyA9ICgpID0+IGdlbmVyYWxPcHRpb25zO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemVzIGFuZCBzZXRzIHRoZSBnZW5lcmFsIG9wdGlvbnMgZm9yIHRoZSBzZXJ2ZXIgaW5zdGFjZS5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IHVzZXJPcHRpb25zIC0gQWRkaXRpb25hbCB1c2VyIG9wdGlvbnMgKGUuZy4gZnJvbSB0aGUgbm9kZVxyXG4gKiBtb2R1bGUgdXNhZ2UpLlxyXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcmdzIC0gQ0xJIGFyZ3VtZW50cy5cclxuICogQHJldHVybiB7b2JqZWN0fSAtIEdlbmVyYWwgb3B0aW9ucyBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2V0T3B0aW9ucyA9ICh1c2VyT3B0aW9ucywgYXJncykgPT4ge1xyXG4gIC8vIE9ubHkgZm9yIHRoZSBDTEkgdXNhZ2VcclxuICBpZiAoYXJncz8ubGVuZ3RoKSB7XHJcbiAgICAvLyBHZXQgdGhlIGFkZGl0aW9uYWwgb3B0aW9ucyBmcm9tIHRoZSBjdXN0b20gSlNPTiBmaWxlXHJcbiAgICBnZW5lcmFsT3B0aW9ucyA9IGxvYWRDb25maWdGaWxlKGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIHRoZSBkZWZhdWx0IGNvbmZpZyB3aXRoIGEgY29ycmVjdCBvcHRpb24gdmFsdWVzXHJcbiAgdXBkYXRlRGVmYXVsdENvbmZpZyhkZWZhdWx0Q29uZmlnLCBnZW5lcmFsT3B0aW9ucyk7XHJcblxyXG4gIC8vIFNldCB2YWx1ZXMgZm9yIHNlcnZlcidzIG9wdGlvbnMgYW5kIHJldHVybnMgdGhlbVxyXG4gIGdlbmVyYWxPcHRpb25zID0gaW5pdE9wdGlvbnMoZGVmYXVsdENvbmZpZyk7XHJcblxyXG4gIC8vIEFwcGx5IHVzZXIgb3B0aW9ucyBpZiB0aGVyZSBhcmUgYW55XHJcbiAgaWYgKHVzZXJPcHRpb25zKSB7XHJcbiAgICAvLyBNZXJnZSB1c2VyIG9wdGlvbnNcclxuICAgIGdlbmVyYWxPcHRpb25zID0gbWVyZ2VDb25maWdPcHRpb25zKFxyXG4gICAgICBnZW5lcmFsT3B0aW9ucyxcclxuICAgICAgdXNlck9wdGlvbnMsXHJcbiAgICAgIGFic29sdXRlUHJvcHNcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBPbmx5IGZvciB0aGUgQ0xJIHVzYWdlXHJcbiAgaWYgKGFyZ3M/Lmxlbmd0aCkge1xyXG4gICAgLy8gUGFpciBwcm92aWRlZCBhcmd1bWVudHNcclxuICAgIGdlbmVyYWxPcHRpb25zID0gcGFpckFyZ3VtZW50VmFsdWUoZ2VuZXJhbE9wdGlvbnMsIGFyZ3MsIGRlZmF1bHRDb25maWcpO1xyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIGZpbmFsIGdlbmVyYWwgb3B0aW9uc1xyXG4gIHJldHVybiBnZW5lcmFsT3B0aW9ucztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBEaXNwbGF5cyBhIHByb21wdCBmb3IgdGhlIG1hbnVhbCBjb25maWd1cmF0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnRmlsZU5hbWUgLSBUaGUgbmFtZSBvZiBhIGNvbmZpZ3VyYXRpb24gZmlsZS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBtYW51YWxDb25maWcgPSBhc3luYyAoY29uZmlnRmlsZU5hbWUpID0+IHtcclxuICAvLyBQcmVwYXJlIGEgY29uZmlnIG9iamVjdFxyXG4gIGxldCBjb25maWdGaWxlID0ge307XHJcblxyXG4gIC8vIENoZWNrIGlmIHByb3ZpZGVkIGNvbmZpZyBmaWxlIGV4aXN0c1xyXG4gIGlmIChleGlzdHNTeW5jKGNvbmZpZ0ZpbGVOYW1lKSkge1xyXG4gICAgY29uZmlnRmlsZSA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGNvbmZpZ0ZpbGVOYW1lLCAndXRmOCcpKTtcclxuICB9XHJcblxyXG4gIC8vIFF1ZXN0aW9uIGFib3V0IGEgY29uZmlndXJhdGlvbiBjYXRlZ29yeVxyXG4gIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKHAsIGNhdGVnb3JpZXMpID0+IHtcclxuICAgIGxldCBxdWVzdGlvbnNDb3VudGVyID0gMDtcclxuICAgIGxldCBhbGxRdWVzdGlvbnMgPSBbXTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IGluIHRoZSBtYW51YWxDb25maWcgb2JqZWN0XHJcbiAgICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgY2F0ZWdvcmllcykge1xyXG4gICAgICAvLyBNYXJrIGVhY2ggb3B0aW9uIHdpdGggYSBzZWN0aW9uXHJcbiAgICAgIHByb21wdHNDb25maWdbc2VjdGlvbl0gPSBwcm9tcHRzQ29uZmlnW3NlY3Rpb25dLm1hcCgob3B0aW9uKSA9PiAoe1xyXG4gICAgICAgIC4uLm9wdGlvbixcclxuICAgICAgICBzZWN0aW9uXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIC8vIENvbGxlY3QgdGhlIHF1ZXN0aW9uc1xyXG4gICAgICBhbGxRdWVzdGlvbnMgPSBbLi4uYWxsUXVlc3Rpb25zLCAuLi5wcm9tcHRzQ29uZmlnW3NlY3Rpb25dXTtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBwcm9tcHRzKGFsbFF1ZXN0aW9ucywge1xyXG4gICAgICBvblN1Ym1pdDogYXN5bmMgKHByb21wdCwgYW5zd2VyKSA9PiB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBkZWZhdWx0IG1vZHVsZXNcclxuICAgICAgICBpZiAocHJvbXB0Lm5hbWUgPT09ICdtb2R1bGVzJykge1xyXG4gICAgICAgICAgYW5zd2VyID0gYW5zd2VyLmxlbmd0aFxyXG4gICAgICAgICAgICA/IGFuc3dlci5tYXAoKG1vZHVsZSkgPT4gcHJvbXB0LmNob2ljZXNbbW9kdWxlXSlcclxuICAgICAgICAgICAgOiBwcm9tcHQuY2hvaWNlcztcclxuXHJcbiAgICAgICAgICBjb25maWdGaWxlW3Byb21wdC5zZWN0aW9uXVtwcm9tcHQubmFtZV0gPSBhbnN3ZXI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbmZpZ0ZpbGVbcHJvbXB0LnNlY3Rpb25dID0gcmVjdXJzaXZlUHJvcHMoXHJcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZ0ZpbGVbcHJvbXB0LnNlY3Rpb25dIHx8IHt9KSxcclxuICAgICAgICAgICAgcHJvbXB0Lm5hbWUuc3BsaXQoJy4nKSxcclxuICAgICAgICAgICAgYW5zd2VyXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCsrcXVlc3Rpb25zQ291bnRlciA9PT0gYWxsUXVlc3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgZnNQcm9taXNlcy53cml0ZUZpbGUoXHJcbiAgICAgICAgICAgICAgY29uZmlnRmlsZU5hbWUsXHJcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY29uZmlnRmlsZSwgbnVsbCwgMiksXHJcbiAgICAgICAgICAgICAgJ3V0ZjgnXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBsb2coMSwgYFtjb25maWddIEVycm9yIHdoaWxlIGNyZWF0aW5nIGNvbmZpZy5qc29uOiAke2Vycm9yfWApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG5cclxuICAvLyBGaW5kIHRoZSBjYXRlZ29yaWVzXHJcbiAgY29uc3QgY2hvaWNlcyA9IE9iamVjdC5rZXlzKHByb21wdHNDb25maWcpLm1hcCgoY2hvaWNlKSA9PiAoe1xyXG4gICAgdGl0bGU6IGAke2Nob2ljZX0gb3B0aW9uc2AsXHJcbiAgICB2YWx1ZTogY2hvaWNlXHJcbiAgfSkpO1xyXG5cclxuICAvLyBDYXRlZ29yeSBwcm9tcHRcclxuICByZXR1cm4gcHJvbXB0cyhcclxuICAgIHtcclxuICAgICAgdHlwZTogJ211bHRpc2VsZWN0JyxcclxuICAgICAgbmFtZTogJ2NhdGVnb3J5JyxcclxuICAgICAgbWVzc2FnZTogJ1doaWNoIGNhdGVnb3J5IGRvIHlvdSB3YW50IHRvIGNvbmZpZ3VyZT8nLFxyXG4gICAgICBoaW50OiAnU3BhY2U6IFNlbGVjdCBzcGVjaWZpYywgQTogU2VsZWN0IGFsbCwgRW50ZXI6IENvbmZpcm0uJyxcclxuICAgICAgaW5zdHJ1Y3Rpb25zOiAnJyxcclxuICAgICAgY2hvaWNlc1xyXG4gICAgfSxcclxuICAgIHsgb25TdWJtaXQgfVxyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICogTWFwcyB0aGUgb2xkIG9wdGlvbnMgdG8gdGhlIG5ldyBjb25maWcgc3RydWN0dXJlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gb2xkT3B0aW9ucyAtIE9wdGlvbnMgdG8gYmUgbWFwcGVkLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1hcFRvTmV3Q29uZmlnID0gKG9sZE9wdGlvbnMpID0+IHtcclxuICBjb25zdCBuZXdPcHRpb25zID0ge307XHJcbiAgLy8gQ3ljbGUgdGhyb3VnaCBvbGQtc3RydWN0dXJlZCBvcHRpb25zXHJcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob2xkT3B0aW9ucykpIHtcclxuICAgIGNvbnN0IHByb3BlcnRpZXNDaGFpbiA9IG5lc3RlZEFyZ3Nba2V5XSA/IG5lc3RlZEFyZ3Nba2V5XS5zcGxpdCgnLicpIDogW107XHJcblxyXG4gICAgLy8gUG9wdWxhdGUgb2JqZWN0IGluIGNvcnJlY3QgcHJvcGVydGllcyBsZXZlbHNcclxuICAgIHByb3BlcnRpZXNDaGFpbi5yZWR1Y2UoXHJcbiAgICAgIChvYmosIHByb3AsIGluZGV4KSA9PlxyXG4gICAgICAgIChvYmpbcHJvcF0gPVxyXG4gICAgICAgICAgcHJvcGVydGllc0NoYWluLmxlbmd0aCAtIDEgPT09IGluZGV4ID8gdmFsdWUgOiBvYmpbcHJvcF0gfHwge30pLFxyXG4gICAgICBuZXdPcHRpb25zXHJcbiAgICApO1xyXG4gIH1cclxuICByZXR1cm4gbmV3T3B0aW9ucztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNZXJnZXMgdGhlIG5ldyBvcHRpb25zIHRvIHRoZSBvcHRpb25zIG9iamVjdC4gSXQgb21pdHMgdW5kZWZpbmVkIHZhbHVlcy5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBPbGQgb3B0aW9ucy5cclxuICogQHBhcmFtIHtvYmplY3R9IG5ld09wdGlvbnMgLSBOZXcgb3B0aW9ucy5cclxuICogQHBhcmFtIHtzdHJpbmdbXX0gYWJzb2x1dGVQcm9wcyAtIEFycmF5IG9mIG9iamVjdCBuYW1lcyB0aGF0IHNob3VsZCBiZSBmb3JjZVxyXG4gKiBtZXJnZWQuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWVyZ2VDb25maWdPcHRpb25zID0gKG9wdGlvbnMsIG5ld09wdGlvbnMsIGFic29sdXRlUHJvcHMgPSBbXSkgPT4ge1xyXG4gIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBkZWVwQ29weShvcHRpb25zKTtcclxuXHJcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobmV3T3B0aW9ucykpIHtcclxuICAgIG1lcmdlZE9wdGlvbnNba2V5XSA9XHJcbiAgICAgIGlzT2JqZWN0KHZhbHVlKSAmJlxyXG4gICAgICAhYWJzb2x1dGVQcm9wcy5pbmNsdWRlcyhrZXkpICYmXHJcbiAgICAgIG1lcmdlZE9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyBtZXJnZUNvbmZpZ09wdGlvbnMobWVyZ2VkT3B0aW9uc1trZXldLCB2YWx1ZSwgYWJzb2x1dGVQcm9wcylcclxuICAgICAgICA6IHZhbHVlICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgOiBtZXJnZWRPcHRpb25zW2tleV07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWVyZ2VkT3B0aW9ucztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplcyBvcHRpb25zIGZvciB0aGUgYHN0YXJ0RXhwb3J0YCBtZXRob2QgYnkgbWVyZ2luZyB1c2VyIG9wdGlvbnNcclxuICogd2l0aCB0aGUgZ2VuZXJhbCBvcHRpb25zLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueX0gZXhwb3J0T3B0aW9ucyAtIFVzZXIgb3B0aW9ucyBmb3IgZXhwb3J0aW5nLlxyXG4gKiBAcGFyYW0ge2FueX0gZ2VuZXJhbE9wdGlvbnMgLSBHZW5lcmFsIG9wdGlvbnMgYXJlIHVzZWQgZm9yIHRoZSBleHBvcnQgc2VydmVyLlxyXG4gKiBAcmV0dXJuIHtvYmplY3R9IC0gVXNlciBvcHRpb25zIG1lcmdlZCB3aXRoIGRlZmF1bHQgb3B0aW9ucy5cclxuICovXHJcbmV4cG9ydCBjb25zdCBpbml0RXhwb3J0U2V0dGluZ3MgPSAoZXhwb3J0T3B0aW9ucywgZ2VuZXJhbE9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gIGxldCBvcHRpb25zID0ge307XHJcblxyXG4gIGlmIChleHBvcnRPcHRpb25zLnN2Zykge1xyXG4gICAgb3B0aW9ucyA9IGRlZXBDb3B5KGdlbmVyYWxPcHRpb25zKTtcclxuICAgIG9wdGlvbnMuZXhwb3J0LnR5cGUgPSBleHBvcnRPcHRpb25zLnR5cGUgfHwgZXhwb3J0T3B0aW9ucy5leHBvcnQudHlwZTtcclxuICAgIG9wdGlvbnMuZXhwb3J0LnNjYWxlID0gZXhwb3J0T3B0aW9ucy5zY2FsZSB8fCBleHBvcnRPcHRpb25zLmV4cG9ydC5zY2FsZTtcclxuICAgIG9wdGlvbnMuZXhwb3J0Lm91dGZpbGUgPVxyXG4gICAgICBleHBvcnRPcHRpb25zLm91dGZpbGUgfHwgZXhwb3J0T3B0aW9ucy5leHBvcnQub3V0ZmlsZTtcclxuICAgIG9wdGlvbnMucGF5bG9hZCA9IHtcclxuICAgICAgc3ZnOiBleHBvcnRPcHRpb25zLnN2Z1xyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgb3B0aW9ucyA9IG1lcmdlQ29uZmlnT3B0aW9ucyhcclxuICAgICAgZ2VuZXJhbE9wdGlvbnMsXHJcbiAgICAgIGV4cG9ydE9wdGlvbnMsXHJcbiAgICAgIC8vIE9taXQgZ29pbmcgZG93biByZWN1cnNpdmVseSB3aXRoIHRoZSBiZWxvd3NcclxuICAgICAgYWJzb2x1dGVQcm9wc1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wdGlvbnMuZXhwb3J0Lm91dGZpbGUgPVxyXG4gICAgb3B0aW9ucy5leHBvcnQ/Lm91dGZpbGUgfHwgYGNoYXJ0LiR7b3B0aW9ucy5leHBvcnQ/LnR5cGUgfHwgJ3BuZyd9YDtcclxuICByZXR1cm4gb3B0aW9ucztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBMb2FkcyB0aGUgY29uZmlndXJhdGlvbiBmcm9tIGEgY3VzdG9tIEpTT04gZmlsZS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmdbXX0gYXJncyAtIENMSSBhcmd1bWVudHMuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBPcHRpb25zIG9iamVjdCBmcm9tIHRoZSBKU09OIGZpbGUuXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2FkQ29uZmlnRmlsZShhcmdzKSB7XHJcbiAgLy8gQ2hlY2sgaWYgdGhlIC0tbG9hZENvbmZpZyBvcHRpb24gd2FzIHVzZWRcclxuICBjb25zdCBjb25maWdJbmRleCA9IGFyZ3MuZmluZEluZGV4KFxyXG4gICAgKGFyZykgPT4gYXJnLnJlcGxhY2UoLy0vZywgJycpID09PSAnbG9hZENvbmZpZydcclxuICApO1xyXG5cclxuICAvLyBDaGVjayBpZiB0aGUgLS1sb2FkQ29uZmlnIGhhcyBhIHZhbHVlXHJcbiAgaWYgKGNvbmZpZ0luZGV4ID4gLTEgJiYgYXJnc1tjb25maWdJbmRleCArIDFdKSB7XHJcbiAgICBjb25zdCBmaWxlTmFtZSA9IGFyZ3NbY29uZmlnSW5kZXggKyAxXTtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENoZWNrIGlmIGFuIGFkZGl0aW9uYWwgY29uZmlnIGZpbGUgaXMgYSBjb3JyZWN0IEpTT04gZmlsZVxyXG4gICAgICBpZiAoZmlsZU5hbWUgJiYgZmlsZU5hbWUuZW5kc1dpdGgoJy5qc29uJykpIHtcclxuICAgICAgICAvLyBMb2FkIGFuIG9wdGlvbmFsIGN1c3RvbSBKU09OIGNvbmZpZyBmaWxlXHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKGZpbGVOYW1lKSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZygxLCBgW2NvbmZpZ10gVW5hYmxlIHRvIGxvYWQgY29uZmlnIGZyb20gdGhlICR7ZmlsZU5hbWV9OiAke2Vycm9yfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTm8gYWRkaXRpb25hbCBvcHRpb25zIHRvIHJldHVyblxyXG4gIHJldHVybiB7fTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldHRpbmcgY29ycmVjdCB2YWx1ZXMgb2YgdGhlIG9wdGlvbnMgZnJvbSB0aGUgZGVmYXVsdCBjb25maWcuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWdPYmogLSBUaGUgY29uZmlnIG9iamVjdCBiYXNlZCBvbiB3aGljaCB0aGUgaW5pdGlhbFxyXG4gKiBjb25maWd1cmF0aW9uIGJlIG1hZGUuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBjdXN0b21PYmogLSBUaGUgY3VzdG9tIG9iamVjdCB3aGljaCBjYW4gY29udGFpbiBhZGRpdGlvbmFsXHJcbiAqIG9wdGlvbiB2YWx1ZXMgdG8gc2V0LlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcENoYWluIC0gUmVxdWlyZWQgZm9yIGNyZWF0aW5nIGEgc3RyaW5nIGNoYWluIG9mXHJcbiAqIHByb3BlcnRpZXMgZm9yIG5lc3RlZCBhcmd1bWVudHMuXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVEZWZhdWx0Q29uZmlnKGNvbmZpZ09iaiwgY3VzdG9tT2JqID0ge30sIHByb3BDaGFpbiA9ICcnKSB7XHJcbiAgT2JqZWN0LmtleXMoY29uZmlnT2JqKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgIGNvbnN0IGVudHJ5ID0gY29uZmlnT2JqW2tleV07XHJcbiAgICBjb25zdCBjdXN0b21WYWx1ZSA9IGN1c3RvbU9iaiAmJiBjdXN0b21PYmpba2V5XTtcclxuICAgIGxldCBudW1FbnZWYWw7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBlbnRyeS52YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgdXBkYXRlRGVmYXVsdENvbmZpZyhlbnRyeSwgY3VzdG9tVmFsdWUsIGAke3Byb3BDaGFpbn0uJHtrZXl9YCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBJZiBhIHZhbHVlIGZyb20gYSBjdXN0b20gSlNPTiBleGlzdHMsIGl0IHRha2UgcHJlY2VkZW5jZVxyXG4gICAgICBpZiAoY3VzdG9tVmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGVudHJ5LnZhbHVlID0gY3VzdG9tVmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIGEgdmFsdWUgZnJvbSBhbiBlbnYgdmFyaWFibGUgZXhpc3RzLCBpdCB0YWtlIHByZWNlZGVuY2VcclxuICAgICAgaWYgKGVudHJ5LmVudkxpbmspIHtcclxuICAgICAgICAvLyBMb2FkIHRoZSBlbnYgdmFyXHJcbiAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgZW50cnkudmFsdWUgPSB0b0Jvb2xlYW4oXHJcbiAgICAgICAgICAgIFtwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXSwgZW50cnkudmFsdWVdLmZpbmQoXHJcbiAgICAgICAgICAgICAgKGVsKSA9PiBlbCB8fCBlbCA9PT0gJ2ZhbHNlJ1xyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZW50cnkudHlwZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgIG51bUVudlZhbCA9ICtwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXTtcclxuICAgICAgICAgIGVudHJ5LnZhbHVlID0gbnVtRW52VmFsID49IDAgPyBudW1FbnZWYWwgOiBlbnRyeS52YWx1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVudHJ5LnR5cGUuaW5kZXhPZignXScpID49IDAgJiYgcHJvY2Vzcy5lbnZbZW50cnkuZW52TGlua10pIHtcclxuICAgICAgICAgIGVudHJ5LnZhbHVlID0gcHJvY2Vzcy5lbnZbZW50cnkuZW52TGlua10uc3BsaXQoJywnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZW50cnkudmFsdWUgPSBwcm9jZXNzLmVudltlbnRyeS5lbnZMaW5rXSB8fCBlbnRyeS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRzIG9wdGlvbnMgcmVjdXJzaXZlbHkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55fSBpdGVtcyAtIEl0ZW1zIHRvIHVwZGF0ZSBvcHRpb25zIGZyb20uXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBVcGRhdGVkIG9wdGlvbnMgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdE9wdGlvbnMoaXRlbXMpIHtcclxuICBsZXQgb3B0aW9ucyA9IHt9O1xyXG4gIGZvciAoY29uc3QgW25hbWUsIGl0ZW1dIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW1zKSkge1xyXG4gICAgb3B0aW9uc1tuYW1lXSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpdGVtLCAndmFsdWUnKVxyXG4gICAgICA/IGl0ZW0udmFsdWVcclxuICAgICAgOiBpbml0T3B0aW9ucyhpdGVtKTtcclxuICB9XHJcbiAgcmV0dXJuIG9wdGlvbnM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYWlycyBhcmd1bWVudCB3aXRoIGEgY29ycmVzcG9uZGluZyB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgc2VydmVyIG9wdGlvbnMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFyZ3MgLSBBcnJheSBvZiBhcmd1bWVudHMgZnJvbSBhIHVzZXIuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBkZWZhdWx0Q29uZmlnIC0gVGhlIGRlZmF1bHQgY29uZmlnIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHBhaXJBcmd1bWVudFZhbHVlKG9wdGlvbnMsIGFyZ3MsIGRlZmF1bHRDb25maWcpIHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBvcHRpb24gPSBhcmdzW2ldLnJlcGxhY2UoLy0vZywgJycpO1xyXG5cclxuICAgIC8vIEZpbmQgdGhlIHJpZ2h0IHBsYWNlIGZvciBwcm9wZXJ0eSdzIHZhbHVlXHJcbiAgICBjb25zdCBwcm9wZXJ0aWVzQ2hhaW4gPSBuZXN0ZWRBcmdzW29wdGlvbl1cclxuICAgICAgPyBuZXN0ZWRBcmdzW29wdGlvbl0uc3BsaXQoJy4nKVxyXG4gICAgICA6IFtdO1xyXG5cclxuICAgIHByb3BlcnRpZXNDaGFpbi5yZWR1Y2UoKG9iaiwgcHJvcCwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKHByb3BlcnRpZXNDaGFpbi5sZW5ndGggLSAxID09PSBpbmRleCkge1xyXG4gICAgICAgIC8vIEZpbmRzIGFuIG9wdGlvbiBhbmQgc2V0IGEgY29ycmVzcG9uZGluZyB2YWx1ZVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgaWYgKGFyZ3NbKytpXSkge1xyXG4gICAgICAgICAgICBvYmpbcHJvcF0gPSBhcmdzW2ldIHx8IG9ialtwcm9wXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNaXNzaW5nIGFyZ3VtZW50IHZhbHVlIGZvciAke29wdGlvbn0hYC5yZWQsICdcXG4nKTtcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHByaW50VXNhZ2UoZGVmYXVsdENvbmZpZyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvYmpbcHJvcF07XHJcbiAgICB9LCBvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBvcHRpb25zO1xyXG59XHJcblxyXG4vKipcclxuICogUmVjdXJzaXZlbHkgc2V0cyBhIHByb3BlcnR5IGluIGEgY29ycmVjdCBpbmRlbnRhdGlvbiBsZXZlbCBiYXNlZCBvbiB0aGVcclxuICogYXJyYXkgb2YgbmVzdGVkIHByb3BlcnRpZXMgbmFtZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3RUb1VwZGF0ZSAtIE9iamVjdCB3aGVyZSBhIHByb3BlcnR5IG11c3QgYmUgc2V0IG9uIGFcclxuICogY29ycmVjdCBsZXZlbC5cclxuICogQHBhcmFtICB7c3RyaW5nW119bmVzdGVkTmFtZXMgLSBBcnJheSBvZiBuYXN0ZWQgbmFtZXMgdGhhdCBpbmRpY2F0ZXNcclxuICogaW5kZW50YXRpb24gbGV2ZWwuXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSAtIEEgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBwcm9wZXJ0eS5cclxuICogQHJldHVybiB7b2JqZWN0fSAtIFVwZGF0ZWQgb3B0aW9ucyBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWN1cnNpdmVQcm9wcyhvYmplY3RUb1VwZGF0ZSwgbmVzdGVkTmFtZXMsIHZhbHVlKSB7XHJcbiAgd2hpbGUgKG5lc3RlZE5hbWVzLmxlbmd0aCA+IDEpIHtcclxuICAgIGNvbnN0IHByb3BOYW1lID0gbmVzdGVkTmFtZXMuc2hpZnQoKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBwcm9wZXJ0eSBpbiBvYmplY3QgaWYgaXQgZG9lc24ndCBleGlzdFxyXG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0VG9VcGRhdGUsIHByb3BOYW1lKSkge1xyXG4gICAgICBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0gPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxsIGZ1bmN0aW9uIGFnYWluIGlmIHRoZXJlIHN0aWxsIG5hbWVzIHRvIGdvXHJcbiAgICBvYmplY3RUb1VwZGF0ZVtwcm9wTmFtZV0gPSByZWN1cnNpdmVQcm9wcyhcclxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0VG9VcGRhdGVbcHJvcE5hbWVdKSxcclxuICAgICAgbmVzdGVkTmFtZXMsXHJcbiAgICAgIHZhbHVlXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBvYmplY3RUb1VwZGF0ZTtcclxuICB9XHJcblxyXG4gIC8vIEFzc2lnbiB0aGUgZmluYWwgdmFsdWVcclxuICBvYmplY3RUb1VwZGF0ZVtuZXN0ZWROYW1lc1swXV0gPSB2YWx1ZTtcclxuICByZXR1cm4gb2JqZWN0VG9VcGRhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBnZXRPcHRpb25zLFxyXG4gIHNldE9wdGlvbnMsXHJcbiAgbWFudWFsQ29uZmlnLFxyXG4gIG1hcFRvTmV3Q29uZmlnLFxyXG4gIG1lcmdlQ29uZmlnT3B0aW9ucyxcclxuICBpbml0RXhwb3J0U2V0dGluZ3NcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyByZWFkRmlsZSwgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jIH0gZnJvbSAnZnMnO1xyXG5cclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5pbXBvcnQgeyBraWxsUG9vbCwgcG9zdFdvcmsgfSBmcm9tICcuL3Bvb2wuanMnO1xyXG5pbXBvcnQge1xyXG4gIGNsZWFyVGV4dCxcclxuICBmaXhUeXBlLFxyXG4gIGhhbmRsZVJlc291cmNlcyxcclxuICBpc0NvcnJlY3RKU09OLFxyXG4gIG9wdGlvbnNTdHJpbmdpZnksXHJcbiAgcm91bmROdW1iZXIsXHJcbiAgdG9Cb29sZWFuLFxyXG4gIHdyYXBBcm91bmRcclxufSBmcm9tICcuL3V0aWxzLmpzJztcclxuaW1wb3J0IHsgaW5pdEV4cG9ydFNldHRpbmdzLCBnZXRPcHRpb25zIH0gZnJvbSAnLi9jb25maWcuanMnO1xyXG5cclxubGV0IGFsbG93Q29kZUV4ZWN1dGlvbiA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN0YXJ0RXhwb3J0ID0gYXN5bmMgKHNldHRpbmdzLCBlbmRDYWxsYmFjaykgPT4ge1xyXG4gIC8vIFN0YXJ0aW5nIGV4cG9ydGluZyBwcm9jZXNzIG1lc3NhZ2VcclxuICBsb2coNCwgJ1tjaGFydF0gU3RhcnRpbmcgZXhwb3J0aW5nIHByb2Nlc3MuJyk7XHJcblxyXG4gIC8vIEluaXRpYWxpemUgb3B0aW9uc1xyXG4gIGNvbnN0IG9wdGlvbnMgPSBpbml0RXhwb3J0U2V0dGluZ3Moc2V0dGluZ3MsIGdldE9wdGlvbnMoKSk7XHJcblxyXG4gIC8vIEdldCB0aGUgZXhwb3J0IG9wdGlvbnNcclxuICBjb25zdCBleHBvcnRPcHRpb25zID0gb3B0aW9ucy5leHBvcnQ7XHJcblxyXG4gIC8vIElmIFNWRyBpcyBhbiBpbnB1dCAoYXJndW1lbnQgY2FuIGJlIHNlbnQgb25seSBieSB0aGUgcmVxdWVzdClcclxuICBpZiAob3B0aW9ucy5wYXlsb2FkPy5zdmcgJiYgb3B0aW9ucy5wYXlsb2FkLnN2ZyAhPT0gJycpIHtcclxuICAgIHJldHVybiBleHBvcnRBc1N0cmluZyhvcHRpb25zLnBheWxvYWQuc3ZnLnRyaW0oKSwgb3B0aW9ucywgZW5kQ2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLy8gRXhwb3J0IHVzaW5nIG9wdGlvbnMgZnJvbSB0aGUgZmlsZVxyXG4gIGlmIChleHBvcnRPcHRpb25zLmluZmlsZSAmJiBleHBvcnRPcHRpb25zLmluZmlsZS5sZW5ndGgpIHtcclxuICAgIGxvZyg0LCAnW2NoYXJ0XSBBdHRlbXB0aW5nIHRvIGV4cG9ydCBmcm9tIGFuIGlucHV0IGZpbGUuJyk7XHJcblxyXG4gICAgLy8gVHJ5IHRvIHJlYWQgdGhlIGZpbGVcclxuICAgIHJldHVybiByZWFkRmlsZShleHBvcnRPcHRpb25zLmluZmlsZSwgJ3V0ZjgnLCAoZXJyb3IsIGluZmlsZSkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gbG9nKDEsIGBbY2hhcnRdIEVycm9yIGxvYWRpbmcgaW5wdXQgZmlsZTogJHtlcnJvcn0uYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uXHJcbiAgICAgIG9wdGlvbnMuZXhwb3J0Lmluc3RyID0gaW5maWxlO1xyXG4gICAgICByZXR1cm4gZXhwb3J0QXNTdHJpbmcob3B0aW9ucy5leHBvcnQuaW5zdHIudHJpbSgpLCBvcHRpb25zLCBlbmRDYWxsYmFjayk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEV4cG9ydCB3aXRoIG9wdGlvbnMgZnJvbSB0aGUgcmF3IHJlcHJlc2VudGF0aW9uXHJcbiAgaWYgKFxyXG4gICAgKGV4cG9ydE9wdGlvbnMuaW5zdHIgJiYgZXhwb3J0T3B0aW9ucy5pbnN0ciAhPT0gJycpIHx8XHJcbiAgICAoZXhwb3J0T3B0aW9ucy5vcHRpb25zICYmIGV4cG9ydE9wdGlvbnMub3B0aW9ucyAhPT0gJycpXHJcbiAgKSB7XHJcbiAgICBsb2coNCwgJ1tjaGFydF0gQXR0ZW1wdGluZyB0byBleHBvcnQgZnJvbSBhIHJhdyBpbnB1dC4nKTtcclxuXHJcbiAgICAvLyBQZXJmb3JtIGEgZGlyZWN0IGluamVjdCB3aGVuIGZvcmNlZFxyXG4gICAgaWYgKHRvQm9vbGVhbihvcHRpb25zLmN1c3RvbUNvZGU/LmFsbG93Q29kZUV4ZWN1dGlvbikpIHtcclxuICAgICAgcmV0dXJuIGRvU3RyYWlnaHRJbmplY3Qob3B0aW9ucywgZW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVpdGhlciB0cnkgdG8gcGFyc2UgdG8gSlNPTiBmaXJzdCBvciBkbyB0aGUgZGlyZWN0IGV4cG9ydFxyXG4gICAgcmV0dXJuIHR5cGVvZiBleHBvcnRPcHRpb25zLmluc3RyID09PSAnc3RyaW5nJ1xyXG4gICAgICA/IGV4cG9ydEFzU3RyaW5nKGV4cG9ydE9wdGlvbnMuaW5zdHIudHJpbSgpLCBvcHRpb25zLCBlbmRDYWxsYmFjaylcclxuICAgICAgOiBkb0V4cG9ydChcclxuICAgICAgICAgIG9wdGlvbnMsXHJcbiAgICAgICAgICBleHBvcnRPcHRpb25zLmluc3RyIHx8IGV4cG9ydE9wdGlvbnMub3B0aW9ucyxcclxuICAgICAgICAgIGVuZENhbGxiYWNrXHJcbiAgICAgICAgKTtcclxuICB9XHJcblxyXG4gIC8vIE5vIGlucHV0IHNwZWNpZmllZCwgcGFzcyBhbiBlcnJvciBtZXNzYWdlIHRvIHRoZSBjYWxsYmFja1xyXG4gIGxvZyhcclxuICAgIDEsXHJcbiAgICBjbGVhclRleHQoXHJcbiAgICAgIGBbY2hhcnRdIE5vIGlucHV0IHNwZWNpZmllZC5cclxuICAgICAgJHtKU09OLnN0cmluZ2lmeShleHBvcnRPcHRpb25zLCB1bmRlZmluZWQsICcgICcpfS5gXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIGVuZENhbGxiYWNrICYmXHJcbiAgICBlbmRDYWxsYmFjayhmYWxzZSwge1xyXG4gICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ05vIGlucHV0IHNwZWNpZmllZC4nXHJcbiAgICB9KVxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYmF0Y2hFeHBvcnQgPSAob3B0aW9ucykgPT4ge1xyXG4gIGNvbnN0IGJhdGNoRnVuY3Rpb25zID0gW107XHJcblxyXG4gIC8vIFNwbGl0IGFuZCBwYWlyIHRoZSAtLWJhdGNoIGFyZ3VtZW50c1xyXG4gIGZvciAobGV0IHBhaXIgb2Ygb3B0aW9ucy5leHBvcnQuYmF0Y2guc3BsaXQoJzsnKSkge1xyXG4gICAgcGFpciA9IHBhaXIuc3BsaXQoJz0nKTtcclxuICAgIGlmIChwYWlyLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICBiYXRjaEZ1bmN0aW9ucy5wdXNoKFxyXG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIHN0YXJ0RXhwb3J0KFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICAgICAgICBleHBvcnQ6IHtcclxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuZXhwb3J0LFxyXG4gICAgICAgICAgICAgICAgaW5maWxlOiBwYWlyWzBdLFxyXG4gICAgICAgICAgICAgICAgb3V0ZmlsZTogcGFpclsxXVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKGluZm8sIGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgYmFzZTY0IGZyb20gYSBidWZmZXIgdG8gYSBjb3JyZWN0IGltYWdlIGZpbGVcclxuICAgICAgICAgICAgICB3cml0ZUZpbGVTeW5jKFxyXG4gICAgICAgICAgICAgICAgaW5mby5vcHRpb25zLmV4cG9ydC5vdXRmaWxlLFxyXG4gICAgICAgICAgICAgICAgQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JylcclxuICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEtpbGwgdGhlIHBvb2wgYWZ0ZXIgYWxsIGV4cG9ydHMgYXJlIGRvbmVcclxuICBQcm9taXNlLmFsbChiYXRjaEZ1bmN0aW9ucylcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAga2lsbFBvb2woKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgIGxvZygxLCBgW2NoYXJ0XSBFcnJvciBlbmNvdW50ZXJlZCBkdXJpbmcgYmF0Y2ggZXhwb3J0OiAke2Vycm9yfWApO1xyXG4gICAgICBraWxsUG9vbCgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2luZ2xlRXhwb3J0ID0gKG9wdGlvbnMpID0+IHtcclxuICAvLyBVc2UgaW5zdHIgb3IgaXRzIGFsaWFzLCBvcHRpb25zXHJcbiAgb3B0aW9ucy5leHBvcnQuaW5zdHIgPSBvcHRpb25zLmV4cG9ydC5pbnN0ciB8fCBvcHRpb25zLmV4cG9ydC5vcHRpb25zO1xyXG5cclxuICAvLyBQZXJmb3JtIGFuIGV4cG9ydFxyXG4gIHN0YXJ0RXhwb3J0KG9wdGlvbnMsIChpbmZvLCBlcnJvcikgPT4ge1xyXG4gICAgLy8gRXhpdCBwcm9jZXNzIHdoZW4gZXJyb3JcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBsb2coMSwgYFtjbGldICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgcHJvY2Vzcy5leGl0KDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgb3V0ZmlsZSwgdHlwZSB9ID0gaW5mby5vcHRpb25zLmV4cG9ydDtcclxuXHJcbiAgICAvLyBTYXZlIHRoZSBiYXNlNjQgZnJvbSBhIGJ1ZmZlciB0byBhIGNvcnJlY3QgaW1hZ2UgZmlsZVxyXG4gICAgd3JpdGVGaWxlU3luYyhcclxuICAgICAgb3V0ZmlsZSB8fCBgY2hhcnQuJHt0eXBlfWAsXHJcbiAgICAgIHR5cGUgIT09ICdzdmcnID8gQnVmZmVyLmZyb20oaW5mby5kYXRhLCAnYmFzZTY0JykgOiBpbmZvLmRhdGFcclxuICAgICk7XHJcblxyXG4gICAgLy8gS2lsbCB0aGUgcG9vbFxyXG4gICAga2lsbFBvb2woKTtcclxuICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiBmb3IgY2hvb3NpbmcgY2hhcnQgc2l6ZSBhbmQgc2NhbGUgYmFzZWQgb24gb3B0aW9ucyBwcmlvcml0aXphdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbGwgb3B0aW9ucyBvYmplY3QuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gLSBBbiBvYmplY3Qgd2l0aCB1cGRhdGVkIHNpemUgYW5kIHNjYWxlIGZvciBhIGNoYXJ0LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGZpbmRDaGFydFNpemUgPSAob3B0aW9ucykgPT4ge1xyXG4gIGNvbnN0IHsgY2hhcnQsIGV4cG9ydGluZyB9ID1cclxuICAgIG9wdGlvbnMuZXhwb3J0Py5vcHRpb25zIHx8IGlzQ29ycmVjdEpTT04ob3B0aW9ucy5leHBvcnQ/Lmluc3RyKTtcclxuXHJcbiAgLy8gU2VlIGlmIGdsb2JhbE9wdGlvbnMgaG9sZHMgY2hhcnQgb3IgZXhwb3J0aW5nIHNpemVcclxuICBjb25zdCBnbG9iYWxPcHRpb25zID0gaXNDb3JyZWN0SlNPTihvcHRpb25zLmV4cG9ydD8uZ2xvYmFsT3B0aW9ucyk7XHJcblxyXG4gIC8vIFNlY3VyZSBzY2FsZSB2YWx1ZVxyXG4gIGxldCBzY2FsZSA9XHJcbiAgICBvcHRpb25zLmV4cG9ydD8uc2NhbGUgfHxcclxuICAgIGV4cG9ydGluZz8uc2NhbGUgfHxcclxuICAgIGdsb2JhbE9wdGlvbnM/LmV4cG9ydGluZz8uc2NhbGUgfHxcclxuICAgIG9wdGlvbnMuZXhwb3J0Py5kZWZhdWx0U2NhbGUgfHxcclxuICAgIDE7XHJcblxyXG4gIC8vIHRoZSBzY2FsZSBjYW5ub3QgYmUgbG93ZXIgdGhhbiAwLjEgYW5kIGNhbm5vdCBiZSBoaWdoZXIgdGhhbiA1LjBcclxuICBzY2FsZSA9IE1hdGgubWF4KDAuMSwgTWF0aC5taW4oc2NhbGUsIDUuMCkpO1xyXG5cclxuICAvLyB3ZSB3YW50IHRvIHJvdW5kIHRoZSBudW1iZXJzIGxpa2UgMC4yMzIzNCAtPiAwLjIzXHJcbiAgc2NhbGUgPSByb3VuZE51bWJlcihzY2FsZSwgMik7XHJcblxyXG4gIC8vIEZpbmQgY2hhcnQgc2l6ZSBhbmQgc2NhbGVcclxuICBjb25zdCBzaXplID0ge1xyXG4gICAgaGVpZ2h0OlxyXG4gICAgICBvcHRpb25zLmV4cG9ydD8uaGVpZ2h0IHx8XHJcbiAgICAgIGV4cG9ydGluZz8uc291cmNlSGVpZ2h0IHx8XHJcbiAgICAgIGNoYXJ0Py5oZWlnaHQgfHxcclxuICAgICAgZ2xvYmFsT3B0aW9ucz8uZXhwb3J0aW5nPy5zb3VyY2VIZWlnaHQgfHxcclxuICAgICAgZ2xvYmFsT3B0aW9ucz8uY2hhcnQ/LmhlaWdodCB8fFxyXG4gICAgICBvcHRpb25zLmV4cG9ydD8uZGVmYXVsdEhlaWdodCB8fFxyXG4gICAgICA0MDAsXHJcbiAgICB3aWR0aDpcclxuICAgICAgb3B0aW9ucy5leHBvcnQ/LndpZHRoIHx8XHJcbiAgICAgIGV4cG9ydGluZz8uc291cmNlV2lkdGggfHxcclxuICAgICAgY2hhcnQ/LndpZHRoIHx8XHJcbiAgICAgIGdsb2JhbE9wdGlvbnM/LmV4cG9ydGluZz8uc291cmNlV2lkdGggfHxcclxuICAgICAgZ2xvYmFsT3B0aW9ucz8uY2hhcnQ/LndpZHRoIHx8XHJcbiAgICAgIG9wdGlvbnMuZXhwb3J0Py5kZWZhdWx0V2lkdGggfHxcclxuICAgICAgNjAwLFxyXG4gICAgc2NhbGVcclxuICB9O1xyXG5cclxuICAvLyBHZXQgcmlkIG9mIHBvdGVudGlhbCBweCBhbmQgJVxyXG4gIGZvciAodmFyIFtwYXJhbSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNpemUpKSB7XHJcbiAgICBzaXplW3BhcmFtXSA9XHJcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyArdmFsdWUucmVwbGFjZSgvcHh8JS9naSwgJycpIDogdmFsdWU7XHJcbiAgfVxyXG4gIHJldHVybiBzaXplO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIGZvciBmaW5hbCBvcHRpb25zIHByZXBhcmF0aW9uIGJlZm9yZSBleHBvcnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY2hhcnRKc29uIC0gQ2hhcnQgSlNPTi5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZW5kQ2FsbGJhY2sgLSBUaGUgZW5kIGNhbGxiYWNrLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3ZnIC0gVGhlIFNWRyByZXByZXNlbnRhdGlvbi5cclxuICovXHJcbmNvbnN0IGRvRXhwb3J0ID0gKG9wdGlvbnMsIGNoYXJ0SnNvbiwgZW5kQ2FsbGJhY2ssIHN2ZykgPT4ge1xyXG4gIGxldCB7IGV4cG9ydDogZXhwb3J0T3B0aW9ucywgY3VzdG9tQ29kZTogY3VzdG9tQ29kZU9wdGlvbnMgfSA9IG9wdGlvbnM7XHJcblxyXG4gIGNvbnN0IGFsbG93Q29kZUV4ZWN1dGlvblNjb3BlZCA9XHJcbiAgICB0eXBlb2YgY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dDb2RlRXhlY3V0aW9uID09PSAnYm9vbGVhbidcclxuICAgICAgPyBjdXN0b21Db2RlT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb25cclxuICAgICAgOiBhbGxvd0NvZGVFeGVjdXRpb247XHJcblxyXG4gIGlmICghY3VzdG9tQ29kZU9wdGlvbnMpIHtcclxuICAgIGN1c3RvbUNvZGVPcHRpb25zID0gb3B0aW9ucy5jdXN0b21Db2RlID0ge307XHJcbiAgfSBlbHNlIGlmIChhbGxvd0NvZGVFeGVjdXRpb25TY29wZWQpIHtcclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgLy8gUHJvY2VzcyByZXNvdXJjZXNcclxuICAgICAgb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcyA9IGhhbmRsZVJlc291cmNlcyhcclxuICAgICAgICBvcHRpb25zLmN1c3RvbUNvZGUucmVzb3VyY2VzLFxyXG4gICAgICAgIHRvQm9vbGVhbihvcHRpb25zLmN1c3RvbUNvZGUuYWxsb3dGaWxlUmVzb3VyY2VzKVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmICghb3B0aW9ucy5jdXN0b21Db2RlLnJlc291cmNlcykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc291cmNlcyA9IHJlYWRGaWxlU3luYygncmVzb3VyY2VzLmpzb24nLCAndXRmOCcpO1xyXG4gICAgICAgIG9wdGlvbnMuY3VzdG9tQ29kZS5yZXNvdXJjZXMgPSBoYW5kbGVSZXNvdXJjZXMoXHJcbiAgICAgICAgICByZXNvdXJjZXMsXHJcbiAgICAgICAgICB0b0Jvb2xlYW4ob3B0aW9ucy5jdXN0b21Db2RlLmFsbG93RmlsZVJlc291cmNlcylcclxuICAgICAgICApO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBsb2coMywgYFtjaGFydF0gVGhlIGRlZmF1bHQgcmVzb3VyY2VzLmpzb24gZmlsZSBub3QgZm91bmQuYCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIElmIHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gZmxhZyBpc24ndCBzZXQsIHdlIHNob3VsZCByZWZ1c2UgdGhlIHVzYWdlXHJcbiAgLy8gb2YgY2FsbGJhY2ssIHJlc291cmNlcywgYW5kIGN1c3RvbSBjb2RlLiBBZGRpdGlvbmFsbHksIHRoZSB3b3JrZXIgd2lsbFxyXG4gIC8vIHJlZnVzZSB0byBydW4gYXJiaXRyYXJ5IEphdmFTY3JpcHQuIFByaW9yaXRpemVkIHNob3VsZCBiZSB0aGUgc2NvcGVkXHJcbiAgLy8gb3B0aW9uLCB0aGVuIHdlIHNob3VsZCB0YWtlIGEgbG9vayBhdCB0aGUgb3ZlcmFsbCBwb29sIG9wdGlvbi5cclxuICBpZiAoIWFsbG93Q29kZUV4ZWN1dGlvblNjb3BlZCAmJiBjdXN0b21Db2RlT3B0aW9ucykge1xyXG4gICAgaWYgKFxyXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayB8fFxyXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5yZXNvdXJjZXMgfHxcclxuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY3VzdG9tQ29kZVxyXG4gICAgKSB7XHJcbiAgICAgIC8vIFNlbmQgYmFjayBhIGZyaWVuZGx5IG1lc3NhZ2Ugc2F5aW5nIHRoYXQgdGhlIGV4cG9ydGVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgLy8gdGhlc2Ugc2V0dGluZ3MuXHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgZW5kQ2FsbGJhY2sgJiZcclxuICAgICAgICBlbmRDYWxsYmFjayhmYWxzZSwge1xyXG4gICAgICAgICAgZXJyb3I6IHRydWUsXHJcbiAgICAgICAgICBtZXNzYWdlOiBjbGVhclRleHQoXHJcbiAgICAgICAgICAgIGBUaGUgY2FsbGJhY2ssIHJlc291cmNlcyBhbmQgY3VzdG9tQ29kZSBoYXZlIGJlZW4gZGlzYWJsZWQgZm9yIHRoaXNcclxuICAgICAgICAgICAgc2VydmVyLmBcclxuICAgICAgICAgIClcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlc2V0IGFsbCBhZGRpdGlvbmFsIGN1c3RvbSBjb2RlXHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xyXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMucmVzb3VyY2VzID0gZmFsc2U7XHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jdXN0b21Db2RlID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBDbGVhbiBwcm9wZXJ0aWVzIHRvIGtlZXAgaXQgbGVhbiBhbmQgbWVhblxyXG4gIGlmIChjaGFydEpzb24pIHtcclxuICAgIGNoYXJ0SnNvbi5jaGFydCA9IGNoYXJ0SnNvbi5jaGFydCB8fCB7fTtcclxuICAgIGNoYXJ0SnNvbi5leHBvcnRpbmcgPSBjaGFydEpzb24uZXhwb3J0aW5nIHx8IHt9O1xyXG4gICAgY2hhcnRKc29uLmV4cG9ydGluZy5lbmFibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBleHBvcnRPcHRpb25zLmNvbnN0ciA9IGV4cG9ydE9wdGlvbnMuY29uc3RyIHx8ICdjaGFydCc7XHJcbiAgZXhwb3J0T3B0aW9ucy50eXBlID0gZml4VHlwZShleHBvcnRPcHRpb25zLnR5cGUsIGV4cG9ydE9wdGlvbnMub3V0ZmlsZSk7XHJcbiAgaWYgKGV4cG9ydE9wdGlvbnMudHlwZSA9PT0gJ3N2ZycpIHtcclxuICAgIGV4cG9ydE9wdGlvbnMud2lkdGggPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIFByZXBhcmUgZ2xvYmFsIGFuZCB0aGVtZSBvcHRpb25zXHJcbiAgWydnbG9iYWxPcHRpb25zJywgJ3RoZW1lT3B0aW9ucyddLmZvckVhY2goKG9wdGlvbnNOYW1lKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoZXhwb3J0T3B0aW9ucyAmJiBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHR5cGVvZiBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdLmVuZHNXaXRoKCcuanNvbicpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSA9IGlzQ29ycmVjdEpTT04oXHJcbiAgICAgICAgICAgIHJlYWRGaWxlU3luYyhleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSwgJ3V0ZjgnKSxcclxuICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0gPSBpc0NvcnJlY3RKU09OKFxyXG4gICAgICAgICAgICBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSxcclxuICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID0ge307XHJcbiAgICAgIGxvZygxLCBgW2NoYXJ0XSBUaGUgJHtvcHRpb25zTmFtZX0gbm90IGZvdW5kLmApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBQcmVwYXJlIGN1c3RvbUNvZGVcclxuICBpZiAoY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dDb2RlRXhlY3V0aW9uKSB7XHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jdXN0b21Db2RlID0gd3JhcEFyb3VuZChcclxuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY3VzdG9tQ29kZSxcclxuICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuYWxsb3dGaWxlUmVzb3VyY2VzXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IHRoZSBjYWxsYmFja1xyXG4gIGlmIChcclxuICAgIGN1c3RvbUNvZGVPcHRpb25zICYmXHJcbiAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayAmJlxyXG4gICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2s/LmluZGV4T2YoJ3snKSA8IDBcclxuICApIHtcclxuICAgIC8vIFRoZSBhbGxvd0ZpbGVSZXNvdXJjZXMgaXMgYWx3YXlzIHNldCB0byBmYWxzZSBmb3IgSFRUUCByZXF1ZXN0cyB0byBhdm9pZFxyXG4gICAgLy8gaW5qZWN0aW5nIGFyYml0cmFyeSBmaWxlcyBmcm9tIHRoZSBmc1xyXG4gICAgaWYgKGN1c3RvbUNvZGVPcHRpb25zLmFsbG93RmlsZVJlc291cmNlcykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGN1c3RvbUNvZGVPcHRpb25zLmNhbGxiYWNrID0gcmVhZEZpbGVTeW5jKFxyXG4gICAgICAgICAgY3VzdG9tQ29kZU9wdGlvbnMuY2FsbGJhY2ssXHJcbiAgICAgICAgICAndXRmOCdcclxuICAgICAgICApO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGxvZygyLCBgW2NoYXJ0XSBFcnJvciBsb2FkaW5nIGNhbGxiYWNrOiAke2Vycm9yfS5gKTtcclxuICAgICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdXN0b21Db2RlT3B0aW9ucy5jYWxsYmFjayA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2l6ZSBzZWFyY2hcclxuICBvcHRpb25zLmV4cG9ydCA9IHtcclxuICAgIC4uLm9wdGlvbnMuZXhwb3J0LFxyXG4gICAgLi4uZmluZENoYXJ0U2l6ZShvcHRpb25zKVxyXG4gIH07XHJcblxyXG4gIC8vIFBvc3QgdGhlIHdvcmsgdG8gdGhlIHBvb2xcclxuICBwb3N0V29yayhleHBvcnRPcHRpb25zLnN0ckluaiB8fCBjaGFydEpzb24gfHwgc3ZnLCBvcHRpb25zKVxyXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4gZW5kQ2FsbGJhY2socmVzdWx0KSlcclxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgbG9nKDAsICdbY2hhcnRdIFdoZW4gcG9zdGluZyB3b3JrOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGVuZENhbGxiYWNrKGZhbHNlLCBlcnJvcik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiBmb3Igc3RyYWlnaHQgaW5qZWN0aW5nIHRoZSBjb2RlLlxyXG4gKiBEYW5nZXJvdXMgYW5kIG11c3QgYmUgdXNlZCBkZWxpYmVyYXRlbHkgYnkgc29tZW9uZSB3aG8gc2V0cyB1cCBhIHNlcnZlclxyXG4gKiAoc2VlICAtLWFsbG93Q29kZUV4ZWN1dGlvbikuXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQWxsIG9wdGlvbnMgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRDYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gZXhwb3J0aW5nIGlzIGRvbmUuXHJcbiAqL1xyXG5jb25zdCBkb1N0cmFpZ2h0SW5qZWN0ID0gKG9wdGlvbnMsIGVuZENhbGxiYWNrKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBzdHJJbmo7XHJcbiAgICBsZXQgaW5zdHIgPSBvcHRpb25zLmV4cG9ydC5pbnN0ciB8fCBvcHRpb25zLmV4cG9ydC5vcHRpb25zO1xyXG5cclxuICAgIGlmICh0eXBlb2YgaW5zdHIgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIC8vIFRyeSB0byBzdHJpbmdpZnkgb3B0aW9uc1xyXG4gICAgICBzdHJJbmogPSBpbnN0ciA9IG9wdGlvbnNTdHJpbmdpZnkoXHJcbiAgICAgICAgaW5zdHIsXHJcbiAgICAgICAgb3B0aW9ucy5jdXN0b21Db2RlPy5hbGxvd0NvZGVFeGVjdXRpb25cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHN0ckluaiA9IGluc3RyLnJlcGxhY2VBbGwoL1xcdHxcXG58XFxyL2csICcnKS50cmltKCk7XHJcblxyXG4gICAgLy8gR2V0IHJpZCBvZiB0aGUgO1xyXG4gICAgaWYgKHN0cklualtzdHJJbmoubGVuZ3RoIC0gMV0gPT09ICc7Jykge1xyXG4gICAgICBzdHJJbmogPSBzdHJJbmouc3Vic3RyaW5nKDAsIHN0ckluai5sZW5ndGggLSAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTYXZlIGFzIHN0cmlnaHQgaW5qZWN0IHN0cmluZ1xyXG4gICAgb3B0aW9ucy5leHBvcnQuc3RySW5qID0gc3RySW5qO1xyXG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGZhbHNlLCBlbmRDYWxsYmFjayk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBjbGVhclRleHQoXHJcbiAgICAgIGBNYWxmb3JtZWQgaW5wdXQgZGV0ZWN0ZWQgZm9yICR7b3B0aW9ucy5leHBvcnQ/LnJlcXVlc3RJZCB8fCAnPyd9OlxyXG4gICAgICBQbGVhc2UgbWFrZSBzdXJlIHRoYXQgeW91ciBKU09OL0phdmFTY3JpcHQgb3B0aW9uc1xyXG4gICAgICBhcmUgc2VudCB1c2luZyB0aGUgXCJvcHRpb25zXCIgYXR0cmlidXRlLCBhbmQgdGhhdCBpZiB5b3UncmUgdXNpbmdcclxuICAgICAgU1ZHLCBpdCBpcyB1bmVzY2FwZWQuYFxyXG4gICAgKTtcclxuXHJcbiAgICBsb2coMSwgbWVzc2FnZSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBlbmRDYWxsYmFjayAmJlxyXG4gICAgICBlbmRDYWxsYmFjayhcclxuICAgICAgICBmYWxzZSxcclxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgICAgIG1lc3NhZ2VcclxuICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBQcmVwYXJlcyBhbiBpbnB1dCBiZWZvcmUgZXhwb3J0aW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nVG9FeHBvcnQgLSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgU1ZHL2V4cG9ydCBvcHRpb25zLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIEFsbCBvcHRpb25zIG9iamVjdC5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZW5kQ2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGV4cG9ydGluZyBpcyBkb25lLlxyXG4gKi9cclxuY29uc3QgZXhwb3J0QXNTdHJpbmcgPSAoc3RyaW5nVG9FeHBvcnQsIG9wdGlvbnMsIGVuZENhbGxiYWNrKSA9PiB7XHJcbiAgY29uc3QgeyBhbGxvd0NvZGVFeGVjdXRpb24gfSA9IG9wdGlvbnMuY3VzdG9tQ29kZTtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgaXQgaXMgU1ZHXHJcbiAgaWYgKFxyXG4gICAgc3RyaW5nVG9FeHBvcnQuaW5kZXhPZignPHN2ZycpID49IDAgfHxcclxuICAgIHN0cmluZ1RvRXhwb3J0LmluZGV4T2YoJzw/eG1sJykgPj0gMFxyXG4gICkge1xyXG4gICAgbG9nKDQsICdbY2hhcnRdIFBhcnNpbmcgaW5wdXQgYXMgU1ZHLicpO1xyXG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGZhbHNlLCBlbmRDYWxsYmFjaywgc3RyaW5nVG9FeHBvcnQpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIFRyeSB0byBwYXJzZSB0byBKU09OIGFuZCBjYWxsIHRoZSBkb0V4cG9ydCBmdW5jdGlvblxyXG4gICAgY29uc3QgY2hhcnRKU09OID0gSlNPTi5wYXJzZShzdHJpbmdUb0V4cG9ydC5yZXBsYWNlQWxsKC9cXHR8XFxufFxcci9nLCAnICcpKTtcclxuXHJcbiAgICAvLyBJZiBhIGNvcnJlY3QgSlNPTiwgZG8gdGhlIGV4cG9ydFxyXG4gICAgcmV0dXJuIGRvRXhwb3J0KG9wdGlvbnMsIGNoYXJ0SlNPTiwgZW5kQ2FsbGJhY2spO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAvLyBOb3QgYSB2YWxpZCBKU09OXHJcbiAgICBpZiAodG9Cb29sZWFuKGFsbG93Q29kZUV4ZWN1dGlvbikpIHtcclxuICAgICAgcmV0dXJuIGRvU3RyYWlnaHRJbmplY3Qob3B0aW9ucywgZW5kQ2FsbGJhY2spO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gRG8gbm90IGFsbG93IHN0cmFpZ2h0IGluamVjdGlvbiB3aXRob3V0IHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gZmxhZ1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIGVuZENhbGxiYWNrICYmXHJcbiAgICAgICAgZW5kQ2FsbGJhY2soZmFsc2UsIHtcclxuICAgICAgICAgIGVycm9yOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogY2xlYXJUZXh0KFxyXG4gICAgICAgICAgICBgT25seSBKU09OIGNvbmZpZ3VyYXRpb25zIGFuZCBTVkcgaXMgYWxsb3dlZCBmb3IgdGhpcyBzZXJ2ZXIuIElmXHJcbiAgICAgICAgICAgIHRoaXMgaXMgeW91ciBzZXJ2ZXIsIEphdmFTY3JpcHQgZXhwb3J0aW5nIGNhbiBiZSBlbmFibGVkIGJ5IHN0YXJ0aW5nXHJcbiAgICAgICAgICAgIHRoZSBzZXJ2ZXIgd2l0aCB0aGUgLS1hbGxvd0NvZGVFeGVjdXRpb24gZmxhZy5gXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0QWxsb3dDb2RlRXhlY3V0aW9uID0gKCkgPT4gYWxsb3dDb2RlRXhlY3V0aW9uO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldEFsbG93Q29kZUV4ZWN1dGlvbiA9ICh2YWx1ZSkgPT4ge1xyXG4gIGFsbG93Q29kZUV4ZWN1dGlvbiA9IHRvQm9vbGVhbih2YWx1ZSk7XHJcbn07XHJcblxyXG4vKipcclxuICogU3RhcnRzIGFuIGV4cG9ydGluZyBwcm9jZXNzXHJcbiAqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyAtIFNldHRpbmdzIGZvciBleHBvcnQuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGVuZENhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBleHBvcnRpbmcgaXMgZG9uZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBiYXRjaEV4cG9ydCxcclxuICBzaW5nbGVFeHBvcnQsXHJcbiAgZ2V0QWxsb3dDb2RlRXhlY3V0aW9uLFxyXG4gIHNldEFsbG93Q29kZUV4ZWN1dGlvbixcclxuICBzdGFydEV4cG9ydCxcclxuICBmaW5kQ2hhcnRTaXplXHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gJ3V1aWQnO1xyXG5cclxuaW1wb3J0IHsgZ2V0QWxsb3dDb2RlRXhlY3V0aW9uLCBzdGFydEV4cG9ydCB9IGZyb20gJy4uLy4uL2NoYXJ0LmpzJztcclxuaW1wb3J0IHsgZ2V0T3B0aW9ucywgbWVyZ2VDb25maWdPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJztcclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi4vLi4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHtcclxuICBjbGVhclRleHQsXHJcbiAgZml4VHlwZSxcclxuICBpc0NvcnJlY3RKU09OLFxyXG4gIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQsXHJcbiAgb3B0aW9uc1N0cmluZ2lmeSxcclxuICBtZWFzdXJlVGltZVxyXG59IGZyb20gJy4uLy4uL3V0aWxzLmpzJztcclxuXHJcbi8vIFJldmVyc2VkIE1JTUUgdHlwZXNcclxuY29uc3QgcmV2ZXJzZWRNaW1lID0ge1xyXG4gIHBuZzogJ2ltYWdlL3BuZycsXHJcbiAganBlZzogJ2ltYWdlL2pwZWcnLFxyXG4gIGdpZjogJ2ltYWdlL2dpZicsXHJcbiAgcGRmOiAnYXBwbGljYXRpb24vcGRmJyxcclxuICBzdmc6ICdpbWFnZS9zdmcreG1sJ1xyXG59O1xyXG5cclxuLy8gVGhlIHJlcXVlc3RzIGNvdW50ZXJcclxubGV0IHJlcXVlc3RzQ291bnRlciA9IDA7XHJcblxyXG5jb25zdCBiZW5jaG1hcmsgPSBmYWxzZTtcclxuXHJcbi8vIFRoZSBhcnJheSBvZiBjYWxsYmFja3MgdG8gY2FsbCBiZWZvcmUgYSByZXF1ZXN0XHJcbmNvbnN0IGJlZm9yZVJlcXVlc3QgPSBbXTtcclxuXHJcbi8vIFRoZSBhcnJheSBvZiBjYWxsYmFja3MgdG8gY2FsbCBhZnRlciBhIHJlcXVlc3RcclxuY29uc3QgYWZ0ZXJSZXF1ZXN0ID0gW107XHJcblxyXG4vKipcclxuICogQ2FsbHMgY2FsbGJhY2tzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBjYWxsYmFja3MgLSBBbiBhcnJheSBvZiBjYWxsYmFja3MuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSAtIFRoZSByZXNwb25zZS5cclxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBUaGUgZGF0YSB0byBzZW5kIHRvIGNhbGxiYWNrcy5cclxuICogQHJldHVybiB7b2JqZWN0fSAtIFRoZSByZXN1bHQgZnJvbSBhIGNhbGxiYWNrLlxyXG4gKi9cclxuY29uc3QgZG9DYWxsYmFja3MgPSAoY2FsbGJhY2tzLCByZXF1ZXN0LCByZXNwb25zZSwgZGF0YSkgPT4ge1xyXG4gIGxldCByZXN1bHQgPSB0cnVlO1xyXG4gIGNvbnN0IHsgaWQsIHVuaXF1ZUlkLCB0eXBlLCBib2R5IH0gPSBkYXRhO1xyXG5cclxuICBjYWxsYmFja3Muc29tZSgoY2FsbGJhY2spID0+IHtcclxuICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICBsZXQgY2FsbFJlc3BvbnNlID0gY2FsbGJhY2socmVxdWVzdCwgcmVzcG9uc2UsIGlkLCB1bmlxdWVJZCwgdHlwZSwgYm9keSk7XHJcblxyXG4gICAgICBpZiAoY2FsbFJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgY2FsbFJlc3BvbnNlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gY2FsbFJlc3BvbnNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBIYW5kbGVzIGFuIGV4cG9ydC5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IHJlcXVlc3QgLSBUaGUgcmVxdWVzdC5cclxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlLlxyXG4gKi9cclxuY29uc3QgZXhwb3J0SGFuZGxlciA9IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gIC8vIFN0YXJ0IGNvdW50aW5nIHRpbWVcclxuICBjb25zdCBzdG9wQ291bnRlciA9IG1lYXN1cmVUaW1lKCk7XHJcblxyXG4gIC8vIEdldCB0aGUgY3VycmVudCBzZXJ2ZXIncyBnZW5lcmFsIG9wdGlvbnNcclxuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcclxuXHJcbiAgLy8gSW5pdCBkZWZhdWx0IG9wdGlvbnNcclxuICBpZiAoYmVuY2htYXJrKSB7XHJcbiAgICBjb25zb2xlLmxvZygnSW5pdCBkZWZhdWx0IG9wdGlvbnM6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYm9keSA9IHJlcXVlc3QuYm9keTtcclxuICBjb25zdCBpZCA9ICsrcmVxdWVzdHNDb3VudGVyO1xyXG4gIGNvbnN0IHVuaXF1ZUlkID0gdXVpZCgpLnJlcGxhY2UoLy0vZywgJycpO1xyXG4gIGxldCB0eXBlID0gZml4VHlwZShib2R5LnR5cGUpO1xyXG5cclxuICAvLyBGaXggdHlwZVxyXG4gIGlmIChiZW5jaG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKCdGaXggdHlwZTonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgfVxyXG5cclxuICAvLyBUaHJvdyAnQmFkIFJlcXVlc3QnIGlmIHRoZXJlJ3Mgbm8gYm9keVxyXG4gIGlmICghYm9keSkge1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLnNlbmQoXHJcbiAgICAgIGNsZWFyVGV4dChcclxuICAgICAgICBgQm9keSBpcyByZXF1aXJlZC4gU2VuZGluZyBhIGJvZHk/IE1ha2Ugc3VyZSB5b3VyIENvbnRlbnQtdHlwZSBoZWFkZXJcclxuICAgICAgICBpcyBjb3JyZWN0LiBBY2NlcHRlZCBpcyBhcHBsaWNhdGlvbi9qc29uIGFuZCBtdWx0aXBhcnQvZm9ybS1kYXRhLmBcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIEFsbCBvZiB0aGUgYmVsb3cgY2FuIGJlIHVzZWRcclxuICBsZXQgaW5zdHIgPSBpc0NvcnJlY3RKU09OKGJvZHkuaW5maWxlIHx8IGJvZHkub3B0aW9ucyB8fCBib2R5LmRhdGEpO1xyXG5cclxuICAvLyBJcyBjb3JyZWN0IEpTT05cclxuICBpZiAoYmVuY2htYXJrKSB7XHJcbiAgICBjb25zb2xlLmxvZygnSXMgY29ycmVjdCBKU09OOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICB9XHJcblxyXG4gIC8vIFRocm93ICdCYWQgUmVxdWVzdCcgaWYgdGhlcmUncyBubyBKU09OIG9yIFNWRyB0byBleHBvcnRcclxuICBpZiAoIWluc3RyICYmICFib2R5LnN2Zykge1xyXG4gICAgbG9nKFxyXG4gICAgICAyLFxyXG4gICAgICBjbGVhclRleHQoXHJcbiAgICAgICAgYFJlcXVlc3QgJHt1bmlxdWVJZH0gZnJvbSAke1xyXG4gICAgICAgICAgcmVxdWVzdC5oZWFkZXJzWyd4LWZvcndhcmRlZC1mb3InXSB8fCByZXF1ZXN0LmNvbm5lY3Rpb24ucmVtb3RlQWRkcmVzc1xyXG4gICAgICAgIH0gd2FzIGluY29ycmVjdC4gQ2hlY2sgeW91ciBwYXlsb2FkLmBcclxuICAgICAgKVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuc2VuZChcclxuICAgICAgY2xlYXJUZXh0KFxyXG4gICAgICAgIGBObyBjb3JyZWN0IGNoYXJ0IGRhdGEgZm91bmQuIFBsZWFzZSBtYWtlIHN1cmUgeW91IGFyZSB1c2luZ1xyXG4gICAgICAgIGFwcGxpY2F0aW9uL2pzb24gb3IgbXVsdGlwYXJ0L2Zvcm0tZGF0YSBoZWFkZXJzLCBhbmQgdGhhdCB0aGUgY2hhcnRcclxuICAgICAgICBkYXRhIGlzIGluIHRoZSAnaW5maWxlJywgJ29wdGlvbnMnIG9yICdkYXRhJyBhdHRyaWJ1dGUgaWYgc2VuZGluZ1xyXG4gICAgICAgIEpTT04gb3IgaW4gdGhlICdzdmcnIGlmIHNlbmRpbmcgU1ZHLmBcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGxldCBjYWxsUmVzcG9uc2UgPSBmYWxzZTtcclxuXHJcbiAgLy8gQ2FsbCB0aGUgYmVmb3JlIHJlcXVlc3QgZnVuY3Rpb25zXHJcbiAgY2FsbFJlc3BvbnNlID0gZG9DYWxsYmFja3MoYmVmb3JlUmVxdWVzdCwgcmVxdWVzdCwgcmVzcG9uc2UsIHtcclxuICAgIGlkLFxyXG4gICAgdW5pcXVlSWQsXHJcbiAgICB0eXBlLFxyXG4gICAgYm9keVxyXG4gIH0pO1xyXG5cclxuICAvLyBEbyBjYWxsYmFja3NcclxuICBpZiAoYmVuY2htYXJrKSB7XHJcbiAgICBjb25zb2xlLmxvZygnRG8gY2FsbGJhY2tzOicsIHN0b3BDb3VudGVyKCksICdtcy4nKTtcclxuICB9XHJcblxyXG4gIC8vIEJsb2NrIHRoZSByZXF1ZXN0IGlmIG9uZSBvZiBhIGNhbGxiYWNrcyBmYWlsZWRcclxuICBpZiAoY2FsbFJlc3BvbnNlICE9PSB0cnVlKSB7XHJcbiAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZChjYWxsUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgbGV0IGNvbm5lY3Rpb25BYm9ydGVkID0gZmFsc2U7XHJcblxyXG4gIC8vIEluIGNhc2UgdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkLCBmb3JjZSB0byBhYm9ydCBmdXJ0aGVyIGFjdGlvbnNcclxuICByZXF1ZXN0LnNvY2tldC5vbignY2xvc2UnLCAoKSA9PiB7XHJcbiAgICBjb25uZWN0aW9uQWJvcnRlZCA9IHRydWU7XHJcbiAgfSk7XHJcblxyXG4gIGxvZyg0LCBgW2V4cG9ydF0gR290IGFuIGluY29taW5nIEhUVFAgcmVxdWVzdCAke3VuaXF1ZUlkfS5gKTtcclxuXHJcbiAgYm9keS5jb25zdHIgPSAodHlwZW9mIGJvZHkuY29uc3RyID09PSAnc3RyaW5nJyAmJiBib2R5LmNvbnN0cikgfHwgJ2NoYXJ0JztcclxuXHJcbiAgLy8gR2F0aGVyIGFuZCBvcmdhbml6ZSBvcHRpb25zIGZyb20gdGhlIHBheWxvYWRcclxuICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcclxuICAgIGV4cG9ydDoge1xyXG4gICAgICBpbnN0cixcclxuICAgICAgdHlwZSxcclxuICAgICAgY29uc3RyOiBib2R5LmNvbnN0clswXS50b0xvd2VyQ2FzZSgpICsgYm9keS5jb25zdHIuc3Vic3RyKDEpLFxyXG4gICAgICBoZWlnaHQ6IGJvZHkuaGVpZ2h0LFxyXG4gICAgICB3aWR0aDogYm9keS53aWR0aCxcclxuICAgICAgc2NhbGU6IGJvZHkuc2NhbGUgfHwgZGVmYXVsdE9wdGlvbnMuZXhwb3J0LnNjYWxlLFxyXG4gICAgICBnbG9iYWxPcHRpb25zOiBpc0NvcnJlY3RKU09OKGJvZHkuZ2xvYmFsT3B0aW9ucywgdHJ1ZSksXHJcbiAgICAgIHRoZW1lT3B0aW9uczogaXNDb3JyZWN0SlNPTihib2R5LnRoZW1lT3B0aW9ucywgdHJ1ZSlcclxuICAgIH0sXHJcbiAgICBjdXN0b21Db2RlOiB7XHJcbiAgICAgIGFsbG93Q29kZUV4ZWN1dGlvbjogZ2V0QWxsb3dDb2RlRXhlY3V0aW9uKCksXHJcbiAgICAgIGFsbG93RmlsZVJlc291cmNlczogZmFsc2UsXHJcbiAgICAgIHJlc291cmNlczogaXNDb3JyZWN0SlNPTihib2R5LnJlc291cmNlcywgdHJ1ZSksXHJcbiAgICAgIGNhbGxiYWNrOiBib2R5LmNhbGxiYWNrLFxyXG4gICAgICBjdXN0b21Db2RlOiBib2R5LmN1c3RvbUNvZGVcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBPcmdhbml6ZSBvcHRpb25zXHJcbiAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgY29uc29sZS5sb2coJ09yZ2FuaXplIG9wdGlvbnM6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGluc3RyKSB7XHJcbiAgICAvLyBTdHJpbmdpZnkgSlNPTiB3aXRoIG9wdGlvbnNcclxuICAgIHJlcXVlc3RPcHRpb25zLmV4cG9ydC5pbnN0ciA9IG9wdGlvbnNTdHJpbmdpZnkoXHJcbiAgICAgIGluc3RyLFxyXG4gICAgICByZXF1ZXN0T3B0aW9ucy5jdXN0b21Db2RlLmFsbG93Q29kZUV4ZWN1dGlvblxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBTdHJpbmdpZnkgSlNPTiB3aXRoIG9wdGlvbnNcclxuICAgIGlmIChiZW5jaG1hcmspIHtcclxuICAgICAgY29uc29sZS5sb2coJ1N0cmluZ2lmeSBKU09OIHdpdGggb3B0aW9uczonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBNZXJnZSB0aGUgcmVxdWVzdCBvcHRpb25zIGludG8gZGVmYXVsdCBvbmVzXHJcbiAgY29uc3Qgb3B0aW9ucyA9IG1lcmdlQ29uZmlnT3B0aW9ucyhkZWZhdWx0T3B0aW9ucywgcmVxdWVzdE9wdGlvbnMpO1xyXG5cclxuICAvLyBNZXJnZSBjb25maWcgb3B0aW9uc1xyXG4gIGlmIChiZW5jaG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKCdNZXJnZSBjb25maWcgb3B0aW9uczonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgfVxyXG5cclxuICAvLyBTYXZlIHRoZSBKU09OIGlmIGV4aXN0c1xyXG4gIG9wdGlvbnMuZXhwb3J0Lm9wdGlvbnMgPSBpbnN0cjtcclxuXHJcbiAgLy8gTGFzdGx5LCBhZGQgdGhlIHNlcnZlciBzcGVjaWZpYyBhcmd1bWVudHMgaW50byBvcHRpb25zIGFzIHBheWxvYWRcclxuICBvcHRpb25zLnBheWxvYWQgPSB7XHJcbiAgICBzdmc6IGJvZHkuc3ZnIHx8IGZhbHNlLFxyXG4gICAgYjY0OiBib2R5LmI2NCB8fCBmYWxzZSxcclxuICAgIGRhdGFPcHRpb25zOiBpc0NvcnJlY3RKU09OKGJvZHkuZGF0YU9wdGlvbnMsIHRydWUpLFxyXG4gICAgbm9Eb3dubG9hZDogYm9keS5ub0Rvd25sb2FkIHx8IGZhbHNlLFxyXG4gICAgcmVxdWVzdElkOiB1bmlxdWVJZFxyXG4gIH07XHJcblxyXG4gIC8vIFNldHRpbmcgcGF5bG9hZFxyXG4gIGlmIChiZW5jaG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHBheWxvYWQ6Jywgc3RvcENvdW50ZXIoKSwgJ21zLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gVGVzdCB4bGluazpocmVmIGVsZW1lbnRzIGZyb20gcGF5bG9hZCdzIFNWR1xyXG4gIGlmIChib2R5LnN2ZyAmJiBpc1ByaXZhdGVSYW5nZVVybEZvdW5kKG9wdGlvbnMucGF5bG9hZC5zdmcpKSB7XHJcbiAgICByZXR1cm4gcmVzcG9uc2VcclxuICAgICAgLnN0YXR1cyg0MDApXHJcbiAgICAgIC5zZW5kKFxyXG4gICAgICAgICdTVkcgcG90ZW50aWFsbHkgY29udGFpbiBhdCBsZWFzdCBvbmUgZm9yYmlkZGVuIFVSTCBpbiB4bGluazpocmVmIGVsZW1lbnQuJ1xyXG4gICAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgVVJMIHJhbmdlXHJcbiAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgY29uc29sZS5sb2coJ0NoZWNrIFVSTCByYW5nZTonLCBzdG9wQ291bnRlcigpLCAnbXMuJyk7XHJcbiAgfVxyXG5cclxuICAvLyBTdGFydCB0aGUgZXhwb3J0IHByb2Nlc3NcclxuICBzdGFydEV4cG9ydChvcHRpb25zLCAoaW5mbywgZXJyb3IpID0+IHtcclxuICAgIC8vIFJlbW92ZSB0aGUgY2xvc2UgZXZlbnQgZnJvbSB0aGUgc29ja2V0XHJcbiAgICByZXF1ZXN0LnNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2Nsb3NlJyk7XHJcblxyXG4gICAgLy8gQWZ0ZXIgUHVwcGV0ZWVyIGV4cG9ydGluZ1xyXG4gICAgaWYgKGJlbmNobWFyaykge1xyXG4gICAgICBjb25zb2xlLmxvZygnQWZ0ZXIgUHVwcGV0ZWVyIGV4cG9ydGluZzonLCBzdG9wQ291bnRlcigpLCAnbXMuJywgJ1xcbicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQsIGRvIG5vdGhpbmdcclxuICAgIGlmIChjb25uZWN0aW9uQWJvcnRlZCkge1xyXG4gICAgICByZXR1cm4gbG9nKFxyXG4gICAgICAgIDMsXHJcbiAgICAgICAgY2xlYXJUZXh0KFxyXG4gICAgICAgICAgYFtleHBvcnRdIFRoZSBjbGllbnQgY2xvc2VkIHRoZSBjb25uZWN0aW9uIGJlZm9yZSB0aGUgY2hhcnQgd2FzIGRvbmVcclxuICAgICAgICAgIHByb2Nlc3NpbmcuYFxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBlcnJvciwgcmV0dXJuIGl0XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgY2xlYXJUZXh0KFxyXG4gICAgICAgICAgYFtleHBvcnRdIFdvcms6ICR7dW5pcXVlSWR9IGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQsIHNlbmRpbmc6XHJcbiAgICAgICAgICAke2Vycm9yfWBcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIGRhdGEgaXMgbWlzc2luZywgcmV0dXJuIHRoZSBlcnJvclxyXG4gICAgaWYgKCFpbmZvIHx8ICFpbmZvLmRhdGEpIHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgY2xlYXJUZXh0KFxyXG4gICAgICAgICAgYFtleHBvcnRdIFVuZXhwZWN0ZWQgcmV0dXJuIGZyb20gY2hhcnQgZ2VuZXJhdGlvbiwgcGxlYXNlIGNoZWNrIHlvdXJcclxuICAgICAgICAgIGRhdGEgUmVxdWVzdDogJHt1bmlxdWVJZH0gaXMgJHtpbmZvLmRhdGF9LmBcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZVxyXG4gICAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAgIC5zZW5kKFxyXG4gICAgICAgICAgJ1VuZXhwZWN0ZWQgcmV0dXJuIGZyb20gY2hhcnQgZ2VuZXJhdGlvbiwgcGxlYXNlIGNoZWNrIHlvdXIgZGF0YS4nXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIHR5cGUgZnJvbSBvcHRpb25zXHJcbiAgICB0eXBlID0gaW5mby5vcHRpb25zLmV4cG9ydC50eXBlO1xyXG5cclxuICAgIC8vIFRoZSBhZnRlciByZXF1ZXN0IGNhbGxiYWNrc1xyXG4gICAgZG9DYWxsYmFja3MoYWZ0ZXJSZXF1ZXN0LCByZXF1ZXN0LCByZXNwb25zZSwgeyBpZCwgYm9keTogaW5mby5kYXRhIH0pO1xyXG5cclxuICAgIGlmIChpbmZvLmRhdGEpIHtcclxuICAgICAgLy8gSWYgb25seSBiYXNlNjQgaXMgcmVxdWlyZWQsIHJldHVybiBpdFxyXG4gICAgICBpZiAoYm9keS5iNjQpIHtcclxuICAgICAgICAvLyBTVkcgRXhjZXB0aW9uIGZvciB0aGUgSGlnaGNoYXJ0cyAxMS4zLjAgdmVyc2lvblxyXG4gICAgICAgIGlmICh0eXBlID09PSAncGRmJyB8fCB0eXBlID09ICdzdmcnKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZChcclxuICAgICAgICAgICAgQnVmZmVyLmZyb20oaW5mby5kYXRhLCAndXRmOCcpLnRvU3RyaW5nKCdiYXNlNjQnKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKGluZm8uZGF0YSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNldCBjb3JyZWN0IGNvbnRlbnQgdHlwZVxyXG4gICAgICByZXNwb25zZS5oZWFkZXIoJ0NvbnRlbnQtVHlwZScsIHJldmVyc2VkTWltZVt0eXBlXSB8fCAnaW1hZ2UvcG5nJyk7XHJcblxyXG4gICAgICAvLyBEZWNpZGUgd2hldGhlciB0byBkb3dubG9hZCBvciBub3QgY2hhcnQgZmlsZVxyXG4gICAgICBpZiAoIWJvZHkubm9Eb3dubG9hZCkge1xyXG4gICAgICAgIHJlc3BvbnNlLmF0dGFjaG1lbnQoXHJcbiAgICAgICAgICBgJHtyZXF1ZXN0LnBhcmFtcy5maWxlbmFtZSB8fCByZXF1ZXN0LmJvZHkuZmlsZW5hbWUgfHwgJ2NoYXJ0J30uJHtcclxuICAgICAgICAgICAgdHlwZSB8fCAncG5nJ1xyXG4gICAgICAgICAgfWBcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBTVkcsIHJldHVybiBwbGFpbiBjb250ZW50XHJcbiAgICAgIHJldHVybiB0eXBlID09PSAnc3ZnJ1xyXG4gICAgICAgID8gcmVzcG9uc2Uuc2VuZChpbmZvLmRhdGEpXHJcbiAgICAgICAgOiByZXNwb25zZS5zZW5kKEJ1ZmZlci5mcm9tKGluZm8uZGF0YSwgJ2Jhc2U2NCcpKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChhcHApID0+IHtcclxuICBhcHAucG9zdCgnLycsIGV4cG9ydEhhbmRsZXIpO1xyXG4gIGFwcC5wb3N0KCcvOmZpbGVuYW1lJywgZXhwb3J0SGFuZGxlcik7XHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnNQcm9taXNlcyB9IGZyb20gJ2ZzJztcclxuaW1wb3J0IHsgcG9zaXggfSBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcclxuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcclxuXHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4uL2xvZ2dlci5qcyc7XHJcbmltcG9ydCByYXRlTGltaXQgZnJvbSAnLi9yYXRlX2xpbWl0LmpzJztcclxuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xyXG5cclxuaW1wb3J0IGhlYWx0aFJvdXRlIGZyb20gJy4vcm91dGVzL2hlYWx0aC5qcyc7XHJcbmltcG9ydCBleHBvcnRSb3V0ZXMgZnJvbSAnLi9yb3V0ZXMvZXhwb3J0LmpzJztcclxuaW1wb3J0IHZTd2l0Y2hSb3V0ZSBmcm9tICcuL3JvdXRlcy9jaGFuZ2VfaGNfdmVyc2lvbi5qcyc7XHJcbmltcG9ydCB1aVJvdXRlIGZyb20gJy4vcm91dGVzL3VpLmpzJztcclxuXHJcbi8vIENyZWF0ZSBleHByZXNzIGFwcFxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG4vLyBEaXNhYmxlIHRoZSBYLVBvd2VyZWQtQnkgaGVhZGVyXHJcbmFwcC5kaXNhYmxlKCd4LXBvd2VyZWQtYnknKTtcclxuXHJcbi8vIEVuYWJsZSBDT1JTIHN1cHBvcnRcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5cclxuLy8gRW5hYmxlIHBhcnNpbmcgb2YgZm9ybSBkYXRhIChmaWxlcykgd2l0aCBNdWx0ZXIgcGFja2FnZVxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLm1lbW9yeVN0b3JhZ2UoKTtcclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtcclxuICBzdG9yYWdlLFxyXG4gIGxpbWl0czoge1xyXG4gICAgZmllbGRTaXplOiA1MCAqIDEwMjQgKiAxMDI0XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIEVuYWJsZSBib2R5IHBhcnNlclxyXG5hcHAudXNlKGV4cHJlc3MuanNvbih7IGxpbWl0OiA1MCAqIDEwMjQgKiAxMDI0IH0pKTtcclxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSwgbGltaXQ6IDUwICogMTAyNCAqIDEwMjQgfSkpO1xyXG5cclxuLy8gVXNlIG9ubHkgbm9uLWZpbGUgbXVsdGlwYXJ0IGZvcm0gZmllbGRzXHJcbmFwcC51c2UodXBsb2FkLm5vbmUoKSk7XHJcblxyXG4vKipcclxuICogRXJyb3IgaGFuZGxlciBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IGVycm9yIC0gQW4gZXJyb3Igb2JqZWN0LlxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IC0gQW4gZXJyb3IgbWVzc2FnZS5cclxuICovXHJcbmNvbnN0IGVycm9ySGFuZGxlciA9IChlcnJvcikgPT4gbG9nKDEsIGBbc2VydmVyXSBTb2NrZXQgZXJyb3I6ICR7ZXJyb3J9YCk7XHJcblxyXG4vKipcclxuICogQXR0YWNoZXMgZXJyb3IgaGFuZGxlcnMgZm9yIGEgc2VydmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gc2VydmVyIC0gVGhlIGh0dHAvaHR0cHMgc2VydmVyLlxyXG4gKi9cclxuY29uc3QgYXR0YWNoRXJyb3JIYW5kbGVycyA9IChzZXJ2ZXIpID0+IHtcclxuICBzZXJ2ZXIub24oJ2NsaWVudEVycm9yJywgZXJyb3JIYW5kbGVyKTtcclxuICBzZXJ2ZXIub24oJ2Vycm9yJywgZXJyb3JIYW5kbGVyKTtcclxuICBzZXJ2ZXIub24oJ2Nvbm5lY3Rpb24nLCAoc29ja2V0KSA9PlxyXG4gICAgc29ja2V0Lm9uKCdlcnJvcicsIChlcnJvcikgPT4gZXJyb3JIYW5kbGVyKGVycm9yLCBzb2NrZXQpKVxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc3RhcnRTZXJ2ZXIgPSBhc3luYyAoc2VydmVyQ29uZmlnKSA9PiB7XHJcbiAgLy8gU3RvcCBpZiBub3QgZW5hYmxlZFxyXG4gIGlmICghc2VydmVyQ29uZmlnLmVuYWJsZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gLy8gR2V0IHRoZSBwb29sXHJcbiAgLy8gY29uc3QgcG9vbCA9IGdldFBvb2woKTtcclxuXHJcbiAgLy8gLy8gVHJ5IHRvIGNyZWF0ZSBicm93c2VyIGluc3RhbmNlIGJlZm9yZSBzdGFydGluZyB0aGUgc2VydmVyXHJcbiAgLy8gY29uc3QgcmVzb3VyY2UgPSBhd2FpdCBwb29sLmFjcXVpcmUoKTtcclxuXHJcbiAgLy8gLy8gSWYgbm90IGZvdW5kLCB0aHJvdyBhbiBlcnJvclxyXG4gIC8vIGlmICghcmVzb3VyY2UuYnJvd3Nlcikge1xyXG4gIC8vICAgbG9nKDEsIGBbc2VydmVyXSBDb3VsZCBub3QgYWNxdWlyZSBicm93c2VyIGluc3RhbmNlLmApO1xyXG4gIC8vICAgcHJvY2Vzcy5leGl0KDEpO1xyXG4gIC8vIH1cclxuXHJcbiAgLy8gLy8gUmVsZWFzZSB0aGUgcmVzb3VyY2VcclxuICAvLyBwb29sLnJlbGVhc2UocmVzb3VyY2UpO1xyXG5cclxuICAvLyBMaXN0ZW4gSFRUUCBzZXJ2ZXJcclxuICBpZiAoIXNlcnZlckNvbmZpZy5zc2wuZW5hYmxlICYmICFzZXJ2ZXJDb25maWcuc3NsLmZvcmNlKSB7XHJcbiAgICAvLyBNYWluIHNlcnZlciBpbnN0YW5jZSAoSFRUUClcclxuICAgIGNvbnN0IGh0dHBTZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xyXG4gICAgLy8gQXR0YWNoIGVycm9yIGhhbmRsZXJzIGFuZCBsaXN0ZW4gdG8gdGhlIHNlcnZlclxyXG4gICAgYXR0YWNoRXJyb3JIYW5kbGVycyhodHRwU2VydmVyKTtcclxuICAgIC8vIExpc3RlblxyXG4gICAgaHR0cFNlcnZlci5saXN0ZW4oc2VydmVyQ29uZmlnLnBvcnQsIHNlcnZlckNvbmZpZy5ob3N0KTtcclxuXHJcbiAgICBsb2coXHJcbiAgICAgIDMsXHJcbiAgICAgIGBbc2VydmVyXSBTdGFydGVkIEhUVFAgc2VydmVyIG9uICR7c2VydmVyQ29uZmlnLmhvc3R9OiR7c2VydmVyQ29uZmlnLnBvcnR9LmBcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBMaXN0ZW4gSFRUUFMgc2VydmVyXHJcbiAgaWYgKHNlcnZlckNvbmZpZy5zc2wuZW5hYmxlKSB7XHJcbiAgICAvLyBTZXQgdXAgYW4gU1NMIHNlcnZlciBhbHNvXHJcbiAgICBsZXQga2V5LCBjZXJ0O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEdldCB0aGUgU1NMIGtleVxyXG4gICAgICBrZXkgPSBhd2FpdCBmc1Byb21pc2VzLnJlYWRGaWxlKFxyXG4gICAgICAgIHBvc2l4LmpvaW4oc2VydmVyQ29uZmlnLnNzbC5jZXJ0UGF0aCwgJ3NlcnZlci5rZXknKSxcclxuICAgICAgICAndXRmOCdcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIEdldCB0aGUgU1NMIGNlcnRpZmljYXRlXHJcbiAgICAgIGNlcnQgPSBhd2FpdCBmc1Byb21pc2VzLnJlYWRGaWxlKFxyXG4gICAgICAgIHBvc2l4LmpvaW4oc2VydmVyQ29uZmlnLnNzbC5jZXJ0UGF0aCwgJ3NlcnZlci5jcnQnKSxcclxuICAgICAgICAndXRmOCdcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICAxLFxyXG4gICAgICAgIGBbc2VydmVyXSBVbmFibGUgdG8gbG9hZCBrZXkvY2VydGlmaWNhdGUgZnJvbSAke3NlcnZlckNvbmZpZy5zc2wuY2VydFBhdGh9LmBcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoa2V5ICYmIGNlcnQpIHtcclxuICAgICAgLy8gTWFpbiBzZXJ2ZXIgaW5zdGFuY2UgKEhUVFBTKVxyXG4gICAgICBjb25zdCBodHRwc1NlcnZlciA9IGh0dHBzLmNyZWF0ZVNlcnZlcihhcHApO1xyXG4gICAgICAvLyBBdHRhY2ggZXJyb3IgaGFuZGxlcnMgYW5kIGxpc3RlbiB0byB0aGUgc2VydmVyXHJcbiAgICAgIGF0dGFjaEVycm9ySGFuZGxlcnMoaHR0cHNTZXJ2ZXIpO1xyXG4gICAgICAvLyBMaXN0ZW5cclxuICAgICAgaHR0cHNTZXJ2ZXIubGlzdGVuKHNlcnZlckNvbmZpZy5zc2wucG9ydCwgc2VydmVyQ29uZmlnLmhvc3QpO1xyXG5cclxuICAgICAgbG9nKFxyXG4gICAgICAgIDMsXHJcbiAgICAgICAgYFtzZXJ2ZXJdIFN0YXJ0ZWQgSFRUUFMgc2VydmVyIG9uICR7c2VydmVyQ29uZmlnLmhvc3R9OiR7c2VydmVyQ29uZmlnLnNzbC5wb3J0fS5gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBFbmFibGUgdGhlIHJhdGUgbGltaXRlciBpZiBjb25maWcgc2F5cyBzb1xyXG4gIGlmIChcclxuICAgIHNlcnZlckNvbmZpZy5yYXRlTGltaXRpbmcgJiZcclxuICAgIHNlcnZlckNvbmZpZy5yYXRlTGltaXRpbmcuZW5hYmxlICYmXHJcbiAgICAhWzAsIE5hTl0uaW5jbHVkZXMoc2VydmVyQ29uZmlnLnJhdGVMaW1pdGluZy5tYXhSZXF1ZXN0cylcclxuICApIHtcclxuICAgIHJhdGVMaW1pdChhcHAsIHNlcnZlckNvbmZpZy5yYXRlTGltaXRpbmcpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHVwIHN0YXRpYyBmb2xkZXIncyByb3V0ZVxyXG4gIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMocG9zaXguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpO1xyXG5cclxuICAvLyBTZXQgdXAgcm91dGVzXHJcbiAgaGVhbHRoUm91dGUoYXBwKTtcclxuICBleHBvcnRSb3V0ZXMoYXBwKTtcclxuICB1aVJvdXRlKGFwcCk7XHJcbiAgdlN3aXRjaFJvdXRlKGFwcCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgZXhwcmVzcyBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBnZXRFeHByZXNzID0gKCkgPT4ge1xyXG4gIHJldHVybiBleHByZXNzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGFwcCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBnZXRBcHAgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGFwcDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgbWlkZGxld2FyZSB0byB0aGUgc2VydmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcGF0aCAtIEFuIGVuZHBvaW50IHBhdGggdG8gYWRkIG1pZGRsZXdhcmVzIHRvLlxyXG4gKiBAcGFyYW0ge0FycmF5fSBtaWRkbGV3YXJlcyAtIEFuIHVubGltaXRlZCBudW1iZXIgb2YgbWlkZGxld2FyZXMgdG8gdXNlXHJcbiAqIGFnYWluc3QgdGhlIHNwZWNpZmljIGVuZHBvaW50LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHVzZSA9IChwYXRoLCAuLi5taWRkbGV3YXJlcykgPT4ge1xyXG4gIGFwcC51c2UocGF0aCwgLi4ubWlkZGxld2FyZXMpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYSBnZXQgcm91dGUgdG8gdGhlIHNlcnZlci5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IHBhdGggLSBBbiBlbmRwb2ludCBwYXRoIHRvIGFkZCBtaWRkbGV3YXJlcyB0by5cclxuICogQHBhcmFtIHtBcnJheX0gbWlkZGxld2FyZXMgLSBBbiB1bmxpbWl0ZWQgbnVtYmVyIG9mIG1pZGRsZXdhcmVzIHRvIHVzZVxyXG4gKiBhZ2FpbnN0IHRoZSBzcGVjaWZpYyBlbmRwb2ludCBmb3IgR0VUIG1ldGhvZC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBnZXQgPSAocGF0aCwgLi4ubWlkZGxld2FyZXMpID0+IHtcclxuICBhcHAuZ2V0KHBhdGgsIC4uLm1pZGRsZXdhcmVzKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgcG9zdCByb3V0ZSB0byB0aGUgc2VydmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcGF0aCAtIEFuIGVuZHBvaW50IHBhdGggdG8gYWRkIG1pZGRsZXdhcmVzIHRvLlxyXG4gKiBAcGFyYW0ge0FycmF5fSBtaWRkbGV3YXJlcyAtIEFuIHVubGltaXRlZCBudW1iZXIgb2YgbWlkZGxld2FyZXMgdG8gdXNlXHJcbiAqIGFnYWluc3QgdGhlIHNwZWNpZmljIGVuZHBvaW50IGZvciBQT1NUIG1ldGhvZC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBwb3N0ID0gKHBhdGgsIC4uLm1pZGRsZXdhcmVzKSA9PiB7XHJcbiAgYXBwLnBvc3QocGF0aCwgLi4ubWlkZGxld2FyZXMpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZvcmNlZnVsbHkgZW5hYmxlcyByYXRlIGxpbWl0aW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge29iamVjdH0gbGltaXRDb25maWcgLSBUaGUgb3B0aW9ucyBvYmplY3QgZm9yIHRoZSByYXRlIGxpbWl0ZXJcclxuICogY29uZmlndXJhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjb25zdCBlbmFibGVSYXRlTGltaXRpbmcgPSAobGltaXRDb25maWcpID0+IHtcclxuICByZXR1cm4gcmF0ZUxpbWl0KGFwcCwgbGltaXRDb25maWcpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIHN0YXJ0U2VydmVyLFxyXG4gIGdldEV4cHJlc3MsXHJcbiAgZ2V0QXBwLFxyXG4gIHVzZSxcclxuICBnZXQsXHJcbiAgcG9zdCxcclxuICBlbmFibGVSYXRlTGltaXRpbmdcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjMsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XHJcblxyXG5pbXBvcnQgeyBfX2Rpcm5hbWUgfSBmcm9tICcuLi8uLi91dGlscy5qcyc7XHJcbi8qKlxyXG4gKiBBZGRzIHRoZSAvIHJvdXRlIGZvciBhIFVJIHdoZW4gZW5hYmxlZCBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChhcHApID0+XHJcbiAgIWFwcFxyXG4gICAgPyBmYWxzZVxyXG4gICAgOiBhcHAuZ2V0KCcvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgcmVzcG9uc2Uuc2VuZEZpbGUoam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnLCAnaW5kZXguaHRtbCcpKTtcclxuICAgICAgfSk7XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IGNhY2hlIGZyb20gJy4uLy4uL2NhY2hlLmpzJztcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGEgcm91dGUgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGFuZ2UgdGhlIEhDIHZlcnNpb24gb24gdGhlIHNlcnZlclxyXG4gKiBUT0RPOiBBZGQgYXV0aCB0b2tlbiBhbmQgY29ubmVjdCB0byBBUElcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChhcHApID0+XHJcbiAgIWFwcFxyXG4gICAgPyBmYWxzZVxyXG4gICAgOiBhcHAucG9zdCgnL2NoYW5nZV9oY192ZXJzaW9uLzpuZXdWZXJzaW9uJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3Rva2VuID0gcHJvY2Vzcy5lbnYuSElHSENIQVJUU19BRE1JTl9UT0tFTjtcclxuXHJcbiAgICAgICAgaWYgKCFjdG9rZW4gfHwgIWN0b2tlbi5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHtcclxuICAgICAgICAgICAgZXJyb3I6IHRydWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAgICAgICAgICAgJ1NlcnZlciBub3QgY29uZmlndXJlZCB0byBkbyBydW4tdGltZSB2ZXJzaW9uIGNoYW5nZXM6IEhJR0hDSEFSVFNfQURNSU5fVE9LRU4gbm90IHNldCdcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmdldCgnaGMtYXV0aCcpO1xyXG5cclxuICAgICAgICBpZiAoIXRva2VuIHx8IHRva2VuICE9PSBjdG9rZW4pIHtcclxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHtcclxuICAgICAgICAgICAgZXJyb3I6IHRydWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIG9yIG1pc3NpbmcgdG9rZW46IHNldCB0b2tlbiBpbiB0aGUgaGMtYXV0aCBoZWFkZXInXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1ZlcnNpb24gPSByZXF1ZXN0LnBhcmFtcy5uZXdWZXJzaW9uO1xyXG5cclxuICAgICAgICBpZiAobmV3VmVyc2lvbikge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1uYW1lZC1hcy1kZWZhdWx0LW1lbWJlclxyXG4gICAgICAgICAgICBhd2FpdCBjYWNoZS51cGRhdGVWZXJzaW9uKG5ld1ZlcnNpb24pO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXNwb25zZS5zZW5kKHtcclxuICAgICAgICAgICAgICBlcnJvcjogdHJ1ZSxcclxuICAgICAgICAgICAgICBtZXNzYWdlOiBlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJlc3BvbnNlLnNlbmQoe1xyXG4gICAgICAgICAgICB2ZXJzaW9uOiBjYWNoZS52ZXJzaW9uKClcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXNwb25zZS5zZW5kKHtcclxuICAgICAgICAgICAgZXJyb3I6IHRydWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBuZXcgdmVyc2lvbiBzdXBwbGllZCdcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDIzLCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLy8gQWRkIHRoZSBtYWluIGRpcmVjdG9yeSBpbiB0aGUgZ2xvYmFsIG9iamVjdFxyXG5pbXBvcnQgJ2NvbG9ycyc7XHJcblxyXG5pbXBvcnQgc2VydmVyLCB7IHN0YXJ0U2VydmVyIH0gZnJvbSAnLi9zZXJ2ZXIvc2VydmVyLmpzJztcclxuaW1wb3J0IHtcclxuICBzZXRBbGxvd0NvZGVFeGVjdXRpb24sXHJcbiAgYmF0Y2hFeHBvcnQsXHJcbiAgc2luZ2xlRXhwb3J0LFxyXG4gIHN0YXJ0RXhwb3J0XHJcbn0gZnJvbSAnLi9jaGFydC5qcyc7XHJcbmltcG9ydCB7IG1hcFRvTmV3Q29uZmlnLCBzZXRPcHRpb25zIH0gZnJvbSAnLi9jb25maWcuanMnO1xyXG5pbXBvcnQgeyBsb2csIHNldExvZ0xldmVsLCBlbmFibGVGaWxlTG9nZ2luZyB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsga2lsbFBvb2wsIGluaXQgfSBmcm9tICcuL3Bvb2wuanMnO1xyXG5pbXBvcnQgeyBjaGVja0NhY2hlIH0gZnJvbSAnLi9jYWNoZS5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbG9nLFxyXG4gIG1hcFRvTmV3Q29uZmlnLFxyXG4gIHNldE9wdGlvbnMsXHJcbiAgc2luZ2xlRXhwb3J0LFxyXG4gIHN0YXJ0RXhwb3J0LFxyXG4gIGJhdGNoRXhwb3J0LFxyXG4gIHNlcnZlcixcclxuICBzdGFydFNlcnZlcixcclxuICBraWxsUG9vbCxcclxuICBpbml0UG9vbDogYXN5bmMgKG9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gICAgLy8gU2V0IHRoZSBhbGxvd0NvZGVFeGVjdXRpb24gcGVyIGV4cG9ydCBtb2R1bGUgc2NvcGVcclxuICAgIHNldEFsbG93Q29kZUV4ZWN1dGlvbihcclxuICAgICAgb3B0aW9ucy5jdXN0b21Db2RlICYmIG9wdGlvbnMuY3VzdG9tQ29kZS5hbGxvd0NvZGVFeGVjdXRpb25cclxuICAgICk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBsb2cgbGV2ZWxcclxuICAgIHNldExvZ0xldmVsKG9wdGlvbnMubG9nZ2luZyAmJiBwYXJzZUludChvcHRpb25zLmxvZ2dpbmcubGV2ZWwpKTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGxvZyBmaWxlIHBhdGggYW5kIG5hbWVcclxuICAgIGlmIChvcHRpb25zLmxvZ2dpbmcgJiYgb3B0aW9ucy5sb2dnaW5nLmRlc3QpIHtcclxuICAgICAgZW5hYmxlRmlsZUxvZ2dpbmcoXHJcbiAgICAgICAgb3B0aW9ucy5sb2dnaW5nLmRlc3QsXHJcbiAgICAgICAgb3B0aW9ucy5sb2dnaW5nLmZpbGUgfHwgJ2hpZ2hjaGFydHMtZXhwb3J0LXNlcnZlci5sb2cnXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgY2FjaGUgbmVlZHMgdG8gYmUgdXBkYXRlZFxyXG4gICAgYXdhaXQgY2hlY2tDYWNoZShvcHRpb25zLmhpZ2hjaGFydHMgfHwgeyB2ZXJzaW9uOiAnbGF0ZXN0JyB9KTtcclxuXHJcbiAgICAvLyBJbml0IHRoZSBwb29sXHJcbiAgICBhd2FpdCBpbml0KHtcclxuICAgICAgcG9vbDogb3B0aW9ucy5wb29sIHx8IHtcclxuICAgICAgICBtaW5Xb3JrZXJzOiAxLFxyXG4gICAgICAgIG1heFdvcmtlcnM6IDFcclxuICAgICAgfSxcclxuICAgICAgcHVwcGV0ZWVyQXJnczogb3B0aW9ucy5wdXBwZXRlZXI/LmFyZ3MgfHwgW11cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJldHVybiB1cGRhdGVkIG9wdGlvbnNcclxuICAgIHJldHVybiBvcHRpb25zO1xyXG4gIH1cclxufTtcclxuIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImRlZmF1bHRDb25maWciLCJwdXBwZXRlZXIiLCJhcmdzIiwidmFsdWUiLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJoaWdoY2hhcnRzIiwidmVyc2lvbiIsImVudkxpbmsiLCJjZG5VUkwiLCJjb3JlU2NyaXB0cyIsIm1vZHVsZXMiLCJpbmRpY2F0b3JzIiwic2NyaXB0cyIsImZvcmNlRmV0Y2giLCJleHBvcnQiLCJpbmZpbGUiLCJpbnN0ciIsIm9wdGlvbnMiLCJvdXRmaWxlIiwiY29uc3RyIiwiZGVmYXVsdEhlaWdodCIsImRlZmF1bHRXaWR0aCIsImRlZmF1bHRTY2FsZSIsImhlaWdodCIsIndpZHRoIiwic2NhbGUiLCJnbG9iYWxPcHRpb25zIiwidGhlbWVPcHRpb25zIiwiYmF0Y2giLCJyYXN0ZXJpemF0aW9uVGltZW91dCIsImN1c3RvbUNvZGUiLCJhbGxvd0NvZGVFeGVjdXRpb24iLCJhbGxvd0ZpbGVSZXNvdXJjZXMiLCJjYWxsYmFjayIsInJlc291cmNlcyIsImxvYWRDb25maWciLCJjcmVhdGVDb25maWciLCJzZXJ2ZXIiLCJlbmFibGUiLCJjbGlOYW1lIiwiaG9zdCIsInBvcnQiLCJzc2wiLCJmb3JjZSIsImNlcnRQYXRoIiwicmF0ZUxpbWl0aW5nIiwibWF4UmVxdWVzdHMiLCJ3aW5kb3ciLCJkZWxheSIsInRydXN0UHJveHkiLCJza2lwS2V5Iiwic2tpcFRva2VuIiwicG9vbCIsIm1pbldvcmtlcnMiLCJtYXhXb3JrZXJzIiwid29ya0xpbWl0IiwiYWNxdWlyZVRpbWVvdXQiLCJjcmVhdGVUaW1lb3V0IiwiZGVzdHJveVRpbWVvdXQiLCJpZGxlVGltZW91dCIsImNyZWF0ZVJldHJ5SW50ZXJ2YWwiLCJyZWFwZXJJbnRlcnZhbCIsImJlbmNobWFya2luZyIsImxpc3RlblRvUHJvY2Vzc0V4aXRzIiwibG9nZ2luZyIsImxldmVsIiwiZmlsZSIsImRlc3QiLCJ1aSIsInJvdXRlIiwib3RoZXIiLCJub0xvZ28iLCJwYXlsb2FkIiwiam9pbiIsImFic29sdXRlUHJvcHMiLCJuZXN0ZWRBcmdzIiwiY3JlYXRlTmVzdGVkQXJncyIsIm9iaiIsInByb3BDaGFpbiIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiayIsImluY2x1ZGVzIiwiZW50cnkiLCJzdWJzdHJpbmciLCJ0b0NvbnNvbGUiLCJ0b0ZpbGUiLCJwYXRoQ3JlYXRlZCIsImxldmVsc0Rlc2MiLCJ0aXRsZSIsImNvbG9yIiwibGlzdGVuZXJzIiwia2V5Iiwib3B0aW9uIiwiZW50cmllcyIsImxvZyIsIm5ld0xldmVsIiwidGV4dHMiLCJsZW5ndGgiLCJwcmVmaXgiLCJEYXRlIiwidG9TdHJpbmciLCJzcGxpdCIsInRyaW0iLCJmbiIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJhcHBlbmRGaWxlIiwiY29uY2F0IiwiZXJyb3IiLCJjb25zb2xlIiwiYXBwbHkiLCJ1bmRlZmluZWQiLCJfX2Rpcm5hbWUiLCJmaWxlVVJMVG9QYXRoIiwiVVJMIiwiZG9jdW1lbnQiLCJyZXF1aXJlIiwicGF0aFRvRmlsZVVSTCIsIl9fZmlsZW5hbWUiLCJocmVmIiwiX2RvY3VtZW50Q3VycmVudFNjcmlwdCIsInNyYyIsImJhc2VVUkkiLCJjbGVhclRleHQiLCJ0ZXh0IiwicnVsZSIsInJlcGxhY2VyIiwicmVwbGFjZUFsbCIsImZpeFR5cGUiLCJmb3JtYXRzIiwib3V0VHlwZSIsInBvcCIsImZpbmQiLCJ0IiwiaGFuZGxlUmVzb3VyY2VzIiwiYWxsb3dlZFByb3BzIiwiaGFuZGxlZFJlc291cmNlcyIsImNvcnJlY3RSZXNvdXJjZXMiLCJlbmRzV2l0aCIsImlzQ29ycmVjdEpTT04iLCJyZWFkRmlsZVN5bmMiLCJub3RpY2UiLCJmaWxlcyIsInByb3BOYW1lIiwibWFwIiwiaXRlbSIsImRhdGEiLCJwYXJzZWREYXRhIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiZGVlcENvcHkiLCJjb3B5IiwiQXJyYXkiLCJpc0FycmF5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwib3B0aW9uc1N0cmluZ2lmeSIsImFsbG93RnVuY3Rpb25zIiwibmFtZSIsInN0YXJ0c1dpdGgiLCJwcmludFVzYWdlIiwiYm9sZCIsInllbGxvdyIsImN5Y2xlQ2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJkZXNjTmFtZSIsImdyZWVuIiwiaSIsImJsdWUiLCJjYXRlZ29yeSIsInRvVXBwZXJDYXNlIiwicmVkIiwidG9Cb29sZWFuIiwid3JhcEFyb3VuZCIsInJlcGxhY2UiLCJyYXRlTGltaXQiLCJhcHAiLCJsaW1pdENvbmZpZyIsIm1zZyIsInJhdGVPcHRpb25zIiwibWF4IiwibGltaXRlciIsIndpbmRvd01zIiwiZGVsYXlNcyIsImhhbmRsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJmb3JtYXQiLCJqc29uIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJkZWZhdWx0Iiwic2tpcCIsInF1ZXJ5IiwiYWNjZXNzX3Rva2VuIiwidXNlIiwiYXN5bmMiLCJmZXRjaCIsInVybCIsInJlcXVlc3RPcHRpb25zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwcm90b2NvbCIsImh0dHBzIiwiaHR0cCIsImdldFByb3RvY29sIiwiZ2V0IiwicmVzIiwib24iLCJjaHVuayIsImNhY2hlUGF0aCIsImNhY2hlIiwiYWN0aXZlTWFuaWZlc3QiLCJzb3VyY2VzIiwiaGNWZXJzaW9uIiwiYXBwbGllZENvbmZpZyIsImV4dHJhY3RWZXJzaW9uIiwic3Vic3RyIiwiaW5kZXhPZiIsImZldGNoU2NyaXB0Iiwic2NyaXB0IiwicHJveHlBZ2VudCIsImFnZW50IiwidGltZW91dCIsInByb2Nlc3MiLCJlbnYiLCJzdGF0dXNDb2RlIiwidXBkYXRlQ2FjaGUiLCJzb3VyY2VQYXRoIiwiY3VzdG9tU2NyaXB0cyIsImFsbFNjcmlwdHMiLCJjIiwibSIsInByb3h5SG9zdCIsInByb3h5UG9ydCIsIkh0dHBzUHJveHlBZ2VudCIsImZldGNoZWRNb2R1bGVzIiwiYWxsIiwid3JpdGVGaWxlU3luYyIsImNoZWNrQ2FjaGUiLCJtYW5pZmVzdFBhdGgiLCJyZXF1ZXN0VXBkYXRlIiwibWFuaWZlc3QiLCJtb2R1bGVNYXAiLCJudW1iZXJPZk1vZHVsZXMiLCJzb21lIiwibW9kdWxlTmFtZSIsIm5ld01hbmlmZXN0Iiwic2F2ZUNvbmZpZ1RvTWFuaWZlc3QiLCJjYWNoZSQxIiwibmV3VmVyc2lvbiIsImFzc2lnbiIsIlJBTkRPTV9QSUQiLCJyYW5kb21CeXRlcyIsIlBVUFBFVEVFUl9ESVIiLCJwYXRoIiwibWluaW1hbEFyZ3MiLCJ0ZW1wbGF0ZSIsImZzIiwiYnJvd3NlciIsInNldFBhZ2VDb250ZW50IiwicGFnZSIsInNldENvbnRlbnQiLCJhZGRTY3JpcHRUYWciLCJldmFsdWF0ZSIsInNldHVwSGlnaGNoYXJ0cyIsImVyciIsIiRldmFsIiwiZWxlbWVudCIsImVycm9yTWVzc2FnZSIsIl9kaXNwbGF5RXJyb3JzIiwiaW5uZXJIVE1MIiwibmV3UGFnZSIsInNldENhY2hlRW5hYmxlZCIsImNsZWFyUGFnZSIsImhhcmRSZXNldCIsImdvdG8iLCJib2R5IiwiY2xvc2UiLCJjb25uZWN0ZWQiLCJfX2Jhc2VkaXIiLCJzZXRBc0NvbmZpZyIsImNoYXJ0IiwidHJpZ2dlckV4cG9ydCIsInB1cHBldGVlckV4cG9ydCIsImluamVjdGVkUmVzb3VyY2VzIiwiY2xlYXJJbmplY3RlZCIsImRpc3Bvc2UiLCJzY3JpcHRzVG9SZW1vdmUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInN0eWxlc1RvUmVtb3ZlIiwibGlua3NUb1JlbW92ZSIsInJlbW92ZSIsImV4cG9ydEJlbmNoIiwiZXhwb3J0T3B0aW9ucyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRpc3BsYXlFcnJvcnMiLCJkZWJ1Z2dlciIsImQiLCJzdmdCZW5jaCIsImlzU1ZHIiwic2V0UGFnZUJlbmNoIiwic3ZnVGVtcGxhdGUiLCJzdHJJbmoiLCJzZXRDb250ZW50QmVuY2giLCJyZXNCZW5jaCIsImpzIiwicHVzaCIsImNvbnRlbnQiLCJpc0xvY2FsIiwiY3NzQmVuY2giLCJjc3MiLCJjc3NJbXBvcnRzIiwibWF0Y2giLCJjc3NJbXBvcnRQYXRoIiwiYWRkU3R5bGVUYWciLCJzaXplIiwiY2hhcnRIZWlnaHQiLCJiYXNlVmFsIiwiY2hhcnRXaWR0aCIsInBhcnNlRmxvYXQiLCJIaWdoY2hhcnRzIiwiY2hhcnRzIiwidnBCZW5jaCIsInZpZXdwb3J0SGVpZ2h0IiwiTWF0aCIsImNlaWwiLCJ2aWV3cG9ydFdpZHRoIiwic2V0Vmlld3BvcnQiLCJkZXZpY2VTY2FsZUZhY3RvciIsInpvb21DYWxsYmFjayIsInN0eWxlIiwiem9vbSIsIm1hcmdpbiIsIngiLCJ5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidHJ1bmMiLCJnZXRDbGlwUmVnaW9uIiwicm91bmQiLCJleHBCZW5jaG1hcmsiLCJvdXRlckhUTUwiLCJjcmVhdGVTVkciLCJlbmNvZGluZyIsImNsaXAiLCJyYWNlIiwic2NyZWVuc2hvdCIsIm9taXRCYWNrZ3JvdW5kIiwiX3Jlc29sdmUiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJjcmVhdGVJbWFnZSIsInBkZiIsImNyZWF0ZVBERiIsIm9sZENoYXJ0cyIsIm9sZENoYXJ0IiwiZGVzdHJveSIsInNoaWZ0IiwicHVwcGV0ZWVyQXJncyIsInBlcmZvcm1lZEV4cG9ydHMiLCJleHBvcnRBdHRlbXB0cyIsInRpbWVTcGVudCIsImRyb3BwZWRFeHBvcnRzIiwic3BlbnRBdmVyYWdlIiwicG9vbENvbmZpZyIsImZhY3RvcnkiLCJjcmVhdGUiLCJpZCIsInV1aWQiLCJzIiwiZ2V0VGltZSIsImJyb3dzZXJOZXdQYWdlIiwiaXNDbG9zZWQiLCJ3b3JrQ291bnQiLCJyYW5kb20iLCJ2YWxpZGF0ZSIsIndvcmtlckhhbmRsZSIsImxvZ0xldmVsIiwiaW5pdCIsImFsbEFyZ3MiLCJ0cnlDb3VudCIsIm9wZW4iLCJsYXVuY2giLCJoZWFkbGVzcyIsInVzZXJEYXRhRGlyIiwiZSIsImNyZWF0ZUJyb3dzZXIiLCJraWxsUG9vbCIsImNvZGUiLCJleGl0IiwicGFyc2VJbnQiLCJQb29sIiwibWluIiwiYWNxdWlyZVRpbWVvdXRNaWxsaXMiLCJjcmVhdGVUaW1lb3V0TWlsbGlzIiwiZGVzdHJveVRpbWVvdXRNaWxsaXMiLCJpZGxlVGltZW91dE1pbGxpcyIsImNyZWF0ZVJldHJ5SW50ZXJ2YWxNaWxsaXMiLCJyZWFwSW50ZXJ2YWxNaWxsaXMiLCJwcm9wYWdhdGVDcmVhdGVFcnJvciIsImV2ZW50SWQiLCJyZXNvdXJjZSIsImluaXRpYWxSZXNvdXJjZXMiLCJhY3F1aXJlIiwicHJvbWlzZSIsInJlbGVhc2UiLCJkZXN0cm95ZWQiLCJwb3N0V29yayIsImZhaWwiLCJnZXRQb29sSW5mbyIsIndvcmtTdGFydCIsInJlc3VsdCIsImV4cG9ydFRpbWUiLCJhdmFpbGFibGUiLCJib3Jyb3dlZCIsInBlbmRpbmciLCJzcGFyZVJlc291cmNlQ2FwYWNpdHkiLCJwb29sJDEiLCJwa2dGaWxlIiwicGF0aGVyIiwic2VydmVyU3RhcnRUaW1lIiwiZ2VuZXJhbE9wdGlvbnMiLCJnZXRPcHRpb25zIiwibWVyZ2VDb25maWdPcHRpb25zIiwibmV3T3B0aW9ucyIsIm1lcmdlZE9wdGlvbnMiLCJ1cGRhdGVEZWZhdWx0Q29uZmlnIiwiY29uZmlnT2JqIiwiY3VzdG9tT2JqIiwiY3VzdG9tVmFsdWUiLCJudW1FbnZWYWwiLCJlbCIsImluaXRPcHRpb25zIiwiaXRlbXMiLCJzdGFydEV4cG9ydCIsInNldHRpbmdzIiwiZW5kQ2FsbGJhY2siLCJzdmciLCJpbml0RXhwb3J0U2V0dGluZ3MiLCJleHBvcnRBc1N0cmluZyIsInJlYWRGaWxlIiwiZG9TdHJhaWdodEluamVjdCIsImRvRXhwb3J0IiwiZmluZENoYXJ0U2l6ZSIsImV4cG9ydGluZyIsInByZWNpc2lvbiIsIm11bHRpcGxpZXIiLCJwb3ciLCJyb3VuZE51bWJlciIsInNvdXJjZUhlaWdodCIsInNvdXJjZVdpZHRoIiwicGFyYW0iLCJjaGFydEpzb24iLCJjdXN0b21Db2RlT3B0aW9ucyIsImFsbG93Q29kZUV4ZWN1dGlvblNjb3BlZCIsImVuYWJsZWQiLCJvcHRpb25zTmFtZSIsInRoZW4iLCJjYXRjaCIsInJlcXVlc3RJZCIsInN0cmluZ1RvRXhwb3J0IiwiY2hhcnRKU09OIiwicmV2ZXJzZWRNaW1lIiwicG5nIiwianBlZyIsImdpZiIsInJlcXVlc3RzQ291bnRlciIsImJlZm9yZVJlcXVlc3QiLCJhZnRlclJlcXVlc3QiLCJkb0NhbGxiYWNrcyIsImNhbGxiYWNrcyIsInVuaXF1ZUlkIiwiY2FsbFJlc3BvbnNlIiwiZXhwb3J0SGFuZGxlciIsInN0YXJ0IiwiaHJ0aW1lIiwiYmlnaW50IiwibWVhc3VyZVRpbWUiLCJkZWZhdWx0T3B0aW9ucyIsImhlYWRlcnMiLCJjb25uZWN0aW9uIiwicmVtb3RlQWRkcmVzcyIsImNvbm5lY3Rpb25BYm9ydGVkIiwic29ja2V0IiwidG9Mb3dlckNhc2UiLCJiNjQiLCJkYXRhT3B0aW9ucyIsIm5vRG93bmxvYWQiLCJpcFJlZ0V4IiwiaW5mbyIsInJlbW92ZUFsbExpc3RlbmVycyIsIkJ1ZmZlciIsImZyb20iLCJoZWFkZXIiLCJhdHRhY2htZW50IiwicGFyYW1zIiwiZmlsZW5hbWUiLCJleHByZXNzIiwiZGlzYWJsZSIsImNvcnMiLCJzdG9yYWdlIiwibXVsdGVyIiwibWVtb3J5U3RvcmFnZSIsInVwbG9hZCIsImxpbWl0cyIsImZpZWxkU2l6ZSIsImxpbWl0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwibm9uZSIsImVycm9ySGFuZGxlciIsImF0dGFjaEVycm9ySGFuZGxlcnMiLCJzdGFydFNlcnZlciIsInNlcnZlckNvbmZpZyIsImh0dHBTZXJ2ZXIiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJjZXJ0IiwiZnNQcm9taXNlcyIsInBvc2l4IiwiaHR0cHNTZXJ2ZXIiLCJOYU4iLCJzdGF0aWMiLCJib290VGltZSIsInVwdGltZSIsImZsb29yIiwiaGlnaGNoYXJ0c1ZlcnNpb24iLCJhdmVyYWdlUHJvY2Vzc2luZ1RpbWUiLCJmYWlsZWRFeHBvcnRzIiwic3VjZXNzUmF0aW8iLCJoZWFsdGhSb3V0ZSIsInBvc3QiLCJleHBvcnRSb3V0ZXMiLCJzZW5kRmlsZSIsInVpUm91dGUiLCJjdG9rZW4iLCJISUdIQ0hBUlRTX0FETUlOX1RPS0VOIiwidG9rZW4iLCJ2U3dpdGNoUm91dGUiLCJnZXRFeHByZXNzIiwiZ2V0QXBwIiwibWlkZGxld2FyZXMiLCJlbmFibGVSYXRlTGltaXRpbmciLCJpbmRleCIsIm1hcFRvTmV3Q29uZmlnIiwib2xkT3B0aW9ucyIsInByb3BlcnRpZXNDaGFpbiIsInJlZHVjZSIsInByb3AiLCJzZXRPcHRpb25zIiwidXNlck9wdGlvbnMiLCJjb25maWdJbmRleCIsImZpbmRJbmRleCIsImFyZyIsImZpbGVOYW1lIiwibG9hZENvbmZpZ0ZpbGUiLCJwYWlyQXJndW1lbnRWYWx1ZSIsInNpbmdsZUV4cG9ydCIsImJhdGNoRXhwb3J0IiwiYmF0Y2hGdW5jdGlvbnMiLCJwYWlyIiwiaW5pdFBvb2wiLCJsb2dEZXN0IiwibG9nRmlsZSIsImVuYWJsZUZpbGVMb2dnaW5nIl0sIm1hcHBpbmdzIjoib3RCQWlCQUEsRUFBT0MsU0FJQSxNQUFNQyxFQUFnQixDQUMzQkMsVUFBVyxDQUNUQyxLQUFNLENBQ0pDLE1BQU8sR0FDUEMsS0FBTSxXQUNOQyxZQUFhLDZDQUdqQkMsV0FBWSxDQUNWQyxRQUFTLENBQ1BKLE1BQU8sU0FDUEssUUFBUyxxQkFDVEosS0FBTSxTQUNOQyxZQUFhLDhCQUVmSSxPQUFRLENBQ05OLE1BQU8sK0JBQ1BLLFFBQVMsaUJBQ1RKLEtBQU0sU0FDTkMsWUFBYSw2Q0FFZkssWUFBYSxDQUNYRixRQUFTLDBCQUNUTCxNQUFPLENBQUMsYUFBYyxrQkFBbUIsaUJBQ3pDQyxLQUFNLFdBQ05DLFlBQWEscUNBRWZNLFFBQVMsQ0FDUEgsUUFBUyxxQkFDVEwsTUFB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
